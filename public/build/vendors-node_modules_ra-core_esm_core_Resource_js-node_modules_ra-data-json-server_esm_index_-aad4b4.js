(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_ra-core_esm_core_Resource_js-node_modules_ra-data-json-server_esm_index_-aad4b4"],{

/***/ "./node_modules/@material-ui/core/esm/Card/Card.js":
/*!*********************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/Card/Card.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _Paper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Paper */ "./node_modules/@material-ui/core/esm/Paper/Paper.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");







var styles = {
  /* Styles applied to the root element. */
  root: {
    overflow: 'hidden'
  }
};
var Card = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function Card(props, ref) {
  var classes = props.classes,
      className = props.className,
      _props$raised = props.raised,
      raised = _props$raised === void 0 ? false : _props$raised,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["classes", "className", "raised"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Paper__WEBPACK_IMPORTED_MODULE_5__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className),
    elevation: raised ? 8 : 1,
    ref: ref
  }, other));
});
 true ? Card.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * The content of the component.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * If `true`, the card will use raised styling.
   */
  raised: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_6__.default)(styles, {
  name: 'MuiCard'
})(Card));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/CardActions/CardActions.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/CardActions/CardActions.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");






var styles = {
  /* Styles applied to the root element. */
  root: {
    display: 'flex',
    alignItems: 'center',
    padding: 8
  },

  /* Styles applied to the root element if `disableSpacing={false}`. */
  spacing: {
    '& > :not(:first-child)': {
      marginLeft: 8
    }
  }
};
var CardActions = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function CardActions(props, ref) {
  var _props$disableSpacing = props.disableSpacing,
      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,
      classes = props.classes,
      className = props.className,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["disableSpacing", "classes", "className"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className, !disableSpacing && classes.spacing),
    ref: ref
  }, other));
});
 true ? CardActions.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * The content of the component.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * If `true`, the actions do not have additional margin.
   */
  disableSpacing: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__.default)(styles, {
  name: 'MuiCardActions'
})(CardActions));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/CardContent/CardContent.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/CardContent/CardContent.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");






var styles = {
  /* Styles applied to the root element. */
  root: {
    padding: 16,
    '&:last-child': {
      paddingBottom: 24
    }
  }
};
var CardContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function CardContent(props, ref) {
  var classes = props.classes,
      className = props.className,
      _props$component = props.component,
      Component = _props$component === void 0 ? 'div' : _props$component,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["classes", "className", "component"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(Component, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className),
    ref: ref
  }, other));
});
 true ? CardContent.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * The content of the component.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The component used for the root node.
   * Either a string to use a HTML element or a component.
   */
  component: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().elementType)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__.default)(styles, {
  name: 'MuiCardContent'
})(CardContent));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/Checkbox/Checkbox.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/Checkbox/Checkbox.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _material_ui_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material-ui/utils */ "./node_modules/@material-ui/utils/esm/refType.js");
/* harmony import */ var _internal_SwitchBase__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../internal/SwitchBase */ "./node_modules/@material-ui/core/esm/internal/SwitchBase.js");
/* harmony import */ var _internal_svg_icons_CheckBoxOutlineBlank__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../internal/svg-icons/CheckBoxOutlineBlank */ "./node_modules/@material-ui/core/esm/internal/svg-icons/CheckBoxOutlineBlank.js");
/* harmony import */ var _internal_svg_icons_CheckBox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../internal/svg-icons/CheckBox */ "./node_modules/@material-ui/core/esm/internal/svg-icons/CheckBox.js");
/* harmony import */ var _styles_colorManipulator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/colorManipulator */ "./node_modules/@material-ui/core/esm/styles/colorManipulator.js");
/* harmony import */ var _internal_svg_icons_IndeterminateCheckBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../internal/svg-icons/IndeterminateCheckBox */ "./node_modules/@material-ui/core/esm/internal/svg-icons/IndeterminateCheckBox.js");
/* harmony import */ var _utils_capitalize__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/capitalize */ "./node_modules/@material-ui/core/esm/utils/capitalize.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");













var styles = function styles(theme) {
  return {
    /* Styles applied to the root element. */
    root: {
      color: theme.palette.text.secondary
    },

    /* Pseudo-class applied to the root element if `checked={true}`. */
    checked: {},

    /* Pseudo-class applied to the root element if `disabled={true}`. */
    disabled: {},

    /* Pseudo-class applied to the root element if `indeterminate={true}`. */
    indeterminate: {},

    /* Styles applied to the root element if `color="primary"`. */
    colorPrimary: {
      '&$checked': {
        color: theme.palette.primary.main,
        '&:hover': {
          backgroundColor: (0,_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_5__.fade)(theme.palette.primary.main, theme.palette.action.hoverOpacity),
          // Reset on touch devices, it doesn't add specificity
          '@media (hover: none)': {
            backgroundColor: 'transparent'
          }
        }
      },
      '&$disabled': {
        color: theme.palette.action.disabled
      }
    },

    /* Styles applied to the root element if `color="secondary"`. */
    colorSecondary: {
      '&$checked': {
        color: theme.palette.secondary.main,
        '&:hover': {
          backgroundColor: (0,_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_5__.fade)(theme.palette.secondary.main, theme.palette.action.hoverOpacity),
          // Reset on touch devices, it doesn't add specificity
          '@media (hover: none)': {
            backgroundColor: 'transparent'
          }
        }
      },
      '&$disabled': {
        color: theme.palette.action.disabled
      }
    }
  };
};
var defaultCheckedIcon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_internal_svg_icons_CheckBox__WEBPACK_IMPORTED_MODULE_6__.default, null);
var defaultIcon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_internal_svg_icons_CheckBoxOutlineBlank__WEBPACK_IMPORTED_MODULE_7__.default, null);
var defaultIndeterminateIcon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_internal_svg_icons_IndeterminateCheckBox__WEBPACK_IMPORTED_MODULE_8__.default, null);
var Checkbox = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function Checkbox(props, ref) {
  var _props$checkedIcon = props.checkedIcon,
      checkedIcon = _props$checkedIcon === void 0 ? defaultCheckedIcon : _props$checkedIcon,
      classes = props.classes,
      _props$color = props.color,
      color = _props$color === void 0 ? 'secondary' : _props$color,
      _props$icon = props.icon,
      iconProp = _props$icon === void 0 ? defaultIcon : _props$icon,
      _props$indeterminate = props.indeterminate,
      indeterminate = _props$indeterminate === void 0 ? false : _props$indeterminate,
      _props$indeterminateI = props.indeterminateIcon,
      indeterminateIconProp = _props$indeterminateI === void 0 ? defaultIndeterminateIcon : _props$indeterminateI,
      inputProps = props.inputProps,
      _props$size = props.size,
      size = _props$size === void 0 ? 'medium' : _props$size,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["checkedIcon", "classes", "color", "icon", "indeterminate", "indeterminateIcon", "inputProps", "size"]);

  var icon = indeterminate ? indeterminateIconProp : iconProp;
  var indeterminateIcon = indeterminate ? indeterminateIconProp : checkedIcon;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_internal_SwitchBase__WEBPACK_IMPORTED_MODULE_9__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    type: "checkbox",
    classes: {
      root: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, classes["color".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_10__.default)(color))], indeterminate && classes.indeterminate),
      checked: classes.checked,
      disabled: classes.disabled
    },
    color: color,
    inputProps: (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
      'data-indeterminate': indeterminate
    }, inputProps),
    icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.cloneElement(icon, {
      fontSize: icon.props.fontSize === undefined && size === "small" ? size : icon.props.fontSize
    }),
    checkedIcon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.cloneElement(indeterminateIcon, {
      fontSize: indeterminateIcon.props.fontSize === undefined && size === "small" ? size : indeterminateIcon.props.fontSize
    }),
    ref: ref
  }, other));
});
 true ? Checkbox.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * If `true`, the component is checked.
   */
  checked: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * The icon to display when the component is checked.
   */
  checkedIcon: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * The color of the component. It supports those theme colors that make sense for this component.
   */
  color: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['default', 'primary', 'secondary']),

  /**
   * If `true`, the checkbox will be disabled.
   */
  disabled: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * If `true`, the ripple effect will be disabled.
   */
  disableRipple: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * The icon to display when the component is unchecked.
   */
  icon: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * The id of the `input` element.
   */
  id: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * If `true`, the component appears indeterminate.
   * This does not set the native input element to indeterminate due
   * to inconsistent behavior across browsers.
   * However, we set a `data-indeterminate` attribute on the input.
   */
  indeterminate: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * The icon to display when the component is indeterminate.
   */
  indeterminateIcon: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.
   */
  inputProps: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * Pass a ref to the `input` element.
   */
  inputRef: _material_ui_utils__WEBPACK_IMPORTED_MODULE_11__.default,

  /**
   * Callback fired when the state is changed.
   *
   * @param {object} event The event source of the callback.
   * You can pull out the new checked state by accessing `event.target.checked` (boolean).
   */
  onChange: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().func),

  /**
   * If `true`, the `input` element will be required.
   */
  required: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * The size of the checkbox.
   * `small` is equivalent to the dense checkbox styling.
   */
  size: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['medium', 'small']),

  /**
   * The value of the component. The DOM API casts this to a string.
   * The browser uses "on" as the default value.
   */
  value: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().any)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_12__.default)(styles, {
  name: 'MuiCheckbox'
})(Checkbox));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/Dialog/Dialog.js":
/*!*************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/Dialog/Dialog.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _utils_capitalize__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/capitalize */ "./node_modules/@material-ui/core/esm/utils/capitalize.js");
/* harmony import */ var _Modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Modal */ "./node_modules/@material-ui/core/esm/Modal/Modal.js");
/* harmony import */ var _Backdrop__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Backdrop */ "./node_modules/@material-ui/core/esm/Backdrop/Backdrop.js");
/* harmony import */ var _Fade__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Fade */ "./node_modules/@material-ui/core/esm/Fade/Fade.js");
/* harmony import */ var _styles_transitions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/transitions */ "./node_modules/@material-ui/core/esm/styles/transitions.js");
/* harmony import */ var _Paper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Paper */ "./node_modules/@material-ui/core/esm/Paper/Paper.js");













var styles = function styles(theme) {
  return {
    /* Styles applied to the root element. */
    root: {
      '@media print': {
        // Use !important to override the Modal inline-style.
        position: 'absolute !important'
      }
    },

    /* Styles applied to the container element if `scroll="paper"`. */
    scrollPaper: {
      display: 'flex',
      justifyContent: 'center',
      alignItems: 'center'
    },

    /* Styles applied to the container element if `scroll="body"`. */
    scrollBody: {
      overflowY: 'auto',
      overflowX: 'hidden',
      textAlign: 'center',
      '&:after': {
        content: '""',
        display: 'inline-block',
        verticalAlign: 'middle',
        height: '100%',
        width: '0'
      }
    },

    /* Styles applied to the container element. */
    container: {
      height: '100%',
      '@media print': {
        height: 'auto'
      },
      // We disable the focus ring for mouse, touch and keyboard users.
      outline: 0
    },

    /* Styles applied to the `Paper` component. */
    paper: {
      margin: 32,
      position: 'relative',
      overflowY: 'auto',
      // Fix IE 11 issue, to remove at some point.
      '@media print': {
        overflowY: 'visible',
        boxShadow: 'none'
      }
    },

    /* Styles applied to the `Paper` component if `scroll="paper"`. */
    paperScrollPaper: {
      display: 'flex',
      flexDirection: 'column',
      maxHeight: 'calc(100% - 64px)'
    },

    /* Styles applied to the `Paper` component if `scroll="body"`. */
    paperScrollBody: {
      display: 'inline-block',
      verticalAlign: 'middle',
      textAlign: 'left' // 'initial' doesn't work on IE 11

    },

    /* Styles applied to the `Paper` component if `maxWidth=false`. */
    paperWidthFalse: {
      maxWidth: 'calc(100% - 64px)'
    },

    /* Styles applied to the `Paper` component if `maxWidth="xs"`. */
    paperWidthXs: {
      maxWidth: Math.max(theme.breakpoints.values.xs, 444),
      '&$paperScrollBody': (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.default)({}, theme.breakpoints.down(Math.max(theme.breakpoints.values.xs, 444) + 32 * 2), {
        maxWidth: 'calc(100% - 64px)'
      })
    },

    /* Styles applied to the `Paper` component if `maxWidth="sm"`. */
    paperWidthSm: {
      maxWidth: theme.breakpoints.values.sm,
      '&$paperScrollBody': (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.default)({}, theme.breakpoints.down(theme.breakpoints.values.sm + 32 * 2), {
        maxWidth: 'calc(100% - 64px)'
      })
    },

    /* Styles applied to the `Paper` component if `maxWidth="md"`. */
    paperWidthMd: {
      maxWidth: theme.breakpoints.values.md,
      '&$paperScrollBody': (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.default)({}, theme.breakpoints.down(theme.breakpoints.values.md + 32 * 2), {
        maxWidth: 'calc(100% - 64px)'
      })
    },

    /* Styles applied to the `Paper` component if `maxWidth="lg"`. */
    paperWidthLg: {
      maxWidth: theme.breakpoints.values.lg,
      '&$paperScrollBody': (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.default)({}, theme.breakpoints.down(theme.breakpoints.values.lg + 32 * 2), {
        maxWidth: 'calc(100% - 64px)'
      })
    },

    /* Styles applied to the `Paper` component if `maxWidth="xl"`. */
    paperWidthXl: {
      maxWidth: theme.breakpoints.values.xl,
      '&$paperScrollBody': (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.default)({}, theme.breakpoints.down(theme.breakpoints.values.xl + 32 * 2), {
        maxWidth: 'calc(100% - 64px)'
      })
    },

    /* Styles applied to the `Paper` component if `fullWidth={true}`. */
    paperFullWidth: {
      width: 'calc(100% - 64px)'
    },

    /* Styles applied to the `Paper` component if `fullScreen={true}`. */
    paperFullScreen: {
      margin: 0,
      width: '100%',
      maxWidth: '100%',
      height: '100%',
      maxHeight: 'none',
      borderRadius: 0,
      '&$paperScrollBody': {
        margin: 0,
        maxWidth: '100%'
      }
    }
  };
};
var defaultTransitionDuration = {
  enter: _styles_transitions__WEBPACK_IMPORTED_MODULE_6__.duration.enteringScreen,
  exit: _styles_transitions__WEBPACK_IMPORTED_MODULE_6__.duration.leavingScreen
};
/**
 * Dialogs are overlaid modal paper based components with a backdrop.
 */

var Dialog = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.forwardRef(function Dialog(props, ref) {
  var BackdropProps = props.BackdropProps,
      children = props.children,
      classes = props.classes,
      className = props.className,
      _props$disableBackdro = props.disableBackdropClick,
      disableBackdropClick = _props$disableBackdro === void 0 ? false : _props$disableBackdro,
      _props$disableEscapeK = props.disableEscapeKeyDown,
      disableEscapeKeyDown = _props$disableEscapeK === void 0 ? false : _props$disableEscapeK,
      _props$fullScreen = props.fullScreen,
      fullScreen = _props$fullScreen === void 0 ? false : _props$fullScreen,
      _props$fullWidth = props.fullWidth,
      fullWidth = _props$fullWidth === void 0 ? false : _props$fullWidth,
      _props$maxWidth = props.maxWidth,
      maxWidth = _props$maxWidth === void 0 ? 'sm' : _props$maxWidth,
      onBackdropClick = props.onBackdropClick,
      onClose = props.onClose,
      onEnter = props.onEnter,
      onEntered = props.onEntered,
      onEntering = props.onEntering,
      onEscapeKeyDown = props.onEscapeKeyDown,
      onExit = props.onExit,
      onExited = props.onExited,
      onExiting = props.onExiting,
      open = props.open,
      _props$PaperComponent = props.PaperComponent,
      PaperComponent = _props$PaperComponent === void 0 ? _Paper__WEBPACK_IMPORTED_MODULE_7__.default : _props$PaperComponent,
      _props$PaperProps = props.PaperProps,
      PaperProps = _props$PaperProps === void 0 ? {} : _props$PaperProps,
      _props$scroll = props.scroll,
      scroll = _props$scroll === void 0 ? 'paper' : _props$scroll,
      _props$TransitionComp = props.TransitionComponent,
      TransitionComponent = _props$TransitionComp === void 0 ? _Fade__WEBPACK_IMPORTED_MODULE_8__.default : _props$TransitionComp,
      _props$transitionDura = props.transitionDuration,
      transitionDuration = _props$transitionDura === void 0 ? defaultTransitionDuration : _props$transitionDura,
      TransitionProps = props.TransitionProps,
      ariaDescribedby = props['aria-describedby'],
      ariaLabelledby = props['aria-labelledby'],
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["BackdropProps", "children", "classes", "className", "disableBackdropClick", "disableEscapeKeyDown", "fullScreen", "fullWidth", "maxWidth", "onBackdropClick", "onClose", "onEnter", "onEntered", "onEntering", "onEscapeKeyDown", "onExit", "onExited", "onExiting", "open", "PaperComponent", "PaperProps", "scroll", "TransitionComponent", "transitionDuration", "TransitionProps", "aria-describedby", "aria-labelledby"]);

  var mouseDownTarget = react__WEBPACK_IMPORTED_MODULE_3__.useRef();

  var handleMouseDown = function handleMouseDown(event) {
    mouseDownTarget.current = event.target;
  };

  var handleBackdropClick = function handleBackdropClick(event) {
    // Ignore the events not coming from the "backdrop"
    // We don't want to close the dialog when clicking the dialog content.
    if (event.target !== event.currentTarget) {
      return;
    } // Make sure the event starts and ends on the same DOM element.


    if (event.target !== mouseDownTarget.current) {
      return;
    }

    mouseDownTarget.current = null;

    if (onBackdropClick) {
      onBackdropClick(event);
    }

    if (!disableBackdropClick && onClose) {
      onClose(event, 'backdropClick');
    }
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(_Modal__WEBPACK_IMPORTED_MODULE_9__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_5__.default)(classes.root, className),
    BackdropComponent: _Backdrop__WEBPACK_IMPORTED_MODULE_10__.default,
    BackdropProps: (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
      transitionDuration: transitionDuration
    }, BackdropProps),
    closeAfterTransition: true,
    disableBackdropClick: disableBackdropClick,
    disableEscapeKeyDown: disableEscapeKeyDown,
    onEscapeKeyDown: onEscapeKeyDown,
    onClose: onClose,
    open: open,
    ref: ref
  }, other), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(TransitionComponent, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    appear: true,
    in: open,
    timeout: transitionDuration,
    onEnter: onEnter,
    onEntering: onEntering,
    onEntered: onEntered,
    onExit: onExit,
    onExiting: onExiting,
    onExited: onExited,
    role: "none presentation"
  }, TransitionProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement("div", {
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_5__.default)(classes.container, classes["scroll".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_11__.default)(scroll))]),
    onMouseUp: handleBackdropClick,
    onMouseDown: handleMouseDown
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(PaperComponent, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    elevation: 24,
    role: "dialog",
    "aria-describedby": ariaDescribedby,
    "aria-labelledby": ariaLabelledby
  }, PaperProps, {
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_5__.default)(classes.paper, classes["paperScroll".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_11__.default)(scroll))], classes["paperWidth".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_11__.default)(String(maxWidth)))], PaperProps.className, fullScreen && classes.paperFullScreen, fullWidth && classes.paperFullWidth)
  }), children))));
});
 true ? Dialog.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * The id(s) of the element(s) that describe the dialog.
   */
  'aria-describedby': (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string),

  /**
   * The id(s) of the element(s) that label the dialog.
   */
  'aria-labelledby': (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string),

  /**
   * @ignore
   */
  BackdropProps: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object),

  /**
   * Dialog children, usually the included sub-components.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string),

  /**
   * If `true`, clicking the backdrop will not fire the `onClose` callback.
   */
  disableBackdropClick: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),

  /**
   * If `true`, hitting escape will not fire the `onClose` callback.
   */
  disableEscapeKeyDown: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),

  /**
   * If `true`, the dialog will be full-screen
   */
  fullScreen: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),

  /**
   * If `true`, the dialog stretches to `maxWidth`.
   *
   * Notice that the dialog width grow is limited by the default margin.
   */
  fullWidth: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),

  /**
   * Determine the max-width of the dialog.
   * The dialog width grows with the size of the screen.
   * Set to `false` to disable `maxWidth`.
   */
  maxWidth: prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOf(['lg', 'md', 'sm', 'xl', 'xs', false]),

  /**
   * Callback fired when the backdrop is clicked.
   */
  onBackdropClick: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * Callback fired when the component requests to be closed.
   *
   * @param {object} event The event source of the callback.
   * @param {string} reason Can be: `"escapeKeyDown"`, `"backdropClick"`.
   */
  onClose: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * Callback fired before the dialog enters.
   */
  onEnter: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * Callback fired when the dialog has entered.
   */
  onEntered: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * Callback fired when the dialog is entering.
   */
  onEntering: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * Callback fired when the escape key is pressed,
   * `disableKeyboard` is false and the modal is in focus.
   */
  onEscapeKeyDown: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * Callback fired before the dialog exits.
   */
  onExit: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * Callback fired when the dialog has exited.
   */
  onExited: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * Callback fired when the dialog is exiting.
   */
  onExiting: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * If `true`, the Dialog is open.
   */
  open: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool.isRequired),

  /**
   * The component used to render the body of the dialog.
   */
  PaperComponent: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().elementType),

  /**
   * Props applied to the [`Paper`](/api/paper/) element.
   */
  PaperProps: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object),

  /**
   * Determine the container for scrolling the dialog.
   */
  scroll: prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOf(['body', 'paper']),

  /**
   * The component used for the transition.
   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.
   */
  TransitionComponent: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().elementType),

  /**
   * The duration for the transition, in milliseconds.
   * You may specify a single timeout for all transitions, or individually with an object.
   */
  transitionDuration: prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_4___default().number), prop_types__WEBPACK_IMPORTED_MODULE_4___default().shape({
    appear: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().number),
    enter: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().number),
    exit: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().number)
  })]),

  /**
   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.
   */
  TransitionProps: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_12__.default)(styles, {
  name: 'MuiDialog'
})(Dialog));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/DialogActions/DialogActions.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/DialogActions/DialogActions.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");






var styles = {
  /* Styles applied to the root element. */
  root: {
    display: 'flex',
    alignItems: 'center',
    padding: 8,
    justifyContent: 'flex-end',
    flex: '0 0 auto'
  },

  /* Styles applied to the root element if `disableSpacing={false}`. */
  spacing: {
    '& > :not(:first-child)': {
      marginLeft: 8
    }
  }
};
var DialogActions = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function DialogActions(props, ref) {
  var _props$disableSpacing = props.disableSpacing,
      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,
      classes = props.classes,
      className = props.className,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["disableSpacing", "classes", "className"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className, !disableSpacing && classes.spacing),
    ref: ref
  }, other));
});
 true ? DialogActions.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * The content of the component.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * If `true`, the actions do not have additional margin.
   */
  disableSpacing: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__.default)(styles, {
  name: 'MuiDialogActions'
})(DialogActions));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");






var styles = function styles(theme) {
  return {
    /* Styles applied to the root element. */
    root: {
      flex: '1 1 auto',
      WebkitOverflowScrolling: 'touch',
      // Add iOS momentum scrolling.
      overflowY: 'auto',
      padding: '8px 24px',
      '&:first-child': {
        // dialog without title
        paddingTop: 20
      }
    },

    /* Styles applied to the root element if `dividers={true}`. */
    dividers: {
      padding: '16px 24px',
      borderTop: "1px solid ".concat(theme.palette.divider),
      borderBottom: "1px solid ".concat(theme.palette.divider)
    }
  };
};
var DialogContent = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function DialogContent(props, ref) {
  var classes = props.classes,
      className = props.className,
      _props$dividers = props.dividers,
      dividers = _props$dividers === void 0 ? false : _props$dividers,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["classes", "className", "dividers"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className, dividers && classes.dividers),
    ref: ref
  }, other));
});
 true ? DialogContent.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * The content of the component.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * Display the top and bottom dividers.
   */
  dividers: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__.default)(styles, {
  name: 'MuiDialogContent'
})(DialogContent));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/DialogContentText/DialogContentText.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/DialogContentText/DialogContentText.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Typography */ "./node_modules/@material-ui/core/esm/Typography/Typography.js");





var styles = {
  /* Styles applied to the root element. */
  root: {
    marginBottom: 12
  }
};
var DialogContentText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(function DialogContentText(props, ref) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Typography__WEBPACK_IMPORTED_MODULE_3__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    component: "p",
    variant: "body1",
    color: "textSecondary",
    ref: ref
  }, props));
});
 true ? DialogContentText.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * The content of the component.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_2___default().object)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_4__.default)(styles, {
  name: 'MuiDialogContentText'
})(DialogContentText));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _Typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Typography */ "./node_modules/@material-ui/core/esm/Typography/Typography.js");







var styles = {
  /* Styles applied to the root element. */
  root: {
    margin: 0,
    padding: '16px 24px',
    flex: '0 0 auto'
  }
};
var DialogTitle = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function DialogTitle(props, ref) {
  var children = props.children,
      classes = props.classes,
      className = props.className,
      _props$disableTypogra = props.disableTypography,
      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["children", "classes", "className", "disableTypography"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className),
    ref: ref
  }, other), disableTypography ? children : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Typography__WEBPACK_IMPORTED_MODULE_5__.default, {
    component: "h2",
    variant: "h6"
  }, children));
});
 true ? DialogTitle.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * The content of the component.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * If `true`, the children won't be wrapped by a typography component.
   * For instance, this can be useful to render an h4 instead of the default h2.
   */
  disableTypography: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_6__.default)(styles, {
  name: 'MuiDialogTitle'
})(DialogTitle));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/Fab/Fab.js":
/*!*******************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/Fab/Fab.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _ButtonBase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ButtonBase */ "./node_modules/@material-ui/core/esm/ButtonBase/ButtonBase.js");
/* harmony import */ var _utils_capitalize__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/capitalize */ "./node_modules/@material-ui/core/esm/utils/capitalize.js");








var styles = function styles(theme) {
  return {
    /* Styles applied to the root element. */
    root: (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.default)({}, theme.typography.button, {
      boxSizing: 'border-box',
      minHeight: 36,
      transition: theme.transitions.create(['background-color', 'box-shadow', 'border'], {
        duration: theme.transitions.duration.short
      }),
      borderRadius: '50%',
      padding: 0,
      minWidth: 0,
      width: 56,
      height: 56,
      boxShadow: theme.shadows[6],
      '&:active': {
        boxShadow: theme.shadows[12]
      },
      color: theme.palette.getContrastText(theme.palette.grey[300]),
      backgroundColor: theme.palette.grey[300],
      '&:hover': {
        backgroundColor: theme.palette.grey.A100,
        // Reset on touch devices, it doesn't add specificity
        '@media (hover: none)': {
          backgroundColor: theme.palette.grey[300]
        },
        '&$disabled': {
          backgroundColor: theme.palette.action.disabledBackground
        },
        textDecoration: 'none'
      },
      '&$focusVisible': {
        boxShadow: theme.shadows[6]
      },
      '&$disabled': {
        color: theme.palette.action.disabled,
        boxShadow: theme.shadows[0],
        backgroundColor: theme.palette.action.disabledBackground
      }
    }),

    /* Styles applied to the span element that wraps the children. */
    label: {
      width: '100%',
      // assure the correct width for iOS Safari
      display: 'inherit',
      alignItems: 'inherit',
      justifyContent: 'inherit'
    },

    /* Styles applied to the root element if `color="primary"`. */
    primary: {
      color: theme.palette.primary.contrastText,
      backgroundColor: theme.palette.primary.main,
      '&:hover': {
        backgroundColor: theme.palette.primary.dark,
        // Reset on touch devices, it doesn't add specificity
        '@media (hover: none)': {
          backgroundColor: theme.palette.primary.main
        }
      }
    },

    /* Styles applied to the root element if `color="secondary"`. */
    secondary: {
      color: theme.palette.secondary.contrastText,
      backgroundColor: theme.palette.secondary.main,
      '&:hover': {
        backgroundColor: theme.palette.secondary.dark,
        // Reset on touch devices, it doesn't add specificity
        '@media (hover: none)': {
          backgroundColor: theme.palette.secondary.main
        }
      }
    },

    /* Styles applied to the root element if `variant="extended"`. */
    extended: {
      borderRadius: 48 / 2,
      padding: '0 16px',
      width: 'auto',
      minHeight: 'auto',
      minWidth: 48,
      height: 48,
      '&$sizeSmall': {
        width: 'auto',
        padding: '0 8px',
        borderRadius: 34 / 2,
        minWidth: 34,
        height: 34
      },
      '&$sizeMedium': {
        width: 'auto',
        padding: '0 16px',
        borderRadius: 40 / 2,
        minWidth: 40,
        height: 40
      }
    },

    /* Pseudo-class applied to the ButtonBase root element if the button is keyboard focused. */
    focusVisible: {},

    /* Pseudo-class applied to the root element if `disabled={true}`. */
    disabled: {},

    /* Styles applied to the root element if `color="inherit"`. */
    colorInherit: {
      color: 'inherit'
    },

    /* Styles applied to the root element if `size="small"``. */
    sizeSmall: {
      width: 40,
      height: 40
    },

    /* Styles applied to the root element if `size="medium"``. */
    sizeMedium: {
      width: 48,
      height: 48
    }
  };
};
var Fab = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function Fab(props, ref) {
  var children = props.children,
      classes = props.classes,
      className = props.className,
      _props$color = props.color,
      color = _props$color === void 0 ? 'default' : _props$color,
      _props$component = props.component,
      component = _props$component === void 0 ? 'button' : _props$component,
      _props$disabled = props.disabled,
      disabled = _props$disabled === void 0 ? false : _props$disabled,
      _props$disableFocusRi = props.disableFocusRipple,
      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,
      focusVisibleClassName = props.focusVisibleClassName,
      _props$size = props.size,
      size = _props$size === void 0 ? 'large' : _props$size,
      _props$variant = props.variant,
      variant = _props$variant === void 0 ? 'round' : _props$variant,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.default)(props, ["children", "classes", "className", "color", "component", "disabled", "disableFocusRipple", "focusVisibleClassName", "size", "variant"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_ButtonBase__WEBPACK_IMPORTED_MODULE_5__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className, variant !== "round" && classes.extended, size !== 'large' && classes["size".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_6__.default)(size))], disabled && classes.disabled, {
      'primary': classes.primary,
      'secondary': classes.secondary,
      'inherit': classes.colorInherit
    }[color]),
    component: component,
    disabled: disabled,
    focusRipple: !disableFocusRipple,
    focusVisibleClassName: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.focusVisible, focusVisibleClassName),
    ref: ref
  }, other), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("span", {
    className: classes.label
  }, children));
});
 true ? Fab.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * The content of the button.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node.isRequired),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The color of the component. It supports those theme colors that make sense for this component.
   */
  color: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['default', 'inherit', 'primary', 'secondary']),

  /**
   * The component used for the root node.
   * Either a string to use a HTML element or a component.
   */
  component: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().elementType),

  /**
   * If `true`, the button will be disabled.
   */
  disabled: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * If `true`, the  keyboard focus ripple will be disabled.
   */
  disableFocusRipple: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * If `true`, the ripple effect will be disabled.
   */
  disableRipple: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * @ignore
   */
  focusVisibleClassName: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The URL to link to when the button is clicked.
   * If defined, an `a` element will be used as the root node.
   */
  href: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The size of the button.
   * `small` is equivalent to the dense button styling.
   */
  size: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['large', 'medium', 'small']),

  /**
   * The variant to use.
   */
  variant: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['extended', 'round'])
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_7__.default)(styles, {
  name: 'MuiFab'
})(Fab));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/Link/Link.js":
/*!*********************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/Link/Link.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _utils_capitalize__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/capitalize */ "./node_modules/@material-ui/core/esm/utils/capitalize.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _material_ui_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/utils */ "./node_modules/@material-ui/utils/esm/elementTypeAcceptingRef.js");
/* harmony import */ var _utils_useIsFocusVisible__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/useIsFocusVisible */ "./node_modules/@material-ui/core/esm/utils/useIsFocusVisible.js");
/* harmony import */ var _utils_useForkRef__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/useForkRef */ "./node_modules/@material-ui/core/esm/utils/useForkRef.js");
/* harmony import */ var _Typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Typography */ "./node_modules/@material-ui/core/esm/Typography/Typography.js");











var styles = {
  /* Styles applied to the root element. */
  root: {},

  /* Styles applied to the root element if `underline="none"`. */
  underlineNone: {
    textDecoration: 'none'
  },

  /* Styles applied to the root element if `underline="hover"`. */
  underlineHover: {
    textDecoration: 'none',
    '&:hover': {
      textDecoration: 'underline'
    }
  },

  /* Styles applied to the root element if `underline="always"`. */
  underlineAlways: {
    textDecoration: 'underline'
  },
  // Same reset as ButtonBase.root

  /* Styles applied to the root element if `component="button"`. */
  button: {
    position: 'relative',
    WebkitTapHighlightColor: 'transparent',
    backgroundColor: 'transparent',
    // Reset default value
    // We disable the focus ring for mouse, touch and keyboard users.
    outline: 0,
    border: 0,
    margin: 0,
    // Remove the margin in Safari
    borderRadius: 0,
    padding: 0,
    // Remove the padding in Firefox
    cursor: 'pointer',
    userSelect: 'none',
    verticalAlign: 'middle',
    '-moz-appearance': 'none',
    // Reset
    '-webkit-appearance': 'none',
    // Reset
    '&::-moz-focus-inner': {
      borderStyle: 'none' // Remove Firefox dotted outline.

    },
    '&$focusVisible': {
      outline: 'auto'
    }
  },

  /* Pseudo-class applied to the root element if the link is keyboard focused. */
  focusVisible: {}
};
var Link = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function Link(props, ref) {
  var classes = props.classes,
      className = props.className,
      _props$color = props.color,
      color = _props$color === void 0 ? 'primary' : _props$color,
      _props$component = props.component,
      component = _props$component === void 0 ? 'a' : _props$component,
      onBlur = props.onBlur,
      onFocus = props.onFocus,
      TypographyClasses = props.TypographyClasses,
      _props$underline = props.underline,
      underline = _props$underline === void 0 ? 'hover' : _props$underline,
      _props$variant = props.variant,
      variant = _props$variant === void 0 ? 'inherit' : _props$variant,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["classes", "className", "color", "component", "onBlur", "onFocus", "TypographyClasses", "underline", "variant"]);

  var _useIsFocusVisible = (0,_utils_useIsFocusVisible__WEBPACK_IMPORTED_MODULE_5__.default)(),
      isFocusVisible = _useIsFocusVisible.isFocusVisible,
      onBlurVisible = _useIsFocusVisible.onBlurVisible,
      focusVisibleRef = _useIsFocusVisible.ref;

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_2__.useState(false),
      focusVisible = _React$useState[0],
      setFocusVisible = _React$useState[1];

  var handlerRef = (0,_utils_useForkRef__WEBPACK_IMPORTED_MODULE_6__.default)(ref, focusVisibleRef);

  var handleBlur = function handleBlur(event) {
    if (focusVisible) {
      onBlurVisible();
      setFocusVisible(false);
    }

    if (onBlur) {
      onBlur(event);
    }
  };

  var handleFocus = function handleFocus(event) {
    if (isFocusVisible(event)) {
      setFocusVisible(true);
    }

    if (onFocus) {
      onFocus(event);
    }
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Typography__WEBPACK_IMPORTED_MODULE_7__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, classes["underline".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_8__.default)(underline))], className, focusVisible && classes.focusVisible, component === 'button' && classes.button),
    classes: TypographyClasses,
    color: color,
    component: component,
    onBlur: handleBlur,
    onFocus: handleFocus,
    ref: handlerRef,
    variant: variant
  }, other));
});
 true ? Link.propTypes = {
  /**
   * The content of the link.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node.isRequired),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The color of the link.
   */
  color: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['initial', 'inherit', 'primary', 'secondary', 'textPrimary', 'textSecondary', 'error']),

  /**
   * The component used for the root node.
   * Either a string to use a HTML element or a component.
   */
  component: _material_ui_utils__WEBPACK_IMPORTED_MODULE_9__.default,

  /**
   * @ignore
   */
  onBlur: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().func),

  /**
   * @ignore
   */
  onFocus: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().func),

  /**
   * `classes` prop applied to the [`Typography`](/api/typography/) element.
   */
  TypographyClasses: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * Controls when the link should have an underline.
   */
  underline: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['none', 'hover', 'always']),

  /**
   * Applies the theme typography styles.
   */
  variant: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_10__.default)(styles, {
  name: 'MuiLink'
})(Link));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/Table/Table.js":
/*!***********************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/Table/Table.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _TableContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TableContext */ "./node_modules/@material-ui/core/esm/Table/TableContext.js");







var styles = function styles(theme) {
  return {
    /* Styles applied to the root element. */
    root: {
      display: 'table',
      width: '100%',
      borderCollapse: 'collapse',
      borderSpacing: 0,
      '& caption': (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.default)({}, theme.typography.body2, {
        padding: theme.spacing(2),
        color: theme.palette.text.secondary,
        textAlign: 'left',
        captionSide: 'bottom'
      })
    },

    /* Styles applied to the root element if `stickyHeader={true}`. */
    stickyHeader: {
      borderCollapse: 'separate'
    }
  };
};
var defaultComponent = 'table';
var Table = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function Table(props, ref) {
  var classes = props.classes,
      className = props.className,
      _props$component = props.component,
      Component = _props$component === void 0 ? defaultComponent : _props$component,
      _props$padding = props.padding,
      padding = _props$padding === void 0 ? 'default' : _props$padding,
      _props$size = props.size,
      size = _props$size === void 0 ? 'medium' : _props$size,
      _props$stickyHeader = props.stickyHeader,
      stickyHeader = _props$stickyHeader === void 0 ? false : _props$stickyHeader,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.default)(props, ["classes", "className", "component", "padding", "size", "stickyHeader"]);

  var table = react__WEBPACK_IMPORTED_MODULE_2__.useMemo(function () {
    return {
      padding: padding,
      size: size,
      stickyHeader: stickyHeader
    };
  }, [padding, size, stickyHeader]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_TableContext__WEBPACK_IMPORTED_MODULE_5__.default.Provider, {
    value: table
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(Component, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.default)({
    role: Component === defaultComponent ? null : 'table',
    ref: ref,
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className, stickyHeader && classes.stickyHeader)
  }, other)));
});
 true ? Table.propTypes = {
  /**
   * The content of the table, normally `TableHead` and `TableBody`.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node.isRequired),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The component used for the root node.
   * Either a string to use a HTML element or a component.
   */
  component: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().elementType),

  /**
   * Allows TableCells to inherit padding of the Table.
   */
  padding: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['default', 'checkbox', 'none']),

  /**
   * Allows TableCells to inherit size of the Table.
   */
  size: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['small', 'medium']),

  /**
   * Set the header sticky.
   *
   *  It doesn't work with IE 11.
   */
  stickyHeader: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_6__.default)(styles, {
  name: 'MuiTable'
})(Table));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/Table/TableContext.js":
/*!******************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/Table/TableContext.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

/**
 * @ignore - internal component.
 */

var TableContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext();

if (true) {
  TableContext.displayName = 'TableContext';
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TableContext);

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/Table/Tablelvl2Context.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/Table/Tablelvl2Context.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

/**
 * @ignore - internal component.
 */

var Tablelvl2Context = react__WEBPACK_IMPORTED_MODULE_0__.createContext();

if (true) {
  Tablelvl2Context.displayName = 'Tablelvl2Context';
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tablelvl2Context);

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/TableBody/TableBody.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/TableBody/TableBody.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _Table_Tablelvl2Context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Table/Tablelvl2Context */ "./node_modules/@material-ui/core/esm/Table/Tablelvl2Context.js");







var styles = {
  /* Styles applied to the root element. */
  root: {
    display: 'table-row-group'
  }
};
var tablelvl2 = {
  variant: 'body'
};
var defaultComponent = 'tbody';
var TableBody = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function TableBody(props, ref) {
  var classes = props.classes,
      className = props.className,
      _props$component = props.component,
      Component = _props$component === void 0 ? defaultComponent : _props$component,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["classes", "className", "component"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Table_Tablelvl2Context__WEBPACK_IMPORTED_MODULE_5__.default.Provider, {
    value: tablelvl2
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(Component, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className),
    ref: ref,
    role: Component === defaultComponent ? null : 'rowgroup'
  }, other)));
});
 true ? TableBody.propTypes = {
  /**
   * The content of the component, normally `TableRow`.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The component used for the root node.
   * Either a string to use a HTML element or a component.
   */
  component: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().elementType)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_6__.default)(styles, {
  name: 'MuiTableBody'
})(TableBody));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/TableCell/TableCell.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/TableCell/TableCell.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _utils_capitalize__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/capitalize */ "./node_modules/@material-ui/core/esm/utils/capitalize.js");
/* harmony import */ var _styles_colorManipulator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/colorManipulator */ "./node_modules/@material-ui/core/esm/styles/colorManipulator.js");
/* harmony import */ var _Table_TableContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Table/TableContext */ "./node_modules/@material-ui/core/esm/Table/TableContext.js");
/* harmony import */ var _Table_Tablelvl2Context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Table/Tablelvl2Context */ "./node_modules/@material-ui/core/esm/Table/Tablelvl2Context.js");










var styles = function styles(theme) {
  return {
    /* Styles applied to the root element. */
    root: (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.default)({}, theme.typography.body2, {
      display: 'table-cell',
      verticalAlign: 'inherit',
      // Workaround for a rendering bug with spanned columns in Chrome 62.0.
      // Removes the alpha (sets it to 1), and lightens or darkens the theme color.
      borderBottom: "1px solid\n    ".concat(theme.palette.type === 'light' ? (0,_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_5__.lighten)((0,_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_5__.fade)(theme.palette.divider, 1), 0.88) : (0,_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_5__.darken)((0,_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_5__.fade)(theme.palette.divider, 1), 0.68)),
      textAlign: 'left',
      padding: 16
    }),

    /* Styles applied to the root element if `variant="head"` or `context.table.head`. */
    head: {
      color: theme.palette.text.primary,
      lineHeight: theme.typography.pxToRem(24),
      fontWeight: theme.typography.fontWeightMedium
    },

    /* Styles applied to the root element if `variant="body"` or `context.table.body`. */
    body: {
      color: theme.palette.text.primary
    },

    /* Styles applied to the root element if `variant="footer"` or `context.table.footer`. */
    footer: {
      color: theme.palette.text.secondary,
      lineHeight: theme.typography.pxToRem(21),
      fontSize: theme.typography.pxToRem(12)
    },

    /* Styles applied to the root element if `size="small"`. */
    sizeSmall: {
      padding: '6px 24px 6px 16px',
      '&:last-child': {
        paddingRight: 16
      },
      '&$paddingCheckbox': {
        width: 24,
        // prevent the checkbox column from growing
        padding: '0 12px 0 16px',
        '&:last-child': {
          paddingLeft: 12,
          paddingRight: 16
        },
        '& > *': {
          padding: 0
        }
      }
    },

    /* Styles applied to the root element if `padding="checkbox"`. */
    paddingCheckbox: {
      width: 48,
      // prevent the checkbox column from growing
      padding: '0 0 0 4px',
      '&:last-child': {
        paddingLeft: 0,
        paddingRight: 4
      }
    },

    /* Styles applied to the root element if `padding="none"`. */
    paddingNone: {
      padding: 0,
      '&:last-child': {
        padding: 0
      }
    },

    /* Styles applied to the root element if `align="left"`. */
    alignLeft: {
      textAlign: 'left'
    },

    /* Styles applied to the root element if `align="center"`. */
    alignCenter: {
      textAlign: 'center'
    },

    /* Styles applied to the root element if `align="right"`. */
    alignRight: {
      textAlign: 'right',
      flexDirection: 'row-reverse'
    },

    /* Styles applied to the root element if `align="justify"`. */
    alignJustify: {
      textAlign: 'justify'
    },

    /* Styles applied to the root element if `context.table.stickyHeader={true}`. */
    stickyHeader: {
      position: 'sticky',
      top: 0,
      left: 0,
      zIndex: 2,
      backgroundColor: theme.palette.background.default
    }
  };
};
/**
 * The component renders a `<th>` element when the parent context is a header
 * or otherwise a `<td>` element.
 */

var TableCell = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function TableCell(props, ref) {
  var _props$align = props.align,
      align = _props$align === void 0 ? 'inherit' : _props$align,
      classes = props.classes,
      className = props.className,
      component = props.component,
      paddingProp = props.padding,
      scopeProp = props.scope,
      sizeProp = props.size,
      sortDirection = props.sortDirection,
      variantProp = props.variant,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.default)(props, ["align", "classes", "className", "component", "padding", "scope", "size", "sortDirection", "variant"]);

  var table = react__WEBPACK_IMPORTED_MODULE_2__.useContext(_Table_TableContext__WEBPACK_IMPORTED_MODULE_6__.default);
  var tablelvl2 = react__WEBPACK_IMPORTED_MODULE_2__.useContext(_Table_Tablelvl2Context__WEBPACK_IMPORTED_MODULE_7__.default);
  var isHeadCell = tablelvl2 && tablelvl2.variant === 'head';
  var role;
  var Component;

  if (component) {
    Component = component;
    role = isHeadCell ? 'columnheader' : 'cell';
  } else {
    Component = isHeadCell ? 'th' : 'td';
  }

  var scope = scopeProp;

  if (!scope && isHeadCell) {
    scope = 'col';
  }

  var padding = paddingProp || (table && table.padding ? table.padding : 'default');
  var size = sizeProp || (table && table.size ? table.size : 'medium');
  var variant = variantProp || tablelvl2 && tablelvl2.variant;
  var ariaSort = null;

  if (sortDirection) {
    ariaSort = sortDirection === 'asc' ? 'ascending' : 'descending';
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(Component, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.default)({
    ref: ref,
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, classes[variant], className, align !== 'inherit' && classes["align".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_8__.default)(align))], padding !== 'default' && classes["padding".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_8__.default)(padding))], size !== 'medium' && classes["size".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_8__.default)(size))], variant === 'head' && table && table.stickyHeader && classes.stickyHeader),
    "aria-sort": ariaSort,
    role: role,
    scope: scope
  }, other));
});
 true ? TableCell.propTypes = {
  // ----------------------------- Warning --------------------------------
  // | These PropTypes are generated from the TypeScript type definitions |
  // |     To update them edit the d.ts file and run "yarn proptypes"     |
  // ----------------------------------------------------------------------

  /**
   * Set the text-align on the table cell content.
   *
   * Monetary or generally number fields **should be right aligned** as that allows
   * you to add them up quickly in your head without having to worry about decimals.
   */
  align: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['center', 'inherit', 'justify', 'left', 'right']),

  /**
   * The table cell contents.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The component used for the root node.
   * Either a string to use a HTML element or a component.
   */
  component: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().elementType),

  /**
   * Sets the padding applied to the cell.
   * By default, the Table parent component set the value (`default`).
   */
  padding: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['checkbox', 'default', 'none']),

  /**
   * Set scope attribute.
   */
  scope: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * Specify the size of the cell.
   * By default, the Table parent component set the value (`medium`).
   */
  size: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['medium', 'small']),

  /**
   * Set aria-sort direction.
   */
  sortDirection: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['asc', 'desc', false]),

  /**
   * Specify the cell type.
   * By default, the TableHead, TableBody or TableFooter parent component set the value.
   */
  variant: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['body', 'footer', 'head'])
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_9__.default)(styles, {
  name: 'MuiTableCell'
})(TableCell));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/TableHead/TableHead.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/TableHead/TableHead.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _Table_Tablelvl2Context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Table/Tablelvl2Context */ "./node_modules/@material-ui/core/esm/Table/Tablelvl2Context.js");







var styles = {
  /* Styles applied to the root element. */
  root: {
    display: 'table-header-group'
  }
};
var tablelvl2 = {
  variant: 'head'
};
var defaultComponent = 'thead';
var TableHead = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function TableHead(props, ref) {
  var classes = props.classes,
      className = props.className,
      _props$component = props.component,
      Component = _props$component === void 0 ? defaultComponent : _props$component,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["classes", "className", "component"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Table_Tablelvl2Context__WEBPACK_IMPORTED_MODULE_5__.default.Provider, {
    value: tablelvl2
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(Component, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className),
    ref: ref,
    role: Component === defaultComponent ? null : 'rowgroup'
  }, other)));
});
 true ? TableHead.propTypes = {
  /**
   * The content of the component, normally `TableRow`.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The component used for the root node.
   * Either a string to use a HTML element or a component.
   */
  component: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().elementType)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_6__.default)(styles, {
  name: 'MuiTableHead'
})(TableHead));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/TablePagination/TablePagination.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/TablePagination/TablePagination.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_ui_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @material-ui/utils */ "./node_modules/@material-ui/utils/esm/chainPropTypes.js");
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _InputBase__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../InputBase */ "./node_modules/@material-ui/core/esm/InputBase/InputBase.js");
/* harmony import */ var _MenuItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../MenuItem */ "./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js");
/* harmony import */ var _Select__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Select */ "./node_modules/@material-ui/core/esm/Select/Select.js");
/* harmony import */ var _TableCell__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../TableCell */ "./node_modules/@material-ui/core/esm/TableCell/TableCell.js");
/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Toolbar */ "./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js");
/* harmony import */ var _Typography__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Typography */ "./node_modules/@material-ui/core/esm/Typography/Typography.js");
/* harmony import */ var _TablePaginationActions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TablePaginationActions */ "./node_modules/@material-ui/core/esm/TablePagination/TablePaginationActions.js");
/* harmony import */ var _utils_unstable_useId__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/unstable_useId */ "./node_modules/@material-ui/core/esm/utils/unstable_useId.js");















var styles = function styles(theme) {
  return {
    /* Styles applied to the root element. */
    root: {
      color: theme.palette.text.primary,
      fontSize: theme.typography.pxToRem(14),
      overflow: 'auto',
      // Increase the specificity to override TableCell.
      '&:last-child': {
        padding: 0
      }
    },

    /* Styles applied to the Toolbar component. */
    toolbar: {
      minHeight: 52,
      paddingRight: 2
    },

    /* Styles applied to the spacer element. */
    spacer: {
      flex: '1 1 100%'
    },

    /* Styles applied to the caption Typography components if `variant="caption"`. */
    caption: {
      flexShrink: 0
    },
    // TODO v5: `.selectRoot` should be merged with `.input`

    /* Styles applied to the Select component root element. */
    selectRoot: {
      marginRight: 32,
      marginLeft: 8
    },

    /* Styles applied to the Select component `select` class. */
    select: {
      paddingLeft: 8,
      paddingRight: 24,
      textAlign: 'right',
      textAlignLast: 'right' // Align <select> on Chrome.

    },
    // TODO v5: remove

    /* Styles applied to the Select component `icon` class. */
    selectIcon: {},

    /* Styles applied to the `InputBase` component. */
    input: {
      color: 'inherit',
      fontSize: 'inherit',
      flexShrink: 0
    },

    /* Styles applied to the MenuItem component. */
    menuItem: {},

    /* Styles applied to the internal `TablePaginationActions` component. */
    actions: {
      flexShrink: 0,
      marginLeft: 20
    }
  };
};

var defaultLabelDisplayedRows = function defaultLabelDisplayedRows(_ref) {
  var from = _ref.from,
      to = _ref.to,
      count = _ref.count;
  return "".concat(from, "-").concat(to, " of ").concat(count !== -1 ? count : "more than ".concat(to));
};

var defaultRowsPerPageOptions = [10, 25, 50, 100];
/**
 * A `TableCell` based component for placing inside `TableFooter` for pagination.
 */

var TablePagination = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function TablePagination(props, ref) {
  var _props$ActionsCompone = props.ActionsComponent,
      ActionsComponent = _props$ActionsCompone === void 0 ? _TablePaginationActions__WEBPACK_IMPORTED_MODULE_5__.default : _props$ActionsCompone,
      backIconButtonProps = props.backIconButtonProps,
      _props$backIconButton = props.backIconButtonText,
      backIconButtonText = _props$backIconButton === void 0 ? 'Previous page' : _props$backIconButton,
      classes = props.classes,
      className = props.className,
      colSpanProp = props.colSpan,
      _props$component = props.component,
      Component = _props$component === void 0 ? _TableCell__WEBPACK_IMPORTED_MODULE_6__.default : _props$component,
      count = props.count,
      _props$labelDisplayed = props.labelDisplayedRows,
      labelDisplayedRows = _props$labelDisplayed === void 0 ? defaultLabelDisplayedRows : _props$labelDisplayed,
      _props$labelRowsPerPa = props.labelRowsPerPage,
      labelRowsPerPage = _props$labelRowsPerPa === void 0 ? 'Rows per page:' : _props$labelRowsPerPa,
      nextIconButtonProps = props.nextIconButtonProps,
      _props$nextIconButton = props.nextIconButtonText,
      nextIconButtonText = _props$nextIconButton === void 0 ? 'Next page' : _props$nextIconButton,
      onChangePage = props.onChangePage,
      onChangeRowsPerPage = props.onChangeRowsPerPage,
      page = props.page,
      rowsPerPage = props.rowsPerPage,
      _props$rowsPerPageOpt = props.rowsPerPageOptions,
      rowsPerPageOptions = _props$rowsPerPageOpt === void 0 ? defaultRowsPerPageOptions : _props$rowsPerPageOpt,
      _props$SelectProps = props.SelectProps,
      SelectProps = _props$SelectProps === void 0 ? {} : _props$SelectProps,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["ActionsComponent", "backIconButtonProps", "backIconButtonText", "classes", "className", "colSpan", "component", "count", "labelDisplayedRows", "labelRowsPerPage", "nextIconButtonProps", "nextIconButtonText", "onChangePage", "onChangeRowsPerPage", "page", "rowsPerPage", "rowsPerPageOptions", "SelectProps"]);

  var colSpan;

  if (Component === _TableCell__WEBPACK_IMPORTED_MODULE_6__.default || Component === 'td') {
    colSpan = colSpanProp || 1000; // col-span over everything
  }

  var selectId = (0,_utils_unstable_useId__WEBPACK_IMPORTED_MODULE_7__.default)();
  var labelId = (0,_utils_unstable_useId__WEBPACK_IMPORTED_MODULE_7__.default)();
  var MenuItemComponent = SelectProps.native ? 'option' : _MenuItem__WEBPACK_IMPORTED_MODULE_8__.default;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(Component, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className),
    colSpan: colSpan,
    ref: ref
  }, other), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Toolbar__WEBPACK_IMPORTED_MODULE_9__.default, {
    className: classes.toolbar
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", {
    className: classes.spacer
  }), rowsPerPageOptions.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Typography__WEBPACK_IMPORTED_MODULE_10__.default, {
    color: "inherit",
    variant: "body2",
    className: classes.caption,
    id: labelId
  }, labelRowsPerPage), rowsPerPageOptions.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Select__WEBPACK_IMPORTED_MODULE_11__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    classes: {
      select: classes.select,
      icon: classes.selectIcon
    },
    input: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_InputBase__WEBPACK_IMPORTED_MODULE_12__.default, {
      className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.input, classes.selectRoot)
    }),
    value: rowsPerPage,
    onChange: onChangeRowsPerPage,
    id: selectId,
    labelId: labelId
  }, SelectProps), rowsPerPageOptions.map(function (rowsPerPageOption) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(MenuItemComponent, {
      className: classes.menuItem,
      key: rowsPerPageOption.value ? rowsPerPageOption.value : rowsPerPageOption,
      value: rowsPerPageOption.value ? rowsPerPageOption.value : rowsPerPageOption
    }, rowsPerPageOption.label ? rowsPerPageOption.label : rowsPerPageOption);
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Typography__WEBPACK_IMPORTED_MODULE_10__.default, {
    color: "inherit",
    variant: "body2",
    className: classes.caption
  }, labelDisplayedRows({
    from: count === 0 ? 0 : page * rowsPerPage + 1,
    to: count !== -1 ? Math.min(count, (page + 1) * rowsPerPage) : (page + 1) * rowsPerPage,
    count: count === -1 ? -1 : count,
    page: page
  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(ActionsComponent, {
    className: classes.actions,
    backIconButtonProps: (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
      title: backIconButtonText,
      'aria-label': backIconButtonText
    }, backIconButtonProps),
    count: count,
    nextIconButtonProps: (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
      title: nextIconButtonText,
      'aria-label': nextIconButtonText
    }, nextIconButtonProps),
    onChangePage: onChangePage,
    page: page,
    rowsPerPage: rowsPerPage
  })));
});
 true ? TablePagination.propTypes = {
  /**
   * The component used for displaying the actions.
   * Either a string to use a HTML element or a component.
   */
  ActionsComponent: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().elementType),

  /**
   * Props applied to the back arrow [`IconButton`](/api/icon-button/) component.
   */
  backIconButtonProps: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * Text label for the back arrow icon button.
   *
   * For localization purposes, you can use the provided [translations](/guides/localization/).
   */
  backIconButtonText: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * @ignore
   */
  colSpan: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number),

  /**
   * The component used for the root node.
   * Either a string to use a HTML element or a component.
   */
  component: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().elementType),

  /**
   * The total number of rows.
   *
   * To enable server side pagination for an unknown number of items, provide -1.
   */
  count: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number.isRequired),

  /**
   * Customize the displayed rows label. Invoked with a `{ from, to, count, page }`
   * object.
   *
   * For localization purposes, you can use the provided [translations](/guides/localization/).
   */
  labelDisplayedRows: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().func),

  /**
   * Customize the rows per page label.
   *
   * For localization purposes, you can use the provided [translations](/guides/localization/).
   */
  labelRowsPerPage: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Props applied to the next arrow [`IconButton`](/api/icon-button/) element.
   */
  nextIconButtonProps: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * Text label for the next arrow icon button.
   *
   * For localization purposes, you can use the provided [translations](/guides/localization/).
   */
  nextIconButtonText: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * Callback fired when the page is changed.
   *
   * @param {object} event The event source of the callback.
   * @param {number} page The page selected.
   */
  onChangePage: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().func.isRequired),

  /**
   * Callback fired when the number of rows per page is changed.
   *
   * @param {object} event The event source of the callback.
   */
  onChangeRowsPerPage: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().func),

  /**
   * The zero-based index of the current page.
   */
  page: (0,_material_ui_utils__WEBPACK_IMPORTED_MODULE_13__.default)((prop_types__WEBPACK_IMPORTED_MODULE_3___default().number.isRequired), function (props) {
    var count = props.count,
        page = props.page,
        rowsPerPage = props.rowsPerPage;

    if (count === -1) {
      return null;
    }

    var newLastPage = Math.max(0, Math.ceil(count / rowsPerPage) - 1);

    if (page < 0 || page > newLastPage) {
      return new Error('Material-UI: The page prop of a TablePagination is out of range ' + "(0 to ".concat(newLastPage, ", but page is ").concat(page, ")."));
    }

    return null;
  }),

  /**
   * The number of rows per page.
   */
  rowsPerPage: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number.isRequired),

  /**
   * Customizes the options of the rows per page select field. If less than two options are
   * available, no select field will be displayed.
   */
  rowsPerPageOptions: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().array),

  /**
   * Props applied to the rows per page [`Select`](/api/select/) element.
   */
  SelectProps: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_14__.default)(styles, {
  name: 'MuiTablePagination'
})(TablePagination));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/TablePagination/TablePaginationActions.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/TablePagination/TablePaginationActions.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _internal_svg_icons_KeyboardArrowLeft__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../internal/svg-icons/KeyboardArrowLeft */ "./node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowLeft.js");
/* harmony import */ var _internal_svg_icons_KeyboardArrowRight__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../internal/svg-icons/KeyboardArrowRight */ "./node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowRight.js");
/* harmony import */ var _styles_useTheme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/useTheme */ "./node_modules/@material-ui/core/esm/styles/useTheme.js");
/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../IconButton */ "./node_modules/@material-ui/core/esm/IconButton/IconButton.js");








/**
 * @ignore - internal component.
 */

var _ref = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_internal_svg_icons_KeyboardArrowRight__WEBPACK_IMPORTED_MODULE_4__.default, null);

var _ref2 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_internal_svg_icons_KeyboardArrowLeft__WEBPACK_IMPORTED_MODULE_5__.default, null);

var _ref3 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_internal_svg_icons_KeyboardArrowLeft__WEBPACK_IMPORTED_MODULE_5__.default, null);

var _ref4 = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_internal_svg_icons_KeyboardArrowRight__WEBPACK_IMPORTED_MODULE_4__.default, null);

var TablePaginationActions = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function TablePaginationActions(props, ref) {
  var backIconButtonProps = props.backIconButtonProps,
      count = props.count,
      nextIconButtonProps = props.nextIconButtonProps,
      onChangePage = props.onChangePage,
      page = props.page,
      rowsPerPage = props.rowsPerPage,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["backIconButtonProps", "count", "nextIconButtonProps", "onChangePage", "page", "rowsPerPage"]);

  var theme = (0,_styles_useTheme__WEBPACK_IMPORTED_MODULE_6__.default)();

  var handleBackButtonClick = function handleBackButtonClick(event) {
    onChangePage(event, page - 1);
  };

  var handleNextButtonClick = function handleNextButtonClick(event) {
    onChangePage(event, page + 1);
  };

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    ref: ref
  }, other), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_IconButton__WEBPACK_IMPORTED_MODULE_7__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    onClick: handleBackButtonClick,
    disabled: page === 0,
    color: "inherit"
  }, backIconButtonProps), theme.direction === 'rtl' ? _ref : _ref2), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_IconButton__WEBPACK_IMPORTED_MODULE_7__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    onClick: handleNextButtonClick,
    disabled: count !== -1 ? page >= Math.ceil(count / rowsPerPage) - 1 : false,
    color: "inherit"
  }, nextIconButtonProps), theme.direction === 'rtl' ? _ref3 : _ref4));
});
 true ? TablePaginationActions.propTypes = {
  /**
   * Props applied to the back arrow [`IconButton`](/api/icon-button/) element.
   */
  backIconButtonProps: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * The total number of rows.
   */
  count: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number.isRequired),

  /**
   * Props applied to the next arrow [`IconButton`](/api/icon-button/) element.
   */
  nextIconButtonProps: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object),

  /**
   * Callback fired when the page is changed.
   *
   * @param {object} event The event source of the callback.
   * @param {number} page The page selected.
   */
  onChangePage: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().func.isRequired),

  /**
   * The zero-based index of the current page.
   */
  page: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number.isRequired),

  /**
   * The number of rows per page.
   */
  rowsPerPage: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number.isRequired)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TablePaginationActions);

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/TableRow/TableRow.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/TableRow/TableRow.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _Table_Tablelvl2Context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Table/Tablelvl2Context */ "./node_modules/@material-ui/core/esm/Table/Tablelvl2Context.js");
/* harmony import */ var _styles_colorManipulator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/colorManipulator */ "./node_modules/@material-ui/core/esm/styles/colorManipulator.js");








var styles = function styles(theme) {
  return {
    /* Styles applied to the root element. */
    root: {
      color: 'inherit',
      display: 'table-row',
      verticalAlign: 'middle',
      // We disable the focus ring for mouse, touch and keyboard users.
      outline: 0,
      '&$hover:hover': {
        backgroundColor: theme.palette.action.hover
      },
      '&$selected, &$selected:hover': {
        backgroundColor: (0,_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_5__.fade)(theme.palette.secondary.main, theme.palette.action.selectedOpacity)
      }
    },

    /* Pseudo-class applied to the root element if `selected={true}`. */
    selected: {},

    /* Pseudo-class applied to the root element if `hover={true}`. */
    hover: {},

    /* Styles applied to the root element if table variant="head". */
    head: {},

    /* Styles applied to the root element if table variant="footer". */
    footer: {}
  };
};
var defaultComponent = 'tr';
/**
 * Will automatically set dynamic row height
 * based on the material table element parent (head, body, etc).
 */

var TableRow = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function TableRow(props, ref) {
  var classes = props.classes,
      className = props.className,
      _props$component = props.component,
      Component = _props$component === void 0 ? defaultComponent : _props$component,
      _props$hover = props.hover,
      hover = _props$hover === void 0 ? false : _props$hover,
      _props$selected = props.selected,
      selected = _props$selected === void 0 ? false : _props$selected,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["classes", "className", "component", "hover", "selected"]);

  var tablelvl2 = react__WEBPACK_IMPORTED_MODULE_2__.useContext(_Table_Tablelvl2Context__WEBPACK_IMPORTED_MODULE_6__.default);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(Component, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    ref: ref,
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className, tablelvl2 && {
      'head': classes.head,
      'footer': classes.footer
    }[tablelvl2.variant], hover && classes.hover, selected && classes.selected),
    role: Component === defaultComponent ? null : 'row'
  }, other));
});
 true ? TableRow.propTypes = {
  /**
   * Should be valid <tr> children such as `TableCell`.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The component used for the root node.
   * Either a string to use a HTML element or a component.
   */
  component: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().elementType),

  /**
   * If `true`, the table row will shade on hover.
   */
  hover: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * If `true`, the table row will have the selected shading.
   */
  selected: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_7__.default)(styles, {
  name: 'MuiTableRow'
})(TableRow));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/TableSortLabel/TableSortLabel.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/TableSortLabel/TableSortLabel.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _internal_svg_icons_ArrowDownward__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../internal/svg-icons/ArrowDownward */ "./node_modules/@material-ui/core/esm/internal/svg-icons/ArrowDownward.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _ButtonBase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ButtonBase */ "./node_modules/@material-ui/core/esm/ButtonBase/ButtonBase.js");
/* harmony import */ var _utils_capitalize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/capitalize */ "./node_modules/@material-ui/core/esm/utils/capitalize.js");









var styles = function styles(theme) {
  return {
    /* Styles applied to the root element. */
    root: {
      cursor: 'pointer',
      display: 'inline-flex',
      justifyContent: 'flex-start',
      flexDirection: 'inherit',
      alignItems: 'center',
      '&:focus': {
        color: theme.palette.text.secondary
      },
      '&:hover': {
        color: theme.palette.text.secondary,
        '& $icon': {
          opacity: 0.5
        }
      },
      '&$active': {
        color: theme.palette.text.primary,
        // && instead of & is a workaround for https://github.com/cssinjs/jss/issues/1045
        '&& $icon': {
          opacity: 1,
          color: theme.palette.text.secondary
        }
      }
    },

    /* Pseudo-class applied to the root element if `active={true}`. */
    active: {},

    /* Styles applied to the icon component. */
    icon: {
      fontSize: 18,
      marginRight: 4,
      marginLeft: 4,
      opacity: 0,
      transition: theme.transitions.create(['opacity', 'transform'], {
        duration: theme.transitions.duration.shorter
      }),
      userSelect: 'none'
    },

    /* Styles applied to the icon component if `direction="desc"`. */
    iconDirectionDesc: {
      transform: 'rotate(0deg)'
    },

    /* Styles applied to the icon component if `direction="asc"`. */
    iconDirectionAsc: {
      transform: 'rotate(180deg)'
    }
  };
};
/**
 * A button based label for placing inside `TableCell` for column sorting.
 */

var TableSortLabel = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function TableSortLabel(props, ref) {
  var _props$active = props.active,
      active = _props$active === void 0 ? false : _props$active,
      children = props.children,
      classes = props.classes,
      className = props.className,
      _props$direction = props.direction,
      direction = _props$direction === void 0 ? 'asc' : _props$direction,
      _props$hideSortIcon = props.hideSortIcon,
      hideSortIcon = _props$hideSortIcon === void 0 ? false : _props$hideSortIcon,
      _props$IconComponent = props.IconComponent,
      IconComponent = _props$IconComponent === void 0 ? _internal_svg_icons_ArrowDownward__WEBPACK_IMPORTED_MODULE_5__.default : _props$IconComponent,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.default)(props, ["active", "children", "classes", "className", "direction", "hideSortIcon", "IconComponent"]);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_ButtonBase__WEBPACK_IMPORTED_MODULE_6__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.root, className, active && classes.active),
    component: "span",
    disableRipple: true,
    ref: ref
  }, other), children, hideSortIcon && !active ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(IconComponent, {
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__.default)(classes.icon, classes["iconDirection".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_7__.default)(direction))])
  }));
});
 true ? TableSortLabel.propTypes = {
  /**
   * If `true`, the label will have the active styling (should be true for the sorted column).
   */
  active: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * Label contents, the arrow will be appended automatically.
   */
  children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),

  /**
   * The current sort direction.
   */
  direction: prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(['asc', 'desc']),

  /**
   * Hide sort icon when active is false.
   */
  hideSortIcon: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool),

  /**
   * Sort icon to use.
   */
  IconComponent: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().elementType)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_8__.default)(styles, {
  name: 'MuiTableSortLabel'
})(TableSortLabel));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/internal/SwitchBase.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/internal/SwitchBase.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! clsx */ "./node_modules/clsx/dist/clsx.m.js");
/* harmony import */ var _material_ui_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/utils */ "./node_modules/@material-ui/utils/esm/refType.js");
/* harmony import */ var _utils_useControlled__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/useControlled */ "./node_modules/@material-ui/core/esm/utils/useControlled.js");
/* harmony import */ var _FormControl_useFormControl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../FormControl/useFormControl */ "./node_modules/@material-ui/core/esm/FormControl/useFormControl.js");
/* harmony import */ var _styles_withStyles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../styles/withStyles */ "./node_modules/@material-ui/core/esm/styles/withStyles.js");
/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../IconButton */ "./node_modules/@material-ui/core/esm/IconButton/IconButton.js");











var styles = {
  root: {
    padding: 9
  },
  checked: {},
  disabled: {},
  input: {
    cursor: 'inherit',
    position: 'absolute',
    opacity: 0,
    width: '100%',
    height: '100%',
    top: 0,
    left: 0,
    margin: 0,
    padding: 0,
    zIndex: 1
  }
};
/**
 * @ignore - internal component.
 */

var SwitchBase = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.forwardRef(function SwitchBase(props, ref) {
  var autoFocus = props.autoFocus,
      checkedProp = props.checked,
      checkedIcon = props.checkedIcon,
      classes = props.classes,
      className = props.className,
      defaultChecked = props.defaultChecked,
      disabledProp = props.disabled,
      icon = props.icon,
      id = props.id,
      inputProps = props.inputProps,
      inputRef = props.inputRef,
      name = props.name,
      onBlur = props.onBlur,
      onChange = props.onChange,
      onFocus = props.onFocus,
      readOnly = props.readOnly,
      required = props.required,
      tabIndex = props.tabIndex,
      type = props.type,
      value = props.value,
      other = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.default)(props, ["autoFocus", "checked", "checkedIcon", "classes", "className", "defaultChecked", "disabled", "icon", "id", "inputProps", "inputRef", "name", "onBlur", "onChange", "onFocus", "readOnly", "required", "tabIndex", "type", "value"]);

  var _useControlled = (0,_utils_useControlled__WEBPACK_IMPORTED_MODULE_6__.default)({
    controlled: checkedProp,
    default: Boolean(defaultChecked),
    name: 'SwitchBase',
    state: 'checked'
  }),
      _useControlled2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.default)(_useControlled, 2),
      checked = _useControlled2[0],
      setCheckedState = _useControlled2[1];

  var muiFormControl = (0,_FormControl_useFormControl__WEBPACK_IMPORTED_MODULE_7__.default)();

  var handleFocus = function handleFocus(event) {
    if (onFocus) {
      onFocus(event);
    }

    if (muiFormControl && muiFormControl.onFocus) {
      muiFormControl.onFocus(event);
    }
  };

  var handleBlur = function handleBlur(event) {
    if (onBlur) {
      onBlur(event);
    }

    if (muiFormControl && muiFormControl.onBlur) {
      muiFormControl.onBlur(event);
    }
  };

  var handleInputChange = function handleInputChange(event) {
    var newChecked = event.target.checked;
    setCheckedState(newChecked);

    if (onChange) {
      // TODO v5: remove the second argument.
      onChange(event, newChecked);
    }
  };

  var disabled = disabledProp;

  if (muiFormControl) {
    if (typeof disabled === 'undefined') {
      disabled = muiFormControl.disabled;
    }
  }

  var hasLabelFor = type === 'checkbox' || type === 'radio';
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement(_IconButton__WEBPACK_IMPORTED_MODULE_8__.default, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    component: "span",
    className: (0,clsx__WEBPACK_IMPORTED_MODULE_5__.default)(classes.root, className, checked && classes.checked, disabled && classes.disabled),
    disabled: disabled,
    tabIndex: null,
    role: undefined,
    onFocus: handleFocus,
    onBlur: handleBlur,
    ref: ref
  }, other), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__.createElement("input", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.default)({
    autoFocus: autoFocus,
    checked: checkedProp,
    defaultChecked: defaultChecked,
    className: classes.input,
    disabled: disabled,
    id: hasLabelFor && id,
    name: name,
    onChange: handleInputChange,
    readOnly: readOnly,
    ref: inputRef,
    required: required,
    tabIndex: tabIndex,
    type: type,
    value: value
  }, inputProps)), checked ? checkedIcon : icon);
}); // NB: If changed, please update Checkbox, Switch and Radio
// so that the API documentation is updated.

 true ? SwitchBase.propTypes = {
  /**
   * If `true`, the `input` element will be focused during the first mount.
   */
  autoFocus: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),

  /**
   * If `true`, the component is checked.
   */
  checked: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),

  /**
   * The icon to display when the component is checked.
   */
  checkedIcon: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().node.isRequired),

  /**
   * Override or extend the styles applied to the component.
   * See [CSS API](#css) below for more details.
   */
  classes: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object.isRequired),

  /**
   * @ignore
   */
  className: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string),

  /**
   * @ignore
   */
  defaultChecked: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),

  /**
   * If `true`, the switch will be disabled.
   */
  disabled: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),

  /**
   * The icon to display when the component is unchecked.
   */
  icon: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().node.isRequired),

  /**
   * The id of the `input` element.
   */
  id: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string),

  /**
   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.
   */
  inputProps: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().object),

  /**
   * Pass a ref to the `input` element.
   */
  inputRef: _material_ui_utils__WEBPACK_IMPORTED_MODULE_9__.default,

  /*
   * @ignore
   */
  name: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string),

  /**
   * @ignore
   */
  onBlur: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * Callback fired when the state is changed.
   *
   * @param {object} event The event source of the callback.
   * You can pull out the new checked state by accessing `event.target.checked` (boolean).
   */
  onChange: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * @ignore
   */
  onFocus: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().func),

  /**
   * It prevents the user from changing the value of the field
   * (not from interacting with the field).
   */
  readOnly: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),

  /**
   * If `true`, the `input` element will be required.
   */
  required: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),

  /**
   * @ignore
   */
  tabIndex: prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_4___default().number), (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string)]),

  /**
   * The input component prop `type`.
   */
  type: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string.isRequired),

  /**
   * The value of the component.
   */
  value: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().any)
} : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_10__.default)(styles, {
  name: 'PrivateSwitchBase'
})(SwitchBase));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/internal/svg-icons/ArrowDownward.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/internal/svg-icons/ArrowDownward.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/createSvgIcon */ "./node_modules/@material-ui/core/esm/utils/createSvgIcon.js");


/**
 * @ignore - internal component.
 */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__.default)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
  d: "M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"
}), 'ArrowDownward'));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/internal/svg-icons/CheckBox.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/internal/svg-icons/CheckBox.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/createSvgIcon */ "./node_modules/@material-ui/core/esm/utils/createSvgIcon.js");


/**
 * @ignore - internal component.
 */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__.default)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
  d: "M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
}), 'CheckBox'));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/internal/svg-icons/CheckBoxOutlineBlank.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/internal/svg-icons/CheckBoxOutlineBlank.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/createSvgIcon */ "./node_modules/@material-ui/core/esm/utils/createSvgIcon.js");


/**
 * @ignore - internal component.
 */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__.default)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
  d: "M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"
}), 'CheckBoxOutlineBlank'));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/internal/svg-icons/IndeterminateCheckBox.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/internal/svg-icons/IndeterminateCheckBox.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/createSvgIcon */ "./node_modules/@material-ui/core/esm/utils/createSvgIcon.js");


/**
 * @ignore - internal component.
 */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__.default)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
  d: "M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"
}), 'IndeterminateCheckBox'));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowLeft.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowLeft.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/createSvgIcon */ "./node_modules/@material-ui/core/esm/utils/createSvgIcon.js");


/**
 * @ignore - internal component.
 */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__.default)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
  d: "M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"
}), 'KeyboardArrowLeft'));

/***/ }),

/***/ "./node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowRight.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowRight.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/createSvgIcon */ "./node_modules/@material-ui/core/esm/utils/createSvgIcon.js");


/**
 * @ignore - internal component.
 */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__.default)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
  d: "M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"
}), 'KeyboardArrowRight'));

/***/ }),

/***/ "./node_modules/@material-ui/core/styles/colorManipulator.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@material-ui/core/styles/colorManipulator.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.hexToRgb = hexToRgb;
exports.rgbToHex = rgbToHex;
exports.hslToRgb = hslToRgb;
exports.decomposeColor = decomposeColor;
exports.recomposeColor = recomposeColor;
exports.getContrastRatio = getContrastRatio;
exports.getLuminance = getLuminance;
exports.emphasize = emphasize;
exports.fade = fade;
exports.darken = darken;
exports.lighten = lighten;

var _utils = __webpack_require__(/*! @material-ui/utils */ "./node_modules/@material-ui/utils/esm/index.js");

/* eslint-disable no-use-before-define */

/**
 * Returns a number whose value is limited to the given range.
 *
 * @param {number} value The value to be clamped
 * @param {number} min The lower boundary of the output range
 * @param {number} max The upper boundary of the output range
 * @returns {number} A number in the range [min, max]
 */
function clamp(value) {
  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;

  if (true) {
    if (value < min || value > max) {
      console.error("Material-UI: The value provided ".concat(value, " is out of range [").concat(min, ", ").concat(max, "]."));
    }
  }

  return Math.min(Math.max(min, value), max);
}
/**
 * Converts a color from CSS hex format to CSS rgb format.
 *
 * @param {string} color - Hex color, i.e. #nnn or #nnnnnn
 * @returns {string} A CSS rgb color string
 */


function hexToRgb(color) {
  color = color.substr(1);
  var re = new RegExp(".{1,".concat(color.length >= 6 ? 2 : 1, "}"), 'g');
  var colors = color.match(re);

  if (colors && colors[0].length === 1) {
    colors = colors.map(function (n) {
      return n + n;
    });
  }

  return colors ? "rgb".concat(colors.length === 4 ? 'a' : '', "(").concat(colors.map(function (n, index) {
    return index < 3 ? parseInt(n, 16) : Math.round(parseInt(n, 16) / 255 * 1000) / 1000;
  }).join(', '), ")") : '';
}

function intToHex(int) {
  var hex = int.toString(16);
  return hex.length === 1 ? "0".concat(hex) : hex;
}
/**
 * Converts a color from CSS rgb format to CSS hex format.
 *
 * @param {string} color - RGB color, i.e. rgb(n, n, n)
 * @returns {string} A CSS rgb color string, i.e. #nnnnnn
 */


function rgbToHex(color) {
  // Idempotent
  if (color.indexOf('#') === 0) {
    return color;
  }

  var _decomposeColor = decomposeColor(color),
      values = _decomposeColor.values;

  return "#".concat(values.map(function (n) {
    return intToHex(n);
  }).join(''));
}
/**
 * Converts a color from hsl format to rgb format.
 *
 * @param {string} color - HSL color values
 * @returns {string} rgb color values
 */


function hslToRgb(color) {
  color = decomposeColor(color);
  var _color = color,
      values = _color.values;
  var h = values[0];
  var s = values[1] / 100;
  var l = values[2] / 100;
  var a = s * Math.min(l, 1 - l);

  var f = function f(n) {
    var k = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (n + h / 30) % 12;
    return l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
  };

  var type = 'rgb';
  var rgb = [Math.round(f(0) * 255), Math.round(f(8) * 255), Math.round(f(4) * 255)];

  if (color.type === 'hsla') {
    type += 'a';
    rgb.push(values[3]);
  }

  return recomposeColor({
    type: type,
    values: rgb
  });
}
/**
 * Returns an object with the type and values of a color.
 *
 * Note: Does not support rgb % values.
 *
 * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()
 * @returns {object} - A MUI color object: {type: string, values: number[]}
 */


function decomposeColor(color) {
  // Idempotent
  if (color.type) {
    return color;
  }

  if (color.charAt(0) === '#') {
    return decomposeColor(hexToRgb(color));
  }

  var marker = color.indexOf('(');
  var type = color.substring(0, marker);

  if (['rgb', 'rgba', 'hsl', 'hsla'].indexOf(type) === -1) {
    throw new Error( true ? "Material-UI: Unsupported `".concat(color, "` color.\nWe support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla().") : 0);
  }

  var values = color.substring(marker + 1, color.length - 1).split(',');
  values = values.map(function (value) {
    return parseFloat(value);
  });
  return {
    type: type,
    values: values
  };
}
/**
 * Converts a color object with type and values to a string.
 *
 * @param {object} color - Decomposed color
 * @param {string} color.type - One of: 'rgb', 'rgba', 'hsl', 'hsla'
 * @param {array} color.values - [n,n,n] or [n,n,n,n]
 * @returns {string} A CSS color string
 */


function recomposeColor(color) {
  var type = color.type;
  var values = color.values;

  if (type.indexOf('rgb') !== -1) {
    // Only convert the first 3 values to int (i.e. not alpha)
    values = values.map(function (n, i) {
      return i < 3 ? parseInt(n, 10) : n;
    });
  } else if (type.indexOf('hsl') !== -1) {
    values[1] = "".concat(values[1], "%");
    values[2] = "".concat(values[2], "%");
  }

  return "".concat(type, "(").concat(values.join(', '), ")");
}
/**
 * Calculates the contrast ratio between two colors.
 *
 * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests
 *
 * @param {string} foreground - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()
 * @param {string} background - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()
 * @returns {number} A contrast ratio value in the range 0 - 21.
 */


function getContrastRatio(foreground, background) {
  var lumA = getLuminance(foreground);
  var lumB = getLuminance(background);
  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);
}
/**
 * The relative brightness of any point in a color space,
 * normalized to 0 for darkest black and 1 for lightest white.
 *
 * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests
 *
 * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()
 * @returns {number} The relative brightness of the color in the range 0 - 1
 */


function getLuminance(color) {
  color = decomposeColor(color);
  var rgb = color.type === 'hsl' ? decomposeColor(hslToRgb(color)).values : color.values;
  rgb = rgb.map(function (val) {
    val /= 255; // normalized

    return val <= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4);
  }); // Truncate at 3 digits

  return Number((0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2]).toFixed(3));
}
/**
 * Darken or lighten a color, depending on its luminance.
 * Light colors are darkened, dark colors are lightened.
 *
 * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()
 * @param {number} coefficient=0.15 - multiplier in the range 0 - 1
 * @returns {string} A CSS color string. Hex input values are returned as rgb
 */


function emphasize(color) {
  var coefficient = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.15;
  return getLuminance(color) > 0.5 ? darken(color, coefficient) : lighten(color, coefficient);
}
/**
 * Set the absolute transparency of a color.
 * Any existing alpha values are overwritten.
 *
 * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()
 * @param {number} value - value to set the alpha channel to in the range 0 -1
 * @returns {string} A CSS color string. Hex input values are returned as rgb
 */


function fade(color, value) {
  color = decomposeColor(color);
  value = clamp(value);

  if (color.type === 'rgb' || color.type === 'hsl') {
    color.type += 'a';
  }

  color.values[3] = value;
  return recomposeColor(color);
}
/**
 * Darkens a color.
 *
 * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()
 * @param {number} coefficient - multiplier in the range 0 - 1
 * @returns {string} A CSS color string. Hex input values are returned as rgb
 */


function darken(color, coefficient) {
  color = decomposeColor(color);
  coefficient = clamp(coefficient);

  if (color.type.indexOf('hsl') !== -1) {
    color.values[2] *= 1 - coefficient;
  } else if (color.type.indexOf('rgb') !== -1) {
    for (var i = 0; i < 3; i += 1) {
      color.values[i] *= 1 - coefficient;
    }
  }

  return recomposeColor(color);
}
/**
 * Lightens a color.
 *
 * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()
 * @param {number} coefficient - multiplier in the range 0 - 1
 * @returns {string} A CSS color string. Hex input values are returned as rgb
 */


function lighten(color, coefficient) {
  color = decomposeColor(color);
  coefficient = clamp(coefficient);

  if (color.type.indexOf('hsl') !== -1) {
    color.values[2] += (100 - color.values[2]) * coefficient;
  } else if (color.type.indexOf('rgb') !== -1) {
    for (var i = 0; i < 3; i += 1) {
      color.values[i] += (255 - color.values[i]) * coefficient;
    }
  }

  return recomposeColor(color);
}

/***/ }),

/***/ "./node_modules/@material-ui/icons/Add.js":
/*!************************************************!*\
  !*** ./node_modules/@material-ui/icons/Add.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
}), 'Add');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/CheckCircle.js":
/*!********************************************************!*\
  !*** ./node_modules/@material-ui/icons/CheckCircle.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
}), 'CheckCircle');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/ChevronLeft.js":
/*!********************************************************!*\
  !*** ./node_modules/@material-ui/icons/ChevronLeft.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"
}), 'ChevronLeft');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/ChevronRight.js":
/*!*********************************************************!*\
  !*** ./node_modules/@material-ui/icons/ChevronRight.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"
}), 'ChevronRight');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/Close.js":
/*!**************************************************!*\
  !*** ./node_modules/@material-ui/icons/Close.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
}), 'Close');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/Delete.js":
/*!***************************************************!*\
  !*** ./node_modules/@material-ui/icons/Delete.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
}), 'Delete');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/ErrorOutline.js":
/*!*********************************************************!*\
  !*** ./node_modules/@material-ui/icons/ErrorOutline.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"
}), 'ErrorOutline');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/GetApp.js":
/*!***************************************************!*\
  !*** ./node_modules/@material-ui/icons/GetApp.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"
}), 'GetApp');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/HotTub.js":
/*!***************************************************!*\
  !*** ./node_modules/@material-ui/icons/HotTub.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("circle", {
  cx: "7",
  cy: "6",
  r: "2"
}), /*#__PURE__*/React.createElement("path", {
  d: "M11.15 12c-.31-.22-.59-.46-.82-.72l-1.4-1.55c-.19-.21-.43-.38-.69-.5-.29-.14-.62-.23-.96-.23h-.03C6.01 9 5 10.01 5 11.25V12H2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8H11.15zM7 20H5v-6h2v6zm4 0H9v-6h2v6zm4 0h-2v-6h2v6zm4 0h-2v-6h2v6zm-.35-14.14l-.07-.07c-.57-.62-.82-1.41-.67-2.2L18 3h-1.89l-.06.43c-.2 1.36.27 2.71 1.3 3.72l.07.06c.57.62.82 1.41.67 2.2l-.11.59h1.91l.06-.43c.21-1.36-.27-2.71-1.3-3.71zm-4 0l-.07-.07c-.57-.62-.82-1.41-.67-2.2L14 3h-1.89l-.06.43c-.2 1.36.27 2.71 1.3 3.72l.07.06c.57.62.82 1.41.67 2.2l-.11.59h1.91l.06-.43c.21-1.36-.27-2.71-1.3-3.71z"
})), 'HotTub');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/Inbox.js":
/*!**************************************************!*\
  !*** ./node_modules/@material-ui/icons/Inbox.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"
}), 'Inbox');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/Lock.js":
/*!*************************************************!*\
  !*** ./node_modules/@material-ui/icons/Lock.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"
}), 'Lock');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/icons/PowerSettingsNew.js":
/*!*************************************************************!*\
  !*** ./node_modules/@material-ui/icons/PowerSettingsNew.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";


var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@babel/runtime/helpers/interopRequireDefault.js");

var _interopRequireWildcard = __webpack_require__(/*! @babel/runtime/helpers/interopRequireWildcard */ "./node_modules/@babel/runtime/helpers/interopRequireWildcard.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.default = void 0;

var React = _interopRequireWildcard(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@material-ui/icons/utils/createSvgIcon.js"));

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement("path", {
  d: "M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"
}), 'PowerSettingsNew');

exports.default = _default;

/***/ }),

/***/ "./node_modules/@material-ui/utils/esm/formatMuiErrorMessage.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@material-ui/utils/esm/formatMuiErrorMessage.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ formatMuiErrorMessage)
/* harmony export */ });
/**
 * WARNING: Don't import this directly.
 * Use `MuiError` from `@material-ui/utils/macros/MuiError.macro` instead.
 * @param {number} code
 */
function formatMuiErrorMessage(code) {
  // Apply babel-plugin-transform-template-literals in loose mode
  // loose mode is safe iff we're concatenating primitives
  // see https://babeljs.io/docs/en/babel-plugin-transform-template-literals#loose

  /* eslint-disable prefer-template */
  var url = 'https://material-ui.com/production-error/?code=' + code;

  for (var i = 1; i < arguments.length; i += 1) {
    // rest params over-transpile for this case
    // eslint-disable-next-line prefer-rest-params
    url += '&args[]=' + encodeURIComponent(arguments[i]);
  }

  return 'Minified Material-UI error #' + code + '; visit ' + url + ' for the full message.';
  /* eslint-enable prefer-template */
}

/***/ }),

/***/ "./node_modules/@material-ui/utils/esm/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@material-ui/utils/esm/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "chainPropTypes": () => (/* reexport safe */ _chainPropTypes__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "deepmerge": () => (/* reexport safe */ _deepmerge__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "elementAcceptingRef": () => (/* reexport safe */ _elementAcceptingRef__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "elementTypeAcceptingRef": () => (/* reexport safe */ _elementTypeAcceptingRef__WEBPACK_IMPORTED_MODULE_3__.default),
/* harmony export */   "exactProp": () => (/* reexport safe */ _exactProp__WEBPACK_IMPORTED_MODULE_4__.default),
/* harmony export */   "formatMuiErrorMessage": () => (/* reexport safe */ _formatMuiErrorMessage__WEBPACK_IMPORTED_MODULE_5__.default),
/* harmony export */   "getDisplayName": () => (/* reexport safe */ _getDisplayName__WEBPACK_IMPORTED_MODULE_6__.default),
/* harmony export */   "HTMLElementType": () => (/* reexport safe */ _HTMLElementType__WEBPACK_IMPORTED_MODULE_7__.default),
/* harmony export */   "ponyfillGlobal": () => (/* reexport safe */ _ponyfillGlobal__WEBPACK_IMPORTED_MODULE_8__.default),
/* harmony export */   "refType": () => (/* reexport safe */ _refType__WEBPACK_IMPORTED_MODULE_9__.default)
/* harmony export */ });
/* harmony import */ var _chainPropTypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chainPropTypes */ "./node_modules/@material-ui/utils/esm/chainPropTypes.js");
/* harmony import */ var _deepmerge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./deepmerge */ "./node_modules/@material-ui/utils/esm/deepmerge.js");
/* harmony import */ var _elementAcceptingRef__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./elementAcceptingRef */ "./node_modules/@material-ui/utils/esm/elementAcceptingRef.js");
/* harmony import */ var _elementTypeAcceptingRef__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./elementTypeAcceptingRef */ "./node_modules/@material-ui/utils/esm/elementTypeAcceptingRef.js");
/* harmony import */ var _exactProp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./exactProp */ "./node_modules/@material-ui/utils/esm/exactProp.js");
/* harmony import */ var _formatMuiErrorMessage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./formatMuiErrorMessage */ "./node_modules/@material-ui/utils/esm/formatMuiErrorMessage.js");
/* harmony import */ var _getDisplayName__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./getDisplayName */ "./node_modules/@material-ui/utils/esm/getDisplayName.js");
/* harmony import */ var _HTMLElementType__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./HTMLElementType */ "./node_modules/@material-ui/utils/esm/HTMLElementType.js");
/* harmony import */ var _ponyfillGlobal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ponyfillGlobal */ "./node_modules/@material-ui/utils/esm/ponyfillGlobal.js");
/* harmony import */ var _refType__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./refType */ "./node_modules/@material-ui/utils/esm/refType.js");
/** @license Material-UI v4.11.2
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */











/***/ }),

/***/ "./node_modules/@material-ui/utils/esm/ponyfillGlobal.js":
/*!***************************************************************!*\
  !*** ./node_modules/@material-ui/utils/esm/ponyfillGlobal.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* eslint-disable */
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')());

/***/ }),

/***/ "./node_modules/@redux-saga/core/dist/io-6de156f3.js":
/*!***********************************************************!*\
  !*** ./node_modules/@redux-saga/core/dist/io-6de156f3.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "$": () => (/* binding */ apply),
/* harmony export */   "A": () => (/* binding */ ALL),
/* harmony export */   "B": () => (/* binding */ logError),
/* harmony export */   "C": () => (/* binding */ CALL),
/* harmony export */   "D": () => (/* binding */ wrapSagaDispatch),
/* harmony export */   "E": () => (/* binding */ identity),
/* harmony export */   "F": () => (/* binding */ FORK),
/* harmony export */   "G": () => (/* binding */ GET_CONTEXT),
/* harmony export */   "H": () => (/* binding */ buffers),
/* harmony export */   "I": () => (/* binding */ detach),
/* harmony export */   "J": () => (/* binding */ JOIN),
/* harmony export */   "K": () => (/* binding */ take),
/* harmony export */   "L": () => (/* binding */ fork),
/* harmony export */   "M": () => (/* binding */ cancel),
/* harmony export */   "N": () => (/* binding */ call),
/* harmony export */   "O": () => (/* binding */ actionChannel),
/* harmony export */   "P": () => (/* binding */ PUT),
/* harmony export */   "Q": () => (/* binding */ sliding),
/* harmony export */   "R": () => (/* binding */ RACE),
/* harmony export */   "S": () => (/* binding */ SELECT),
/* harmony export */   "T": () => (/* binding */ TAKE),
/* harmony export */   "U": () => (/* binding */ delay),
/* harmony export */   "V": () => (/* binding */ race),
/* harmony export */   "W": () => (/* binding */ effectTypes),
/* harmony export */   "X": () => (/* binding */ takeMaybe),
/* harmony export */   "Y": () => (/* binding */ put),
/* harmony export */   "Z": () => (/* binding */ putResolve),
/* harmony export */   "_": () => (/* binding */ all),
/* harmony export */   "a": () => (/* binding */ CPS),
/* harmony export */   "a0": () => (/* binding */ cps),
/* harmony export */   "a1": () => (/* binding */ spawn),
/* harmony export */   "a2": () => (/* binding */ join),
/* harmony export */   "a3": () => (/* binding */ select),
/* harmony export */   "a4": () => (/* binding */ cancelled),
/* harmony export */   "a5": () => (/* binding */ flush),
/* harmony export */   "a6": () => (/* binding */ getContext),
/* harmony export */   "a7": () => (/* binding */ setContext),
/* harmony export */   "b": () => (/* binding */ CANCEL),
/* harmony export */   "c": () => (/* binding */ check),
/* harmony export */   "d": () => (/* binding */ ACTION_CHANNEL),
/* harmony export */   "e": () => (/* binding */ expanding),
/* harmony export */   "f": () => (/* binding */ CANCELLED),
/* harmony export */   "g": () => (/* binding */ FLUSH),
/* harmony export */   "h": () => (/* binding */ SET_CONTEXT),
/* harmony export */   "i": () => (/* binding */ internalErr),
/* harmony export */   "j": () => (/* binding */ getMetaInfo),
/* harmony export */   "k": () => (/* binding */ kTrue),
/* harmony export */   "l": () => (/* binding */ createAllStyleChildCallbacks),
/* harmony export */   "m": () => (/* binding */ createEmptyArray),
/* harmony export */   "n": () => (/* binding */ none),
/* harmony export */   "o": () => (/* binding */ once),
/* harmony export */   "p": () => (/* binding */ assignWithSymbols),
/* harmony export */   "q": () => (/* binding */ makeIterator),
/* harmony export */   "r": () => (/* binding */ remove),
/* harmony export */   "s": () => (/* binding */ shouldComplete),
/* harmony export */   "t": () => (/* binding */ noop),
/* harmony export */   "u": () => (/* binding */ flatMap),
/* harmony export */   "v": () => (/* binding */ getLocation),
/* harmony export */   "w": () => (/* binding */ createSetContextWarning),
/* harmony export */   "x": () => (/* binding */ asyncIteratorSymbol),
/* harmony export */   "y": () => (/* binding */ shouldCancel),
/* harmony export */   "z": () => (/* binding */ shouldTerminate)
/* harmony export */ });
/* harmony import */ var _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @redux-saga/symbols */ "./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js");
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @redux-saga/is */ "./node_modules/@redux-saga/is/dist/redux-saga-is.esm.js");
/* harmony import */ var _redux_saga_delay_p__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @redux-saga/delay-p */ "./node_modules/@redux-saga/delay-p/dist/redux-saga-delay-p.esm.js");





var konst = function konst(v) {
  return function () {
    return v;
  };
};
var kTrue =
/*#__PURE__*/
konst(true);

var noop = function noop() {};

if ( true && typeof Proxy !== 'undefined') {
  noop =
  /*#__PURE__*/
  new Proxy(noop, {
    set: function set() {
      throw internalErr('There was an attempt to assign a property to internal `noop` function.');
    }
  });
}
var identity = function identity(v) {
  return v;
};
var hasSymbol = typeof Symbol === 'function';
var asyncIteratorSymbol = hasSymbol && Symbol.asyncIterator ? Symbol.asyncIterator : '@@asyncIterator';
function check(value, predicate, error) {
  if (!predicate(value)) {
    throw new Error(error);
  }
}
var assignWithSymbols = function assignWithSymbols(target, source) {
  (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.default)(target, source);

  if (Object.getOwnPropertySymbols) {
    Object.getOwnPropertySymbols(source).forEach(function (s) {
      target[s] = source[s];
    });
  }
};
var flatMap = function flatMap(mapper, arr) {
  var _ref;

  return (_ref = []).concat.apply(_ref, arr.map(mapper));
};
function remove(array, item) {
  var index = array.indexOf(item);

  if (index >= 0) {
    array.splice(index, 1);
  }
}
function once(fn) {
  var called = false;
  return function () {
    if (called) {
      return;
    }

    called = true;
    fn();
  };
}

var kThrow = function kThrow(err) {
  throw err;
};

var kReturn = function kReturn(value) {
  return {
    value: value,
    done: true
  };
};

function makeIterator(next, thro, name) {
  if (thro === void 0) {
    thro = kThrow;
  }

  if (name === void 0) {
    name = 'iterator';
  }

  var iterator = {
    meta: {
      name: name
    },
    next: next,
    throw: thro,
    return: kReturn,
    isSagaIterator: true
  };

  if (typeof Symbol !== 'undefined') {
    iterator[Symbol.iterator] = function () {
      return iterator;
    };
  }

  return iterator;
}
function logError(error, _ref2) {
  var sagaStack = _ref2.sagaStack;

  /*eslint-disable no-console*/
  console.error(error);
  console.error(sagaStack);
}
var internalErr = function internalErr(err) {
  return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: " + err + "\n");
};
var createSetContextWarning = function createSetContextWarning(ctx, props) {
  return (ctx ? ctx + '.' : '') + "setContext(props): argument " + props + " is not a plain object";
};
var FROZEN_ACTION_ERROR = "You can't put (a.k.a. dispatch from saga) frozen actions.\nWe have to define a special non-enumerable property on those actions for scheduling purposes.\nOtherwise you wouldn't be able to communicate properly between sagas & other subscribers (action ordering would become far less predictable).\nIf you are using redux and you care about this behaviour (frozen actions),\nthen you might want to switch to freezing actions in a middleware rather than in action creator.\nExample implementation:\n\nconst freezeActions = store => next => action => next(Object.freeze(action))\n"; // creates empty, but not-holey array

var createEmptyArray = function createEmptyArray(n) {
  return Array.apply(null, new Array(n));
};
var wrapSagaDispatch = function wrapSagaDispatch(dispatch) {
  return function (action) {
    if (true) {
      check(action, function (ac) {
        return !Object.isFrozen(ac);
      }, FROZEN_ACTION_ERROR);
    }

    return dispatch(Object.defineProperty(action, _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.SAGA_ACTION, {
      value: true
    }));
  };
};
var shouldTerminate = function shouldTerminate(res) {
  return res === _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.TERMINATE;
};
var shouldCancel = function shouldCancel(res) {
  return res === _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.TASK_CANCEL;
};
var shouldComplete = function shouldComplete(res) {
  return shouldTerminate(res) || shouldCancel(res);
};
function createAllStyleChildCallbacks(shape, parentCallback) {
  var keys = Object.keys(shape);
  var totalCount = keys.length;

  if (true) {
    check(totalCount, function (c) {
      return c > 0;
    }, 'createAllStyleChildCallbacks: get an empty array or object');
  }

  var completedCount = 0;
  var completed;
  var results = (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.array)(shape) ? createEmptyArray(totalCount) : {};
  var childCallbacks = {};

  function checkEnd() {
    if (completedCount === totalCount) {
      completed = true;
      parentCallback(results);
    }
  }

  keys.forEach(function (key) {
    var chCbAtKey = function chCbAtKey(res, isErr) {
      if (completed) {
        return;
      }

      if (isErr || shouldComplete(res)) {
        parentCallback.cancel();
        parentCallback(res, isErr);
      } else {
        results[key] = res;
        completedCount++;
        checkEnd();
      }
    };

    chCbAtKey.cancel = noop;
    childCallbacks[key] = chCbAtKey;
  });

  parentCallback.cancel = function () {
    if (!completed) {
      completed = true;
      keys.forEach(function (key) {
        return childCallbacks[key].cancel();
      });
    }
  };

  return childCallbacks;
}
function getMetaInfo(fn) {
  return {
    name: fn.name || 'anonymous',
    location: getLocation(fn)
  };
}
function getLocation(instrumented) {
  return instrumented[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.SAGA_LOCATION];
}

var BUFFER_OVERFLOW = "Channel's Buffer overflow!";
var ON_OVERFLOW_THROW = 1;
var ON_OVERFLOW_DROP = 2;
var ON_OVERFLOW_SLIDE = 3;
var ON_OVERFLOW_EXPAND = 4;
var zeroBuffer = {
  isEmpty: kTrue,
  put: noop,
  take: noop
};

function ringBuffer(limit, overflowAction) {
  if (limit === void 0) {
    limit = 10;
  }

  var arr = new Array(limit);
  var length = 0;
  var pushIndex = 0;
  var popIndex = 0;

  var push = function push(it) {
    arr[pushIndex] = it;
    pushIndex = (pushIndex + 1) % limit;
    length++;
  };

  var take = function take() {
    if (length != 0) {
      var it = arr[popIndex];
      arr[popIndex] = null;
      length--;
      popIndex = (popIndex + 1) % limit;
      return it;
    }
  };

  var flush = function flush() {
    var items = [];

    while (length) {
      items.push(take());
    }

    return items;
  };

  return {
    isEmpty: function isEmpty() {
      return length == 0;
    },
    put: function put(it) {
      if (length < limit) {
        push(it);
      } else {
        var doubledLimit;

        switch (overflowAction) {
          case ON_OVERFLOW_THROW:
            throw new Error(BUFFER_OVERFLOW);

          case ON_OVERFLOW_SLIDE:
            arr[pushIndex] = it;
            pushIndex = (pushIndex + 1) % limit;
            popIndex = pushIndex;
            break;

          case ON_OVERFLOW_EXPAND:
            doubledLimit = 2 * limit;
            arr = flush();
            length = arr.length;
            pushIndex = arr.length;
            popIndex = 0;
            arr.length = doubledLimit;
            limit = doubledLimit;
            push(it);
            break;

          default: // DROP

        }
      }
    },
    take: take,
    flush: flush
  };
}

var none = function none() {
  return zeroBuffer;
};
var fixed = function fixed(limit) {
  return ringBuffer(limit, ON_OVERFLOW_THROW);
};
var dropping = function dropping(limit) {
  return ringBuffer(limit, ON_OVERFLOW_DROP);
};
var sliding = function sliding(limit) {
  return ringBuffer(limit, ON_OVERFLOW_SLIDE);
};
var expanding = function expanding(initialSize) {
  return ringBuffer(initialSize, ON_OVERFLOW_EXPAND);
};

var buffers = /*#__PURE__*/Object.freeze({
  __proto__: null,
  none: none,
  fixed: fixed,
  dropping: dropping,
  sliding: sliding,
  expanding: expanding
});

var TAKE = 'TAKE';
var PUT = 'PUT';
var ALL = 'ALL';
var RACE = 'RACE';
var CALL = 'CALL';
var CPS = 'CPS';
var FORK = 'FORK';
var JOIN = 'JOIN';
var CANCEL = 'CANCEL';
var SELECT = 'SELECT';
var ACTION_CHANNEL = 'ACTION_CHANNEL';
var CANCELLED = 'CANCELLED';
var FLUSH = 'FLUSH';
var GET_CONTEXT = 'GET_CONTEXT';
var SET_CONTEXT = 'SET_CONTEXT';

var effectTypes = /*#__PURE__*/Object.freeze({
  __proto__: null,
  TAKE: TAKE,
  PUT: PUT,
  ALL: ALL,
  RACE: RACE,
  CALL: CALL,
  CPS: CPS,
  FORK: FORK,
  JOIN: JOIN,
  CANCEL: CANCEL,
  SELECT: SELECT,
  ACTION_CHANNEL: ACTION_CHANNEL,
  CANCELLED: CANCELLED,
  FLUSH: FLUSH,
  GET_CONTEXT: GET_CONTEXT,
  SET_CONTEXT: SET_CONTEXT
});

var TEST_HINT = '\n(HINT: if you are getting these errors in tests, consider using createMockTask from @redux-saga/testing-utils)';

var makeEffect = function makeEffect(type, payload) {
  var _ref;

  return _ref = {}, _ref[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.IO] = true, _ref.combinator = false, _ref.type = type, _ref.payload = payload, _ref;
};

var isForkEffect = function isForkEffect(eff) {
  return (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.effect)(eff) && eff.type === FORK;
};

var detach = function detach(eff) {
  if (true) {
    check(eff, isForkEffect, 'detach(eff): argument must be a fork effect');
  }

  return makeEffect(FORK, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.default)({}, eff.payload, {
    detached: true
  }));
};
function take(patternOrChannel, multicastPattern) {
  if (patternOrChannel === void 0) {
    patternOrChannel = '*';
  }

  if ( true && arguments.length) {
    check(arguments[0], _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, 'take(patternOrChannel): patternOrChannel is undefined');
  }

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.pattern)(patternOrChannel)) {
    return makeEffect(TAKE, {
      pattern: patternOrChannel
    });
  }

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.multicast)(patternOrChannel) && (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef)(multicastPattern) && (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.pattern)(multicastPattern)) {
    return makeEffect(TAKE, {
      channel: patternOrChannel,
      pattern: multicastPattern
    });
  }

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.channel)(patternOrChannel)) {
    return makeEffect(TAKE, {
      channel: patternOrChannel
    });
  }

  if (true) {
    throw new Error("take(patternOrChannel): argument " + patternOrChannel + " is not valid channel or a valid pattern");
  }
}
var takeMaybe = function takeMaybe() {
  var eff = take.apply(void 0, arguments);
  eff.payload.maybe = true;
  return eff;
};
function put(channel$1, action) {
  if (true) {
    if (arguments.length > 1) {
      check(channel$1, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, 'put(channel, action): argument channel is undefined');
      check(channel$1, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.channel, "put(channel, action): argument " + channel$1 + " is not a valid channel");
      check(action, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, 'put(channel, action): argument action is undefined');
    } else {
      check(channel$1, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, 'put(action): argument action is undefined');
    }
  }

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.undef)(action)) {
    action = channel$1; // `undefined` instead of `null` to make default parameter work

    channel$1 = undefined;
  }

  return makeEffect(PUT, {
    channel: channel$1,
    action: action
  });
}
var putResolve = function putResolve() {
  var eff = put.apply(void 0, arguments);
  eff.payload.resolve = true;
  return eff;
};
function all(effects) {
  var eff = makeEffect(ALL, effects);
  eff.combinator = true;
  return eff;
}
function race(effects) {
  var eff = makeEffect(RACE, effects);
  eff.combinator = true;
  return eff;
} // this match getFnCallDescriptor logic

var validateFnDescriptor = function validateFnDescriptor(effectName, fnDescriptor) {
  check(fnDescriptor, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, effectName + ": argument fn is undefined or null");

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.func)(fnDescriptor)) {
    return;
  }

  var context = null;
  var fn;

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.array)(fnDescriptor)) {
    context = fnDescriptor[0];
    fn = fnDescriptor[1];
    check(fn, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, effectName + ": argument of type [context, fn] has undefined or null `fn`");
  } else if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.object)(fnDescriptor)) {
    context = fnDescriptor.context;
    fn = fnDescriptor.fn;
    check(fn, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, effectName + ": argument of type {context, fn} has undefined or null `fn`");
  } else {
    check(fnDescriptor, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.func, effectName + ": argument fn is not function");
    return;
  }

  if (context && (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.string)(fn)) {
    check(context[fn], _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.func, effectName + ": context arguments has no such method - \"" + fn + "\"");
    return;
  }

  check(fn, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.func, effectName + ": unpacked fn argument (from [context, fn] or {context, fn}) is not a function");
};

function getFnCallDescriptor(fnDescriptor, args) {
  var context = null;
  var fn;

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.func)(fnDescriptor)) {
    fn = fnDescriptor;
  } else {
    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.array)(fnDescriptor)) {
      context = fnDescriptor[0];
      fn = fnDescriptor[1];
    } else {
      context = fnDescriptor.context;
      fn = fnDescriptor.fn;
    }

    if (context && (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.string)(fn) && (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.func)(context[fn])) {
      fn = context[fn];
    }
  }

  return {
    context: context,
    fn: fn,
    args: args
  };
}

var isNotDelayEffect = function isNotDelayEffect(fn) {
  return fn !== delay;
};

function call(fnDescriptor) {
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }

  if (true) {
    var arg0 = typeof args[0] === 'number' ? args[0] : 'ms';
    check(fnDescriptor, isNotDelayEffect, "instead of writing `yield call(delay, " + arg0 + ")` where delay is an effect from `redux-saga/effects` you should write `yield delay(" + arg0 + ")`");
    validateFnDescriptor('call', fnDescriptor);
  }

  return makeEffect(CALL, getFnCallDescriptor(fnDescriptor, args));
}
function apply(context, fn, args) {
  if (args === void 0) {
    args = [];
  }

  var fnDescriptor = [context, fn];

  if (true) {
    validateFnDescriptor('apply', fnDescriptor);
  }

  return makeEffect(CALL, getFnCallDescriptor([context, fn], args));
}
function cps(fnDescriptor) {
  if (true) {
    validateFnDescriptor('cps', fnDescriptor);
  }

  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
    args[_key2 - 1] = arguments[_key2];
  }

  return makeEffect(CPS, getFnCallDescriptor(fnDescriptor, args));
}
function fork(fnDescriptor) {
  if (true) {
    validateFnDescriptor('fork', fnDescriptor);
    check(fnDescriptor, function (arg) {
      return !(0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.effect)(arg);
    }, 'fork: argument must not be an effect');
  }

  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
    args[_key3 - 1] = arguments[_key3];
  }

  return makeEffect(FORK, getFnCallDescriptor(fnDescriptor, args));
}
function spawn(fnDescriptor) {
  if (true) {
    validateFnDescriptor('spawn', fnDescriptor);
  }

  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
    args[_key4 - 1] = arguments[_key4];
  }

  return detach(fork.apply(void 0, [fnDescriptor].concat(args)));
}
function join(taskOrTasks) {
  if (true) {
    if (arguments.length > 1) {
      throw new Error('join(...tasks) is not supported any more. Please use join([...tasks]) to join multiple tasks.');
    }

    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.array)(taskOrTasks)) {
      taskOrTasks.forEach(function (t) {
        check(t, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.task, "join([...tasks]): argument " + t + " is not a valid Task object " + TEST_HINT);
      });
    } else {
      check(taskOrTasks, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.task, "join(task): argument " + taskOrTasks + " is not a valid Task object " + TEST_HINT);
    }
  }

  return makeEffect(JOIN, taskOrTasks);
}
function cancel(taskOrTasks) {
  if (taskOrTasks === void 0) {
    taskOrTasks = _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.SELF_CANCELLATION;
  }

  if (true) {
    if (arguments.length > 1) {
      throw new Error('cancel(...tasks) is not supported any more. Please use cancel([...tasks]) to cancel multiple tasks.');
    }

    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.array)(taskOrTasks)) {
      taskOrTasks.forEach(function (t) {
        check(t, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.task, "cancel([...tasks]): argument " + t + " is not a valid Task object " + TEST_HINT);
      });
    } else if (taskOrTasks !== _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.SELF_CANCELLATION && (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef)(taskOrTasks)) {
      check(taskOrTasks, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.task, "cancel(task): argument " + taskOrTasks + " is not a valid Task object " + TEST_HINT);
    }
  }

  return makeEffect(CANCEL, taskOrTasks);
}
function select(selector) {
  if (selector === void 0) {
    selector = identity;
  }

  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
    args[_key5 - 1] = arguments[_key5];
  }

  if ( true && arguments.length) {
    check(arguments[0], _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, 'select(selector, [...]): argument selector is undefined');
    check(selector, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.func, "select(selector, [...]): argument " + selector + " is not a function");
  }

  return makeEffect(SELECT, {
    selector: selector,
    args: args
  });
}
/**
  channel(pattern, [buffer])    => creates a proxy channel for store actions
**/

function actionChannel(pattern$1, buffer$1) {
  if (true) {
    check(pattern$1, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.pattern, 'actionChannel(pattern,...): argument pattern is not valid');

    if (arguments.length > 1) {
      check(buffer$1, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, 'actionChannel(pattern, buffer): argument buffer is undefined');
      check(buffer$1, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.buffer, "actionChannel(pattern, buffer): argument " + buffer$1 + " is not a valid buffer");
    }
  }

  return makeEffect(ACTION_CHANNEL, {
    pattern: pattern$1,
    buffer: buffer$1
  });
}
function cancelled() {
  return makeEffect(CANCELLED, {});
}
function flush(channel$1) {
  if (true) {
    check(channel$1, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.channel, "flush(channel): argument " + channel$1 + " is not valid channel");
  }

  return makeEffect(FLUSH, channel$1);
}
function getContext(prop) {
  if (true) {
    check(prop, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.string, "getContext(prop): argument " + prop + " is not a string");
  }

  return makeEffect(GET_CONTEXT, prop);
}
function setContext(props) {
  if (true) {
    check(props, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.object, createSetContextWarning(null, props));
  }

  return makeEffect(SET_CONTEXT, props);
}
var delay =
/*#__PURE__*/
call.bind(null, _redux_saga_delay_p__WEBPACK_IMPORTED_MODULE_3__.default);




/***/ }),

/***/ "./node_modules/@redux-saga/core/dist/redux-saga-core.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@redux-saga/core/dist/redux-saga-core.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CANCEL": () => (/* reexport safe */ _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.CANCEL),
/* harmony export */   "SAGA_LOCATION": () => (/* reexport safe */ _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.SAGA_LOCATION),
/* harmony export */   "buffers": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.H),
/* harmony export */   "detach": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.I),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "END": () => (/* binding */ END),
/* harmony export */   "channel": () => (/* binding */ channel),
/* harmony export */   "eventChannel": () => (/* binding */ eventChannel),
/* harmony export */   "isEnd": () => (/* binding */ isEnd),
/* harmony export */   "multicastChannel": () => (/* binding */ multicastChannel),
/* harmony export */   "runSaga": () => (/* binding */ runSaga),
/* harmony export */   "stdChannel": () => (/* binding */ stdChannel)
/* harmony export */ });
/* harmony import */ var _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @redux-saga/symbols */ "./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js");
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutPropertiesLoose */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");
/* harmony import */ var _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @redux-saga/is */ "./node_modules/@redux-saga/is/dist/redux-saga-is.esm.js");
/* harmony import */ var _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./io-6de156f3.js */ "./node_modules/@redux-saga/core/dist/io-6de156f3.js");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! redux */ "./node_modules/redux/es/redux.js");
/* harmony import */ var _redux_saga_deferred__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @redux-saga/deferred */ "./node_modules/@redux-saga/deferred/dist/redux-saga-deferred.esm.js");
/* harmony import */ var _redux_saga_delay_p__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @redux-saga/delay-p */ "./node_modules/@redux-saga/delay-p/dist/redux-saga-delay-p.esm.js");











var queue = [];
/**
  Variable to hold a counting semaphore
  - Incrementing adds a lock and puts the scheduler in a `suspended` state (if it's not
    already suspended)
  - Decrementing releases a lock. Zero locks puts the scheduler in a `released` state. This
    triggers flushing the queued tasks.
**/

var semaphore = 0;
/**
  Executes a task 'atomically'. Tasks scheduled during this execution will be queued
  and flushed after this task has finished (assuming the scheduler endup in a released
  state).
**/

function exec(task) {
  try {
    suspend();
    task();
  } finally {
    release();
  }
}
/**
  Executes or queues a task depending on the state of the scheduler (`suspended` or `released`)
**/


function asap(task) {
  queue.push(task);

  if (!semaphore) {
    suspend();
    flush();
  }
}
/**
 * Puts the scheduler in a `suspended` state and executes a task immediately.
 */

function immediately(task) {
  try {
    suspend();
    return task();
  } finally {
    flush();
  }
}
/**
  Puts the scheduler in a `suspended` state. Scheduled tasks will be queued until the
  scheduler is released.
**/

function suspend() {
  semaphore++;
}
/**
  Puts the scheduler in a `released` state.
**/


function release() {
  semaphore--;
}
/**
  Releases the current lock. Executes all queued tasks if the scheduler is in the released state.
**/


function flush() {
  release();
  var task;

  while (!semaphore && (task = queue.shift()) !== undefined) {
    exec(task);
  }
}

var array = function array(patterns) {
  return function (input) {
    return patterns.some(function (p) {
      return matcher(p)(input);
    });
  };
};
var predicate = function predicate(_predicate) {
  return function (input) {
    return _predicate(input);
  };
};
var string = function string(pattern) {
  return function (input) {
    return input.type === String(pattern);
  };
};
var symbol = function symbol(pattern) {
  return function (input) {
    return input.type === pattern;
  };
};
var wildcard = function wildcard() {
  return _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.k;
};
function matcher(pattern) {
  // prettier-ignore
  var matcherCreator = pattern === '*' ? wildcard : (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.string)(pattern) ? string : (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.array)(pattern) ? array : (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.stringableFunc)(pattern) ? string : (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func)(pattern) ? predicate : (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.symbol)(pattern) ? symbol : null;

  if (matcherCreator === null) {
    throw new Error("invalid pattern: " + pattern);
  }

  return matcherCreator(pattern);
}

var END = {
  type: _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.CHANNEL_END_TYPE
};
var isEnd = function isEnd(a) {
  return a && a.type === _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.CHANNEL_END_TYPE;
};
var CLOSED_CHANNEL_WITH_TAKERS = 'Cannot have a closed channel with pending takers';
var INVALID_BUFFER = 'invalid buffer passed to channel factory function';
var UNDEFINED_INPUT_ERROR = "Saga or channel was provided with an undefined action\nHints:\n  - check that your Action Creator returns a non-undefined value\n  - if the Saga was started using runSaga, check that your subscribe source provides the action to its listeners";
function channel(buffer$1) {
  if (buffer$1 === void 0) {
    buffer$1 = (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.e)();
  }

  var closed = false;
  var takers = [];

  if (true) {
    (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(buffer$1, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.buffer, INVALID_BUFFER);
  }

  function checkForbiddenStates() {
    if (closed && takers.length) {
      throw (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.i)(CLOSED_CHANNEL_WITH_TAKERS);
    }

    if (takers.length && !buffer$1.isEmpty()) {
      throw (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.i)('Cannot have pending takers with non empty buffer');
    }
  }

  function put(input) {
    if (true) {
      checkForbiddenStates();
      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(input, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.notUndef, UNDEFINED_INPUT_ERROR);
    }

    if (closed) {
      return;
    }

    if (takers.length === 0) {
      return buffer$1.put(input);
    }

    var cb = takers.shift();
    cb(input);
  }

  function take(cb) {
    if (true) {
      checkForbiddenStates();
      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(cb, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func, "channel.take's callback must be a function");
    }

    if (closed && buffer$1.isEmpty()) {
      cb(END);
    } else if (!buffer$1.isEmpty()) {
      cb(buffer$1.take());
    } else {
      takers.push(cb);

      cb.cancel = function () {
        (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.r)(takers, cb);
      };
    }
  }

  function flush(cb) {
    if (true) {
      checkForbiddenStates();
      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(cb, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func, "channel.flush' callback must be a function");
    }

    if (closed && buffer$1.isEmpty()) {
      cb(END);
      return;
    }

    cb(buffer$1.flush());
  }

  function close() {
    if (true) {
      checkForbiddenStates();
    }

    if (closed) {
      return;
    }

    closed = true;
    var arr = takers;
    takers = [];

    for (var i = 0, len = arr.length; i < len; i++) {
      var taker = arr[i];
      taker(END);
    }
  }

  return {
    take: take,
    put: put,
    flush: flush,
    close: close
  };
}
function eventChannel(subscribe, buffer) {
  if (buffer === void 0) {
    buffer = (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.n)();
  }

  var closed = false;
  var unsubscribe;
  var chan = channel(buffer);

  var close = function close() {
    if (closed) {
      return;
    }

    closed = true;

    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func)(unsubscribe)) {
      unsubscribe();
    }

    chan.close();
  };

  unsubscribe = subscribe(function (input) {
    if (isEnd(input)) {
      close();
      return;
    }

    chan.put(input);
  });

  if (true) {
    (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(unsubscribe, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func, 'in eventChannel: subscribe should return a function to unsubscribe');
  }

  unsubscribe = (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.o)(unsubscribe);

  if (closed) {
    unsubscribe();
  }

  return {
    take: chan.take,
    flush: chan.flush,
    close: close
  };
}
function multicastChannel() {
  var _ref;

  var closed = false;
  var currentTakers = [];
  var nextTakers = currentTakers;

  function checkForbiddenStates() {
    if (closed && nextTakers.length) {
      throw (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.i)(CLOSED_CHANNEL_WITH_TAKERS);
    }
  }

  var ensureCanMutateNextTakers = function ensureCanMutateNextTakers() {
    if (nextTakers !== currentTakers) {
      return;
    }

    nextTakers = currentTakers.slice();
  };

  var close = function close() {
    if (true) {
      checkForbiddenStates();
    }

    closed = true;
    var takers = currentTakers = nextTakers;
    nextTakers = [];
    takers.forEach(function (taker) {
      taker(END);
    });
  };

  return _ref = {}, _ref[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.MULTICAST] = true, _ref.put = function put(input) {
    if (true) {
      checkForbiddenStates();
      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(input, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.notUndef, UNDEFINED_INPUT_ERROR);
    }

    if (closed) {
      return;
    }

    if (isEnd(input)) {
      close();
      return;
    }

    var takers = currentTakers = nextTakers;

    for (var i = 0, len = takers.length; i < len; i++) {
      var taker = takers[i];

      if (taker[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.MATCH](input)) {
        taker.cancel();
        taker(input);
      }
    }
  }, _ref.take = function take(cb, matcher) {
    if (matcher === void 0) {
      matcher = wildcard;
    }

    if (true) {
      checkForbiddenStates();
    }

    if (closed) {
      cb(END);
      return;
    }

    cb[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.MATCH] = matcher;
    ensureCanMutateNextTakers();
    nextTakers.push(cb);
    cb.cancel = (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.o)(function () {
      ensureCanMutateNextTakers();
      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.r)(nextTakers, cb);
    });
  }, _ref.close = close, _ref;
}
function stdChannel() {
  var chan = multicastChannel();
  var put = chan.put;

  chan.put = function (input) {
    if (input[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.SAGA_ACTION]) {
      put(input);
      return;
    }

    asap(function () {
      put(input);
    });
  };

  return chan;
}

var RUNNING = 0;
var CANCELLED = 1;
var ABORTED = 2;
var DONE = 3;

function resolvePromise(promise, cb) {
  var cancelPromise = promise[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.CANCEL];

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func)(cancelPromise)) {
    cb.cancel = cancelPromise;
  }

  promise.then(cb, function (error) {
    cb(error, true);
  });
}

var current = 0;
var nextSagaId = (function () {
  return ++current;
});

var _effectRunnerMap;

function getIteratorMetaInfo(iterator, fn) {
  if (iterator.isSagaIterator) {
    return {
      name: iterator.meta.name
    };
  }

  return (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.j)(fn);
}

function createTaskIterator(_ref) {
  var context = _ref.context,
      fn = _ref.fn,
      args = _ref.args;

  // catch synchronous failures; see #152 and #441
  try {
    var result = fn.apply(context, args); // i.e. a generator function returns an iterator

    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.iterator)(result)) {
      return result;
    }

    var resolved = false;

    var next = function next(arg) {
      if (!resolved) {
        resolved = true; // Only promises returned from fork will be interpreted. See #1573

        return {
          value: result,
          done: !(0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.promise)(result)
        };
      } else {
        return {
          value: arg,
          done: true
        };
      }
    };

    return (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.q)(next);
  } catch (err) {
    // do not bubble up synchronous failures for detached forks
    // instead create a failed task. See #152 and #441
    return (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.q)(function () {
      throw err;
    });
  }
}

function runPutEffect(env, _ref2, cb) {
  var channel = _ref2.channel,
      action = _ref2.action,
      resolve = _ref2.resolve;

  /**
   Schedule the put in case another saga is holding a lock.
   The put will be executed atomically. ie nested puts will execute after
   this put has terminated.
   **/
  asap(function () {
    var result;

    try {
      result = (channel ? channel.put : env.dispatch)(action);
    } catch (error) {
      cb(error, true);
      return;
    }

    if (resolve && (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.promise)(result)) {
      resolvePromise(result, cb);
    } else {
      cb(result);
    }
  }); // Put effects are non cancellables
}

function runTakeEffect(env, _ref3, cb) {
  var _ref3$channel = _ref3.channel,
      channel = _ref3$channel === void 0 ? env.channel : _ref3$channel,
      pattern = _ref3.pattern,
      maybe = _ref3.maybe;

  var takeCb = function takeCb(input) {
    if (input instanceof Error) {
      cb(input, true);
      return;
    }

    if (isEnd(input) && !maybe) {
      cb(_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.TERMINATE);
      return;
    }

    cb(input);
  };

  try {
    channel.take(takeCb, (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.notUndef)(pattern) ? matcher(pattern) : null);
  } catch (err) {
    cb(err, true);
    return;
  }

  cb.cancel = takeCb.cancel;
}

function runCallEffect(env, _ref4, cb, _ref5) {
  var context = _ref4.context,
      fn = _ref4.fn,
      args = _ref4.args;
  var task = _ref5.task;

  // catch synchronous failures; see #152
  try {
    var result = fn.apply(context, args);

    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.promise)(result)) {
      resolvePromise(result, cb);
      return;
    }

    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.iterator)(result)) {
      // resolve iterator
      proc(env, result, task.context, current, (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.j)(fn),
      /* isRoot */
      false, cb);
      return;
    }

    cb(result);
  } catch (error) {
    cb(error, true);
  }
}

function runCPSEffect(env, _ref6, cb) {
  var context = _ref6.context,
      fn = _ref6.fn,
      args = _ref6.args;

  // CPS (ie node style functions) can define their own cancellation logic
  // by setting cancel field on the cb
  // catch synchronous failures; see #152
  try {
    var cpsCb = function cpsCb(err, res) {
      if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.undef)(err)) {
        cb(res);
      } else {
        cb(err, true);
      }
    };

    fn.apply(context, args.concat(cpsCb));

    if (cpsCb.cancel) {
      cb.cancel = cpsCb.cancel;
    }
  } catch (error) {
    cb(error, true);
  }
}

function runForkEffect(env, _ref7, cb, _ref8) {
  var context = _ref7.context,
      fn = _ref7.fn,
      args = _ref7.args,
      detached = _ref7.detached;
  var parent = _ref8.task;
  var taskIterator = createTaskIterator({
    context: context,
    fn: fn,
    args: args
  });
  var meta = getIteratorMetaInfo(taskIterator, fn);
  immediately(function () {
    var child = proc(env, taskIterator, parent.context, current, meta, detached, undefined);

    if (detached) {
      cb(child);
    } else {
      if (child.isRunning()) {
        parent.queue.addTask(child);
        cb(child);
      } else if (child.isAborted()) {
        parent.queue.abort(child.error());
      } else {
        cb(child);
      }
    }
  }); // Fork effects are non cancellables
}

function runJoinEffect(env, taskOrTasks, cb, _ref9) {
  var task = _ref9.task;

  var joinSingleTask = function joinSingleTask(taskToJoin, cb) {
    if (taskToJoin.isRunning()) {
      var joiner = {
        task: task,
        cb: cb
      };

      cb.cancel = function () {
        if (taskToJoin.isRunning()) (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.r)(taskToJoin.joiners, joiner);
      };

      taskToJoin.joiners.push(joiner);
    } else {
      if (taskToJoin.isAborted()) {
        cb(taskToJoin.error(), true);
      } else {
        cb(taskToJoin.result());
      }
    }
  };

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.array)(taskOrTasks)) {
    if (taskOrTasks.length === 0) {
      cb([]);
      return;
    }

    var childCallbacks = (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.l)(taskOrTasks, cb);
    taskOrTasks.forEach(function (t, i) {
      joinSingleTask(t, childCallbacks[i]);
    });
  } else {
    joinSingleTask(taskOrTasks, cb);
  }
}

function cancelSingleTask(taskToCancel) {
  if (taskToCancel.isRunning()) {
    taskToCancel.cancel();
  }
}

function runCancelEffect(env, taskOrTasks, cb, _ref10) {
  var task = _ref10.task;

  if (taskOrTasks === _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.SELF_CANCELLATION) {
    cancelSingleTask(task);
  } else if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.array)(taskOrTasks)) {
    taskOrTasks.forEach(cancelSingleTask);
  } else {
    cancelSingleTask(taskOrTasks);
  }

  cb(); // cancel effects are non cancellables
}

function runAllEffect(env, effects, cb, _ref11) {
  var digestEffect = _ref11.digestEffect;
  var effectId = current;
  var keys = Object.keys(effects);

  if (keys.length === 0) {
    cb((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.array)(effects) ? [] : {});
    return;
  }

  var childCallbacks = (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.l)(effects, cb);
  keys.forEach(function (key) {
    digestEffect(effects[key], effectId, childCallbacks[key], key);
  });
}

function runRaceEffect(env, effects, cb, _ref12) {
  var digestEffect = _ref12.digestEffect;
  var effectId = current;
  var keys = Object.keys(effects);
  var response = (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.array)(effects) ? (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.m)(keys.length) : {};
  var childCbs = {};
  var completed = false;
  keys.forEach(function (key) {
    var chCbAtKey = function chCbAtKey(res, isErr) {
      if (completed) {
        return;
      }

      if (isErr || (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.s)(res)) {
        // Race Auto cancellation
        cb.cancel();
        cb(res, isErr);
      } else {
        cb.cancel();
        completed = true;
        response[key] = res;
        cb(response);
      }
    };

    chCbAtKey.cancel = _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;
    childCbs[key] = chCbAtKey;
  });

  cb.cancel = function () {
    // prevents unnecessary cancellation
    if (!completed) {
      completed = true;
      keys.forEach(function (key) {
        return childCbs[key].cancel();
      });
    }
  };

  keys.forEach(function (key) {
    if (completed) {
      return;
    }

    digestEffect(effects[key], effectId, childCbs[key], key);
  });
}

function runSelectEffect(env, _ref13, cb) {
  var selector = _ref13.selector,
      args = _ref13.args;

  try {
    var state = selector.apply(void 0, [env.getState()].concat(args));
    cb(state);
  } catch (error) {
    cb(error, true);
  }
}

function runChannelEffect(env, _ref14, cb) {
  var pattern = _ref14.pattern,
      buffer = _ref14.buffer;
  var chan = channel(buffer);
  var match = matcher(pattern);

  var taker = function taker(action) {
    if (!isEnd(action)) {
      env.channel.take(taker, match);
    }

    chan.put(action);
  };

  var close = chan.close;

  chan.close = function () {
    taker.cancel();
    close();
  };

  env.channel.take(taker, match);
  cb(chan);
}

function runCancelledEffect(env, data, cb, _ref15) {
  var task = _ref15.task;
  cb(task.isCancelled());
}

function runFlushEffect(env, channel, cb) {
  channel.flush(cb);
}

function runGetContextEffect(env, prop, cb, _ref16) {
  var task = _ref16.task;
  cb(task.context[prop]);
}

function runSetContextEffect(env, props, cb, _ref17) {
  var task = _ref17.task;
  (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.p)(task.context, props);
  cb();
}

var effectRunnerMap = (_effectRunnerMap = {}, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.T] = runTakeEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.P] = runPutEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.A] = runAllEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.R] = runRaceEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.C] = runCallEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.a] = runCPSEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.F] = runForkEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.J] = runJoinEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.b] = runCancelEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.S] = runSelectEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.d] = runChannelEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.f] = runCancelledEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.g] = runFlushEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.G] = runGetContextEffect, _effectRunnerMap[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.h] = runSetContextEffect, _effectRunnerMap);

/**
 Used to track a parent task and its forks
 In the fork model, forked tasks are attached by default to their parent
 We model this using the concept of Parent task && main Task
 main task is the main flow of the current Generator, the parent tasks is the
 aggregation of the main tasks + all its forked tasks.
 Thus the whole model represents an execution tree with multiple branches (vs the
 linear execution tree in sequential (non parallel) programming)

 A parent tasks has the following semantics
 - It completes if all its forks either complete or all cancelled
 - If it's cancelled, all forks are cancelled as well
 - It aborts if any uncaught error bubbles up from forks
 - If it completes, the return value is the one returned by the main task
 **/

function forkQueue(mainTask, onAbort, cont) {
  var tasks = [];
  var result;
  var completed = false;
  addTask(mainTask);

  var getTasks = function getTasks() {
    return tasks;
  };

  function abort(err) {
    onAbort();
    cancelAll();
    cont(err, true);
  }

  function addTask(task) {
    tasks.push(task);

    task.cont = function (res, isErr) {
      if (completed) {
        return;
      }

      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.r)(tasks, task);
      task.cont = _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;

      if (isErr) {
        abort(res);
      } else {
        if (task === mainTask) {
          result = res;
        }

        if (!tasks.length) {
          completed = true;
          cont(result);
        }
      }
    };
  }

  function cancelAll() {
    if (completed) {
      return;
    }

    completed = true;
    tasks.forEach(function (t) {
      t.cont = _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;
      t.cancel();
    });
    tasks = [];
  }

  return {
    addTask: addTask,
    cancelAll: cancelAll,
    abort: abort,
    getTasks: getTasks
  };
}

// there can be only a single saga error created at any given moment

function formatLocation(fileName, lineNumber) {
  return fileName + "?" + lineNumber;
}

function effectLocationAsString(effect) {
  var location = (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.v)(effect);

  if (location) {
    var code = location.code,
        fileName = location.fileName,
        lineNumber = location.lineNumber;
    var source = code + "  " + formatLocation(fileName, lineNumber);
    return source;
  }

  return '';
}

function sagaLocationAsString(sagaMeta) {
  var name = sagaMeta.name,
      location = sagaMeta.location;

  if (location) {
    return name + "  " + formatLocation(location.fileName, location.lineNumber);
  }

  return name;
}

function cancelledTasksAsString(sagaStack) {
  var cancelledTasks = (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.u)(function (i) {
    return i.cancelledTasks;
  }, sagaStack);

  if (!cancelledTasks.length) {
    return '';
  }

  return ['Tasks cancelled due to error:'].concat(cancelledTasks).join('\n');
}

var crashedEffect = null;
var sagaStack = [];
var addSagaFrame = function addSagaFrame(frame) {
  frame.crashedEffect = crashedEffect;
  sagaStack.push(frame);
};
var clear = function clear() {
  crashedEffect = null;
  sagaStack.length = 0;
}; // this sets crashed effect for the soon-to-be-reported saga frame
// this slightly streatches the singleton nature of this module into wrong direction
// as it's even less obvious what's the data flow here, but it is what it is for now

var setCrashedEffect = function setCrashedEffect(effect) {
  crashedEffect = effect;
};
/**
  @returns {string}

  @example
  The above error occurred in task errorInPutSaga {pathToFile}
  when executing effect put({type: 'REDUCER_ACTION_ERROR_IN_PUT'}) {pathToFile}
      created by fetchSaga {pathToFile}
      created by rootSaga {pathToFile}
*/

var toString = function toString() {
  var firstSaga = sagaStack[0],
      otherSagas = sagaStack.slice(1);
  var crashedEffectLocation = firstSaga.crashedEffect ? effectLocationAsString(firstSaga.crashedEffect) : null;
  var errorMessage = "The above error occurred in task " + sagaLocationAsString(firstSaga.meta) + (crashedEffectLocation ? " \n when executing effect " + crashedEffectLocation : '');
  return [errorMessage].concat(otherSagas.map(function (s) {
    return "    created by " + sagaLocationAsString(s.meta);
  }), [cancelledTasksAsString(sagaStack)]).join('\n');
};

function newTask(env, mainTask, parentContext, parentEffectId, meta, isRoot, cont) {
  var _task;

  if (cont === void 0) {
    cont = _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;
  }

  var status = RUNNING;
  var taskResult;
  var taskError;
  var deferredEnd = null;
  var cancelledDueToErrorTasks = [];
  var context = Object.create(parentContext);
  var queue = forkQueue(mainTask, function onAbort() {
    cancelledDueToErrorTasks.push.apply(cancelledDueToErrorTasks, queue.getTasks().map(function (t) {
      return t.meta.name;
    }));
  }, end);
  /**
   This may be called by a parent generator to trigger/propagate cancellation
   cancel all pending tasks (including the main task), then end the current task.
    Cancellation propagates down to the whole execution tree held by this Parent task
   It's also propagated to all joiners of this task and their execution tree/joiners
    Cancellation is noop for terminated/Cancelled tasks tasks
   **/

  function cancel() {
    if (status === RUNNING) {
      // Setting status to CANCELLED does not necessarily mean that the task/iterators are stopped
      // effects in the iterator's finally block will still be executed
      status = CANCELLED;
      queue.cancelAll(); // Ending with a TASK_CANCEL will propagate the Cancellation to all joiners

      end(_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.TASK_CANCEL, false);
    }
  }

  function end(result, isErr) {
    if (!isErr) {
      // The status here may be RUNNING or CANCELLED
      // If the status is CANCELLED, then we do not need to change it here
      if (result === _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.TASK_CANCEL) {
        status = CANCELLED;
      } else if (status !== CANCELLED) {
        status = DONE;
      }

      taskResult = result;
      deferredEnd && deferredEnd.resolve(result);
    } else {
      status = ABORTED;
      addSagaFrame({
        meta: meta,
        cancelledTasks: cancelledDueToErrorTasks
      });

      if (task.isRoot) {
        var sagaStack = toString(); // we've dumped the saga stack to string and are passing it to user's code
        // we know that it won't be needed anymore and we need to clear it

        clear();
        env.onError(result, {
          sagaStack: sagaStack
        });
      }

      taskError = result;
      deferredEnd && deferredEnd.reject(result);
    }

    task.cont(result, isErr);
    task.joiners.forEach(function (joiner) {
      joiner.cb(result, isErr);
    });
    task.joiners = null;
  }

  function setContext(props) {
    if (true) {
      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(props, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.object, (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.w)('task', props));
    }

    (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.p)(context, props);
  }

  function toPromise() {
    if (deferredEnd) {
      return deferredEnd.promise;
    }

    deferredEnd = (0,_redux_saga_deferred__WEBPACK_IMPORTED_MODULE_5__.default)();

    if (status === ABORTED) {
      deferredEnd.reject(taskError);
    } else if (status !== RUNNING) {
      deferredEnd.resolve(taskResult);
    }

    return deferredEnd.promise;
  }

  var task = (_task = {}, _task[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.TASK] = true, _task.id = parentEffectId, _task.meta = meta, _task.isRoot = isRoot, _task.context = context, _task.joiners = [], _task.queue = queue, _task.cancel = cancel, _task.cont = cont, _task.end = end, _task.setContext = setContext, _task.toPromise = toPromise, _task.isRunning = function isRunning() {
    return status === RUNNING;
  }, _task.isCancelled = function isCancelled() {
    return status === CANCELLED || status === RUNNING && mainTask.status === CANCELLED;
  }, _task.isAborted = function isAborted() {
    return status === ABORTED;
  }, _task.result = function result() {
    return taskResult;
  }, _task.error = function error() {
    return taskError;
  }, _task);
  return task;
}

function proc(env, iterator$1, parentContext, parentEffectId, meta, isRoot, cont) {
  if ( true && iterator$1[_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.x]) {
    throw new Error("redux-saga doesn't support async generators, please use only regular ones");
  }

  var finalRunEffect = env.finalizeRunEffect(runEffect);
  /**
    Tracks the current effect cancellation
    Each time the generator progresses. calling runEffect will set a new value
    on it. It allows propagating cancellation to child effects
  **/

  next.cancel = _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;
  /** Creates a main task to track the main flow */

  var mainTask = {
    meta: meta,
    cancel: cancelMain,
    status: RUNNING
  };
  /**
   Creates a new task descriptor for this generator.
   A task is the aggregation of it's mainTask and all it's forked tasks.
   **/

  var task = newTask(env, mainTask, parentContext, parentEffectId, meta, isRoot, cont);
  var executingContext = {
    task: task,
    digestEffect: digestEffect
  };
  /**
    cancellation of the main task. We'll simply resume the Generator with a TASK_CANCEL
  **/

  function cancelMain() {
    if (mainTask.status === RUNNING) {
      mainTask.status = CANCELLED;
      next(_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.TASK_CANCEL);
    }
  }
  /**
    attaches cancellation logic to this task's continuation
    this will permit cancellation to propagate down the call chain
  **/


  if (cont) {
    cont.cancel = task.cancel;
  } // kicks up the generator


  next(); // then return the task descriptor to the caller

  return task;
  /**
   * This is the generator driver
   * It's a recursive async/continuation function which calls itself
   * until the generator terminates or throws
   * @param {internal commands(TASK_CANCEL | TERMINATE) | any} arg - value, generator will be resumed with.
   * @param {boolean} isErr - the flag shows if effect finished with an error
   *
   * receives either (command | effect result, false) or (any thrown thing, true)
   */

  function next(arg, isErr) {
    try {
      var result;

      if (isErr) {
        result = iterator$1.throw(arg); // user handled the error, we can clear bookkept values

        clear();
      } else if ((0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.y)(arg)) {
        /**
          getting TASK_CANCEL automatically cancels the main task
          We can get this value here
           - By cancelling the parent task manually
          - By joining a Cancelled task
        **/
        mainTask.status = CANCELLED;
        /**
          Cancels the current effect; this will propagate the cancellation down to any called tasks
        **/

        next.cancel();
        /**
          If this Generator has a `return` method then invokes it
          This will jump to the finally block
        **/

        result = (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func)(iterator$1.return) ? iterator$1.return(_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.TASK_CANCEL) : {
          done: true,
          value: _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.TASK_CANCEL
        };
      } else if ((0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.z)(arg)) {
        // We get TERMINATE flag, i.e. by taking from a channel that ended using `take` (and not `takem` used to trap End of channels)
        result = (0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func)(iterator$1.return) ? iterator$1.return() : {
          done: true
        };
      } else {
        result = iterator$1.next(arg);
      }

      if (!result.done) {
        digestEffect(result.value, parentEffectId, next);
      } else {
        /**
          This Generator has ended, terminate the main task and notify the fork queue
        **/
        if (mainTask.status !== CANCELLED) {
          mainTask.status = DONE;
        }

        mainTask.cont(result.value);
      }
    } catch (error) {
      if (mainTask.status === CANCELLED) {
        throw error;
      }

      mainTask.status = ABORTED;
      mainTask.cont(error, true);
    }
  }

  function runEffect(effect, effectId, currCb) {
    /**
      each effect runner must attach its own logic of cancellation to the provided callback
      it allows this generator to propagate cancellation downward.
       ATTENTION! effect runners must setup the cancel logic by setting cb.cancel = [cancelMethod]
      And the setup must occur before calling the callback
       This is a sort of inversion of control: called async functions are responsible
      of completing the flow by calling the provided continuation; while caller functions
      are responsible for aborting the current flow by calling the attached cancel function
       Library users can attach their own cancellation logic to promises by defining a
      promise[CANCEL] method in their returned promises
      ATTENTION! calling cancel must have no effect on an already completed or cancelled effect
    **/
    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.promise)(effect)) {
      resolvePromise(effect, currCb);
    } else if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.iterator)(effect)) {
      // resolve iterator
      proc(env, effect, task.context, effectId, meta,
      /* isRoot */
      false, currCb);
    } else if (effect && effect[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.IO]) {
      var effectRunner = effectRunnerMap[effect.type];
      effectRunner(env, effect.payload, currCb, executingContext);
    } else {
      // anything else returned as is
      currCb(effect);
    }
  }

  function digestEffect(effect, parentEffectId, cb, label) {
    if (label === void 0) {
      label = '';
    }

    var effectId = nextSagaId();
    env.sagaMonitor && env.sagaMonitor.effectTriggered({
      effectId: effectId,
      parentEffectId: parentEffectId,
      label: label,
      effect: effect
    });
    /**
      completion callback and cancel callback are mutually exclusive
      We can't cancel an already completed effect
      And We can't complete an already cancelled effectId
    **/

    var effectSettled; // Completion callback passed to the appropriate effect runner

    function currCb(res, isErr) {
      if (effectSettled) {
        return;
      }

      effectSettled = true;
      cb.cancel = _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t; // defensive measure

      if (env.sagaMonitor) {
        if (isErr) {
          env.sagaMonitor.effectRejected(effectId, res);
        } else {
          env.sagaMonitor.effectResolved(effectId, res);
        }
      }

      if (isErr) {
        setCrashedEffect(effect);
      }

      cb(res, isErr);
    } // tracks down the current cancel


    currCb.cancel = _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t; // setup cancellation logic on the parent cb

    cb.cancel = function () {
      // prevents cancelling an already completed effect
      if (effectSettled) {
        return;
      }

      effectSettled = true;
      currCb.cancel(); // propagates cancel downward

      currCb.cancel = _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t; // defensive measure

      env.sagaMonitor && env.sagaMonitor.effectCancelled(effectId);
    };

    finalRunEffect(effect, effectId, currCb);
  }
}

var RUN_SAGA_SIGNATURE = 'runSaga(options, saga, ...args)';
var NON_GENERATOR_ERR = RUN_SAGA_SIGNATURE + ": saga argument must be a Generator function!";
function runSaga(_ref, saga) {
  var _ref$channel = _ref.channel,
      channel = _ref$channel === void 0 ? stdChannel() : _ref$channel,
      dispatch = _ref.dispatch,
      getState = _ref.getState,
      _ref$context = _ref.context,
      context = _ref$context === void 0 ? {} : _ref$context,
      sagaMonitor = _ref.sagaMonitor,
      effectMiddlewares = _ref.effectMiddlewares,
      _ref$onError = _ref.onError,
      onError = _ref$onError === void 0 ? _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.B : _ref$onError;

  if (true) {
    (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(saga, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func, NON_GENERATOR_ERR);
  }

  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    args[_key - 2] = arguments[_key];
  }

  var iterator$1 = saga.apply(void 0, args);

  if (true) {
    (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(iterator$1, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.iterator, NON_GENERATOR_ERR);
  }

  var effectId = nextSagaId();

  if (sagaMonitor) {
    // monitors are expected to have a certain interface, let's fill-in any missing ones
    sagaMonitor.rootSagaStarted = sagaMonitor.rootSagaStarted || _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;
    sagaMonitor.effectTriggered = sagaMonitor.effectTriggered || _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;
    sagaMonitor.effectResolved = sagaMonitor.effectResolved || _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;
    sagaMonitor.effectRejected = sagaMonitor.effectRejected || _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;
    sagaMonitor.effectCancelled = sagaMonitor.effectCancelled || _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;
    sagaMonitor.actionDispatched = sagaMonitor.actionDispatched || _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.t;
    sagaMonitor.rootSagaStarted({
      effectId: effectId,
      saga: saga,
      args: args
    });
  }

  if (true) {
    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.notUndef)(dispatch)) {
      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(dispatch, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func, 'dispatch must be a function');
    }

    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.notUndef)(getState)) {
      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(getState, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func, 'getState must be a function');
    }

    if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.notUndef)(effectMiddlewares)) {
      var MIDDLEWARE_TYPE_ERROR = 'effectMiddlewares must be an array of functions';
      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(effectMiddlewares, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.array, MIDDLEWARE_TYPE_ERROR);
      effectMiddlewares.forEach(function (effectMiddleware) {
        return (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(effectMiddleware, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func, MIDDLEWARE_TYPE_ERROR);
      });
    }

    (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(onError, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.func, 'onError passed to the redux-saga is not a function!');
  }

  var finalizeRunEffect;

  if (effectMiddlewares) {
    var middleware = redux__WEBPACK_IMPORTED_MODULE_7__.compose.apply(void 0, effectMiddlewares);

    finalizeRunEffect = function finalizeRunEffect(runEffect) {
      return function (effect, effectId, currCb) {
        var plainRunEffect = function plainRunEffect(eff) {
          return runEffect(eff, effectId, currCb);
        };

        return middleware(plainRunEffect)(effect);
      };
    };
  } else {
    finalizeRunEffect = _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.E;
  }

  var env = {
    channel: channel,
    dispatch: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.D)(dispatch),
    getState: getState,
    sagaMonitor: sagaMonitor,
    onError: onError,
    finalizeRunEffect: finalizeRunEffect
  };
  return immediately(function () {
    var task = proc(env, iterator$1, context, effectId, (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.j)(saga),
    /* isRoot */
    true, undefined);

    if (sagaMonitor) {
      sagaMonitor.effectResolved(effectId, task);
    }

    return task;
  });
}

function sagaMiddlewareFactory(_temp) {
  var _ref = _temp === void 0 ? {} : _temp,
      _ref$context = _ref.context,
      context = _ref$context === void 0 ? {} : _ref$context,
      _ref$channel = _ref.channel,
      channel = _ref$channel === void 0 ? stdChannel() : _ref$channel,
      sagaMonitor = _ref.sagaMonitor,
      options = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_2__.default)(_ref, ["context", "channel", "sagaMonitor"]);

  var boundRunSaga;

  if (true) {
    (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(channel, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.channel, 'options.channel passed to the Saga middleware is not a channel');
  }

  function sagaMiddleware(_ref2) {
    var getState = _ref2.getState,
        dispatch = _ref2.dispatch;
    boundRunSaga = runSaga.bind(null, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.default)({}, options, {
      context: context,
      channel: channel,
      dispatch: dispatch,
      getState: getState,
      sagaMonitor: sagaMonitor
    }));
    return function (next) {
      return function (action) {
        if (sagaMonitor && sagaMonitor.actionDispatched) {
          sagaMonitor.actionDispatched(action);
        }

        var result = next(action); // hit reducers

        channel.put(action);
        return result;
      };
    };
  }

  sagaMiddleware.run = function () {
    if ( true && !boundRunSaga) {
      throw new Error('Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware');
    }

    return boundRunSaga.apply(void 0, arguments);
  };

  sagaMiddleware.setContext = function (props) {
    if (true) {
      (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.c)(props, _redux_saga_is__WEBPACK_IMPORTED_MODULE_3__.object, (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.w)('sagaMiddleware', props));
    }

    (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_4__.p)(context, props);
  };

  return sagaMiddleware;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sagaMiddlewareFactory);



/***/ }),

/***/ "./node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "actionChannel": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.O),
/* harmony export */   "all": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__._),
/* harmony export */   "apply": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.$),
/* harmony export */   "call": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.N),
/* harmony export */   "cancel": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.M),
/* harmony export */   "cancelled": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.a4),
/* harmony export */   "cps": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.a0),
/* harmony export */   "delay": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.U),
/* harmony export */   "effectTypes": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.W),
/* harmony export */   "flush": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.a5),
/* harmony export */   "fork": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.L),
/* harmony export */   "getContext": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.a6),
/* harmony export */   "join": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.a2),
/* harmony export */   "put": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.Y),
/* harmony export */   "putResolve": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.Z),
/* harmony export */   "race": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.V),
/* harmony export */   "select": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.a3),
/* harmony export */   "setContext": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.a7),
/* harmony export */   "spawn": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.a1),
/* harmony export */   "take": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.K),
/* harmony export */   "takeMaybe": () => (/* reexport safe */ _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.X),
/* harmony export */   "debounce": () => (/* binding */ debounce),
/* harmony export */   "retry": () => (/* binding */ retry$1),
/* harmony export */   "takeEvery": () => (/* binding */ takeEvery$1),
/* harmony export */   "takeLatest": () => (/* binding */ takeLatest$1),
/* harmony export */   "takeLeading": () => (/* binding */ takeLeading$1),
/* harmony export */   "throttle": () => (/* binding */ throttle$1)
/* harmony export */ });
/* harmony import */ var _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @redux-saga/symbols */ "./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js");
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @redux-saga/is */ "./node_modules/@redux-saga/is/dist/redux-saga-is.esm.js");
/* harmony import */ var _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./io-6de156f3.js */ "./node_modules/@redux-saga/core/dist/io-6de156f3.js");
/* harmony import */ var _redux_saga_delay_p__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @redux-saga/delay-p */ "./node_modules/@redux-saga/delay-p/dist/redux-saga-delay-p.esm.js");







var done = function done(value) {
  return {
    done: true,
    value: value
  };
};

var qEnd = {};
function safeName(patternOrChannel) {
  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.channel)(patternOrChannel)) {
    return 'channel';
  }

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.stringableFunc)(patternOrChannel)) {
    return String(patternOrChannel);
  }

  if ((0,_redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.func)(patternOrChannel)) {
    return patternOrChannel.name;
  }

  return String(patternOrChannel);
}
function fsmIterator(fsm, startState, name) {
  var stateUpdater,
      errorState,
      effect,
      nextState = startState;

  function next(arg, error) {
    if (nextState === qEnd) {
      return done(arg);
    }

    if (error && !errorState) {
      nextState = qEnd;
      throw error;
    } else {
      stateUpdater && stateUpdater(arg);
      var currentState = error ? fsm[errorState](error) : fsm[nextState]();
      nextState = currentState.nextState;
      effect = currentState.effect;
      stateUpdater = currentState.stateUpdater;
      errorState = currentState.errorState;
      return nextState === qEnd ? done(arg) : effect;
    }
  }

  return (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.q)(next, function (error) {
    return next(null, error);
  }, name);
}

function takeEvery(patternOrChannel, worker) {
  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    args[_key - 2] = arguments[_key];
  }

  var yTake = {
    done: false,
    value: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.K)(patternOrChannel)
  };

  var yFork = function yFork(ac) {
    return {
      done: false,
      value: _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.L.apply(void 0, [worker].concat(args, [ac]))
    };
  };

  var action,
      setAction = function setAction(ac) {
    return action = ac;
  };

  return fsmIterator({
    q1: function q1() {
      return {
        nextState: 'q2',
        effect: yTake,
        stateUpdater: setAction
      };
    },
    q2: function q2() {
      return {
        nextState: 'q1',
        effect: yFork(action)
      };
    }
  }, 'q1', "takeEvery(" + safeName(patternOrChannel) + ", " + worker.name + ")");
}

function takeLatest(patternOrChannel, worker) {
  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    args[_key - 2] = arguments[_key];
  }

  var yTake = {
    done: false,
    value: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.K)(patternOrChannel)
  };

  var yFork = function yFork(ac) {
    return {
      done: false,
      value: _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.L.apply(void 0, [worker].concat(args, [ac]))
    };
  };

  var yCancel = function yCancel(task) {
    return {
      done: false,
      value: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.M)(task)
    };
  };

  var task, action;

  var setTask = function setTask(t) {
    return task = t;
  };

  var setAction = function setAction(ac) {
    return action = ac;
  };

  return fsmIterator({
    q1: function q1() {
      return {
        nextState: 'q2',
        effect: yTake,
        stateUpdater: setAction
      };
    },
    q2: function q2() {
      return task ? {
        nextState: 'q3',
        effect: yCancel(task)
      } : {
        nextState: 'q1',
        effect: yFork(action),
        stateUpdater: setTask
      };
    },
    q3: function q3() {
      return {
        nextState: 'q1',
        effect: yFork(action),
        stateUpdater: setTask
      };
    }
  }, 'q1', "takeLatest(" + safeName(patternOrChannel) + ", " + worker.name + ")");
}

function takeLeading(patternOrChannel, worker) {
  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    args[_key - 2] = arguments[_key];
  }

  var yTake = {
    done: false,
    value: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.K)(patternOrChannel)
  };

  var yCall = function yCall(ac) {
    return {
      done: false,
      value: _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.N.apply(void 0, [worker].concat(args, [ac]))
    };
  };

  var action;

  var setAction = function setAction(ac) {
    return action = ac;
  };

  return fsmIterator({
    q1: function q1() {
      return {
        nextState: 'q2',
        effect: yTake,
        stateUpdater: setAction
      };
    },
    q2: function q2() {
      return {
        nextState: 'q1',
        effect: yCall(action)
      };
    }
  }, 'q1', "takeLeading(" + safeName(patternOrChannel) + ", " + worker.name + ")");
}

function throttle(delayLength, pattern, worker) {
  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
    args[_key - 3] = arguments[_key];
  }

  var action, channel;
  var yActionChannel = {
    done: false,
    value: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.O)(pattern, (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.Q)(1))
  };

  var yTake = function yTake() {
    return {
      done: false,
      value: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.K)(channel)
    };
  };

  var yFork = function yFork(ac) {
    return {
      done: false,
      value: _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.L.apply(void 0, [worker].concat(args, [ac]))
    };
  };

  var yDelay = {
    done: false,
    value: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.U)(delayLength)
  };

  var setAction = function setAction(ac) {
    return action = ac;
  };

  var setChannel = function setChannel(ch) {
    return channel = ch;
  };

  return fsmIterator({
    q1: function q1() {
      return {
        nextState: 'q2',
        effect: yActionChannel,
        stateUpdater: setChannel
      };
    },
    q2: function q2() {
      return {
        nextState: 'q3',
        effect: yTake(),
        stateUpdater: setAction
      };
    },
    q3: function q3() {
      return {
        nextState: 'q4',
        effect: yFork(action)
      };
    },
    q4: function q4() {
      return {
        nextState: 'q2',
        effect: yDelay
      };
    }
  }, 'q1', "throttle(" + safeName(pattern) + ", " + worker.name + ")");
}

function retry(maxTries, delayLength, fn) {
  var counter = maxTries;

  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
    args[_key - 3] = arguments[_key];
  }

  var yCall = {
    done: false,
    value: _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.N.apply(void 0, [fn].concat(args))
  };
  var yDelay = {
    done: false,
    value: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.U)(delayLength)
  };
  return fsmIterator({
    q1: function q1() {
      return {
        nextState: 'q2',
        effect: yCall,
        errorState: 'q10'
      };
    },
    q2: function q2() {
      return {
        nextState: qEnd
      };
    },
    q10: function q10(error) {
      counter -= 1;

      if (counter <= 0) {
        throw error;
      }

      return {
        nextState: 'q1',
        effect: yDelay
      };
    }
  }, 'q1', "retry(" + fn.name + ")");
}

function debounceHelper(delayLength, patternOrChannel, worker) {
  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
    args[_key - 3] = arguments[_key];
  }

  var action, raceOutput;
  var yTake = {
    done: false,
    value: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.K)(patternOrChannel)
  };
  var yRace = {
    done: false,
    value: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.V)({
      action: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.K)(patternOrChannel),
      debounce: (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.U)(delayLength)
    })
  };

  var yFork = function yFork(ac) {
    return {
      done: false,
      value: _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.L.apply(void 0, [worker].concat(args, [ac]))
    };
  };

  var yNoop = function yNoop(value) {
    return {
      done: false,
      value: value
    };
  };

  var setAction = function setAction(ac) {
    return action = ac;
  };

  var setRaceOutput = function setRaceOutput(ro) {
    return raceOutput = ro;
  };

  return fsmIterator({
    q1: function q1() {
      return {
        nextState: 'q2',
        effect: yTake,
        stateUpdater: setAction
      };
    },
    q2: function q2() {
      return {
        nextState: 'q3',
        effect: yRace,
        stateUpdater: setRaceOutput
      };
    },
    q3: function q3() {
      return raceOutput.debounce ? {
        nextState: 'q1',
        effect: yFork(action)
      } : {
        nextState: 'q2',
        effect: yNoop(raceOutput.action),
        stateUpdater: setAction
      };
    }
  }, 'q1', "debounce(" + safeName(patternOrChannel) + ", " + worker.name + ")");
}

var validateTakeEffect = function validateTakeEffect(fn, patternOrChannel, worker) {
  (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.c)(patternOrChannel, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, fn.name + " requires a pattern or channel");
  (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.c)(worker, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, fn.name + " requires a saga parameter");
};

function takeEvery$1(patternOrChannel, worker) {
  if (true) {
    validateTakeEffect(takeEvery$1, patternOrChannel, worker);
  }

  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    args[_key - 2] = arguments[_key];
  }

  return _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.L.apply(void 0, [takeEvery, patternOrChannel, worker].concat(args));
}
function takeLatest$1(patternOrChannel, worker) {
  if (true) {
    validateTakeEffect(takeLatest$1, patternOrChannel, worker);
  }

  for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
    args[_key2 - 2] = arguments[_key2];
  }

  return _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.L.apply(void 0, [takeLatest, patternOrChannel, worker].concat(args));
}
function takeLeading$1(patternOrChannel, worker) {
  if (true) {
    validateTakeEffect(takeLeading$1, patternOrChannel, worker);
  }

  for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
    args[_key3 - 2] = arguments[_key3];
  }

  return _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.L.apply(void 0, [takeLeading, patternOrChannel, worker].concat(args));
}
function throttle$1(ms, pattern, worker) {
  if (true) {
    (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.c)(pattern, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, 'throttle requires a pattern');
    (0,_io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.c)(worker, _redux_saga_is__WEBPACK_IMPORTED_MODULE_2__.notUndef, 'throttle requires a saga parameter');
  }

  for (var _len4 = arguments.length, args = new Array(_len4 > 3 ? _len4 - 3 : 0), _key4 = 3; _key4 < _len4; _key4++) {
    args[_key4 - 3] = arguments[_key4];
  }

  return _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.L.apply(void 0, [throttle, ms, pattern, worker].concat(args));
}
function retry$1(maxTries, delayLength, worker) {
  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {
    args[_key5 - 3] = arguments[_key5];
  }

  return _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.N.apply(void 0, [retry, maxTries, delayLength, worker].concat(args));
}
function debounce(delayLength, pattern, worker) {
  for (var _len6 = arguments.length, args = new Array(_len6 > 3 ? _len6 - 3 : 0), _key6 = 3; _key6 < _len6; _key6++) {
    args[_key6 - 3] = arguments[_key6];
  }

  return _io_6de156f3_js__WEBPACK_IMPORTED_MODULE_3__.L.apply(void 0, [debounceHelper, delayLength, pattern, worker].concat(args));
}




/***/ }),

/***/ "./node_modules/@redux-saga/deferred/dist/redux-saga-deferred.esm.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@redux-saga/deferred/dist/redux-saga-deferred.esm.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "arrayOfDeferred": () => (/* binding */ arrayOfDeferred)
/* harmony export */ });
function deferred() {
  var def = {};
  def.promise = new Promise(function (resolve, reject) {
    def.resolve = resolve;
    def.reject = reject;
  });
  return def;
}
function arrayOfDeferred(length) {
  var arr = [];

  for (var i = 0; i < length; i++) {
    arr.push(deferred());
  }

  return arr;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (deferred);



/***/ }),

/***/ "./node_modules/@redux-saga/delay-p/dist/redux-saga-delay-p.esm.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@redux-saga/delay-p/dist/redux-saga-delay-p.esm.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @redux-saga/symbols */ "./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js");


function delayP(ms, val) {
  if (val === void 0) {
    val = true;
  }

  var timeoutId;
  var promise = new Promise(function (resolve) {
    timeoutId = setTimeout(resolve, ms, val);
  });

  promise[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.CANCEL] = function () {
    clearTimeout(timeoutId);
  };

  return promise;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (delayP);


/***/ }),

/***/ "./node_modules/@redux-saga/is/dist/redux-saga-is.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/@redux-saga/is/dist/redux-saga-is.esm.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "array": () => (/* binding */ array),
/* harmony export */   "buffer": () => (/* binding */ buffer),
/* harmony export */   "channel": () => (/* binding */ channel),
/* harmony export */   "effect": () => (/* binding */ effect),
/* harmony export */   "func": () => (/* binding */ func),
/* harmony export */   "iterable": () => (/* binding */ iterable),
/* harmony export */   "iterator": () => (/* binding */ iterator),
/* harmony export */   "multicast": () => (/* binding */ multicast),
/* harmony export */   "notUndef": () => (/* binding */ notUndef),
/* harmony export */   "number": () => (/* binding */ number),
/* harmony export */   "object": () => (/* binding */ object),
/* harmony export */   "observable": () => (/* binding */ observable),
/* harmony export */   "pattern": () => (/* binding */ pattern),
/* harmony export */   "promise": () => (/* binding */ promise),
/* harmony export */   "sagaAction": () => (/* binding */ sagaAction),
/* harmony export */   "string": () => (/* binding */ string),
/* harmony export */   "stringableFunc": () => (/* binding */ stringableFunc),
/* harmony export */   "symbol": () => (/* binding */ symbol),
/* harmony export */   "task": () => (/* binding */ task),
/* harmony export */   "undef": () => (/* binding */ undef)
/* harmony export */ });
/* harmony import */ var _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @redux-saga/symbols */ "./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js");


var undef = function undef(v) {
  return v === null || v === undefined;
};
var notUndef = function notUndef(v) {
  return v !== null && v !== undefined;
};
var func = function func(f) {
  return typeof f === 'function';
};
var number = function number(n) {
  return typeof n === 'number';
};
var string = function string(s) {
  return typeof s === 'string';
};
var array = Array.isArray;
var object = function object(obj) {
  return obj && !array(obj) && typeof obj === 'object';
};
var promise = function promise(p) {
  return p && func(p.then);
};
var iterator = function iterator(it) {
  return it && func(it.next) && func(it.throw);
};
var iterable = function iterable(it) {
  return it && func(Symbol) ? func(it[Symbol.iterator]) : array(it);
};
var task = function task(t) {
  return t && t[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.TASK];
};
var sagaAction = function sagaAction(a) {
  return Boolean(a && a[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.SAGA_ACTION]);
};
var observable = function observable(ob) {
  return ob && func(ob.subscribe);
};
var buffer = function buffer(buf) {
  return buf && func(buf.isEmpty) && func(buf.take) && func(buf.put);
};
var pattern = function pattern(pat) {
  return pat && (string(pat) || symbol(pat) || func(pat) || array(pat) && pat.every(pattern));
};
var channel = function channel(ch) {
  return ch && func(ch.take) && func(ch.close);
};
var stringableFunc = function stringableFunc(f) {
  return func(f) && f.hasOwnProperty('toString');
};
var symbol = function symbol(sym) {
  return Boolean(sym) && typeof Symbol === 'function' && sym.constructor === Symbol && sym !== Symbol.prototype;
};
var multicast = function multicast(ch) {
  return channel(ch) && ch[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.MULTICAST];
};
var effect = function effect(eff) {
  return eff && eff[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.IO];
};




/***/ }),

/***/ "./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CANCEL": () => (/* binding */ CANCEL),
/* harmony export */   "CHANNEL_END_TYPE": () => (/* binding */ CHANNEL_END_TYPE),
/* harmony export */   "IO": () => (/* binding */ IO),
/* harmony export */   "MATCH": () => (/* binding */ MATCH),
/* harmony export */   "MULTICAST": () => (/* binding */ MULTICAST),
/* harmony export */   "SAGA_ACTION": () => (/* binding */ SAGA_ACTION),
/* harmony export */   "SAGA_LOCATION": () => (/* binding */ SAGA_LOCATION),
/* harmony export */   "SELF_CANCELLATION": () => (/* binding */ SELF_CANCELLATION),
/* harmony export */   "TASK": () => (/* binding */ TASK),
/* harmony export */   "TASK_CANCEL": () => (/* binding */ TASK_CANCEL),
/* harmony export */   "TERMINATE": () => (/* binding */ TERMINATE)
/* harmony export */ });
var createSymbol = function createSymbol(name) {
  return "@@redux-saga/" + name;
};

var CANCEL =
/*#__PURE__*/
createSymbol('CANCEL_PROMISE');
var CHANNEL_END_TYPE =
/*#__PURE__*/
createSymbol('CHANNEL_END');
var IO =
/*#__PURE__*/
createSymbol('IO');
var MATCH =
/*#__PURE__*/
createSymbol('MATCH');
var MULTICAST =
/*#__PURE__*/
createSymbol('MULTICAST');
var SAGA_ACTION =
/*#__PURE__*/
createSymbol('SAGA_ACTION');
var SELF_CANCELLATION =
/*#__PURE__*/
createSymbol('SELF_CANCELLATION');
var TASK =
/*#__PURE__*/
createSymbol('TASK');
var TASK_CANCEL =
/*#__PURE__*/
createSymbol('TASK_CANCEL');
var TERMINATE =
/*#__PURE__*/
createSymbol('TERMINATE');
var SAGA_LOCATION =
/*#__PURE__*/
createSymbol('LOCATION');




/***/ }),

/***/ "./node_modules/jsonexport/dist/core/eol.js":
/*!**************************************************!*\
  !*** ./node_modules/jsonexport/dist/core/eol.js ***!
  \**************************************************/
/***/ ((module) => {

"use strict";
/* jshint node:true */
  

  module.exports = "\n";
  

/***/ }),

/***/ "./node_modules/jsonexport/dist/core/escape-delimiters.js":
/*!****************************************************************!*\
  !*** ./node_modules/jsonexport/dist/core/escape-delimiters.js ***!
  \****************************************************************/
/***/ ((module) => {

"use strict";
/* jshint node:true */


// Escape the textDelimiters contained in the field
/*(https://tools.ietf.org/html/rfc4180)
   7.  If double-quotes are used to enclose fields, then a double-quote
   appearing inside a field must be escaped by preceding it with
   another double quote.
   For example: "aaa","b""bb","ccc"
*/

module.exports = function escapedDelimiters(textDelimiter, rowDelimiter, forceTextDelimiter) {
  var endOfLine = '\n';

  if (typeof textDelimiter !== 'string') {
    throw new TypeError('Invalid param "textDelimiter", must be a string.');
  }

  if (typeof rowDelimiter !== 'string') {
    throw new TypeError('Invalid param "rowDelimiter", must be a string.');
  }

  var textDelimiterRegex = new RegExp("\\" + textDelimiter, 'g');
  var escapedDelimiter = textDelimiter + textDelimiter;

  var enclosingCondition = textDelimiter === '"' ? function (value) {
    return value.indexOf(rowDelimiter) >= 0 || value.indexOf(endOfLine) >= 0 || value.indexOf('"') >= 0;
  } : function (value) {
    return value.indexOf(rowDelimiter) >= 0 || value.indexOf(endOfLine) >= 0;
  };

  return function (value) {
    if (forceTextDelimiter) value = "" + value;

    if (!value.replace) return value;
    // Escape the textDelimiters contained in the field
    value = value.replace(textDelimiterRegex, escapedDelimiter);

    // Escape the whole field if it contains a rowDelimiter or a linebreak or double quote
    if (forceTextDelimiter || enclosingCondition(value)) {
      value = textDelimiter + value + textDelimiter;
    }

    return value;
  };
};

/***/ }),

/***/ "./node_modules/jsonexport/dist/core/helper.js":
/*!*****************************************************!*\
  !*** ./node_modules/jsonexport/dist/core/helper.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


module.exports.isFunction = function (fn) {
    var getType = {};
    return fn && getType.toString.call(fn) === '[object Function]';
};

module.exports.isArray = function (arr) {
    return Array.isArray(arr);
};

module.exports.isObject = function (obj) {
    return obj instanceof Object;
};

module.exports.isString = function (str) {
    return typeof str === 'string';
};

module.exports.isNumber = function (num) {
    return typeof num === 'number';
};

module.exports.isBoolean = function (bool) {
    return typeof bool === 'boolean';
};

module.exports.isDate = function (date) {
    return date instanceof Date;
};

/***/ }),

/***/ "./node_modules/jsonexport/dist/core/join-rows.js":
/*!********************************************************!*\
  !*** ./node_modules/jsonexport/dist/core/join-rows.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var EOL = __webpack_require__(/*! ./eol */ "./node_modules/jsonexport/dist/core/eol.js");
var helper = __webpack_require__(/*! ./helper */ "./node_modules/jsonexport/dist/core/helper.js");

module.exports = function joinRows(rows, join) {
  if (!rows || !helper.isArray(rows)) {
    throw new TypeError('Invalid params "rows" for joinRows.' + ' Must be an array of string.');
  }
  //Merge all rows in a single output with the correct End of Line string
  var r = rows.join(join || EOL || '\n');
  return r;
};

/***/ }),

/***/ "./node_modules/jsonexport/dist/core/stream.js":
/*!*****************************************************!*\
  !*** ./node_modules/jsonexport/dist/core/stream.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
/* jshint node:true */
  

  var Stream = function (_Transform) {
    throw new Error("jsonexport called without third argument as a callback and is required")
  }

  module.exports = Stream;
  

/***/ }),

/***/ "./node_modules/jsonexport/dist/index.js":
/*!***********************************************!*\
  !*** ./node_modules/jsonexport/dist/index.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* jshint node:true */

/**
 * Module dependencies.
 */
//const _ = require('underscore');

var Parser = __webpack_require__(/*! ./parser/csv */ "./node_modules/jsonexport/dist/parser/csv.js");
var Stream = __webpack_require__(/*! ./core/stream */ "./node_modules/jsonexport/dist/core/stream.js");
var helper = __webpack_require__(/*! ./core/helper */ "./node_modules/jsonexport/dist/core/helper.js");

/**
 * Main function that converts json to csv
 *
 * @param {Object|Array} json
 * @param {Object} [options]
 * @param {Function} callback(err, csv) - Callback function
 *      if error, returning error in call back.
 *      if csv is created successfully, returning csv output to callback.
 */
module.exports = function (json, userOptions, callback) {
  if (helper.isFunction(userOptions)) {
    callback = userOptions;
    userOptions = {};
  }
  userOptions = !callback ? json : userOptions;
  var parser = new Parser(userOptions);
  if (!callback || !helper.isFunction(callback)) return new Stream(parser);
  parser.parse(json, callback);
};

/***/ }),

/***/ "./node_modules/jsonexport/dist/parser/csv.js":
/*!****************************************************!*\
  !*** ./node_modules/jsonexport/dist/parser/csv.js ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* jshint node:true */


/**
 * Module dependencies.
 */

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var EOL = __webpack_require__(/*! ../core/eol */ "./node_modules/jsonexport/dist/core/eol.js");
var joinRows = __webpack_require__(/*! ../core/join-rows */ "./node_modules/jsonexport/dist/core/join-rows.js");
var Handler = __webpack_require__(/*! ./handler */ "./node_modules/jsonexport/dist/parser/handler.js");
var helper = __webpack_require__(/*! ../core/helper */ "./node_modules/jsonexport/dist/core/helper.js");

var Parser = function () {
  function Parser(options) {
    _classCallCheck(this, Parser);

    this._options = this._parseOptions(options) || {};
    this._handler = new Handler(this._options);
    this._headers = this._options.headers || [];
    this._escape = __webpack_require__(/*! ../core/escape-delimiters */ "./node_modules/jsonexport/dist/core/escape-delimiters.js")(this._options.textDelimiter, this._options.rowDelimiter, this._options.forceTextDelimiter);
  }

  /**
   * Generates a CSV file with optional headers based on the passed JSON,
   * with can be an Object or Array.
   *
   * @param {Object|Array} json
   * @param {Function} done(err,csv) - Callback function
   *      if error, returning error in call back.
   *      if csv is created successfully, returning csv output to callback.
   */


  _createClass(Parser, [{
    key: 'parse',
    value: function parse(json, done, stream) {
      if (helper.isArray(json)) return done(null, this._parseArray(json, stream));else if (helper.isObject(json)) return done(null, this._parseObject(json));
      return done(new Error('Unable to parse the JSON object, its not an Array or Object.'));
    }
  }, {
    key: '_checkRows',
    value: function _checkRows(rows) {
      var lastRow = null;
      var finalRows = [];
      var fillGaps = function fillGaps(col, index) {
        return col === '' || col === undefined ? lastRow[index] : col;
      };
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = rows[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var row = _step.value;

          var missing = this._headers.length - row.length;
          if (missing > 0) row = row.concat(Array(missing).join(".").split("."));
          if (lastRow && this._options.fillGaps) row = row.map(fillGaps);
          finalRows.push(row.join(this._options.rowDelimiter));
          lastRow = row;
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return finalRows;
    }
  }, {
    key: '_parseArray',
    value: function _parseArray(json, stream) {
      var self = this;
      this._headers = this._headers || [];
      var fileRows = [];
      var outputFile = void 0;
      var fillRows = void 0;

      var getHeaderIndex = function getHeaderIndex(header) {
        var index = self._headers.indexOf(header);
        if (index === -1) {
          self._headers.push(header);
          index = self._headers.indexOf(header);
        }
        return index;
      };

      //Generate the csv output
      fillRows = function fillRows(result) {
        var rows = [];
        var fillAndPush = function fillAndPush(row) {
          return rows.push(row.map(function (col) {
            return col || '';
          }));
        };
        // initialize the array with empty strings to handle 'unpopular' headers
        var newRow = function newRow() {
          return new Array(self._headers.length).fill(null);
        };
        var emptyRowIndexByHeader = {};
        var currentRow = newRow();
        var _iteratorNormalCompletion2 = true;
        var _didIteratorError2 = false;
        var _iteratorError2 = undefined;

        try {
          for (var _iterator2 = result[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
            var element = _step2.value;

            var elementHeaderIndex = getHeaderIndex(element.item);
            if (currentRow[elementHeaderIndex] != undefined) {
              fillAndPush(currentRow);
              currentRow = newRow();
            }
            emptyRowIndexByHeader[elementHeaderIndex] = emptyRowIndexByHeader[elementHeaderIndex] || 0;
            // make sure there isnt a empty row for this header
            if (emptyRowIndexByHeader[elementHeaderIndex] < rows.length) {
              rows[emptyRowIndexByHeader[elementHeaderIndex]][elementHeaderIndex] = self._escape(element.value);
              emptyRowIndexByHeader[elementHeaderIndex] += 1;
              continue;
            }
            currentRow[elementHeaderIndex] = self._escape(element.value);
            emptyRowIndexByHeader[elementHeaderIndex] += 1;
          }
          // push last row
        } catch (err) {
          _didIteratorError2 = true;
          _iteratorError2 = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion2 && _iterator2.return) {
              _iterator2.return();
            }
          } finally {
            if (_didIteratorError2) {
              throw _iteratorError2;
            }
          }
        }

        if (currentRow.length > 0) {
          fillAndPush(currentRow);
        }
        fileRows = fileRows.concat(self._checkRows(rows));
      };
      var _iteratorNormalCompletion3 = true;
      var _didIteratorError3 = false;
      var _iteratorError3 = undefined;

      try {
        for (var _iterator3 = json[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
          var item = _step3.value;

          //Call checkType to list all items inside this object
          //Items are returned as a object {item: 'Prop Value, Item Name', value: 'Prop Data Value'}
          var itemResult = self._handler.check(item, self._options.mainPathItem, item, json);
          fillRows(itemResult);
        }
      } catch (err) {
        _didIteratorError3 = true;
        _iteratorError3 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion3 && _iterator3.return) {
            _iterator3.return();
          }
        } finally {
          if (_didIteratorError3) {
            throw _iteratorError3;
          }
        }
      }

      if (!stream && self._options.includeHeaders) {
        //Add the headers to the first line
        fileRows.unshift(this.headers);
      }

      return joinRows(fileRows, self._options.endOfLine);
    }
  }, {
    key: '_parseObject',
    value: function _parseObject(json) {
      var self = this;
      var fileRows = [];
      var parseResult = [];
      var outputFile = void 0;
      var fillRows = void 0;
      var horizontalRows = [[], []];

      fillRows = function fillRows(result) {
        var value = result.value ? result.value.toString() : self._options.undefinedString;
        value = self._escape(value);

        //Type header;value
        if (self._options.verticalOutput) {
          var row = [result.item, value];
          fileRows.push(row.join(self._options.rowDelimiter));
        } else {
          horizontalRows[0].push(result.item);
          horizontalRows[1].push(value);
        }
      };
      for (var prop in json) {
        var prefix = "";
        if (this._options.mainPathItem) prefix = this._options.mainPathItem + this._options.headerPathString;
        parseResult = this._handler.check(json[prop], prefix + prop, prop, json);

        parseResult.forEach(fillRows);
      }
      if (!this._options.verticalOutput) {
        fileRows.push(horizontalRows[0].join(this._options.rowDelimiter));
        fileRows.push(horizontalRows[1].join(this._options.rowDelimiter));
      }
      return joinRows(fileRows, this._options.endOfLine);
    }

    /**
     * Replaces the default options with the custom user options
     *
     * @param {Options} userOptions
     */

  }, {
    key: '_parseOptions',
    value: function _parseOptions(userOptions) {
      var defaultOptions = {
        headers: [], //              Array
        rename: [], //               Array
        headerPathString: '.', //    String
        rowDelimiter: ',', //        String
        textDelimiter: '"', //       String
        arrayPathString: ';', //     String
        undefinedString: '', //      String
        endOfLine: EOL || '\n', //   String
        mainPathItem: null, //       String
        booleanTrueString: null, //  String
        booleanFalseString: null, // String
        includeHeaders: true, //     Boolean
        fillGaps: false, //          Boolean
        verticalOutput: true, //     Boolean
        forceTextDelimiter: false, //Boolean
        //Handlers
        handleString: undefined, //  Function
        handleNumber: undefined, //  Function
        handleBoolean: undefined, // Function
        handleDate: undefined //    Function
      };
      return Object.assign({}, defaultOptions, userOptions);
    }
  }, {
    key: 'headers',
    get: function get() {
      var _this = this;

      var headers = this._headers;

      if (this._options.rename && this._options.rename.length > 0) headers = headers.map(function (header) {
        return _this._options.rename[_this._options.headers.indexOf(header)] || header;
      });

      if (this._options.forceTextDelimiter) {
        headers = headers.map(function (header) {
          return '' + _this._options.textDelimiter + header + _this._options.textDelimiter;
        });
      }

      if (this._options.mapHeaders) headers = headers.map(this._options.mapHeaders);

      return headers.join(this._options.rowDelimiter);
    }
  }]);

  return Parser;
}();

module.exports = Parser;

/***/ }),

/***/ "./node_modules/jsonexport/dist/parser/handler.js":
/*!********************************************************!*\
  !*** ./node_modules/jsonexport/dist/parser/handler.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* jshint node:true */


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var helper = __webpack_require__(/*! ../core/helper */ "./node_modules/jsonexport/dist/core/helper.js");

var Handler = function () {
  function Handler(options) {
    _classCallCheck(this, Handler);

    this._options = options;

    //an object of {typeName:(value,index,parent)=>any}
    this._options.typeHandlers = this._options.typeHandlers || {};

    //deprecated options
    this._options.handleString = this._options.handleString ? warnDepOp('handleString', this._options.handleString) : this._handleString;
    this._options.handleNumber = this._options.handleNumber ? warnDepOp('handleNumber', this._options.handleNumber) : this._handleNumber;
    this._options.handleBoolean = this._options.handleBoolean ? warnDepOp('handleBoolean', this._options.handleBoolean) : this._handleBoolean;
    this._options.handleDate = this._options.handleDate ? warnDepOp('handleDate', this._options.handleDate) : this._handleDate;
  }

  /**
   * Check if results needing mapping to alternate value
   *
   * @returns [{item, value}] result
   */


  _createClass(Handler, [{
    key: '_setHeaders',
    value: function _setHeaders(result, item) {
      var self = this;
      if (!item) return result;
      return result.map(function (element) {
        element.item = element.item ? item + self._options.headerPathString + element.item : item;
        return element;
      });
    }
  }, {
    key: 'castValue',
    value: function castValue(element, item, index, parent) {
      //cast by matching constructor
      var types = this._options.typeHandlers;
      for (var type in types) {
        if (isInstanceOfTypeName(element, type)) {
          element = types[type].call(types, element, index, parent);
          break; //first match we move on
        }
      }

      return element;
    }
  }, {
    key: 'checkComplex',
    value: function checkComplex(element, item) {
      //Check if element is a Date
      if (helper.isDate(element)) {
        return [{
          item: item,
          value: this._options.handleDate(element, item)
        }];
      }
      //Check if element is an Array
      else if (helper.isArray(element)) {
          var resultArray = this._handleArray(element, item);
          return this._setHeaders(resultArray, item);
        }
        //Check if element is a Object
        else if (helper.isObject(element)) {
            var resultObject = this._handleObject(element);
            return this._setHeaders(resultObject, item);
          }

      return [{
        item: item,
        value: ''
      }];
    }

    /**
     * Check the element type of the element call the correct handle function
     *
     * @param element Element that will be checked
     * @param item Used to make the headers/path breadcrumb
     * @returns [{item, value}] result
     */

  }, {
    key: 'check',
    value: function check(element, item, index, parent) {
      element = this.castValue(element, item, index, parent);

      //try simple value by highier performance switch
      switch (typeof element === 'undefined' ? 'undefined' : _typeof(element)) {
        case 'string':
          return [{
            item: item,
            value: this._options.handleString(element, item)
          }];

        case 'number':
          return [{
            item: item,
            value: this._options.handleNumber(element, item)
          }];

        case 'boolean':
          return [{
            item: item,
            value: this._options.handleBoolean.bind(this)(element, item)
          }];
      }

      return this.checkComplex(element, item);
    }

    /**
     * Handle all Objects
     *
     * @param {Object} obj
     * @returns [{item, value}] result
     */

  }, {
    key: '_handleObject',
    value: function _handleObject(obj) {
      var result = [];
      //Look every object props
      for (var prop in obj) {
        var propData = obj[prop];
        //Check the propData type
        var resultCheckType = this.check(propData, prop, prop, obj);
        //Append to results aka merge results aka array-append-array
        result = result.concat(resultCheckType);
      }
      return result;
    }

    /**
     * Handle all Arrays, merges arrays with primitive types in a single value
     *
     * @param {Array} array
     * @returns [{item, value}] result
     */

  }, {
    key: '_handleArray',
    value: function _handleArray(array) {
      var self = this;
      var result = [];
      var firstElementWithoutItem;
      for (var aIndex = 0; aIndex < array.length; ++aIndex) {
        var element = array[aIndex];
        //Check the propData type
        var resultCheckType = self.check(element, null, aIndex, array);
        //Check for results without itens, merge all itens with the first occurrence
        if (resultCheckType.length === 0) continue;
        var firstResult = resultCheckType[0];
        if (!firstResult.item && firstElementWithoutItem !== undefined) {
          firstElementWithoutItem.value += self._options.arrayPathString + firstResult.value;
          continue;
        } else if (resultCheckType.length > 0 && !firstResult.item && firstElementWithoutItem === undefined) {
          firstElementWithoutItem = firstResult;
        }
        //Append to results
        result = result.concat(resultCheckType);
      }
      return result;
    }
    /**
     * Handle all Boolean variables, can be replaced with options.handleBoolean
     *
     * @param {Boolean} boolean
     * @returns {String} result
     */

  }, {
    key: '_handleBoolean',
    value: function _handleBoolean(boolean) {
      var result;
      //Check for booolean options
      if (boolean) {
        result = this._options.booleanTrueString || 'true';
      } else {
        result = this._options.booleanFalseString || 'false';
      }
      return result;
    }
    /**
     * Handle all String variables, can be replaced with options.handleString
     *
     * @param {String} string
     * @returns {String} string
     */

  }, {
    key: '_handleString',
    value: function _handleString(string) {
      return string;
    }
    /**
     * Handle all Number variables, can be replaced with options.handleNumber
     *
     * @param {Number} number
     * @returns {Number} number
     */

  }, {
    key: '_handleNumber',
    value: function _handleNumber(number) {
      return number;
    }
    /**
     * Handle all Date variables, can be replaced with options.handleDate
     *
     * @param {Date} number
     * @returns {string} result
     */

  }, {
    key: '_handleDate',
    value: function _handleDate(date) {
      return date.toLocaleDateString();
    }
  }]);

  return Handler;
}();

module.exports = Handler;

function warnDepOp(optionName, backOut) {
  console.warn("[jsonexport]: option " + optionName + " has been deprecated. Use option.typeHandlers");
  return backOut;
}

var globalScope = typeof window === "undefined" ? __webpack_require__.g : window;
function isInstanceOfTypeName(element, typeName) {
  if (element instanceof globalScope[typeName]) {
    return true; //Buffer and complex objects
  }

  //literals in javascript cannot be checked by instance of
  switch (typeof element === 'undefined' ? 'undefined' : _typeof(element)) {
    case 'string':
      return typeName === "String";
    case 'boolean':
      return typeName === "Boolean";
    case 'number':
      return typeName === "Number";
  }

  return false;
}

/***/ }),

/***/ "./node_modules/lodash/_assignMergeValue.js":
/*!**************************************************!*\
  !*** ./node_modules/lodash/_assignMergeValue.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseAssignValue = __webpack_require__(/*! ./_baseAssignValue */ "./node_modules/lodash/_baseAssignValue.js"),
    eq = __webpack_require__(/*! ./eq */ "./node_modules/lodash/eq.js");

/**
 * This function is like `assignValue` except that it doesn't assign
 * `undefined` values.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignMergeValue(object, key, value) {
  if ((value !== undefined && !eq(object[key], value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

module.exports = assignMergeValue;


/***/ }),

/***/ "./node_modules/lodash/_baseDifference.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_baseDifference.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var SetCache = __webpack_require__(/*! ./_SetCache */ "./node_modules/lodash/_SetCache.js"),
    arrayIncludes = __webpack_require__(/*! ./_arrayIncludes */ "./node_modules/lodash/_arrayIncludes.js"),
    arrayIncludesWith = __webpack_require__(/*! ./_arrayIncludesWith */ "./node_modules/lodash/_arrayIncludesWith.js"),
    arrayMap = __webpack_require__(/*! ./_arrayMap */ "./node_modules/lodash/_arrayMap.js"),
    baseUnary = __webpack_require__(/*! ./_baseUnary */ "./node_modules/lodash/_baseUnary.js"),
    cacheHas = __webpack_require__(/*! ./_cacheHas */ "./node_modules/lodash/_cacheHas.js");

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/**
 * The base implementation of methods like `_.difference` without support
 * for excluding multiple arrays or iteratee shorthands.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {Array} values The values to exclude.
 * @param {Function} [iteratee] The iteratee invoked per element.
 * @param {Function} [comparator] The comparator invoked per element.
 * @returns {Array} Returns the new array of filtered values.
 */
function baseDifference(array, values, iteratee, comparator) {
  var index = -1,
      includes = arrayIncludes,
      isCommon = true,
      length = array.length,
      result = [],
      valuesLength = values.length;

  if (!length) {
    return result;
  }
  if (iteratee) {
    values = arrayMap(values, baseUnary(iteratee));
  }
  if (comparator) {
    includes = arrayIncludesWith;
    isCommon = false;
  }
  else if (values.length >= LARGE_ARRAY_SIZE) {
    includes = cacheHas;
    isCommon = false;
    values = new SetCache(values);
  }
  outer:
  while (++index < length) {
    var value = array[index],
        computed = iteratee == null ? value : iteratee(value);

    value = (comparator || value !== 0) ? value : 0;
    if (isCommon && computed === computed) {
      var valuesIndex = valuesLength;
      while (valuesIndex--) {
        if (values[valuesIndex] === computed) {
          continue outer;
        }
      }
      result.push(value);
    }
    else if (!includes(values, computed, comparator)) {
      result.push(value);
    }
  }
  return result;
}

module.exports = baseDifference;


/***/ }),

/***/ "./node_modules/lodash/_baseFor.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_baseFor.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var createBaseFor = __webpack_require__(/*! ./_createBaseFor */ "./node_modules/lodash/_createBaseFor.js");

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

module.exports = baseFor;


/***/ }),

/***/ "./node_modules/lodash/_baseMerge.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_baseMerge.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var Stack = __webpack_require__(/*! ./_Stack */ "./node_modules/lodash/_Stack.js"),
    assignMergeValue = __webpack_require__(/*! ./_assignMergeValue */ "./node_modules/lodash/_assignMergeValue.js"),
    baseFor = __webpack_require__(/*! ./_baseFor */ "./node_modules/lodash/_baseFor.js"),
    baseMergeDeep = __webpack_require__(/*! ./_baseMergeDeep */ "./node_modules/lodash/_baseMergeDeep.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    keysIn = __webpack_require__(/*! ./keysIn */ "./node_modules/lodash/keysIn.js"),
    safeGet = __webpack_require__(/*! ./_safeGet */ "./node_modules/lodash/_safeGet.js");

/**
 * The base implementation of `_.merge` without support for multiple sources.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} [customizer] The function to customize merged values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMerge(object, source, srcIndex, customizer, stack) {
  if (object === source) {
    return;
  }
  baseFor(source, function(srcValue, key) {
    stack || (stack = new Stack);
    if (isObject(srcValue)) {
      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
    }
    else {
      var newValue = customizer
        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)
        : undefined;

      if (newValue === undefined) {
        newValue = srcValue;
      }
      assignMergeValue(object, key, newValue);
    }
  }, keysIn);
}

module.exports = baseMerge;


/***/ }),

/***/ "./node_modules/lodash/_baseMergeDeep.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash/_baseMergeDeep.js ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var assignMergeValue = __webpack_require__(/*! ./_assignMergeValue */ "./node_modules/lodash/_assignMergeValue.js"),
    cloneBuffer = __webpack_require__(/*! ./_cloneBuffer */ "./node_modules/lodash/_cloneBuffer.js"),
    cloneTypedArray = __webpack_require__(/*! ./_cloneTypedArray */ "./node_modules/lodash/_cloneTypedArray.js"),
    copyArray = __webpack_require__(/*! ./_copyArray */ "./node_modules/lodash/_copyArray.js"),
    initCloneObject = __webpack_require__(/*! ./_initCloneObject */ "./node_modules/lodash/_initCloneObject.js"),
    isArguments = __webpack_require__(/*! ./isArguments */ "./node_modules/lodash/isArguments.js"),
    isArray = __webpack_require__(/*! ./isArray */ "./node_modules/lodash/isArray.js"),
    isArrayLikeObject = __webpack_require__(/*! ./isArrayLikeObject */ "./node_modules/lodash/isArrayLikeObject.js"),
    isBuffer = __webpack_require__(/*! ./isBuffer */ "./node_modules/lodash/isBuffer.js"),
    isFunction = __webpack_require__(/*! ./isFunction */ "./node_modules/lodash/isFunction.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    isPlainObject = __webpack_require__(/*! ./isPlainObject */ "./node_modules/lodash/isPlainObject.js"),
    isTypedArray = __webpack_require__(/*! ./isTypedArray */ "./node_modules/lodash/isTypedArray.js"),
    safeGet = __webpack_require__(/*! ./_safeGet */ "./node_modules/lodash/_safeGet.js"),
    toPlainObject = __webpack_require__(/*! ./toPlainObject */ "./node_modules/lodash/toPlainObject.js");

/**
 * A specialized version of `baseMerge` for arrays and objects which performs
 * deep merges and tracks traversed objects enabling objects with circular
 * references to be merged.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {string} key The key of the value to merge.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} mergeFunc The function to merge values.
 * @param {Function} [customizer] The function to customize assigned values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
  var objValue = safeGet(object, key),
      srcValue = safeGet(source, key),
      stacked = stack.get(srcValue);

  if (stacked) {
    assignMergeValue(object, key, stacked);
    return;
  }
  var newValue = customizer
    ? customizer(objValue, srcValue, (key + ''), object, source, stack)
    : undefined;

  var isCommon = newValue === undefined;

  if (isCommon) {
    var isArr = isArray(srcValue),
        isBuff = !isArr && isBuffer(srcValue),
        isTyped = !isArr && !isBuff && isTypedArray(srcValue);

    newValue = srcValue;
    if (isArr || isBuff || isTyped) {
      if (isArray(objValue)) {
        newValue = objValue;
      }
      else if (isArrayLikeObject(objValue)) {
        newValue = copyArray(objValue);
      }
      else if (isBuff) {
        isCommon = false;
        newValue = cloneBuffer(srcValue, true);
      }
      else if (isTyped) {
        isCommon = false;
        newValue = cloneTypedArray(srcValue, true);
      }
      else {
        newValue = [];
      }
    }
    else if (isPlainObject(srcValue) || isArguments(srcValue)) {
      newValue = objValue;
      if (isArguments(objValue)) {
        newValue = toPlainObject(objValue);
      }
      else if (!isObject(objValue) || isFunction(objValue)) {
        newValue = initCloneObject(srcValue);
      }
    }
    else {
      isCommon = false;
    }
  }
  if (isCommon) {
    // Recursively merge objects and arrays (susceptible to call stack limits).
    stack.set(srcValue, newValue);
    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
    stack['delete'](srcValue);
  }
  assignMergeValue(object, key, newValue);
}

module.exports = baseMergeDeep;


/***/ }),

/***/ "./node_modules/lodash/_cloneArrayBuffer.js":
/*!**************************************************!*\
  !*** ./node_modules/lodash/_cloneArrayBuffer.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var Uint8Array = __webpack_require__(/*! ./_Uint8Array */ "./node_modules/lodash/_Uint8Array.js");

/**
 * Creates a clone of `arrayBuffer`.
 *
 * @private
 * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
 * @returns {ArrayBuffer} Returns the cloned array buffer.
 */
function cloneArrayBuffer(arrayBuffer) {
  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
  new Uint8Array(result).set(new Uint8Array(arrayBuffer));
  return result;
}

module.exports = cloneArrayBuffer;


/***/ }),

/***/ "./node_modules/lodash/_cloneBuffer.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_cloneBuffer.js ***!
  \*********************************************/
/***/ ((module, exports, __webpack_require__) => {

/* module decorator */ module = __webpack_require__.nmd(module);
var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");

/** Detect free variable `exports`. */
var freeExports =  true && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && "object" == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;

/**
 * Creates a clone of  `buffer`.
 *
 * @private
 * @param {Buffer} buffer The buffer to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Buffer} Returns the cloned buffer.
 */
function cloneBuffer(buffer, isDeep) {
  if (isDeep) {
    return buffer.slice();
  }
  var length = buffer.length,
      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

  buffer.copy(result);
  return result;
}

module.exports = cloneBuffer;


/***/ }),

/***/ "./node_modules/lodash/_cloneTypedArray.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_cloneTypedArray.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var cloneArrayBuffer = __webpack_require__(/*! ./_cloneArrayBuffer */ "./node_modules/lodash/_cloneArrayBuffer.js");

/**
 * Creates a clone of `typedArray`.
 *
 * @private
 * @param {Object} typedArray The typed array to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned typed array.
 */
function cloneTypedArray(typedArray, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
}

module.exports = cloneTypedArray;


/***/ }),

/***/ "./node_modules/lodash/_copyObject.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_copyObject.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var assignValue = __webpack_require__(/*! ./_assignValue */ "./node_modules/lodash/_assignValue.js"),
    baseAssignValue = __webpack_require__(/*! ./_baseAssignValue */ "./node_modules/lodash/_baseAssignValue.js");

/**
 * Copies properties of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy properties from.
 * @param {Array} props The property identifiers to copy.
 * @param {Object} [object={}] The object to copy properties to.
 * @param {Function} [customizer] The function to customize copied values.
 * @returns {Object} Returns `object`.
 */
function copyObject(source, props, object, customizer) {
  var isNew = !object;
  object || (object = {});

  var index = -1,
      length = props.length;

  while (++index < length) {
    var key = props[index];

    var newValue = customizer
      ? customizer(object[key], source[key], key, object, source)
      : undefined;

    if (newValue === undefined) {
      newValue = source[key];
    }
    if (isNew) {
      baseAssignValue(object, key, newValue);
    } else {
      assignValue(object, key, newValue);
    }
  }
  return object;
}

module.exports = copyObject;


/***/ }),

/***/ "./node_modules/lodash/_createAssigner.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_createAssigner.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseRest = __webpack_require__(/*! ./_baseRest */ "./node_modules/lodash/_baseRest.js"),
    isIterateeCall = __webpack_require__(/*! ./_isIterateeCall */ "./node_modules/lodash/_isIterateeCall.js");

/**
 * Creates a function like `_.assign`.
 *
 * @private
 * @param {Function} assigner The function to assign values.
 * @returns {Function} Returns the new assigner function.
 */
function createAssigner(assigner) {
  return baseRest(function(object, sources) {
    var index = -1,
        length = sources.length,
        customizer = length > 1 ? sources[length - 1] : undefined,
        guard = length > 2 ? sources[2] : undefined;

    customizer = (assigner.length > 3 && typeof customizer == 'function')
      ? (length--, customizer)
      : undefined;

    if (guard && isIterateeCall(sources[0], sources[1], guard)) {
      customizer = length < 3 ? undefined : customizer;
      length = 1;
    }
    object = Object(object);
    while (++index < length) {
      var source = sources[index];
      if (source) {
        assigner(object, source, index, customizer);
      }
    }
    return object;
  });
}

module.exports = createAssigner;


/***/ }),

/***/ "./node_modules/lodash/_createBaseFor.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash/_createBaseFor.js ***!
  \***********************************************/
/***/ ((module) => {

/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function(object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

module.exports = createBaseFor;


/***/ }),

/***/ "./node_modules/lodash/_initCloneObject.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_initCloneObject.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseCreate = __webpack_require__(/*! ./_baseCreate */ "./node_modules/lodash/_baseCreate.js"),
    getPrototype = __webpack_require__(/*! ./_getPrototype */ "./node_modules/lodash/_getPrototype.js"),
    isPrototype = __webpack_require__(/*! ./_isPrototype */ "./node_modules/lodash/_isPrototype.js");

/**
 * Initializes an object clone.
 *
 * @private
 * @param {Object} object The object to clone.
 * @returns {Object} Returns the initialized clone.
 */
function initCloneObject(object) {
  return (typeof object.constructor == 'function' && !isPrototype(object))
    ? baseCreate(getPrototype(object))
    : {};
}

module.exports = initCloneObject;


/***/ }),

/***/ "./node_modules/lodash/_isIterateeCall.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_isIterateeCall.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var eq = __webpack_require__(/*! ./eq */ "./node_modules/lodash/eq.js"),
    isArrayLike = __webpack_require__(/*! ./isArrayLike */ "./node_modules/lodash/isArrayLike.js"),
    isIndex = __webpack_require__(/*! ./_isIndex */ "./node_modules/lodash/_isIndex.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js");

/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */
function isIterateeCall(value, index, object) {
  if (!isObject(object)) {
    return false;
  }
  var type = typeof index;
  if (type == 'number'
        ? (isArrayLike(object) && isIndex(index, object.length))
        : (type == 'string' && index in object)
      ) {
    return eq(object[index], value);
  }
  return false;
}

module.exports = isIterateeCall;


/***/ }),

/***/ "./node_modules/lodash/_safeGet.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_safeGet.js ***!
  \*****************************************/
/***/ ((module) => {

/**
 * Gets the value at `key`, unless `key` is "__proto__" or "constructor".
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function safeGet(object, key) {
  if (key === 'constructor' && typeof object[key] === 'function') {
    return;
  }

  if (key == '__proto__') {
    return;
  }

  return object[key];
}

module.exports = safeGet;


/***/ }),

/***/ "./node_modules/lodash/defaults.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/defaults.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseRest = __webpack_require__(/*! ./_baseRest */ "./node_modules/lodash/_baseRest.js"),
    eq = __webpack_require__(/*! ./eq */ "./node_modules/lodash/eq.js"),
    isIterateeCall = __webpack_require__(/*! ./_isIterateeCall */ "./node_modules/lodash/_isIterateeCall.js"),
    keysIn = __webpack_require__(/*! ./keysIn */ "./node_modules/lodash/keysIn.js");

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Assigns own and inherited enumerable string keyed properties of source
 * objects to the destination object for all destination properties that
 * resolve to `undefined`. Source objects are applied from left to right.
 * Once a property is set, additional values of the same property are ignored.
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} [sources] The source objects.
 * @returns {Object} Returns `object`.
 * @see _.defaultsDeep
 * @example
 *
 * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
 * // => { 'a': 1, 'b': 2 }
 */
var defaults = baseRest(function(object, sources) {
  object = Object(object);

  var index = -1;
  var length = sources.length;
  var guard = length > 2 ? sources[2] : undefined;

  if (guard && isIterateeCall(sources[0], sources[1], guard)) {
    length = 1;
  }

  while (++index < length) {
    var source = sources[index];
    var props = keysIn(source);
    var propsIndex = -1;
    var propsLength = props.length;

    while (++propsIndex < propsLength) {
      var key = props[propsIndex];
      var value = object[key];

      if (value === undefined ||
          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {
        object[key] = source[key];
      }
    }
  }

  return object;
});

module.exports = defaults;


/***/ }),

/***/ "./node_modules/lodash/difference.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/difference.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseDifference = __webpack_require__(/*! ./_baseDifference */ "./node_modules/lodash/_baseDifference.js"),
    baseFlatten = __webpack_require__(/*! ./_baseFlatten */ "./node_modules/lodash/_baseFlatten.js"),
    baseRest = __webpack_require__(/*! ./_baseRest */ "./node_modules/lodash/_baseRest.js"),
    isArrayLikeObject = __webpack_require__(/*! ./isArrayLikeObject */ "./node_modules/lodash/isArrayLikeObject.js");

/**
 * Creates an array of `array` values not included in the other given arrays
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons. The order and references of result values are
 * determined by the first array.
 *
 * **Note:** Unlike `_.pullAll`, this method returns a new array.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Array
 * @param {Array} array The array to inspect.
 * @param {...Array} [values] The values to exclude.
 * @returns {Array} Returns the new array of filtered values.
 * @see _.without, _.xor
 * @example
 *
 * _.difference([2, 1], [2, 3]);
 * // => [1]
 */
var difference = baseRest(function(array, values) {
  return isArrayLikeObject(array)
    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))
    : [];
});

module.exports = difference;


/***/ }),

/***/ "./node_modules/lodash/isPlainObject.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/isPlainObject.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ "./node_modules/lodash/_baseGetTag.js"),
    getPrototype = __webpack_require__(/*! ./_getPrototype */ "./node_modules/lodash/_getPrototype.js"),
    isObjectLike = __webpack_require__(/*! ./isObjectLike */ "./node_modules/lodash/isObjectLike.js");

/** `Object#toString` result references. */
var objectTag = '[object Object]';

/** Used for built-in method references. */
var funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/** Used to infer the `Object` constructor. */
var objectCtorString = funcToString.call(Object);

/**
 * Checks if `value` is a plain object, that is, an object created by the
 * `Object` constructor or one with a `[[Prototype]]` of `null`.
 *
 * @static
 * @memberOf _
 * @since 0.8.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * _.isPlainObject(new Foo);
 * // => false
 *
 * _.isPlainObject([1, 2, 3]);
 * // => false
 *
 * _.isPlainObject({ 'x': 0, 'y': 0 });
 * // => true
 *
 * _.isPlainObject(Object.create(null));
 * // => true
 */
function isPlainObject(value) {
  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
    return false;
  }
  var proto = getPrototype(value);
  if (proto === null) {
    return true;
  }
  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;
  return typeof Ctor == 'function' && Ctor instanceof Ctor &&
    funcToString.call(Ctor) == objectCtorString;
}

module.exports = isPlainObject;


/***/ }),

/***/ "./node_modules/lodash/merge.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/merge.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var baseMerge = __webpack_require__(/*! ./_baseMerge */ "./node_modules/lodash/_baseMerge.js"),
    createAssigner = __webpack_require__(/*! ./_createAssigner */ "./node_modules/lodash/_createAssigner.js");

/**
 * This method is like `_.assign` except that it recursively merges own and
 * inherited enumerable string keyed properties of source objects into the
 * destination object. Source properties that resolve to `undefined` are
 * skipped if a destination value exists. Array and plain object properties
 * are merged recursively. Other objects and value types are overridden by
 * assignment. Source objects are applied from left to right. Subsequent
 * sources overwrite property assignments of previous sources.
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 0.5.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} [sources] The source objects.
 * @returns {Object} Returns `object`.
 * @example
 *
 * var object = {
 *   'a': [{ 'b': 2 }, { 'd': 4 }]
 * };
 *
 * var other = {
 *   'a': [{ 'c': 3 }, { 'e': 5 }]
 * };
 *
 * _.merge(object, other);
 * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
 */
var merge = createAssigner(function(object, source, srcIndex) {
  baseMerge(object, source, srcIndex);
});

module.exports = merge;


/***/ }),

/***/ "./node_modules/lodash/toPlainObject.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/toPlainObject.js ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var copyObject = __webpack_require__(/*! ./_copyObject */ "./node_modules/lodash/_copyObject.js"),
    keysIn = __webpack_require__(/*! ./keysIn */ "./node_modules/lodash/keysIn.js");

/**
 * Converts `value` to a plain object flattening inherited enumerable string
 * keyed properties of `value` to own properties of the plain object.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {Object} Returns the converted plain object.
 * @example
 *
 * function Foo() {
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.assign({ 'a': 1 }, new Foo);
 * // => { 'a': 1, 'b': 2 }
 *
 * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
 * // => { 'a': 1, 'b': 2, 'c': 3 }
 */
function toPlainObject(value) {
  return copyObject(value, keysIn(value));
}

module.exports = toPlainObject;


/***/ }),

/***/ "./node_modules/query-string/index.js":
/*!********************************************!*\
  !*** ./node_modules/query-string/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

var strictUriEncode = __webpack_require__(/*! strict-uri-encode */ "./node_modules/strict-uri-encode/index.js");
var objectAssign = __webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js");
var decodeComponent = __webpack_require__(/*! decode-uri-component */ "./node_modules/decode-uri-component/index.js");

function encoderForArrayFormat(opts) {
	switch (opts.arrayFormat) {
		case 'index':
			return function (key, value, index) {
				return value === null ? [
					encode(key, opts),
					'[',
					index,
					']'
				].join('') : [
					encode(key, opts),
					'[',
					encode(index, opts),
					']=',
					encode(value, opts)
				].join('');
			};

		case 'bracket':
			return function (key, value) {
				return value === null ? encode(key, opts) : [
					encode(key, opts),
					'[]=',
					encode(value, opts)
				].join('');
			};

		default:
			return function (key, value) {
				return value === null ? encode(key, opts) : [
					encode(key, opts),
					'=',
					encode(value, opts)
				].join('');
			};
	}
}

function parserForArrayFormat(opts) {
	var result;

	switch (opts.arrayFormat) {
		case 'index':
			return function (key, value, accumulator) {
				result = /\[(\d*)\]$/.exec(key);

				key = key.replace(/\[\d*\]$/, '');

				if (!result) {
					accumulator[key] = value;
					return;
				}

				if (accumulator[key] === undefined) {
					accumulator[key] = {};
				}

				accumulator[key][result[1]] = value;
			};

		case 'bracket':
			return function (key, value, accumulator) {
				result = /(\[\])$/.exec(key);
				key = key.replace(/\[\]$/, '');

				if (!result) {
					accumulator[key] = value;
					return;
				} else if (accumulator[key] === undefined) {
					accumulator[key] = [value];
					return;
				}

				accumulator[key] = [].concat(accumulator[key], value);
			};

		default:
			return function (key, value, accumulator) {
				if (accumulator[key] === undefined) {
					accumulator[key] = value;
					return;
				}

				accumulator[key] = [].concat(accumulator[key], value);
			};
	}
}

function encode(value, opts) {
	if (opts.encode) {
		return opts.strict ? strictUriEncode(value) : encodeURIComponent(value);
	}

	return value;
}

function keysSorter(input) {
	if (Array.isArray(input)) {
		return input.sort();
	} else if (typeof input === 'object') {
		return keysSorter(Object.keys(input)).sort(function (a, b) {
			return Number(a) - Number(b);
		}).map(function (key) {
			return input[key];
		});
	}

	return input;
}

function extract(str) {
	var queryStart = str.indexOf('?');
	if (queryStart === -1) {
		return '';
	}
	return str.slice(queryStart + 1);
}

function parse(str, opts) {
	opts = objectAssign({arrayFormat: 'none'}, opts);

	var formatter = parserForArrayFormat(opts);

	// Create an object with no prototype
	// https://github.com/sindresorhus/query-string/issues/47
	var ret = Object.create(null);

	if (typeof str !== 'string') {
		return ret;
	}

	str = str.trim().replace(/^[?#&]/, '');

	if (!str) {
		return ret;
	}

	str.split('&').forEach(function (param) {
		var parts = param.replace(/\+/g, ' ').split('=');
		// Firefox (pre 40) decodes `%3D` to `=`
		// https://github.com/sindresorhus/query-string/pull/37
		var key = parts.shift();
		var val = parts.length > 0 ? parts.join('=') : undefined;

		// missing `=` should be `null`:
		// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters
		val = val === undefined ? null : decodeComponent(val);

		formatter(decodeComponent(key), val, ret);
	});

	return Object.keys(ret).sort().reduce(function (result, key) {
		var val = ret[key];
		if (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {
			// Sort object keys, not values
			result[key] = keysSorter(val);
		} else {
			result[key] = val;
		}

		return result;
	}, Object.create(null));
}

exports.extract = extract;
exports.parse = parse;

exports.stringify = function (obj, opts) {
	var defaults = {
		encode: true,
		strict: true,
		arrayFormat: 'none'
	};

	opts = objectAssign(defaults, opts);

	if (opts.sort === false) {
		opts.sort = function () {};
	}

	var formatter = encoderForArrayFormat(opts);

	return obj ? Object.keys(obj).sort(opts.sort).map(function (key) {
		var val = obj[key];

		if (val === undefined) {
			return '';
		}

		if (val === null) {
			return encode(key, opts);
		}

		if (Array.isArray(val)) {
			var result = [];

			val.slice().forEach(function (val2) {
				if (val2 === undefined) {
					return;
				}

				result.push(formatter(key, val2, result.length));
			});

			return result.join('&');
		}

		return encode(key, opts) + '=' + encode(val, opts);
	}).filter(function (x) {
		return x.length > 0;
	}).join('&') : '';
};

exports.parseUrl = function (str, opts) {
	return {
		url: str.split('?')[0] || '',
		query: parse(extract(str), opts)
	};
};


/***/ }),

/***/ "./node_modules/ra-core/esm/actions/authActions.js":
/*!*********************************************************!*\
  !*** ./node_modules/ra-core/esm/actions/authActions.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "USER_LOGIN": () => (/* binding */ USER_LOGIN),
/* harmony export */   "USER_LOGIN_LOADING": () => (/* binding */ USER_LOGIN_LOADING),
/* harmony export */   "USER_LOGIN_FAILURE": () => (/* binding */ USER_LOGIN_FAILURE),
/* harmony export */   "USER_LOGIN_SUCCESS": () => (/* binding */ USER_LOGIN_SUCCESS),
/* harmony export */   "userLogin": () => (/* binding */ userLogin),
/* harmony export */   "USER_CHECK": () => (/* binding */ USER_CHECK),
/* harmony export */   "USER_CHECK_SUCCESS": () => (/* binding */ USER_CHECK_SUCCESS),
/* harmony export */   "userCheck": () => (/* binding */ userCheck),
/* harmony export */   "USER_LOGOUT": () => (/* binding */ USER_LOGOUT),
/* harmony export */   "userLogout": () => (/* binding */ userLogout)
/* harmony export */ });
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var USER_LOGIN = 'RA/USER_LOGIN';
var USER_LOGIN_LOADING = 'RA/USER_LOGIN_LOADING';
var USER_LOGIN_FAILURE = 'RA/USER_LOGIN_FAILURE';
var USER_LOGIN_SUCCESS = 'RA/USER_LOGIN_SUCCESS';
var userLogin = function (payload, pathName) { return ({
    type: USER_LOGIN,
    payload: payload,
    meta: { auth: true, pathName: pathName },
}); };
var USER_CHECK = 'RA/USER_CHECK';
var USER_CHECK_SUCCESS = 'RA/USER_CHECK_SUCCESS';
var userCheck = function (payload, pathName, routeParams) {
    if (routeParams === void 0) { routeParams = {}; }
    return ({
        type: USER_CHECK,
        payload: __assign(__assign({}, payload), { routeParams: routeParams }),
        meta: { auth: true, pathName: pathName },
    });
};
var USER_LOGOUT = 'RA/USER_LOGOUT';
/**
 * Action to trigger logout of the current user. The entire redux state will be cleared
 * thanks to the resettableAppReducer in Admin.
 * @see: Admin.js
 * @param redirectTo Path to direct to after logout
 * @return {{type: string, payload: {redirectTo: string}, meta: {auth: boolean}}}
 */
var userLogout = function (redirectTo) { return ({
    type: USER_LOGOUT,
    payload: { redirectTo: redirectTo },
    meta: { auth: true },
}); };


/***/ }),

/***/ "./node_modules/ra-core/esm/actions/dataActions/crudDeleteMany.js":
/*!************************************************************************!*\
  !*** ./node_modules/ra-core/esm/actions/dataActions/crudDeleteMany.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "crudDeleteMany": () => (/* binding */ crudDeleteMany),
/* harmony export */   "CRUD_DELETE_MANY": () => (/* binding */ CRUD_DELETE_MANY),
/* harmony export */   "CRUD_DELETE_MANY_LOADING": () => (/* binding */ CRUD_DELETE_MANY_LOADING),
/* harmony export */   "CRUD_DELETE_MANY_FAILURE": () => (/* binding */ CRUD_DELETE_MANY_FAILURE),
/* harmony export */   "CRUD_DELETE_MANY_SUCCESS": () => (/* binding */ CRUD_DELETE_MANY_SUCCESS)
/* harmony export */ });
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core */ "./node_modules/ra-core/esm/core/dataFetchActions.js");

var crudDeleteMany = function (resource, ids, basePath, refresh) {
    if (refresh === void 0) { refresh = true; }
    return ({
        type: CRUD_DELETE_MANY,
        payload: { ids: ids },
        meta: {
            resource: resource,
            fetch: _core__WEBPACK_IMPORTED_MODULE_0__.DELETE_MANY,
            onSuccess: {
                notification: {
                    body: 'ra.notification.deleted',
                    level: 'info',
                    messageArgs: {
                        smart_count: ids.length,
                    },
                },
                basePath: basePath,
                refresh: refresh,
                unselectAll: true,
            },
            onFailure: {
                notification: {
                    body: 'ra.notification.http_error',
                    level: 'warning',
                },
            },
        },
    });
};
var CRUD_DELETE_MANY = 'RA/CRUD_DELETE_MANY';
var CRUD_DELETE_MANY_LOADING = 'RA/CRUD_DELETE_MANY_LOADING';
var CRUD_DELETE_MANY_FAILURE = 'RA/CRUD_DELETE_MANY_FAILURE';
var CRUD_DELETE_MANY_SUCCESS = 'RA/CRUD_DELETE_MANY_SUCCESS';


/***/ }),

/***/ "./node_modules/ra-core/esm/auth/WithPermissions.js":
/*!**********************************************************!*\
  !*** ./node_modules/ra-core/esm/auth/WithPermissions.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _util_warning__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/warning */ "./node_modules/ra-core/esm/util/warning.js");
/* harmony import */ var _useAuthenticated__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useAuthenticated */ "./node_modules/ra-core/esm/auth/useAuthenticated.js");
/* harmony import */ var _usePermissionsOptimized__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./usePermissionsOptimized */ "./node_modules/ra-core/esm/auth/usePermissionsOptimized.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};




var isEmptyChildren = function (children) { return react__WEBPACK_IMPORTED_MODULE_0__.Children.count(children) === 0; };
/**
 * After checking that the user is authenticated,
 * retrieves the user's permissions for a specific context.
 *
 * Useful for Route components ; used internally by Resource.
 * Use it to decorate your custom page components to require
 * a custom role. It will pass the permissions as a prop to your
 * component.
 *
 * You can set additional `authParams` at will if your authProvider
 * requires it.
 *
 * @example
 *     import { WithPermissions } from 'react-admin';
 *
 *     const Foo = ({ permissions }) => (
 *         {permissions === 'admin' ? <p>Sensitive data</p> : null}
 *         <p>Not sensitive data</p>
 *     );
 *
 *     const customRoutes = [
 *         <Route path="/foo" render={() =>
 *             <WithPermissions
 *                  authParams={{ foo: 'bar' }}
 *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}
 *              />
 *         } />
 *     ];
 *     const App = () => (
 *         <Admin customRoutes={customRoutes}>
 *             ...
 *         </Admin>
 *     );
 */
var WithPermissions = function (_a) {
    var authParams = _a.authParams, children = _a.children, render = _a.render, component = _a.component, staticContext = _a.staticContext, props = __rest(_a, ["authParams", "children", "render", "component", "staticContext"]);
    (0,_util_warning__WEBPACK_IMPORTED_MODULE_1__.default)((render && children && !isEmptyChildren(children)) ||
        (render && component) ||
        (component && children && !isEmptyChildren(children)), 'You should only use one of the `component`, `render` and `children` props in <WithPermissions>');
    (0,_useAuthenticated__WEBPACK_IMPORTED_MODULE_2__.default)(authParams);
    var permissions = (0,_usePermissionsOptimized__WEBPACK_IMPORTED_MODULE_3__.default)(authParams).permissions;
    // render even though the usePermissions() call isn't finished (optimistic rendering)
    if (component) {
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(component, __assign({ permissions: permissions }, props));
    }
    // @deprecated
    if (render) {
        return render(__assign({ permissions: permissions }, props));
    }
    // @deprecated
    if (children) {
        return children(__assign({ permissions: permissions }, props));
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WithPermissions);


/***/ }),

/***/ "./node_modules/ra-core/esm/auth/convertLegacyAuthProvider.js":
/*!********************************************************************!*\
  !*** ./node_modules/ra-core/esm/auth/convertLegacyAuthProvider.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./node_modules/ra-core/esm/auth/types.js");

/**
 * Turn a function-based authProvider to an object-based one
 *
 * Allows using legacy authProviders transparently.
 *
 * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>
 *
 * @returns {Object} An authProvider that react-admin can use
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (legacyAuthProvider) {
    var authProvider = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return legacyAuthProvider.apply(null, args);
    };
    authProvider.login = function (params) { return legacyAuthProvider(_types__WEBPACK_IMPORTED_MODULE_0__.AUTH_LOGIN, params); };
    authProvider.logout = function (params) { return legacyAuthProvider(_types__WEBPACK_IMPORTED_MODULE_0__.AUTH_LOGOUT, params); };
    authProvider.checkAuth = function (params) { return legacyAuthProvider(_types__WEBPACK_IMPORTED_MODULE_0__.AUTH_CHECK, params); };
    authProvider.checkError = function (error) { return legacyAuthProvider(_types__WEBPACK_IMPORTED_MODULE_0__.AUTH_ERROR, error); };
    authProvider.getPermissions = function (params) {
        return legacyAuthProvider(_types__WEBPACK_IMPORTED_MODULE_0__.AUTH_GET_PERMISSIONS, params);
    };
    return authProvider;
});


/***/ }),

/***/ "./node_modules/ra-core/esm/auth/types.js":
/*!************************************************!*\
  !*** ./node_modules/ra-core/esm/auth/types.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AUTH_LOGIN": () => (/* binding */ AUTH_LOGIN),
/* harmony export */   "AUTH_CHECK": () => (/* binding */ AUTH_CHECK),
/* harmony export */   "AUTH_ERROR": () => (/* binding */ AUTH_ERROR),
/* harmony export */   "AUTH_LOGOUT": () => (/* binding */ AUTH_LOGOUT),
/* harmony export */   "AUTH_GET_PERMISSIONS": () => (/* binding */ AUTH_GET_PERMISSIONS)
/* harmony export */ });
var AUTH_LOGIN = 'AUTH_LOGIN';
var AUTH_CHECK = 'AUTH_CHECK';
var AUTH_ERROR = 'AUTH_ERROR';
var AUTH_LOGOUT = 'AUTH_LOGOUT';
var AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';


/***/ }),

/***/ "./node_modules/ra-core/esm/auth/useAuthState.js":
/*!*******************************************************!*\
  !*** ./node_modules/ra-core/esm/auth/useAuthState.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useCheckAuth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useCheckAuth */ "./node_modules/ra-core/esm/auth/useCheckAuth.js");
/* harmony import */ var _util_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/hooks */ "./node_modules/ra-core/esm/util/hooks.js");



var emptyParams = {};
/**
 * Hook for getting the authentication status
 *
 * Calls the authProvider.checkAuth() method asynchronously.
 *
 * The return value updates according to the authProvider request state:
 *
 * - loading: true just after mount, while the authProvider is being called. false once the authProvider has answered.
 * - loaded: the opposite of loading.
 * - authenticated: true while loading. then true or false depending on the authProvider response.
 *
 * To avoid rendering a component and force waiting for the authProvider response, use the useAuthState() hook
 * instead of the useAuthenticated() hook.
 *
 * You can render different content depending on the authenticated status.
 *
 * @see useAuthenticated()
 *
 * @param {Object} params Any params you want to pass to the authProvider
 *
 * @returns The current auth check state. Destructure as { authenticated, error, loading, loaded }.
 *
 * @example
 * import { useAuthState, Loading } from 'react-admin';
 *
 * const MyPage = () => {
 *     const { loading, authenticated } = useAuthState();
 *     if (loading) {
 *         return <Loading />;
 *     }
 *     if (authenticated) {
 *        return <AuthenticatedContent />;
 *     }
 *     return <AnonymousContent />;
 * };
 */
var useAuthState = function (params) {
    if (params === void 0) { params = emptyParams; }
    var _a = (0,_util_hooks__WEBPACK_IMPORTED_MODULE_1__.useSafeSetState)({
        loading: true,
        loaded: false,
        authenticated: true,
    }), state = _a[0], setState = _a[1];
    var checkAuth = (0,_useCheckAuth__WEBPACK_IMPORTED_MODULE_2__.default)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        checkAuth(params, false)
            .then(function () {
            return setState({ loading: false, loaded: true, authenticated: true });
        })
            .catch(function () {
            return setState({ loading: false, loaded: true, authenticated: false });
        });
    }, [checkAuth, params, setState]);
    return state;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useAuthState);


/***/ }),

/***/ "./node_modules/ra-core/esm/auth/useAuthenticated.js":
/*!***********************************************************!*\
  !*** ./node_modules/ra-core/esm/auth/useAuthenticated.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useCheckAuth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useCheckAuth */ "./node_modules/ra-core/esm/auth/useCheckAuth.js");


var emptyParams = {};
/**
 * Restrict access to authenticated users.
 * Redirect anonymous users to the login page.
 *
 * Use it in your custom page components to require
 * authentication.
 *
 * You can set additional `authParams` at will if your authProvider
 * requires it.
 *
 * @example
 *     import { useAuthenticated } from 'react-admin';
 *     const FooPage = () => {
 *         useAuthenticated();
 *         return <Foo />;
 *     }
 *     const CustomRoutes = [
 *         <Route path="/foo" render={() => <FooPage />} />
 *     ];
 *     const App = () => (
 *         <Admin customRoutes={customRoutes}>
 *             ...
 *         </Admin>
 *     );
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (params) {
    if (params === void 0) { params = emptyParams; }
    var checkAuth = (0,_useCheckAuth__WEBPACK_IMPORTED_MODULE_1__.default)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        checkAuth(params).catch(function () { });
    }, [checkAuth, params]);
});


/***/ }),

/***/ "./node_modules/ra-core/esm/auth/useCheckAuth.js":
/*!*******************************************************!*\
  !*** ./node_modules/ra-core/esm/auth/useCheckAuth.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useAuthProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useAuthProvider */ "./node_modules/ra-core/esm/auth/useAuthProvider.js");
/* harmony import */ var _useLogout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useLogout */ "./node_modules/ra-core/esm/auth/useLogout.js");
/* harmony import */ var _sideEffect_useNotify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sideEffect/useNotify */ "./node_modules/ra-core/esm/sideEffect/useNotify.js");




/**
 * Get a callback for calling the authProvider.checkAuth() method.
 * In case of rejection, redirects to the login page, displays a notification,
 * and throws an error.
 *
 * This is a low level hook. See those more specialized hooks
 * for common authentication tasks, based on useCheckAuth.
 *
 * @see useAuthenticated
 * @see useAuthState
 *
 * @returns {Function} checkAuth callback
 *
 * @example
 *
 * import { useCheckAuth } from 'react-admin';
 *
 * const MyProtectedPage = () => {
 *     const checkAuth = useCheckAuth();
 *     useEffect(() => {
 *         checkAuth().catch(() => {});
 *     }, []);
 *     return <p>Private content: EZAEZEZAET</p>
 * } // tip: use useAuthenticated() hook instead
 *
 * const MyPage = () => {
 *     const checkAuth = useCheckAuth();
 *     const [authenticated, setAuthenticated] = useState(true); // optimistic auth
 *     useEffect(() => {
 *         checkAuth({}, false)
 *              .then(() => setAuthenticated(true))
 *              .catch(() => setAuthenticated(false));
 *     }, []);
 *     return authenticated ? <Bar /> : <BarNotAuthenticated />;
 * } // tip: use useAuthState() hook instead
 */
var useCheckAuth = function () {
    var authProvider = (0,_useAuthProvider__WEBPACK_IMPORTED_MODULE_1__.default)();
    var notify = (0,_sideEffect_useNotify__WEBPACK_IMPORTED_MODULE_2__.default)();
    var logout = (0,_useLogout__WEBPACK_IMPORTED_MODULE_3__.default)();
    var checkAuth = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (params, logoutOnFailure, redirectTo, disableNotification) {
        if (params === void 0) { params = {}; }
        if (logoutOnFailure === void 0) { logoutOnFailure = true; }
        if (redirectTo === void 0) { redirectTo = _useAuthProvider__WEBPACK_IMPORTED_MODULE_1__.defaultAuthParams.loginUrl; }
        if (disableNotification === void 0) { disableNotification = false; }
        return authProvider.checkAuth(params).catch(function (error) {
            if (logoutOnFailure) {
                logout({}, error && error.redirectTo
                    ? error.redirectTo
                    : redirectTo);
                var shouldSkipNotify = disableNotification ||
                    (error && error.message === false);
                !shouldSkipNotify &&
                    notify(getErrorMessage(error, 'ra.auth.auth_check_error'), 'warning');
            }
            throw error;
        });
    }, [authProvider, logout, notify]);
    return authProvider ? checkAuth : checkAuthWithoutAuthProvider;
};
var checkAuthWithoutAuthProvider = function () { return Promise.resolve(); };
var getErrorMessage = function (error, defaultMessage) {
    return typeof error === 'string'
        ? error
        : typeof error === 'undefined' || !error.message
            ? defaultMessage
            : error.message;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useCheckAuth);


/***/ }),

/***/ "./node_modules/ra-core/esm/auth/useGetPermissions.js":
/*!************************************************************!*\
  !*** ./node_modules/ra-core/esm/auth/useGetPermissions.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useAuthProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useAuthProvider */ "./node_modules/ra-core/esm/auth/useAuthProvider.js");


var getPermissionsWithoutProvider = function () { return Promise.resolve([]); };
/**
 * Get a callback for calling the authProvider.getPermissions() method.
 *
 * @see useAuthProvider
 *
 * @returns {Function} getPermissions callback
 *
 * This is a low level hook. See those more specialized hooks
 * offering state handling.
 *
 * @see usePermissions
 *
 * @example
 *
 * import { useGetPermissions } from 'react-admin';
 *
 * const Roles = () => {
 *     const [permissions, setPermissions] = useState([]);
 *     const getPermissions = useGetPermissions();
 *     useEffect(() => {
 *         getPermissions().then(permissions => setPermissions(permissions))
 *     }, [])
 *     return (
 *         <ul>
 *             {permissions.map((permission, key) => (
 *                 <li key={key}>{permission}</li>
 *             ))}
 *         </ul>
 *     );
 * }
 */
var useGetPermissions = function () {
    var authProvider = (0,_useAuthProvider__WEBPACK_IMPORTED_MODULE_1__.default)();
    var getPermissions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (params) {
        if (params === void 0) { params = {}; }
        return authProvider.getPermissions(params);
    }, [authProvider]);
    return authProvider ? getPermissions : getPermissionsWithoutProvider;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useGetPermissions);


/***/ }),

/***/ "./node_modules/ra-core/esm/auth/useLogin.js":
/*!***************************************************!*\
  !*** ./node_modules/ra-core/esm/auth/useLogin.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _useAuthProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useAuthProvider */ "./node_modules/ra-core/esm/auth/useAuthProvider.js");
/* harmony import */ var _actions_notificationActions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../actions/notificationActions */ "./node_modules/ra-core/esm/actions/notificationActions.js");





/**
 * Get a callback for calling the authProvider.login() method
 * and redirect to the previous authenticated page (or the home page) on success.
 *
 * @see useAuthProvider
 *
 * @returns {Function} login callback
 *
 * @example
 *
 * import { useLogin } from 'react-admin';
 *
 * const LoginButton = () => {
 *     const [loading, setLoading] = useState(false);
 *     const login = useLogin();
 *     const handleClick = {
 *         setLoading(true);
 *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')
 *             .then(() => setLoading(false));
 *     }
 *     return <button onClick={handleClick}>Login</button>;
 * }
 */
var useLogin = function () {
    var authProvider = (0,_useAuthProvider__WEBPACK_IMPORTED_MODULE_2__.default)();
    var location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.useLocation)();
    var locationState = location.state;
    var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.useHistory)();
    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    var nextPathName = locationState && locationState.nextPathname;
    var nextSearch = locationState && locationState.nextSearch;
    var login = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (params, pathName) {
        if (params === void 0) { params = {}; }
        return authProvider.login(params).then(function (ret) {
            dispatch((0,_actions_notificationActions__WEBPACK_IMPORTED_MODULE_4__.resetNotification)());
            var redirectUrl = pathName
                ? pathName
                : nextPathName + nextSearch ||
                    _useAuthProvider__WEBPACK_IMPORTED_MODULE_2__.defaultAuthParams.afterLoginUrl;
            history.push(redirectUrl);
            return ret;
        });
    }, [authProvider, history, nextPathName, nextSearch, dispatch]);
    var loginWithoutProvider = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (_, __) {
        dispatch((0,_actions_notificationActions__WEBPACK_IMPORTED_MODULE_4__.resetNotification)());
        history.push(_useAuthProvider__WEBPACK_IMPORTED_MODULE_2__.defaultAuthParams.afterLoginUrl);
        return Promise.resolve();
    }, [history, dispatch]);
    return authProvider ? login : loginWithoutProvider;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useLogin);


/***/ }),

/***/ "./node_modules/ra-core/esm/auth/usePermissionsOptimized.js":
/*!******************************************************************!*\
  !*** ./node_modules/ra-core/esm/auth/usePermissionsOptimized.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/isEqual */ "./node_modules/lodash/isEqual.js");
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _useGetPermissions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useGetPermissions */ "./node_modules/ra-core/esm/auth/useGetPermissions.js");
/* harmony import */ var _util_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/hooks */ "./node_modules/ra-core/esm/util/hooks.js");




var emptyParams = {};
// keep a cache of already fetched permissions to initialize state for new
// components and avoid a useless rerender if the permissions haven't changed
var alreadyFetchedPermissions = { '{}': undefined };
/**
 * Hook for getting user permissions without the loading state.
 *
 * When compared to usePermissions, this hook doesn't cause a re-render
 * when the permissions haven't changed since the last call.
 *
 * This hook doesn't handle the loading state.
 *
 * @see usePermissions
 *
 * Calls the authProvider.getPermissions() method asynchronously.
 * If the authProvider returns a rejected promise, returns empty permissions.
 *
 * The return value updates according to the request state:
 *
 * - start:   { permissions: [previously fetched permissions for these params] }
 * - success: { permissions: [permissions returned by the authProvider (usually the same as on start)] }
 * - error:   { error: [error from provider] }
 *
 * Useful to enable features based on user permissions
 *
 * @param {Object} params Any params you want to pass to the authProvider
 *
 * @returns The current auth check state. Destructure as { permissions, error }.
 *
 * @example
 *     import { usePermissionsOptimized } from 'react-admin';
 *
 *     const PostDetail = props => {
 *         const { permissions } = usePermissionsOptimized();
 *         if (permissions !== 'editor') {
 *             return <Redirect to={`posts/${props.id}/show`} />
 *         } else {
 *             return <PostEdit {...props} />
 *         }
 *     };
 */
var usePermissionsOptimized = function (params) {
    if (params === void 0) { params = emptyParams; }
    var key = JSON.stringify(params);
    var _a = (0,_util_hooks__WEBPACK_IMPORTED_MODULE_2__.useSafeSetState)({
        permissions: alreadyFetchedPermissions[key],
    }), state = _a[0], setState = _a[1];
    var getPermissions = (0,_useGetPermissions__WEBPACK_IMPORTED_MODULE_3__.default)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        getPermissions(params)
            .then(function (permissions) {
            if (!lodash_isEqual__WEBPACK_IMPORTED_MODULE_1___default()(permissions, state.permissions)) {
                alreadyFetchedPermissions[key] = permissions;
                setState({ permissions: permissions });
            }
        })
            .catch(function (error) {
            setState({
                error: error,
            });
        });
    }, [getPermissions, key]); // eslint-disable-line react-hooks/exhaustive-deps
    return state;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (usePermissionsOptimized);


/***/ }),

/***/ "./node_modules/ra-core/esm/controller/checkMinimumRequiredProps.js":
/*!**************************************************************************!*\
  !*** ./node_modules/ra-core/esm/controller/checkMinimumRequiredProps.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "useCheckMinimumRequiredProps": () => (/* binding */ useCheckMinimumRequiredProps)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

var checkMinimumRequiredProps = function (displayName, requiredProps) { return function (WrappedComponent) { return function (props) {
    useCheckMinimumRequiredProps(displayName, requiredProps, props);
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent, __assign({}, props));
}; }; };
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (checkMinimumRequiredProps);
// Not a hook but named that way to avoid conflicts with the old one
var useCheckMinimumRequiredProps = function (displayName, requiredProps, props) {
    var propNames = Object.keys(props);
    var missingProps = requiredProps.filter(function (prop) { return !propNames.includes(prop); });
    if (missingProps.length > 0) {
        throw new Error("<" + displayName + "> component is not properly configured, some essential props are missing.\nBe sure to pass the props from the parent. Example:\n\nconst My" + displayName + " = props => (\n    <" + displayName + " {...props}></" + displayName + ">\n);\n\nThe missing props are: " + missingProps.join(', '));
    }
};


/***/ }),

/***/ "./node_modules/ra-core/esm/controller/useExpanded.js":
/*!************************************************************!*\
  !*** ./node_modules/ra-core/esm/controller/useExpanded.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _actions_listActions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../actions/listActions */ "./node_modules/ra-core/esm/actions/listActions.js");



/**
 * State-like hook for controlling the expanded state of a list item
 *
 * @param {string} resource The resource name, e.g. 'posts'
 * @param {string|integer} id The record identifier, e.g. 123
 *
 * @returns {Object} Destructure as [expanded, toggleExpanded].
 *
 * @example
 *
 * const [expanded, toggleExpanded] = useExpanded('posts', 123);
 * const expandIcon = expanded ? ExpandLess : ExpandMore;
 * const onExpandClick = () => toggleExpanded();
 */
var useExpanded = function (resource, id) {
    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    var expandedList = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(function (reduxState) {
        return reduxState.admin.resources[resource]
            ? reduxState.admin.resources[resource].list.expanded
            : undefined;
    });
    var expanded = expandedList === undefined
        ? false
        : expandedList.map(function (el) { return el == id; }).indexOf(true) !== -1; // eslint-disable-line eqeqeq
    var toggleExpanded = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
        dispatch((0,_actions_listActions__WEBPACK_IMPORTED_MODULE_2__.toggleListItemExpand)(resource, id));
    }, [dispatch, resource, id]);
    return [expanded, toggleExpanded];
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useExpanded);


/***/ }),

/***/ "./node_modules/ra-core/esm/controller/useListContext.js":
/*!***************************************************************!*\
  !*** ./node_modules/ra-core/esm/controller/useListContext.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/defaults */ "./node_modules/lodash/defaults.js");
/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_defaults__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ListContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ListContext */ "./node_modules/ra-core/esm/controller/ListContext.js");



/**
 * Hook to read the list controller props from the ListContext.
 *
 * Mostly used within a <ListContext.Provider> (e.g. as a descendent of <List>
 * or <ListBase>).
 *
 * But you can also use it without a <ListContext.Provider>. In this case, it is up to you
 * to pass all the necessary props (see the list below).
 *
 * The given props will take precedence over context values.
 *
 * @typedef {Object} ListControllerProps
 * @prop {Object}   data an id-based dictionary of the list data, e.g. { 123: { id: 123, title: 'hello world' }, 456: { ... } }
 * @prop {Array}    ids an array listing the ids of the records in the list, e.g. [123, 456, ...]
 * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23
 * @prop {boolean}  loaded boolean that is false until the data is available
 * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched
 * @prop {integer}  page the current page. Starts at 1
 * @prop {Function} setPage a callback to change the page, e.g. setPage(3)
 * @prop {integer}  perPage the number of results per page. Defaults to 25
 * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)
 * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }
 * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')
 * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }
 * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)
 * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }
 * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)
 * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')
 * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]
 * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])
 * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)
 * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();
 * @prop {string}   basePath deduced from the location, useful for action buttons
 * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'
 * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'
 *
 * @returns {ListControllerProps} list controller props
 *
 * @see useListController for how it is filled
 *
 * @example // custom list view
 *
 * import { useListContext } from 'react-admin';
 *
 * const MyList = () => {
 *     const { data, ids, loaded } = useListContext();
 *     if (!loaded) {
 *         return <>Loading...</>;
 *     }
 *     const records = ids.map(id => data[id]);
 *     return (
 *         <ul>
 *             {records.map(record => (
 *                 <li key={record.id}>{record.name}</li>
 *             ))}
 *         </ul>
 *     );
 * }
 *
 * @example // custom pagination
 *
 * import { useListContext } from 'react-admin';
 * import { Button, Toolbar } from '@material-ui/core';
 * import ChevronLeft from '@material-ui/icons/ChevronLeft';
 * import ChevronRight from '@material-ui/icons/ChevronRight';
 *
 * const PrevNextPagination = () => {
 *     const { page, perPage, total, setPage } = useListContext();
 *     const nbPages = Math.ceil(total / perPage) || 1;
 *     return (
 *         nbPages > 1 &&
 *             <Toolbar>
 *                 {page > 1 &&
 *                     <Button color="primary" key="prev" onClick={() => setPage(page - 1)}>
 *                         <ChevronLeft />
 *                         Prev
 *                     </Button>
 *                 }
 *                 {page !== nbPages &&
 *                     <Button color="primary" key="next" onClick={() => setPage(page + 1)}>
 *                         Next
 *                         <ChevronRight />
 *                     </Button>
 *                 }
 *             </Toolbar>
 *     );
 * }
 */
var useListContext = function (props) {
    var context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_ListContext__WEBPACK_IMPORTED_MODULE_2__.default);
    // Props take precedence over the context
    // @ts-ignore
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
        return lodash_defaults__WEBPACK_IMPORTED_MODULE_1___default()({}, props != null ? extractListContextProps(props) : {}, context);
    }, [context, props]);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useListContext);
/**
 * Extract only the list controller props
 *
 * @param {Object} props Props passed to the useListContext hook
 *
 * @returns {ListControllerProps} List controller props
 */
var extractListContextProps = function (_a) {
    var basePath = _a.basePath, currentSort = _a.currentSort, data = _a.data, defaultTitle = _a.defaultTitle, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, hasCreate = _a.hasCreate, hideFilter = _a.hideFilter, ids = _a.ids, loaded = _a.loaded, loading = _a.loading, onSelect = _a.onSelect, onToggleItem = _a.onToggleItem, onUnselectItems = _a.onUnselectItems, page = _a.page, perPage = _a.perPage, refetch = _a.refetch, resource = _a.resource, selectedIds = _a.selectedIds, setFilters = _a.setFilters, setPage = _a.setPage, setPerPage = _a.setPerPage, setSort = _a.setSort, showFilter = _a.showFilter, total = _a.total;
    return ({
        basePath: basePath,
        currentSort: currentSort,
        data: data,
        defaultTitle: defaultTitle,
        displayedFilters: displayedFilters,
        filterValues: filterValues,
        hasCreate: hasCreate,
        hideFilter: hideFilter,
        ids: ids,
        loaded: loaded,
        loading: loading,
        onSelect: onSelect,
        onToggleItem: onToggleItem,
        onUnselectItems: onUnselectItems,
        page: page,
        perPage: perPage,
        refetch: refetch,
        resource: resource,
        selectedIds: selectedIds,
        setFilters: setFilters,
        setPage: setPage,
        setPerPage: setPerPage,
        setSort: setSort,
        showFilter: showFilter,
        total: total,
    });
};


/***/ }),

/***/ "./node_modules/ra-core/esm/controller/useListController.js":
/*!******************************************************************!*\
  !*** ./node_modules/ra-core/esm/controller/useListController.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "injectedProps": () => (/* binding */ injectedProps),
/* harmony export */   "getListControllerProps": () => (/* binding */ getListControllerProps),
/* harmony export */   "sanitizeListRestProps": () => (/* binding */ sanitizeListRestProps),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _checkMinimumRequiredProps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./checkMinimumRequiredProps */ "./node_modules/ra-core/esm/controller/checkMinimumRequiredProps.js");
/* harmony import */ var _useListParams__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useListParams */ "./node_modules/ra-core/esm/controller/useListParams.js");
/* harmony import */ var _useRecordSelection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./useRecordSelection */ "./node_modules/ra-core/esm/controller/useRecordSelection.js");
/* harmony import */ var _i18n_useTranslate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../i18n/useTranslate */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var _sideEffect_useNotify__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../sideEffect/useNotify */ "./node_modules/ra-core/esm/sideEffect/useNotify.js");
/* harmony import */ var _dataProvider_useGetMainList__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dataProvider/useGetMainList */ "./node_modules/ra-core/esm/dataProvider/useGetMainList.js");
/* harmony import */ var _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../reducer/admin/resource/list/queryReducer */ "./node_modules/ra-core/esm/reducer/admin/resource/list/queryReducer.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../actions */ "./node_modules/ra-core/esm/actions/dataActions/crudGetList.js");
/* harmony import */ var _export_defaultExporter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../export/defaultExporter */ "./node_modules/ra-core/esm/export/defaultExporter.js");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core */ "./node_modules/ra-core/esm/core/useResourceContext.js");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core */ "./node_modules/ra-core/esm/core/useGetResourceLabel.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};











var defaultSort = {
    field: 'id',
    order: _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_1__.SORT_ASC,
};
/**
 * Prepare data for the List view
 *
 * @param {Object} props The props passed to the List component.
 *
 * @return {Object} controllerProps Fetched and computed data for the List view
 *
 * @example
 *
 * import { useListController } from 'react-admin';
 * import ListView from './ListView';
 *
 * const MyList = props => {
 *     const controllerProps = useListController(props);
 *     return <ListView {...controllerProps} {...props} />;
 * }
 */
var useListController = function (props) {
    (0,_checkMinimumRequiredProps__WEBPACK_IMPORTED_MODULE_2__.useCheckMinimumRequiredProps)('List', ['basePath'], props);
    var basePath = props.basePath, _a = props.exporter, exporter = _a === void 0 ? _export_defaultExporter__WEBPACK_IMPORTED_MODULE_3__.default : _a, filterDefaultValues = props.filterDefaultValues, hasCreate = props.hasCreate, _b = props.sort, sort = _b === void 0 ? defaultSort : _b, _c = props.perPage, perPage = _c === void 0 ? 10 : _c, filter = props.filter, _d = props.debounce, debounce = _d === void 0 ? 500 : _d, syncWithLocation = props.syncWithLocation;
    var resource = (0,_core__WEBPACK_IMPORTED_MODULE_4__.useResourceContext)(props);
    if (!resource) {
        throw new Error("<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.");
    }
    if (filter && (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(filter)) {
        throw new Error('<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.');
    }
    var translate = (0,_i18n_useTranslate__WEBPACK_IMPORTED_MODULE_5__.default)();
    var notify = (0,_sideEffect_useNotify__WEBPACK_IMPORTED_MODULE_6__.default)();
    var _e = (0,_useListParams__WEBPACK_IMPORTED_MODULE_7__.default)({
        resource: resource,
        filterDefaultValues: filterDefaultValues,
        sort: sort,
        perPage: perPage,
        debounce: debounce,
        syncWithLocation: syncWithLocation,
    }), query = _e[0], queryModifiers = _e[1];
    var _f = (0,_useRecordSelection__WEBPACK_IMPORTED_MODULE_8__.default)(resource), selectedIds = _f[0], selectionModifiers = _f[1];
    /**
     * We want the list of ids to be always available for optimistic rendering,
     * and therefore we need a custom action (CRUD_GET_LIST) that will be used.
     */
    var _g = (0,_dataProvider_useGetMainList__WEBPACK_IMPORTED_MODULE_9__.useGetMainList)(resource, {
        page: query.page,
        perPage: query.perPage,
    }, { field: query.sort, order: query.order }, __assign(__assign({}, query.filter), filter), {
        action: _actions__WEBPACK_IMPORTED_MODULE_10__.CRUD_GET_LIST,
        onFailure: function (error) {
            return notify(typeof error === 'string'
                ? error
                : error.message || 'ra.notification.http_error', 'warning', {
                _: typeof error === 'string'
                    ? error
                    : error && error.message
                        ? error.message
                        : undefined,
            });
        },
    }), ids = _g.ids, data = _g.data, total = _g.total, error = _g.error, loading = _g.loading, loaded = _g.loaded, refetch = _g.refetch;
    var totalPages = Math.ceil(total / query.perPage) || 1;
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        if (query.page <= 0 ||
            (!loading && query.page > 1 && ids.length === 0)) {
            // Query for a page that doesn't exist, set page to 1
            queryModifiers.setPage(1);
        }
        else if (!loading && query.page > totalPages) {
            // Query for a page out of bounds, set page to the last existing page
            // It occurs when deleting the last element of the last page
            queryModifiers.setPage(totalPages);
        }
    }, [loading, query.page, ids, queryModifiers, total, totalPages]);
    var currentSort = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return ({
        field: query.sort,
        order: query.order,
    }); }, [query.sort, query.order]);
    var getResourceLabel = (0,_core__WEBPACK_IMPORTED_MODULE_11__.useGetResourceLabel)();
    var defaultTitle = translate('ra.page.list', {
        name: getResourceLabel(resource, 2),
    });
    return {
        basePath: basePath,
        currentSort: currentSort,
        data: data,
        defaultTitle: defaultTitle,
        displayedFilters: query.displayedFilters,
        error: error,
        exporter: exporter,
        filter: filter,
        filterValues: query.filterValues,
        hasCreate: hasCreate,
        hideFilter: queryModifiers.hideFilter,
        ids: ids,
        loaded: loaded || ids.length > 0,
        loading: loading,
        onSelect: selectionModifiers.select,
        onToggleItem: selectionModifiers.toggle,
        onUnselectItems: selectionModifiers.clearSelection,
        page: query.page,
        perPage: query.perPage,
        refetch: refetch,
        resource: resource,
        selectedIds: selectedIds,
        setFilters: queryModifiers.setFilters,
        setPage: queryModifiers.setPage,
        setPerPage: queryModifiers.setPerPage,
        setSort: queryModifiers.setSort,
        showFilter: queryModifiers.showFilter,
        total: total,
    };
};
var injectedProps = [
    'basePath',
    'currentSort',
    'data',
    'defaultTitle',
    'displayedFilters',
    'error',
    'exporter',
    'filterValues',
    'hasCreate',
    'hideFilter',
    'ids',
    'loading',
    'loaded',
    'onSelect',
    'onToggleItem',
    'onUnselectItems',
    'page',
    'perPage',
    'refetch',
    'refresh',
    'resource',
    'selectedIds',
    'setFilters',
    'setPage',
    'setPerPage',
    'setSort',
    'showFilter',
    'total',
    'totalPages',
    'version',
];
/**
 * Select the props injected by the useListController hook
 * to be passed to the List children need
 * This is an implementation of pick()
 */
var getListControllerProps = function (props) {
    return injectedProps.reduce(function (acc, key) {
        var _a;
        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));
    }, {});
};
/**
 * Select the props not injected by the useListController hook
 * to be used inside the List children to sanitize props injected by List
 * This is an implementation of omit()
 */
var sanitizeListRestProps = function (props) {
    return Object.keys(props)
        .filter(function (propName) { return !injectedProps.includes(propName); })
        .reduce(function (acc, key) {
        var _a;
        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));
    }, {});
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useListController);


/***/ }),

/***/ "./node_modules/ra-core/esm/controller/useListPaginationContext.js":
/*!*************************************************************************!*\
  !*** ./node_modules/ra-core/esm/controller/useListPaginationContext.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _ListPaginationContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ListPaginationContext */ "./node_modules/ra-core/esm/controller/ListPaginationContext.js");


/**
 * Hook to read the list controller props from the ListContext.
 *
 * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>
 * or <ListBase>).
 *
 * @typedef {Object} ListPaginationContextValue
 * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23
 * @prop {integer}  page the current page. Starts at 1
 * @prop {Function} setPage a callback to change the page, e.g. setPage(3)
 * @prop {integer}  perPage the number of results per page. Defaults to 25
 * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)
 * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'
 *
 * @returns {ListPaginationContextValue} list controller props
 *
 * @see useListController for how it is filled
 */
var useListPaginationContext = function (props) {
    var context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_ListPaginationContext__WEBPACK_IMPORTED_MODULE_1__.default);
    if (!context.setPage) {
        /**
         * The element isn't inside a <ListPaginationContext.Provider>
         *
         * This may only happen when using Datagrid / SimpleList / SingleFieldList components
         * outside of a List / ReferenceManyField / ReferenceArrayField -
         * which isn't documented but tolerated.
         * To avoid breakage in that case, fallback to props
         *
         * @deprecated - to be removed in 4.0
         */
        if (true) {
            console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.");
        }
        return props;
    }
    return context;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useListPaginationContext);


/***/ }),

/***/ "./node_modules/ra-core/esm/controller/useListParams.js":
/*!**************************************************************!*\
  !*** ./node_modules/ra-core/esm/controller/useListParams.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "validQueryParams": () => (/* binding */ validQueryParams),
/* harmony export */   "parseQueryFromLocation": () => (/* binding */ parseQueryFromLocation),
/* harmony export */   "hasCustomParams": () => (/* binding */ hasCustomParams),
/* harmony export */   "getQuery": () => (/* binding */ getQuery),
/* harmony export */   "getNumberOrDefault": () => (/* binding */ getNumberOrDefault),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! query-string */ "./node_modules/query-string/index.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_pickBy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/pickBy */ "./node_modules/lodash/pickBy.js");
/* harmony import */ var lodash_pickBy__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_pickBy__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../reducer/admin/resource/list/queryReducer */ "./node_modules/ra-core/esm/reducer/admin/resource/list/queryReducer.js");
/* harmony import */ var _actions_listActions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../actions/listActions */ "./node_modules/ra-core/esm/actions/listActions.js");
/* harmony import */ var _util_removeEmpty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../util/removeEmpty */ "./node_modules/ra-core/esm/util/removeEmpty.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};









var emptyObject = {};
var defaultSort = {
    field: 'id',
    order: _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.SORT_ASC,
};
var defaultParams = {};
/**
 * Get the list parameters (page, sort, filters) and modifiers.
 *
 * These parameters are merged from 3 sources:
 *   - the query string from the URL
 *   - the params stored in the state (from previous navigation)
 *   - the options passed to the hook (including the filter defaultValues)
 *
 * @returns {Array} A tuple [parameters, modifiers].
 * Destructure as [
 *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },
 *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }
 * ]
 *
 * @example
 *
 * const [listParams, listParamsActions] = useListParams({
 *      resource: 'posts',
 *      location: location // From react-router. Injected to your component by react-admin inside a List
 *      filterDefaultValues: {
 *          published: true
 *      },
 *      sort: {
 *          field: 'published_at',
 *          order: 'DESC'
 *      },
 *      perPage: 25
 * });
 *
 * const {
 *      page,
 *      perPage,
 *      sort,
 *      order,
 *      filter,
 *      filterValues,
 *      displayedFilters,
 *      requestSignature
 * } = listParams;
 *
 * const {
 *      setFilters,
 *      hideFilter,
 *      showFilter,
 *      setPage,
 *      setPerPage,
 *      setSort,
 * } = listParamsActions;
 */
var useListParams = function (_a) {
    var resource = _a.resource, filterDefaultValues = _a.filterDefaultValues, _b = _a.sort, sort = _b === void 0 ? defaultSort : _b, _c = _a.perPage, perPage = _c === void 0 ? 10 : _c, _d = _a.debounce, debounce = _d === void 0 ? 500 : _d, _e = _a.syncWithLocation, syncWithLocation = _e === void 0 ? false : _e;
    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    var location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useLocation)();
    var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useHistory)();
    var _f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultParams), localParams = _f[0], setLocalParams = _f[1];
    var params = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(function (reduxState) {
        return reduxState.admin.resources[resource]
            ? reduxState.admin.resources[resource].list.params
            : defaultParams;
    }, react_redux__WEBPACK_IMPORTED_MODULE_1__.shallowEqual);
    var tempParams = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    var requestSignature = [
        location.search,
        resource,
        syncWithLocation ? params : localParams,
        filterDefaultValues,
        JSON.stringify(sort),
        perPage,
        syncWithLocation,
    ];
    var queryFromLocation = syncWithLocation
        ? parseQueryFromLocation(location)
        : {};
    var query = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
        return getQuery({
            queryFromLocation: queryFromLocation,
            params: syncWithLocation ? params : localParams,
            filterDefaultValues: filterDefaultValues,
            sort: sort,
            perPage: perPage,
        });
    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps
    );
    // On mount, if the location includes params (for example from a link like
    // the categories products on the demo), we need to persist them in the
    // redux state as well so that we don't lose them after a redirection back
    // to the list
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        if (Object.keys(queryFromLocation).length > 0) {
            dispatch((0,_actions_listActions__WEBPACK_IMPORTED_MODULE_7__.changeListParams)(resource, query));
        }
    }, []); // eslint-disable-line
    var changeParams = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (action) {
        if (!tempParams.current) {
            // no other changeParams action dispatched this tick
            tempParams.current = (0,_reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.default)(query, action);
            // schedule side effects for next tick
            setTimeout(function () {
                if (syncWithLocation) {
                    history.push({
                        search: "?" + (0,query_string__WEBPACK_IMPORTED_MODULE_2__.stringify)(__assign(__assign({}, tempParams.current), { filter: JSON.stringify(tempParams.current.filter), displayedFilters: JSON.stringify(tempParams.current.displayedFilters) })),
                        state: { _scrollToTop: action.type === _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.SET_PAGE },
                    });
                    dispatch((0,_actions_listActions__WEBPACK_IMPORTED_MODULE_7__.changeListParams)(resource, tempParams.current));
                }
                else {
                    setLocalParams(tempParams.current);
                }
                tempParams.current = undefined;
            }, 0);
        }
        else {
            // side effects already scheduled, just change the params
            tempParams.current = (0,_reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.default)(tempParams.current, action);
        }
    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps
    var setSort = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (sort, order) {
        return changeParams({
            type: _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.SET_SORT,
            payload: { sort: sort, order: order },
        });
    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps
    );
    var setPage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (newPage) { return changeParams({ type: _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.SET_PAGE, payload: newPage }); }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps
    );
    var setPerPage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (newPerPage) {
        return changeParams({ type: _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.SET_PER_PAGE, payload: newPerPage });
    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps
    );
    var filterValues = query.filter || emptyObject;
    var displayedFilterValues = query.displayedFilters || emptyObject;
    var debouncedSetFilters = lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()(function (filter, displayedFilters) {
        changeParams({
            type: _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.SET_FILTER,
            payload: {
                filter: (0,_util_removeEmpty__WEBPACK_IMPORTED_MODULE_8__.default)(filter),
                displayedFilters: displayedFilters,
            },
        });
    }, debounce);
    var setFilters = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (filter, displayedFilters, debounce) {
        if (debounce === void 0) { debounce = true; }
        return debounce
            ? debouncedSetFilters(filter, displayedFilters)
            : changeParams({
                type: _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.SET_FILTER,
                payload: {
                    filter: (0,_util_removeEmpty__WEBPACK_IMPORTED_MODULE_8__.default)(filter),
                    displayedFilters: displayedFilters,
                },
            });
    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps
    );
    var hideFilter = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (filterName) {
        changeParams({
            type: _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.HIDE_FILTER,
            payload: filterName,
        });
    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps
    var showFilter = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (filterName, defaultValue) {
        changeParams({
            type: _reducer_admin_resource_list_queryReducer__WEBPACK_IMPORTED_MODULE_5__.SHOW_FILTER,
            payload: {
                filterName: filterName,
                defaultValue: defaultValue,
            },
        });
    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps
    return [
        __assign({ displayedFilters: displayedFilterValues, filterValues: filterValues,
            requestSignature: requestSignature }, query),
        {
            changeParams: changeParams,
            setPage: setPage,
            setPerPage: setPerPage,
            setSort: setSort,
            setFilters: setFilters,
            hideFilter: hideFilter,
            showFilter: showFilter,
        },
    ];
};
var validQueryParams = [
    'page',
    'perPage',
    'sort',
    'order',
    'filter',
    'displayedFilters',
];
var parseObject = function (query, field) {
    if (query[field] && typeof query[field] === 'string') {
        try {
            query[field] = JSON.parse(query[field]);
        }
        catch (err) {
            delete query[field];
        }
    }
};
var parseQueryFromLocation = function (_a) {
    var search = _a.search;
    var query = lodash_pickBy__WEBPACK_IMPORTED_MODULE_4___default()((0,query_string__WEBPACK_IMPORTED_MODULE_2__.parse)(search), function (v, k) { return validQueryParams.indexOf(k) !== -1; });
    parseObject(query, 'filter');
    parseObject(query, 'displayedFilters');
    return query;
};
/**
 * Check if user has already set custom sort, page, or filters for this list
 *
 * User params come from the Redux store as the params props. By default,
 * this object is:
 *
 * { filter: {}, order: null, page: 1, perPage: null, sort: null }
 *
 * To check if the user has custom params, we must compare the params
 * to these initial values.
 *
 * @param {Object} params
 */
var hasCustomParams = function (params) {
    return (params &&
        params.filter &&
        (Object.keys(params.filter).length > 0 ||
            params.order != null ||
            params.page !== 1 ||
            params.perPage != null ||
            params.sort != null));
};
/**
 * Merge list params from 3 different sources:
 *   - the query string
 *   - the params stored in the state (from previous navigation)
 *   - the props passed to the List component (including the filter defaultValues)
 */
var getQuery = function (_a) {
    var queryFromLocation = _a.queryFromLocation, params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, perPage = _a.perPage;
    var query = Object.keys(queryFromLocation).length > 0
        ? queryFromLocation
        : hasCustomParams(params)
            ? __assign({}, params) : { filter: filterDefaultValues || {} };
    if (!query.sort) {
        query.sort = sort.field;
        query.order = sort.order;
    }
    if (query.perPage == null) {
        query.perPage = perPage;
    }
    if (query.page == null) {
        query.page = 1;
    }
    return __assign(__assign({}, query), { page: getNumberOrDefault(query.page, 1), perPage: getNumberOrDefault(query.perPage, 10) });
};
var getNumberOrDefault = function (possibleNumber, defaultValue) {
    var parsedNumber = typeof possibleNumber === 'string'
        ? parseInt(possibleNumber, 10)
        : possibleNumber;
    return isNaN(parsedNumber) ? defaultValue : parsedNumber;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useListParams);


/***/ }),

/***/ "./node_modules/ra-core/esm/controller/useRecordSelection.js":
/*!*******************************************************************!*\
  !*** ./node_modules/ra-core/esm/controller/useRecordSelection.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _actions_listActions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../actions/listActions */ "./node_modules/ra-core/esm/actions/listActions.js");



var defaultRecords = [];
/**
 * Get the list of selected items for a resource, and callbacks to change the selection
 *
 * @param resource The resource name, e.g. 'posts'
 *
 * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].
 */
var useRecordSelection = function (resource) {
    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    var selectedIds = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(function (reduxState) {
        return reduxState.admin.resources[resource]
            ? reduxState.admin.resources[resource].list.selectedIds
            : defaultRecords;
    }, react_redux__WEBPACK_IMPORTED_MODULE_1__.shallowEqual);
    var selectionModifiers = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return ({
        select: function (newIds) {
            dispatch((0,_actions_listActions__WEBPACK_IMPORTED_MODULE_2__.setListSelectedIds)(resource, newIds));
        },
        toggle: function (id) {
            dispatch((0,_actions_listActions__WEBPACK_IMPORTED_MODULE_2__.toggleListItem)(resource, id));
        },
        clearSelection: function () {
            dispatch((0,_actions_listActions__WEBPACK_IMPORTED_MODULE_2__.setListSelectedIds)(resource, []));
        },
    }); }, [dispatch, resource]);
    return [selectedIds, selectionModifiers];
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useRecordSelection);


/***/ }),

/***/ "./node_modules/ra-core/esm/core/CoreAdminContext.js":
/*!***********************************************************!*\
  !*** ./node_modules/ra-core/esm/core/CoreAdminContext.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var history__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! history */ "./node_modules/history/esm/history.js");
/* harmony import */ var connected_react_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! connected-react-router */ "./node_modules/connected-react-router/esm/index.js");
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth */ "./node_modules/ra-core/esm/auth/convertLegacyAuthProvider.js");
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../auth */ "./node_modules/ra-core/esm/auth/AuthContext.js");
/* harmony import */ var _dataProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dataProvider */ "./node_modules/ra-core/esm/dataProvider/convertLegacyDataProvider.js");
/* harmony import */ var _dataProvider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dataProvider */ "./node_modules/ra-core/esm/dataProvider/DataProviderContext.js");
/* harmony import */ var _createAdminStore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./createAdminStore */ "./node_modules/ra-core/esm/core/createAdminStore.js");
/* harmony import */ var _i18n_TranslationProvider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../i18n/TranslationProvider */ "./node_modules/ra-core/esm/i18n/TranslationProvider.js");









var CoreAdminContext = function (_a) {
    var authProvider = _a.authProvider, dataProvider = _a.dataProvider, i18nProvider = _a.i18nProvider, children = _a.children, history = _a.history, customReducers = _a.customReducers, customSagas = _a.customSagas, initialState = _a.initialState;
    var reduxIsAlreadyInitialized = !!(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(react_redux__WEBPACK_IMPORTED_MODULE_1__.ReactReduxContext);
    if (!dataProvider) {
        throw new Error("Missing dataProvider prop.\nReact-admin requires a valid dataProvider function to work.");
    }
    var finalAuthProvider = authProvider instanceof Function
        ? (0,_auth__WEBPACK_IMPORTED_MODULE_2__.default)(authProvider)
        : authProvider;
    var finalDataProvider = dataProvider instanceof Function
        ? (0,_dataProvider__WEBPACK_IMPORTED_MODULE_3__.default)(dataProvider)
        : dataProvider;
    var finalHistory = history || (0,history__WEBPACK_IMPORTED_MODULE_4__.createHashHistory)();
    var renderCore = function () {
        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auth__WEBPACK_IMPORTED_MODULE_5__.default.Provider, { value: finalAuthProvider },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dataProvider__WEBPACK_IMPORTED_MODULE_6__.default.Provider, { value: finalDataProvider },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_i18n_TranslationProvider__WEBPACK_IMPORTED_MODULE_7__.default, { i18nProvider: i18nProvider }, typeof window !== 'undefined' ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(connected_react_router__WEBPACK_IMPORTED_MODULE_8__.ConnectedRouter, { history: finalHistory }, children)) : (children)))));
    };
    var store = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(function () {
        return !reduxIsAlreadyInitialized
            ? (0,_createAdminStore__WEBPACK_IMPORTED_MODULE_9__.default)({
                authProvider: finalAuthProvider,
                customReducers: customReducers,
                customSagas: customSagas,
                dataProvider: finalDataProvider,
                initialState: initialState,
                history: finalHistory,
            })
            : undefined;
    })[0];
    if (reduxIsAlreadyInitialized) {
        if (!history) {
            throw new Error("Missing history prop.\nWhen integrating react-admin inside an existing redux Provider, you must provide the same 'history' prop to the <Admin> as the one used to bootstrap your routerMiddleware.\nReact-admin uses this history for its own ConnectedRouter.");
        }
        return renderCore();
    }
    else {
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.Provider, { store: store }, renderCore());
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CoreAdminContext);


/***/ }),

/***/ "./node_modules/ra-core/esm/core/CoreAdminRouter.js":
/*!**********************************************************!*\
  !*** ./node_modules/ra-core/esm/core/CoreAdminRouter.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _RoutesWithLayout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./RoutesWithLayout */ "./node_modules/ra-core/esm/core/RoutesWithLayout.js");
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../auth */ "./node_modules/ra-core/esm/auth/useGetPermissions.js");
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth */ "./node_modules/ra-core/esm/auth/useLogout.js");
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../auth */ "./node_modules/ra-core/esm/auth/useAuthState.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util */ "./node_modules/ra-core/esm/util/hooks.js");
/* harmony import */ var _useScrollToTop__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useScrollToTop */ "./node_modules/ra-core/esm/core/useScrollToTop.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var CoreAdminRouter = function (props) {
    var getPermissions = (0,_auth__WEBPACK_IMPORTED_MODULE_1__.default)();
    var doLogout = (0,_auth__WEBPACK_IMPORTED_MODULE_2__.default)();
    var authenticated = (0,_auth__WEBPACK_IMPORTED_MODULE_3__.default)().authenticated;
    var oneSecondHasPassed = (0,_util__WEBPACK_IMPORTED_MODULE_4__.useTimeout)(1000);
    var _a = (0,_util__WEBPACK_IMPORTED_MODULE_4__.useSafeSetState)([]), computedChildren = _a[0], setComputedChildren = _a[1];
    (0,_useScrollToTop__WEBPACK_IMPORTED_MODULE_5__.useScrollToTop)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        if (typeof props.children === 'function') {
            initializeResources();
        }
    }, [authenticated]); // eslint-disable-line react-hooks/exhaustive-deps
    var initializeResources = function () { return __awaiter(void 0, void 0, void 0, function () {
        var permissions, resolveChildren, childrenFuncResult, error_1;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    _a.trys.push([0, 2, , 3]);
                    return [4 /*yield*/, getPermissions()];
                case 1:
                    permissions = _a.sent();
                    resolveChildren = props.children;
                    childrenFuncResult = resolveChildren(permissions);
                    if (childrenFuncResult.then) {
                        childrenFuncResult.then(function (resolvedChildren) {
                            return setComputedChildren(resolvedChildren
                                .filter(function (child) { return child; })
                                .map(function (child) { return (__assign(__assign({}, child), { props: __assign(__assign({}, child.props), { key: child.props.name }) })); }));
                        });
                    }
                    else {
                        setComputedChildren(childrenFuncResult.filter(function (child) { return child; }));
                    }
                    return [3 /*break*/, 3];
                case 2:
                    error_1 = _a.sent();
                    console.error(error_1);
                    doLogout();
                    return [3 /*break*/, 3];
                case 3: return [2 /*return*/];
            }
        });
    }); };
    var renderCustomRoutesWithoutLayout = function (route, routeProps) {
        if (route.props.render) {
            return route.props.render(__assign(__assign({}, routeProps), { title: props.title }));
        }
        if (route.props.component) {
            return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(route.props.component, __assign(__assign({}, routeProps), { title: props.title }));
        }
    };
    var layout = props.layout, catchAll = props.catchAll, children = props.children, customRoutes = props.customRoutes, dashboard = props.dashboard, LoadingPage = props.loading, logout = props.logout, menu = props.menu, Ready = props.ready, theme = props.theme, title = props.title;
    if (typeof children !== 'function' && !children) {
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ready, null);
    }
    if ((typeof children === 'function' &&
        (!computedChildren || computedChildren.length === 0)) ||
        (Array.isArray(children) && children.length === 0)) {
        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.Switch, null,
            customRoutes
                .filter(function (route) { return route.props.noLayout; })
                .map(function (route, key) {
                return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(route, {
                    key: key,
                    render: function (routeProps) {
                        return renderCustomRoutesWithoutLayout(route, routeProps);
                    },
                    component: undefined,
                });
            }),
            oneSecondHasPassed && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.Route, { key: "loading", render: function () { return react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingPage, { theme: theme }); } }))));
    }
    var childrenToRender = (typeof children === 'function'
        ? computedChildren
        : children);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null,
        // Render every resource children outside the React Router Switch
        // as we need all of them and not just the one rendered
        react__WEBPACK_IMPORTED_MODULE_0__.Children.map(childrenToRender, function (child) {
            return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(child, {
                key: child.props.name,
                // The context prop instructs the Resource component to not render anything
                // but simply to register itself as a known resource
                intent: 'registration',
            });
        }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.Switch, null,
            customRoutes
                .filter(function (route) { return route.props.noLayout; })
                .map(function (route, key) {
                return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(route, {
                    key: key,
                    render: function (routeProps) {
                        return renderCustomRoutesWithoutLayout(route, routeProps);
                    },
                    component: undefined,
                });
            }),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.Route, { path: "/", render: function () {
                    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(layout, {
                        dashboard: dashboard,
                        logout: logout,
                        menu: menu,
                        theme: theme,
                        title: title,
                    }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(_RoutesWithLayout__WEBPACK_IMPORTED_MODULE_7__.default, { catchAll: catchAll, customRoutes: customRoutes.filter(function (route) { return !route.props.noLayout; }), dashboard: dashboard, title: title }, react__WEBPACK_IMPORTED_MODULE_0__.Children.map(childrenToRender, function (child) {
                        return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(child, {
                            key: child.props.name,
                            intent: 'route',
                        });
                    })));
                } }))));
};
CoreAdminRouter.defaultProps = {
    customRoutes: [],
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CoreAdminRouter);


/***/ }),

/***/ "./node_modules/ra-core/esm/core/CoreAdminUI.js":
/*!******************************************************!*\
  !*** ./node_modules/ra-core/esm/core/CoreAdminUI.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _CoreAdminRouter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CoreAdminRouter */ "./node_modules/ra-core/esm/core/CoreAdminRouter.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util */ "./node_modules/ra-core/esm/util/Ready.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};





var DefaultLayout = function (_a) {
    var children = _a.children;
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children));
};
var CoreAdminUI = function (_a) {
    var _b = _a.catchAll, catchAll = _b === void 0 ? Noop : _b, children = _a.children, _c = _a.customRoutes, customRoutes = _c === void 0 ? [] : _c, dashboard = _a.dashboard, _d = _a.disableTelemetry, disableTelemetry = _d === void 0 ? false : _d, _e = _a.layout, layout = _e === void 0 ? DefaultLayout : _e, _f = _a.loading, loading = _f === void 0 ? Noop : _f, _g = _a.loginPage, loginPage = _g === void 0 ? false : _g, logout = _a.logout, menu = _a.menu, // deprecated, use a custom layout instead
    _h = _a.ready, // deprecated, use a custom layout instead
    ready = _h === void 0 ? _util__WEBPACK_IMPORTED_MODULE_1__.default : _h, theme = _a.theme, _j = _a.title, title = _j === void 0 ? 'React Admin' : _j;
    var logoutElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return logout && (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(logout); }, [
        logout,
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        if (disableTelemetry ||
            "development" !== 'production' ||
            typeof window === 'undefined' ||
            typeof window.location === 'undefined' ||
            typeof Image === 'undefined') {
            return;
        }
        var img = new Image();
        img.src = "https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=" + window.location.hostname;
    }, [disableTelemetry]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.Switch, null,
        loginPage !== false && loginPage !== true ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.Route, { exact: true, path: "/login", render: function (props) {
                return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(loginPage, __assign(__assign({}, props), { title: title,
                    theme: theme }));
            } })) : null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.Route, { path: "/", render: function (props) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_CoreAdminRouter__WEBPACK_IMPORTED_MODULE_3__.default, __assign({ catchAll: catchAll, customRoutes: customRoutes, dashboard: dashboard, layout: layout, loading: loading, logout: logoutElement, menu: menu, ready: ready, theme: theme, title: title }, props), children)); } })));
};
var Noop = function () { return null; };
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CoreAdminUI);


/***/ }),

/***/ "./node_modules/ra-core/esm/core/Resource.js":
/*!***************************************************!*\
  !*** ./node_modules/ra-core/esm/core/Resource.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _auth_WithPermissions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../auth/WithPermissions */ "./node_modules/ra-core/esm/auth/WithPermissions.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../actions */ "./node_modules/ra-core/esm/actions/resourcesActions.js");
/* harmony import */ var _ResourceContextProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ResourceContextProvider */ "./node_modules/ra-core/esm/core/ResourceContextProvider.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};







var defaultOptions = {};
var ResourceRegister = function (_a) {
    var name = _a.name, list = _a.list, create = _a.create, edit = _a.edit, show = _a.show, icon = _a.icon, _b = _a.options, options = _b === void 0 ? defaultOptions : _b;
    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        dispatch((0,_actions__WEBPACK_IMPORTED_MODULE_2__.registerResource)({
            name: name,
            options: options,
            hasList: !!list,
            hasEdit: !!edit,
            hasShow: !!show,
            hasCreate: !!create,
            icon: icon,
        }));
        return function () { return dispatch((0,_actions__WEBPACK_IMPORTED_MODULE_2__.unregisterResource)(name)); };
    }, [dispatch, name, create, edit, icon, list, show, options]);
    return null;
};
var ResourceRoutes = function (_a) {
    var name = _a.name, match = _a.match, list = _a.list, create = _a.create, edit = _a.edit, show = _a.show, _b = _a.options, options = _b === void 0 ? defaultOptions : _b;
    var isRegistered = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(function (state) { return !!state.admin.resources[name]; });
    var basePath = match ? match.path : '';
    var resourceData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return ({
        resource: name,
        options: options,
        hasList: !!list,
        hasEdit: !!edit,
        hasShow: !!show,
        hasCreate: !!create,
    }); }, [name, options, create, edit, list, show]);
    // match tends to change even on the same route ; using memo to avoid an extra render
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
        // if the registration hasn't finished, no need to render
        if (!isRegistered) {
            return null;
        }
        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ResourceContextProvider__WEBPACK_IMPORTED_MODULE_3__.ResourceContextProvider, { value: name },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.Switch, null,
                create && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.Route, { path: basePath + "/create", render: function (routeProps) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auth_WithPermissions__WEBPACK_IMPORTED_MODULE_5__.default, __assign({ component: create, basePath: basePath }, routeProps, resourceData))); } })),
                show && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.Route, { path: basePath + "/:id/show", render: function (routeProps) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auth_WithPermissions__WEBPACK_IMPORTED_MODULE_5__.default, __assign({ component: show, basePath: basePath, id: decodeURIComponent(routeProps.match
                            .params.id) }, routeProps, resourceData))); } })),
                edit && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.Route, { path: basePath + "/:id", render: function (routeProps) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auth_WithPermissions__WEBPACK_IMPORTED_MODULE_5__.default, __assign({ component: edit, basePath: basePath, id: decodeURIComponent(routeProps.match
                            .params.id) }, routeProps, resourceData))); } })),
                list && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__.Route, { path: "" + basePath, render: function (routeProps) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auth_WithPermissions__WEBPACK_IMPORTED_MODULE_5__.default, __assign({ component: list, basePath: basePath }, routeProps, resourceData, { syncWithLocation: true }))); } })))));
    }, [basePath, name, create, edit, list, show, options, isRegistered]); // eslint-disable-line react-hooks/exhaustive-deps
};
var Resource = function (_a) {
    var _b = _a.intent, intent = _b === void 0 ? 'route' : _b, props = __rest(_a, ["intent"]);
    return intent === 'registration' ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourceRegister, __assign({}, props))) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourceRoutes, __assign({}, props)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Resource);


/***/ }),

/***/ "./node_modules/ra-core/esm/core/RoutesWithLayout.js":
/*!***********************************************************!*\
  !*** ./node_modules/ra-core/esm/core/RoutesWithLayout.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _auth_WithPermissions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../auth/WithPermissions */ "./node_modules/ra-core/esm/auth/WithPermissions.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var defaultAuthParams = { route: 'dashboard' };
var RoutesWithLayout = function (_a) {
    var catchAll = _a.catchAll, children = _a.children, customRoutes = _a.customRoutes, dashboard = _a.dashboard, title = _a.title;
    var childrenAsArray = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(children);
    var firstChild = childrenAsArray.length > 0
        ? childrenAsArray[0]
        : null;
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Switch, null,
        customRoutes &&
            customRoutes.map(function (route, key) { return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(route, { key: key }); }),
        react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, function (child) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Route, { key: child.props.name, path: "/" + child.props.name, render: function (props) {
                return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(child, __assign({ 
                    // The context prop instruct the Resource component to
                    // render itself as a standard component
                    intent: 'route' }, props));
            } })); }),
        dashboard ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Route, { exact: true, path: "/", render: function (routeProps) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auth_WithPermissions__WEBPACK_IMPORTED_MODULE_2__.default, __assign({ authParams: defaultAuthParams, component: dashboard }, routeProps))); } })) : firstChild ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Route, { exact: true, path: "/", render: function () { return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Redirect, { to: "/" + firstChild.props.name }); } })) : null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Route, { render: function (routeProps) {
                return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(catchAll, __assign(__assign({}, routeProps), { title: title }));
            } })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RoutesWithLayout);


/***/ }),

/***/ "./node_modules/ra-core/esm/core/createAdminStore.js":
/*!***********************************************************!*\
  !*** ./node_modules/ra-core/esm/core/createAdminStore.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! redux */ "./node_modules/redux/es/redux.js");
/* harmony import */ var connected_react_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! connected-react-router */ "./node_modules/connected-react-router/esm/middleware.js");
/* harmony import */ var redux_saga__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga */ "./node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js");
/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux-saga/effects */ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../reducer */ "./node_modules/ra-core/esm/reducer/index.js");
/* harmony import */ var _sideEffect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../sideEffect */ "./node_modules/ra-core/esm/sideEffect/admin.js");
/* harmony import */ var _actions_clearActions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../actions/clearActions */ "./node_modules/ra-core/esm/actions/clearActions.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __spreadArrays = (undefined && undefined.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};







/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (_a) {
    var dataProvider = _a.dataProvider, history = _a.history, _b = _a.customReducers, customReducers = _b === void 0 ? {} : _b, _c = _a.authProvider, authProvider = _c === void 0 ? null : _c, _d = _a.customSagas, customSagas = _d === void 0 ? [] : _d, initialState = _a.initialState;
    var appReducer = (0,_reducer__WEBPACK_IMPORTED_MODULE_2__.default)(customReducers, history);
    var resettableAppReducer = function (state, action) {
        return appReducer(action.type !== _actions_clearActions__WEBPACK_IMPORTED_MODULE_3__.CLEAR_STATE
            ? state
            : // Erase data from the store but keep location, notifications, ui prefs, etc.
             __assign(__assign({}, state), { admin: __assign(__assign({}, state.admin), { loading: 0, resources: {}, customQueries: {}, references: { oneToMany: {}, possibleValues: {} } }) }), action);
    };
    var saga = function rootSaga() {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_1__.all)(__spreadArrays([(0,_sideEffect__WEBPACK_IMPORTED_MODULE_4__.default)(dataProvider, authProvider)], customSagas).map(redux_saga_effects__WEBPACK_IMPORTED_MODULE_1__.fork))];
                case 1:
                    _a.sent();
                    return [2 /*return*/];
            }
        });
    };
    var sagaMiddleware = (0,redux_saga__WEBPACK_IMPORTED_MODULE_0__.default)();
    var typedWindow = typeof window !== 'undefined' && window;
    var composeEnhancers = ( true &&
        typeof typedWindow !== 'undefined' &&
        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&
        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({
            trace: true,
            traceLimit: 25,
        })) ||
        redux__WEBPACK_IMPORTED_MODULE_5__.compose;
    var store = (0,redux__WEBPACK_IMPORTED_MODULE_5__.createStore)(resettableAppReducer, typeof initialState === 'function' ? initialState() : initialState, composeEnhancers((0,redux__WEBPACK_IMPORTED_MODULE_5__.applyMiddleware)(sagaMiddleware, (0,connected_react_router__WEBPACK_IMPORTED_MODULE_6__.default)(history))));
    sagaMiddleware.run(saga);
    return store;
});


/***/ }),

/***/ "./node_modules/ra-core/esm/core/useResourceDefinition.js":
/*!****************************************************************!*\
  !*** ./node_modules/ra-core/esm/core/useResourceDefinition.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useResourceDefinition": () => (/* binding */ useResourceDefinition)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/defaults */ "./node_modules/lodash/defaults.js");
/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_defaults__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../reducer */ "./node_modules/ra-core/esm/reducer/index.js");
/* harmony import */ var _useResourceContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useResourceContext */ "./node_modules/ra-core/esm/core/useResourceContext.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");





/**
 * Hook which returns the definition of the requested resource
 */
var useResourceDefinition = function (props) {
    var resource = (0,_useResourceContext__WEBPACK_IMPORTED_MODULE_3__.useResourceContext)(props);
    var resources = (0,react_redux__WEBPACK_IMPORTED_MODULE_0__.useSelector)(_reducer__WEBPACK_IMPORTED_MODULE_4__.getResources);
    var hasCreate = props.hasCreate, hasEdit = props.hasEdit, hasList = props.hasList, hasShow = props.hasShow;
    var definition = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {
        var definitionFromRedux = resources.find(function (r) { return (r === null || r === void 0 ? void 0 : r.name) === resource; });
        return lodash_defaults__WEBPACK_IMPORTED_MODULE_1___default()({}, {
            hasCreate: hasCreate,
            hasEdit: hasEdit,
            hasList: hasList,
            hasShow: hasShow,
        }, definitionFromRedux);
    }, [resource, resources, hasCreate, hasEdit, hasList, hasShow]);
    return definition;
};


/***/ }),

/***/ "./node_modules/ra-core/esm/core/useScrollToTop.js":
/*!*********************************************************!*\
  !*** ./node_modules/ra-core/esm/core/useScrollToTop.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useScrollToTop": () => (/* binding */ useScrollToTop)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");


/**
 * Scroll the window to top when the target location contains the _scrollToTop state
 *
 * @see CoreAdminRouter where it's enabled by default
 *
 * @example // usage in buttons
 * import { Link } from 'react-router-dom';
 * import { Button } from '@material-ui/core';
 *
 * const FooButton = () => (
 *     <Button
 *         component={Link}
 *         to={{
 *             pathname: '/foo',
 *             state: { _scrollToTop: true },
 *         }}
 *     >
 *         Go to foo
 *     </Button>
 * );
 */
var useScrollToTop = function () {
    var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useHistory)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        return history.listen(function (location, action) {
            var _a;
            if (action !== 'POP' && ((_a = location.state) === null || _a === void 0 ? void 0 : _a._scrollToTop) &&
                typeof window != 'undefined') {
                window.scrollTo(0, 0);
            }
        });
    }, [history]);
};


/***/ }),

/***/ "./node_modules/ra-core/esm/dataProvider/HttpError.js":
/*!************************************************************!*\
  !*** ./node_modules/ra-core/esm/dataProvider/HttpError.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var HttpError = /** @class */ (function (_super) {
    __extends(HttpError, _super);
    function HttpError(message, status, body) {
        if (body === void 0) { body = null; }
        var _this = _super.call(this, message) || this;
        _this.message = message;
        _this.status = status;
        _this.body = body;
        Object.setPrototypeOf(_this, HttpError.prototype);
        _this.name = _this.constructor.name;
        if (typeof Error.captureStackTrace === 'function') {
            Error.captureStackTrace(_this, _this.constructor);
        }
        else {
            _this.stack = new Error(message).stack;
        }
        _this.stack = new Error().stack;
        return _this;
    }
    return HttpError;
}(Error));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (HttpError);


/***/ }),

/***/ "./node_modules/ra-core/esm/dataProvider/convertLegacyDataProvider.js":
/*!****************************************************************************!*\
  !*** ./node_modules/ra-core/esm/dataProvider/convertLegacyDataProvider.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core */ "./node_modules/ra-core/esm/core/dataFetchActions.js");

var defaultDataProvider = function () { return Promise.resolve(); };
defaultDataProvider.create = function () { return Promise.resolve(null); };
defaultDataProvider.delete = function () { return Promise.resolve(null); };
defaultDataProvider.deleteMany = function () { return Promise.resolve(null); };
defaultDataProvider.getList = function () { return Promise.resolve(null); };
defaultDataProvider.getMany = function () { return Promise.resolve(null); };
defaultDataProvider.getManyReference = function () { return Promise.resolve(null); };
defaultDataProvider.getOne = function () { return Promise.resolve(null); };
defaultDataProvider.update = function () { return Promise.resolve(null); };
defaultDataProvider.updateMany = function () { return Promise.resolve(null); };
var fetchMap = {
    create: _core__WEBPACK_IMPORTED_MODULE_0__.CREATE,
    delete: _core__WEBPACK_IMPORTED_MODULE_0__.DELETE,
    deleteMany: _core__WEBPACK_IMPORTED_MODULE_0__.DELETE_MANY,
    getList: _core__WEBPACK_IMPORTED_MODULE_0__.GET_LIST,
    getMany: _core__WEBPACK_IMPORTED_MODULE_0__.GET_MANY,
    getManyReference: _core__WEBPACK_IMPORTED_MODULE_0__.GET_MANY_REFERENCE,
    getOne: _core__WEBPACK_IMPORTED_MODULE_0__.GET_ONE,
    update: _core__WEBPACK_IMPORTED_MODULE_0__.UPDATE,
    updateMany: _core__WEBPACK_IMPORTED_MODULE_0__.UPDATE_MANY,
};
/**
 * Turn a function-based dataProvider to an object-based one
 *
 * Allows using legacy dataProviders transparently.
 *
 * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>
 *
 * @returns {Object} A dataProvider that react-admin can use
 */
var convertLegacyDataProvider = function (legacyDataProvider) {
    var proxy = new Proxy(defaultDataProvider, {
        get: function (_, name) {
            return function (resource, params) {
                if (Object.keys(fetchMap).includes(name.toString())) {
                    var fetchType = fetchMap[name.toString()];
                    return legacyDataProvider(fetchType, resource, params);
                }
                return legacyDataProvider(name.toString(), resource, params);
            };
        },
        apply: function (_, __, args) {
            return legacyDataProvider.apply(legacyDataProvider, args);
        },
    });
    return proxy;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (convertLegacyDataProvider);


/***/ }),

/***/ "./node_modules/ra-core/esm/dataProvider/fetch.js":
/*!********************************************************!*\
  !*** ./node_modules/ra-core/esm/dataProvider/fetch.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createHeadersFromOptions": () => (/* binding */ createHeadersFromOptions),
/* harmony export */   "fetchJson": () => (/* binding */ fetchJson),
/* harmony export */   "queryParameters": () => (/* binding */ queryParameters),
/* harmony export */   "flattenObject": () => (/* binding */ flattenObject)
/* harmony export */ });
/* harmony import */ var _HttpError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HttpError */ "./node_modules/ra-core/esm/dataProvider/HttpError.js");
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! query-string */ "./node_modules/query-string/index.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __spreadArrays = (undefined && undefined.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};


var createHeadersFromOptions = function (options) {
    var requestHeaders = (options.headers ||
        new Headers({
            Accept: 'application/json',
        }));
    if (!requestHeaders.has('Content-Type') &&
        !(options && (!options.method || options.method === 'GET')) &&
        !(options && options.body && options.body instanceof FormData)) {
        requestHeaders.set('Content-Type', 'application/json');
    }
    if (options.user && options.user.authenticated && options.user.token) {
        requestHeaders.set('Authorization', options.user.token);
    }
    return requestHeaders;
};
var fetchJson = function (url, options) {
    if (options === void 0) { options = {}; }
    var requestHeaders = createHeadersFromOptions(options);
    return fetch(url, __assign(__assign({}, options), { headers: requestHeaders }))
        .then(function (response) {
        return response.text().then(function (text) { return ({
            status: response.status,
            statusText: response.statusText,
            headers: response.headers,
            body: text,
        }); });
    })
        .then(function (_a) {
        var status = _a.status, statusText = _a.statusText, headers = _a.headers, body = _a.body;
        var json;
        try {
            json = JSON.parse(body);
        }
        catch (e) {
            // not json, no big deal
        }
        if (status < 200 || status >= 300) {
            return Promise.reject(new _HttpError__WEBPACK_IMPORTED_MODULE_1__.default((json && json.message) || statusText, status, json));
        }
        return Promise.resolve({ status: status, headers: headers, body: body, json: json });
    });
};
var queryParameters = query_string__WEBPACK_IMPORTED_MODULE_0__.stringify;
var isValidObject = function (value) {
    if (!value) {
        return false;
    }
    var isArray = Array.isArray(value);
    var isBuffer = typeof Buffer !== 'undefined' && Buffer.isBuffer(value);
    var isObject = Object.prototype.toString.call(value) === '[object Object]';
    var hasKeys = !!Object.keys(value).length;
    return !isArray && !isBuffer && isObject && hasKeys;
};
var flattenObject = function (value, path) {
    var _a;
    if (path === void 0) { path = []; }
    if (isValidObject(value)) {
        return Object.assign.apply(Object, __spreadArrays([{}], Object.keys(value).map(function (key) {
            return flattenObject(value[key], path.concat([key]));
        })));
    }
    else {
        return path.length ? (_a = {}, _a[path.join('.')] = value, _a) : value;
    }
};


/***/ }),

/***/ "./node_modules/ra-core/esm/dataProvider/useDataProviderWithDeclarativeSideEffects.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/ra-core/esm/dataProvider/useDataProviderWithDeclarativeSideEffects.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _useDataProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useDataProvider */ "./node_modules/ra-core/esm/dataProvider/useDataProvider.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useDeclarativeSideEffects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useDeclarativeSideEffects */ "./node_modules/ra-core/esm/dataProvider/useDeclarativeSideEffects.js");
/* harmony import */ var _getDataProviderCallArguments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getDataProviderCallArguments */ "./node_modules/ra-core/esm/dataProvider/getDataProviderCallArguments.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __spreadArrays = (undefined && undefined.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};




/**
 * This version of the useDataProvider hook ensure Query and Mutation components are still usable
 * with side effects declared as objects.
 *
 * @deprecated This is for backward compatibility only and will be removed in next major version.
 */
var useDataProviderWithDeclarativeSideEffects = function () {
    var dataProvider = (0,_useDataProvider__WEBPACK_IMPORTED_MODULE_1__.default)();
    var getSideEffects = (0,_useDeclarativeSideEffects__WEBPACK_IMPORTED_MODULE_2__.default)();
    // @ts-ignore
    var dataProviderProxy = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
        return new Proxy(dataProvider, {
            get: function (target, name) {
                if (typeof name === 'symbol') {
                    return;
                }
                return function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    var _a = (0,_getDataProviderCallArguments__WEBPACK_IMPORTED_MODULE_3__.getDataProviderCallArguments)(args), resource = _a.resource, payload = _a.payload, allArguments = _a.allArguments, options = _a.options;
                    var onSuccess;
                    var onFailure;
                    var finalOptions = options;
                    var finalAllArguments = allArguments;
                    if (options &&
                        Object.keys(options).some(function (key) {
                            return ['onSuccess', 'onFailure'].includes(key);
                        })) {
                        var sideEffect = getSideEffects(resource, options);
                        var ignoreOnSuccess = options.onSuccess, // Used to extract options without onSuccess
                        ignoreOnFailure = options.onFailure, // Used to extract options without onFailure
                        otherOptions = __rest(options, ["onSuccess", "onFailure"]);
                        onSuccess = sideEffect.onSuccess;
                        onFailure = sideEffect.onFailure;
                        finalOptions = otherOptions;
                        finalAllArguments = __spreadArrays(args).slice(0, args.length - 1);
                    }
                    try {
                        return target[name.toString()].apply(target, typeof resource === 'string'
                            ? [
                                resource,
                                payload,
                                __assign(__assign({}, finalOptions), { onSuccess: onSuccess,
                                    onFailure: onFailure }),
                            ]
                            : finalAllArguments);
                    }
                    catch (e) {
                        // turn synchronous exceptions (e.g. in parameter preparation)
                        // into async ones, otherwise they'll be lost
                        return Promise.reject(e);
                    }
                };
            },
        });
    }, [dataProvider, getSideEffects]);
    return dataProviderProxy;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDataProviderWithDeclarativeSideEffects);


/***/ }),

/***/ "./node_modules/ra-core/esm/dataProvider/useDeclarativeSideEffects.js":
/*!****************************************************************************!*\
  !*** ./node_modules/ra-core/esm/dataProvider/useDeclarativeSideEffects.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _sideEffect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sideEffect */ "./node_modules/ra-core/esm/sideEffect/useNotify.js");
/* harmony import */ var _sideEffect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../sideEffect */ "./node_modules/ra-core/esm/sideEffect/useRedirect.js");
/* harmony import */ var _sideEffect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sideEffect */ "./node_modules/ra-core/esm/sideEffect/useRefresh.js");
/* harmony import */ var _sideEffect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../sideEffect */ "./node_modules/ra-core/esm/sideEffect/useUnselectAll.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


var defaultSideEffects = {
    onSuccess: undefined,
    onFailure: undefined,
};
var useDeclarativeSideEffects = function () {
    var notify = (0,_sideEffect__WEBPACK_IMPORTED_MODULE_1__.default)();
    var redirect = (0,_sideEffect__WEBPACK_IMPORTED_MODULE_2__.default)();
    var refresh = (0,_sideEffect__WEBPACK_IMPORTED_MODULE_3__.default)();
    var unselectAll = (0,_sideEffect__WEBPACK_IMPORTED_MODULE_4__.default)();
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return function (resource, _a) {
        var _b = _a === void 0 ? defaultSideEffects : _a, onSuccess = _b.onSuccess, onFailure = _b.onFailure;
        var convertToFunctionSideEffect = function (resource, sideEffects) {
            if (!sideEffects || typeof sideEffects === 'function') {
                return sideEffects;
            }
            if (Object.keys(sideEffects).length === 0) {
                return undefined;
            }
            var notification = sideEffects.notification, redirectTo = sideEffects.redirectTo, needRefresh = sideEffects.refresh, needUnselectAll = sideEffects.unselectAll;
            return function () {
                if (notification) {
                    notify(notification.body, notification.level, notification.messageArgs);
                }
                if (redirectTo) {
                    redirect(redirectTo);
                }
                if (needRefresh) {
                    refresh();
                }
                if (needUnselectAll) {
                    unselectAll(resource);
                }
            };
        };
        return {
            onSuccess: convertToFunctionSideEffect(resource, onSuccess),
            onFailure: convertToFunctionSideEffect(resource, onFailure),
        };
    }; }, [notify, redirect, refresh, unselectAll]);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDeclarativeSideEffects);


/***/ }),

/***/ "./node_modules/ra-core/esm/dataProvider/useDeleteMany.js":
/*!****************************************************************!*\
  !*** ./node_modules/ra-core/esm/dataProvider/useDeleteMany.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _useMutation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useMutation */ "./node_modules/ra-core/esm/dataProvider/useMutation.js");


/**
 * Get a callback to call the dataProvider.deleteMany() method, the result
 * of the call (the list of deleted record ids), and the loading state.
 *
 * The return value updates according to the request state:
 *
 * - initial: [deleteMany, { loading: false, loaded: false }]
 * - start:   [deleteMany, { loading: true, loaded: false }]
 * - success: [deleteMany, { data: [data from response], loading: false, loaded: true }]
 * - error:   [deleteMany, { error: [error from response], loading: false, loaded: false }]
 *
 * @param resource The resource name, e.g. 'posts'
 * @param ids The resource identifiers, e.g. [123, 456]
 * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }
 *
 * @returns The current request state. Destructure as [deleteMany, { data, error, loading, loaded }].
 *
 * The deleteMany() function can be called in 3 different ways:
 *  - with the same parameters as the useDeleteMany() hook: deleteMany(resource, ids, options)
 *  - with the same syntax as useMutation: deleteMany({ resource, payload: { ids } }, options)
 *  - with no parameter (if they were already passed to useDeleteMany()): deleteMany()
 *
 * @example // set params when calling the deleteMany callback
 *
 * import { useDeleteMany } from 'react-admin';
 *
 * const BulkDeletePostsButton = ({ selectedIds }) => {
 *     const [deleteMany, { loading, error }] = useDeleteMany();
 *     const handleClick = () => {
 *         deleteMany('posts', selectedIds)
 *     }
 *     if (error) { return <p>ERROR</p>; }
 *     return <button disabled={loading} onClick={deleteMany}>Delete selected posts</button>;
 * };
 *
 * @example // set params when calling the hook
 *
 * import { useDeleteMany } from 'react-admin';
 *
 * const BulkDeletePostsButton = ({ selectedIds }) => {
 *     const [deleteMany, { loading, error }] = useDeleteMany('posts', selectedIds);
 *     if (error) { return <p>ERROR</p>; }
 *     return <button disabled={loading} onClick={deleteMany}>Delete selected posts</button>;
 * };
 */
var useDeleteMany = function (resource, ids, options) {
    var _a = (0,_useMutation__WEBPACK_IMPORTED_MODULE_1__.default)({ type: 'deleteMany', resource: resource, payload: { ids: ids } }, options), mutate = _a[0], state = _a[1];
    var deleteMany = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (resource, ids, options) {
        if (typeof resource === 'string') {
            var query = {
                type: 'deleteMany',
                resource: resource,
                payload: {
                    ids: ids,
                },
            };
            return mutate(query, options);
        }
        else {
            return mutate(resource, ids);
        }
    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps
    );
    return [deleteMany, state];
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDeleteMany);


/***/ }),

/***/ "./node_modules/ra-core/esm/dataProvider/useGetMainList.js":
/*!*****************************************************************!*\
  !*** ./node_modules/ra-core/esm/dataProvider/useGetMainList.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useGetMainList": () => (/* binding */ useGetMainList)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _useQueryWithStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useQueryWithStore */ "./node_modules/ra-core/esm/dataProvider/useQueryWithStore.js");



var defaultIds = [];
var defaultData = {};
/**
 * Call the dataProvider.getList() method and return the resolved result
 * as well as the loading state.
 *
 * Uses a special cache to avoid showing an empty list while re-fetching the
 * list after changing params.
 *
 * The return value updates according to the request state:
 *
 * - start: { loading: true, loaded: false, refetch }
 * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true, refetch }
 * - error: { error: [error from response], loading: false, loaded: false, refetch }
 *
 * This hook will return the cached result when called a second time
 * with the same parameters, until the response arrives.
 *
 * @param {string} resource The resource name, e.g. 'posts'
 * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }
 * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }
 * @param {Object} filter The request filters, e.g. { title: 'hello, world' }
 * @param {Object} options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }
 *
 * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded, refetch }.
 *
 * @example
 *
 * import { useGetMainList } from 'react-admin';
 *
 * const LatestNews = () => {
 *     const { data, ids, loading, error } = useGetMainList(
 *         'posts',
 *         { page: 1, perPage: 10 },
 *         { field: 'published_at', order: 'DESC' }
 *     );
 *     if (loading) { return <Loading />; }
 *     if (error) { return <p>ERROR</p>; }
 *     return <ul>{ids.map(id =>
 *         <li key={id}>{data[id].title}</li>
 *     )}</ul>;
 * };
 */
var useGetMainList = function (resource, pagination, sort, filter, options) {
    var requestSignature = JSON.stringify({ pagination: pagination, sort: sort, filter: filter });
    var memo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});
    var _a = (0,_useQueryWithStore__WEBPACK_IMPORTED_MODULE_2__.useQueryWithStore)({ type: 'getList', resource: resource, payload: { pagination: pagination, sort: sort, filter: filter } }, options, 
    // ids and data selector
    function (state) {
        var ids = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(state.admin.resources, [
            resource,
            'list',
            'cachedRequests',
            requestSignature,
            'ids',
        ]); // default value undefined
        var total = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(state.admin.resources, [
            resource,
            'list',
            'cachedRequests',
            requestSignature,
            'total',
        ]); // default value undefined
        // When the user changes the page/sort/filter, the list of ids from
        // the cached requests is empty. To avoid rendering an empty list
        // at that moment, we override the ids and total with the latest
        // loaded ones.
        var mainIds = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(state.admin.resources, [
            resource,
            'list',
            'ids',
        ]); // default value [] (see list.ids reducer)
        // Since the total can be empty during the loading phase
        // We need to override that total with the latest loaded one
        var mainTotal = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(state.admin.resources, [
            resource,
            'list',
            'total',
        ]); // default value null (see list.total reducer)
        // Is [] for a page that was never loaded
        var finalIds = typeof ids === 'undefined' ? mainIds : ids;
        // Is null for a page that was never loaded.
        var finalTotal = typeof total === 'undefined' ? mainTotal : total;
        var allRecords = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(state.admin.resources, [resource, 'data'], defaultData);
        // poor man's useMemo inside a hook using a ref
        if (memo.current.finalIds !== finalIds ||
            memo.current.finalTotal !== finalTotal ||
            memo.current.allRecords !== allRecords) {
            var result = {
                finalIds: finalIds,
                finalTotal: finalTotal,
                allRecords: allRecords,
            };
            memo.current = { finalIds: finalIds, finalTotal: finalTotal, allRecords: allRecords, result: result };
        }
        return memo.current.result;
    }, function () { return null; }, isDataLoaded), _b = _a.data, finalIds = _b.finalIds, finalTotal = _b.finalTotal, allRecords = _b.allRecords, error = _a.error, loading = _a.loading, loaded = _a.loaded, refetch = _a.refetch;
    var data = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
        return typeof finalIds === 'undefined'
            ? defaultData
            : finalIds
                .map(function (id) { return allRecords[id]; })
                .reduce(function (acc, record) {
                if (!record)
                    return acc;
                acc[record.id] = record;
                return acc;
            }, {});
    }, [finalIds, allRecords]);
    return {
        data: data,
        ids: typeof finalIds === 'undefined' ? defaultIds : finalIds,
        total: finalTotal,
        error: error,
        loading: loading,
        loaded: loaded,
        refetch: refetch,
    };
};
var isDataLoaded = function (data) { return data.finalTotal != null; }; // null or undefined


/***/ }),

/***/ "./node_modules/ra-core/esm/dataProvider/useMutation.js":
/*!**************************************************************!*\
  !*** ./node_modules/ra-core/esm/dataProvider/useMutation.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/merge */ "./node_modules/lodash/merge.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _util_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/hooks */ "./node_modules/ra-core/esm/util/hooks.js");
/* harmony import */ var _useDataProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useDataProvider */ "./node_modules/ra-core/esm/dataProvider/useDataProvider.js");
/* harmony import */ var _useDataProviderWithDeclarativeSideEffects__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useDataProviderWithDeclarativeSideEffects */ "./node_modules/ra-core/esm/dataProvider/useDataProviderWithDeclarativeSideEffects.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};





/**
 * Get a callback to fetch the data provider through Redux, usually for mutations.
 *
 * The request starts when the callback is called.
 *
 * useMutation() parameters can be passed:
 *
 * - at definition time
 *
 *       const [mutate] = useMutation(query, options); mutate();
 *
 * - at call time
 *
 *       const [mutate] = useMutation(); mutate(query, options);
 *
 * - both, in which case the definition and call time parameters are merged
 *
 *       const [mutate] = useMutation(query1, options1); mutate(query2, options2);
 *
 * @param {Object} query
 * @param {string} query.type The method called on the data provider, e.g. 'getList', 'getOne'. Can also be a custom method if the dataProvider supports is.
 * @param {string} query.resource A resource name, e.g. 'posts', 'comments'
 * @param {Object} query.payload The payload object, e.g; { post_id: 12 }
 * @param {Object} options
 * @param {string} options.action Redux action type
 * @param {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider
 * @param {boolean} options.returnPromise Set to true to return the result promise of the mutation
 * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. () => refresh()
 * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. (error) => notify(error.message)
 * @param {boolean} options.withDeclarativeSideEffectsSupport Set to true to support legacy side effects e.g. { onSuccess: { refresh: true } }
 *
 * @returns A tuple with the mutation callback and the request state. Destructure as [mutate, { data, total, error, loading, loaded }].
 *
 * The return value updates according to the request state:
 *
 * - mount:         [mutate, { loading: false, loaded: false }]
 * - mutate called: [mutate, { loading: true, loaded: false }]
 * - success:       [mutate, { data: [data from response], total: [total from response], loading: false, loaded: true }]
 * - error:         [mutate, { error: [error from response], loading: false, loaded: false }]
 *
 * The mutate function accepts the following arguments
 * - {Object} query
 * - {string} query.type The method called on the data provider, e.g. 'update'
 * - {string} query.resource A resource name, e.g. 'posts', 'comments'
 * - {Object} query.payload The payload object, e.g. { id: 123, data: { isApproved: true } }
 * - {Object} options
 * - {string} options.action Redux action type
 * - {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider
 * - {boolean} options.returnPromise Set to true to return the result promise of the mutation
 * - {Function} options.onSuccess Side effect function to be executed upon success or failure, e.g. { onSuccess: response => refresh() }
 * - {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }
 * - {boolean} withDeclarativeSideEffectsSupport Set to true to support legacy side effects e.g. { onSuccess: { refresh: true } }
 *
 * @example
 *
 * // pass parameters at definition time
 * // use when all parameters are determined at definition time
 * // the mutation callback can be used as an even handler
 * // because Event parameters are ignored
 * import { useMutation } from 'react-admin';
 *
 * const ApproveButton = ({ record }) => {
 *     const [approve, { loading }] = useMutation({
 *         type: 'update',
 *         resource: 'comments',
 *         payload: { id: record.id, data: { isApproved: true } }
 *     });
 *     return <Button label="Approve" onClick={approve} disabled={loading} />;
 * };
 *
 * @example
 *
 * // pass parameters at call time
 * // use when some parameters are only known at call time
 * import { useMutation } from 'react-admin';
 *
 * const ApproveButton = ({ record }) => {
 *     const [mutate, { loading }] = useMutation();
 *     const approve = event => mutate({
 *         type: 'update',
 *         resource: 'comments',
 *         payload: {
 *             id: event.target.dataset.id,
 *             data: { isApproved: true, updatedAt: new Date() }
 *         },
 *     });
 *     return <Button
 *         label="Approve"
 *         onClick={approve}
 *         disabled={loading}
 *     />;
 * };
 *
 * @example
 *
 * // use the second argument to pass options
 * import { useMutation, useNotify, CRUD_UPDATE } from 'react-admin';
 *
 * const ResetStockButton = ({ record }) => {
 *     const [mutate, { loading }] = useMutation();
 *     const notify = useNotify();
 *     const handleClick = () => mutate(
 *         {
 *              type: 'update',
 *              resource: 'items',
 *              payload: { id: record.id, data: { stock: 0 } }
 *         },
 *         {
 *              undoable: true,
 *              action: CRUD_UPDATE,
 *              onSuccess: response => notify('Success !'),
 *              onFailure: error => notify('Failure !')
 *         }
 *     );
 *     return <Button label="Reset stock" onClick={handleClick} disabled={loading} />;
 * };
 */
var useMutation = function (query, options) {
    var _a = (0,_util_hooks__WEBPACK_IMPORTED_MODULE_2__.useSafeSetState)({
        data: null,
        error: null,
        total: null,
        loading: false,
        loaded: false,
    }), state = _a[0], setState = _a[1];
    var dataProvider = (0,_useDataProvider__WEBPACK_IMPORTED_MODULE_3__.default)();
    var dataProviderWithDeclarativeSideEffects = (0,_useDataProviderWithDeclarativeSideEffects__WEBPACK_IMPORTED_MODULE_4__.default)();
    /* eslint-disable react-hooks/exhaustive-deps */
    var mutate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (callTimeQuery, callTimeOptions) {
        var finalDataProvider = hasDeclarativeSideEffectsSupport(options, callTimeOptions)
            ? dataProviderWithDeclarativeSideEffects
            : dataProvider;
        var params = mergeDefinitionAndCallTimeParameters(query, callTimeQuery, options, callTimeOptions);
        setState(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });
        var returnPromise = params.options.returnPromise;
        var promise = finalDataProvider[params.type]
            .apply(finalDataProvider, typeof params.resource !== 'undefined'
            ? [params.resource, params.payload, params.options]
            : [params.payload, params.options])
            .then(function (response) {
            var data = response.data, total = response.total;
            setState({
                data: data,
                error: null,
                loaded: true,
                loading: false,
                total: total,
            });
            if (returnPromise) {
                return response;
            }
        })
            .catch(function (errorFromResponse) {
            setState({
                data: null,
                error: errorFromResponse,
                loaded: false,
                loading: false,
                total: null,
            });
            if (returnPromise) {
                throw errorFromResponse;
            }
        });
        if (returnPromise) {
            return promise;
        }
    }, [
        // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055
        JSON.stringify({ query: query, options: options }),
        dataProvider,
        dataProviderWithDeclarativeSideEffects,
        setState,
    ]
    /* eslint-enable react-hooks/exhaustive-deps */
    );
    return [mutate, state];
};
/**
 * Utility function for merging parameters
 *
 * useMutation() parameters can be passed:
 * - at definition time (e.g. useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }) )
 * - at call time (e.g. [mutate] = useMutation(); mutate({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }))
 * - both
 *
 * This function merges the definition time and call time parameters.
 *
 * This is useful because useMutation() is used by higher-level hooks like
 * useCreate() or useUpdate(), and these hooks can be called both ways.
 * So it makes sense to make useMutation() capable of handling both call types
 * as it avoids repetition higher in the hook chain.
 *
 * Also, the call time query may be a DOM Event if the callback is used
 * as an event listener, as in:
 *
 * const UpdateButton = () => {
 *     const mutate = useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } });
 *     return <button onclick={mutate}>Click me</button>
 * };
 *
 * This usage is accepted, and therefore this function checks if the call time
 * query is an Event, and discards it in that case.
 *
 * @param query {Mutation}
 * @param callTimeQuery {Mutation}
 * @param options {Object}
 * @param callTimeOptions {Object}
 *
 * @return { type, resource, payload, options } The merged parameters
 */
var mergeDefinitionAndCallTimeParameters = function (query, callTimeQuery, options, callTimeOptions) {
    if (!query && (!callTimeQuery || callTimeQuery instanceof Event)) {
        throw new Error('Missing query either at definition or at call time');
    }
    if (callTimeQuery instanceof Event)
        return {
            type: query.type,
            resource: query.resource,
            payload: query.payload,
            options: sanitizeOptions(options),
        };
    if (query)
        return {
            type: query.type || callTimeQuery.type,
            resource: query.resource || callTimeQuery.resource,
            payload: callTimeQuery
                ? lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()({}, query.payload, callTimeQuery.payload)
                : query.payload,
            options: callTimeOptions
                ? lodash_merge__WEBPACK_IMPORTED_MODULE_1___default()({}, sanitizeOptions(options), sanitizeOptions(callTimeOptions))
                : sanitizeOptions(options),
        };
    return {
        type: callTimeQuery.type,
        resource: callTimeQuery.resource,
        payload: callTimeQuery.payload,
        options: sanitizeOptions(callTimeOptions),
    };
};
var hasDeclarativeSideEffectsSupport = function (options, callTimeOptions) {
    if (!options && !callTimeOptions)
        return false;
    if (callTimeOptions && callTimeOptions.withDeclarativeSideEffectsSupport)
        return true;
    return options && options.withDeclarativeSideEffectsSupport;
};
var sanitizeOptions = function (args) {
    if (!args)
        return { onSuccess: undefined };
    var withDeclarativeSideEffectsSupport = args.withDeclarativeSideEffectsSupport, options = __rest(args, ["withDeclarativeSideEffectsSupport"]);
    return __assign({ onSuccess: undefined }, options);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useMutation);


/***/ }),

/***/ "./node_modules/ra-core/esm/export/defaultExporter.js":
/*!************************************************************!*\
  !*** ./node_modules/ra-core/esm/export/defaultExporter.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jsonexport_dist__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonexport/dist */ "./node_modules/jsonexport/dist/index.js");
/* harmony import */ var jsonexport_dist__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonexport_dist__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _downloadCSV__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./downloadCSV */ "./node_modules/ra-core/esm/export/downloadCSV.js");


var defaultExporter = function (data, _, __, resource) {
    return jsonexport_dist__WEBPACK_IMPORTED_MODULE_0___default()(data, function (err, csv) { return (0,_downloadCSV__WEBPACK_IMPORTED_MODULE_1__.default)(csv, resource); });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (defaultExporter);


/***/ }),

/***/ "./node_modules/ra-core/esm/export/downloadCSV.js":
/*!********************************************************!*\
  !*** ./node_modules/ra-core/esm/export/downloadCSV.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (csv, filename) {
    var fakeLink = document.createElement('a');
    fakeLink.style.display = 'none';
    document.body.appendChild(fakeLink);
    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8' });
    if (window.navigator && window.navigator.msSaveOrOpenBlob) {
        // Manage IE11+ & Edge
        window.navigator.msSaveOrOpenBlob(blob, filename + ".csv");
    }
    else {
        fakeLink.setAttribute('href', URL.createObjectURL(blob));
        fakeLink.setAttribute('download', filename + ".csv");
        fakeLink.click();
    }
});


/***/ }),

/***/ "./node_modules/ra-core/esm/export/fetchRelatedRecords.js":
/*!****************************************************************!*\
  !*** ./node_modules/ra-core/esm/export/fetchRelatedRecords.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getRelatedIds": () => (/* binding */ getRelatedIds),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * Helper function for calling the dataProvider.getMany() method,
 * and getting a Promise for the records indexed by id in return.
 *
 * @example
 *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>
 *         posts.map(record => ({
 *             ...record,
 *             post_title: posts[record.post_id].title,
 *         }))
 *     );
 */
var fetchRelatedRecords = function (dataProvider) { return function (data, field, resource) {
    return dataProvider
        .getMany(resource, { ids: getRelatedIds(data, field) })
        .then(function (_a) {
        var data = _a.data;
        return data.reduce(function (acc, post) {
            acc[post.id] = post;
            return acc;
        }, {});
    });
}; };
/**
 * Extracts, aggregates and deduplicates the ids of related records
 *
 * @example
 *     const books = [
 *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },
 *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },
 *         { id: 3, author_id: 456, title: 'War and Peace' },
 *     ];
 *     getRelatedIds(books, 'author_id'); => [123, 456]
 *
 * @example
 *     const books = [
 *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },
 *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },
 *         { id: 3, tag_ids: [4], title: 'War and Peace' },
 *     ];
 *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]
 *
 * @param {Object[]} records An array of records
 * @param {string} field the identifier of the record field to use
 */
var getRelatedIds = function (records, field) {
    return Array.from(new Set(records
        .filter(function (record) { return record[field] != null; })
        .map(function (record) { return record[field]; })
        .reduce(function (ids, value) { return ids.concat(value); }, [])));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fetchRelatedRecords);


/***/ }),

/***/ "./node_modules/ra-core/esm/i18n/TranslationProvider.js":
/*!**************************************************************!*\
  !*** ./node_modules/ra-core/esm/i18n/TranslationProvider.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _util_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/hooks */ "./node_modules/ra-core/esm/util/hooks.js");
/* harmony import */ var _TranslationContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TranslationContext */ "./node_modules/ra-core/esm/i18n/TranslationContext.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



/**
 * Creates a translation context, available to its children
 *
 * @example
 *     const MyApp = () => (
 *         <Provider store={store}>
 *             <TranslationProvider i18nProvider={i18nProvider}>
 *                 <!-- Child components go here -->
 *             </TranslationProvider>
 *         </Provider>
 *     );
 */
var TranslationProvider = function (props) {
    var i18nProvider = props.i18nProvider, children = props.children;
    var _a = (0,_util_hooks__WEBPACK_IMPORTED_MODULE_1__.useSafeSetState)({
        locale: i18nProvider ? i18nProvider.getLocale() : 'en',
        i18nProvider: i18nProvider,
    }), state = _a[0], setState = _a[1];
    var setLocale = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (newLocale) {
        return setState(function (state) { return (__assign(__assign({}, state), { locale: newLocale })); });
    }, [setState]);
    // Allow locale modification by including setLocale in the context
    // This can't be done in the initial state because setState doesn't exist yet
    var value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (__assign(__assign({}, state), { setLocale: setLocale })); }, [setLocale, state]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_TranslationContext__WEBPACK_IMPORTED_MODULE_2__.TranslationContext.Provider, { value: value }, react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TranslationProvider);


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/accumulate.js":
/*!***********************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/accumulate.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "finalizeFactory": () => (/* binding */ finalizeFactory),
/* harmony export */   "accumulateFactory": () => (/* binding */ accumulateFactory),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js");
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

/**
 * Distinct reducer on ids
 *
 * @example
 * addIds([1, 2, 3], { payload: { ids: [3, 4] } })
 *   => [1, 2, 3, 4]
 */
var addIds = function (oldIds, _a) {
    var ids = _a.payload.ids;
    // Using a Set ensure we only keep distinct values
    var oldIdsSet = new Set(oldIds);
    ids.forEach(function (id) { return oldIdsSet.add(id); });
    return Array.from(oldIdsSet);
};
// We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)
var finalizeFactory = function (tasks, accumulations) {
    /**
     * Fetch the accumulated value after a delay
     *
     * As this gets canceled by subsequent calls to accumulate(), only the last
     * call to finalize() will not be canceled. The delay acts as a
     * debounce.
     *
     * @see https://redux-saga.js.org/docs/recipes/#debouncing
     */
    return function finalize(key, actionCreator) {
        var accumulatedValue, action;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: 
                // combined with cancel(), this debounces the calls
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.delay)(50)];
                case 1:
                    // combined with cancel(), this debounces the calls
                    _a.sent();
                    accumulatedValue = accumulations[key];
                    // Remove the latest accumulated value so that they do not interfere with later calls
                    delete accumulations[key];
                    action = actionCreator(key, accumulatedValue);
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)(action)];
                case 2:
                    _a.sent();
                    delete tasks[key];
                    return [2 /*return*/];
            }
        });
    };
};
// We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)
var accumulateFactory = function (tasks, accumulations, finalize) {
    /**
     * Accumulate actions and eventually redispatch an action with the accumulated payload
     *
     * @example
     * accumulate({
     *    type: CRUD_GET_MANY_ACCUMULATE,
     *    payload: { ids: [1, 2, 3], resource: 'posts' },
     *    meta: { accumulate: crudGetMany }
     * });
     * accumulate({
     *    type: CRUD_GET_MANY_ACCUMULATE,
     *    payload: { ids: [4, 5], resource: 'posts' },
     *    meta: { accumulate: crudGetMany }
     * });
     *   => crudGetMany({ ids: [1, 2, 3, 4, 5], resource: 'posts' })
     *
     * @example
     * accumulate({
     *    type: CRUD_GET_MATCHING_ACCUMULATE,
     *    meta: {
     *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),
     *      accumulateValues: () => true,
     *      accumulateKey: '{"resource":"authors", "pagination":{"page":1,"perPage":10},"sort":{"field":"id","order":"DESC"},"filter":{}}'
     *    }
     * });
     * accumulate({
     *    type: CRUD_GET_MATCHING_ACCUMULATE,
     *    meta: {
     *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),
     *      accumulateValues: () => true,
     *      accumulateKey: '{"resource":"authors", "pagination":{"page":1,"perPage":10},"sort":{"field":"id","order":"DESC"},"filter":{}}'
     *    }
     * });
     *   => crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {})
     */
    return function accumulate(action) {
        var key, accumulateValues, _a, _b;
        return __generator(this, function (_c) {
            switch (_c.label) {
                case 0:
                    key = action.meta.accumulateKey || action.payload.resource;
                    if (!tasks[key]) return [3 /*break*/, 2];
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.cancel)(tasks[key])];
                case 1:
                    _c.sent();
                    _c.label = 2;
                case 2:
                    accumulateValues = action.meta.accumulateValues || addIds;
                    // accumulateValues is a reducer function, it receives the previous accumulatedValues for
                    // the provided key, and must return the updated accumulatedValues
                    accumulations[key] = accumulateValues(accumulations[key], action);
                    _a = tasks;
                    _b = key;
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.fork)(finalize, key, action.meta.accumulate)];
                case 3:
                    _a[_b] = _c.sent();
                    return [2 /*return*/];
            }
        });
    };
};
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
    var accumulations, tasks;
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0:
                accumulations = {};
                tasks = {};
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery)(function (action) { return action.meta && action.meta.accumulate; }, accumulateFactory(tasks, accumulations, finalizeFactory(tasks, accumulations)))];
            case 1:
                _a.sent();
                return [2 /*return*/];
        }
    });
}


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/admin.js":
/*!******************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/admin.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js");
/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth */ "./node_modules/ra-core/esm/sideEffect/auth.js");
/* harmony import */ var _callback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./callback */ "./node_modules/ra-core/esm/sideEffect/callback.js");
/* harmony import */ var _fetch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fetch */ "./node_modules/ra-core/esm/sideEffect/fetch.js");
/* harmony import */ var _notification__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./notification */ "./node_modules/ra-core/esm/sideEffect/notification.js");
/* harmony import */ var _redirection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./redirection */ "./node_modules/ra-core/esm/sideEffect/redirection.js");
/* harmony import */ var _accumulate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./accumulate */ "./node_modules/ra-core/esm/sideEffect/accumulate.js");
/* harmony import */ var _refresh__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./refresh */ "./node_modules/ra-core/esm/sideEffect/refresh.js");
/* harmony import */ var _undo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./undo */ "./node_modules/ra-core/esm/sideEffect/undo.js");
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









/**
 * @param {Object} dataProvider A Data Provider function
 * @param {Function} authProvider An Authentication Provider object
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (dataProvider, authProvider) {
    return function admin() {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.all)([
                        (0,_auth__WEBPACK_IMPORTED_MODULE_1__.default)(authProvider)(),
                        (0,_undo__WEBPACK_IMPORTED_MODULE_2__.default)(),
                        (0,_fetch__WEBPACK_IMPORTED_MODULE_3__.default)(dataProvider)(),
                        (0,_accumulate__WEBPACK_IMPORTED_MODULE_4__.default)(),
                        (0,_redirection__WEBPACK_IMPORTED_MODULE_5__.default)(),
                        (0,_refresh__WEBPACK_IMPORTED_MODULE_6__.default)(),
                        (0,_notification__WEBPACK_IMPORTED_MODULE_7__.default)(),
                        (0,_callback__WEBPACK_IMPORTED_MODULE_8__.default)(),
                    ])];
                case 1:
                    _a.sent();
                    return [2 /*return*/];
            }
        });
    };
});


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/auth.js":
/*!*****************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/auth.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "handleLogin": () => (/* binding */ handleLogin),
/* harmony export */   "handleCheck": () => (/* binding */ handleCheck),
/* harmony export */   "handleLogout": () => (/* binding */ handleLogout),
/* harmony export */   "handleFetchError": () => (/* binding */ handleFetchError)
/* harmony export */ });
/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js");
/* harmony import */ var connected_react_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! connected-react-router */ "./node_modules/connected-react-router/esm/actions.js");
/* harmony import */ var _actions_notificationActions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../actions/notificationActions */ "./node_modules/ra-core/esm/actions/notificationActions.js");
/* harmony import */ var _actions_authActions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../actions/authActions */ "./node_modules/ra-core/esm/actions/authActions.js");
/* harmony import */ var _actions_fetchActions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../actions/fetchActions */ "./node_modules/ra-core/esm/actions/fetchActions.js");
/* harmony import */ var _actions_clearActions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../actions/clearActions */ "./node_modules/ra-core/esm/actions/clearActions.js");
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (authProvider) {
    if (!authProvider) {
        return function () { return null; };
    }
    return function watchAuthActions() {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.all)([
                        (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery)(_actions_authActions__WEBPACK_IMPORTED_MODULE_1__.USER_LOGIN, handleLogin(authProvider)),
                        (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery)(_actions_authActions__WEBPACK_IMPORTED_MODULE_1__.USER_CHECK, handleCheck(authProvider)),
                        (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery)(_actions_authActions__WEBPACK_IMPORTED_MODULE_1__.USER_LOGOUT, handleLogout(authProvider)),
                        (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeLatest)(_actions_fetchActions__WEBPACK_IMPORTED_MODULE_2__.FETCH_ERROR, handleFetchError(authProvider)),
                    ])];
                case 1:
                    _a.sent();
                    return [2 /*return*/];
            }
        });
    };
});
var nextPathnameSelector = function (state) {
    var locationState = state.router.location.state;
    return locationState && locationState.nextPathname;
};
var currentPathnameSelector = function (state) { return state.router.location; };
var getErrorMessage = function (error, defaultMessage) {
    return typeof error === 'string'
        ? error
        : typeof error === 'undefined' || !error.message
            ? defaultMessage
            : error.message;
};
var handleLogin = function (authProvider) {
    return function (action) {
        var payload, meta, authPayload, redirectTo, e_1, errorMessage;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    payload = action.payload, meta = action.meta;
                    _a.label = 1;
                case 1:
                    _a.trys.push([1, 7, , 10]);
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)({ type: _actions_authActions__WEBPACK_IMPORTED_MODULE_1__.USER_LOGIN_LOADING })];
                case 2:
                    _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.call)([authProvider, 'login'], payload)];
                case 3:
                    authPayload = _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)({
                            type: _actions_authActions__WEBPACK_IMPORTED_MODULE_1__.USER_LOGIN_SUCCESS,
                            payload: authPayload,
                        })];
                case 4:
                    _a.sent();
                    return [4 /*yield*/, meta.pathName ||
                            (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.select)(nextPathnameSelector)];
                case 5:
                    redirectTo = _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,connected_react_router__WEBPACK_IMPORTED_MODULE_3__.push)(redirectTo || '/'))];
                case 6:
                    _a.sent();
                    return [3 /*break*/, 10];
                case 7:
                    e_1 = _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)({
                            type: _actions_authActions__WEBPACK_IMPORTED_MODULE_1__.USER_LOGIN_FAILURE,
                            error: e_1,
                            meta: { auth: true },
                        })];
                case 8:
                    _a.sent();
                    errorMessage = getErrorMessage(e_1, 'ra.auth.sign_in_error');
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_notificationActions__WEBPACK_IMPORTED_MODULE_4__.showNotification)(errorMessage, 'warning'))];
                case 9:
                    _a.sent();
                    return [3 /*break*/, 10];
                case 10: return [2 /*return*/];
            }
        });
    };
};
var handleCheck = function (authProvider) {
    return function (action) {
        var payload, meta, error_1, redirectTo, errorMessage;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    payload = action.payload, meta = action.meta;
                    _a.label = 1;
                case 1:
                    _a.trys.push([1, 3, , 8]);
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.call)([authProvider, 'checkAuth'], payload)];
                case 2:
                    _a.sent();
                    return [3 /*break*/, 8];
                case 3:
                    error_1 = _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.call)([authProvider, 'logout'], undefined)];
                case 4:
                    redirectTo = _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,connected_react_router__WEBPACK_IMPORTED_MODULE_3__.replace)({
                            pathname: (error_1 && error_1.redirectTo) || redirectTo || '/login',
                            state: { nextPathname: meta.pathName },
                        }))];
                case 5:
                    _a.sent();
                    // Clear the state before showing a notification as it would be dismissed immediately otherwise
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_clearActions__WEBPACK_IMPORTED_MODULE_5__.clearState)())];
                case 6:
                    // Clear the state before showing a notification as it would be dismissed immediately otherwise
                    _a.sent();
                    errorMessage = getErrorMessage(error_1, 'ra.auth.auth_check_error');
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_notificationActions__WEBPACK_IMPORTED_MODULE_4__.showNotification)(errorMessage, 'warning'))];
                case 7:
                    _a.sent();
                    return [3 /*break*/, 8];
                case 8: return [2 /*return*/];
            }
        });
    };
};
var handleLogout = function (authProvider) {
    return function (action) {
        var payload, redirectTo;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    payload = action.payload;
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.call)([authProvider, 'logout'], undefined)];
                case 1:
                    redirectTo = _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,connected_react_router__WEBPACK_IMPORTED_MODULE_3__.push)((payload && payload.redirectTo) || redirectTo || '/login'))];
                case 2:
                    _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_clearActions__WEBPACK_IMPORTED_MODULE_5__.clearState)())];
                case 3:
                    _a.sent();
                    return [2 /*return*/];
            }
        });
    };
};
var handleFetchError = function (authProvider) {
    return function (action) {
        var error, e_2, nextPathname, redirectTo;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    error = action.error;
                    _a.label = 1;
                case 1:
                    _a.trys.push([1, 3, , 10]);
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.call)([authProvider, 'checkError'], error)];
                case 2:
                    _a.sent();
                    return [3 /*break*/, 10];
                case 3:
                    e_2 = _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.select)(currentPathnameSelector)];
                case 4:
                    nextPathname = _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.call)([authProvider, 'logout'], undefined)];
                case 5:
                    redirectTo = _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,connected_react_router__WEBPACK_IMPORTED_MODULE_3__.push)({
                            pathname: redirectTo || '/login',
                            state: { nextPathname: nextPathname },
                        }))];
                case 6:
                    _a.sent();
                    // Clear the state before showing a notification as it would be dismissed immediately otherwise
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_clearActions__WEBPACK_IMPORTED_MODULE_5__.clearState)())];
                case 7:
                    // Clear the state before showing a notification as it would be dismissed immediately otherwise
                    _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_notificationActions__WEBPACK_IMPORTED_MODULE_4__.hideNotification)())];
                case 8:
                    _a.sent();
                    return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_notificationActions__WEBPACK_IMPORTED_MODULE_4__.showNotification)('ra.notification.logged_out', 'warning'))];
                case 9:
                    _a.sent();
                    return [3 /*break*/, 10];
                case 10: return [2 /*return*/];
            }
        });
    };
};


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/callback.js":
/*!*********************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/callback.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js");
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

/**
 * Callback Side Effects
 */
function handleCallback(_a) {
    var payload = _a.payload, requestPayload = _a.requestPayload, error = _a.error, callback = _a.meta.callback;
    return __generator(this, function (_b) {
        switch (_b.label) {
            case 0: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.call)(callback, { payload: payload, requestPayload: requestPayload, error: error })];
            case 1:
                _b.sent();
                return [2 /*return*/];
        }
    });
}
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery)(function (action) { return action.meta && action.meta.callback; }, handleCallback)];
            case 1:
                _a.sent();
                return [2 /*return*/];
        }
    });
}


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/fetch.js":
/*!******************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/fetch.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "handleFetch": () => (/* binding */ handleFetch),
/* harmony export */   "takeFetchAction": () => (/* binding */ takeFetchAction),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../actions */ "./node_modules/ra-core/esm/actions/fetchActions.js");
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core */ "./node_modules/ra-core/esm/core/dataFetchActions.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



function validateResponseFormat(response, type, logger // eslint-disable-line no-console
) {
    if (logger === void 0) { logger = console.error; }
    if (!response.hasOwnProperty('data')) {
        logger("The response to '" + type + "' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '" + type + "'.");
        throw new Error('ra.notification.data_provider_error');
    }
    if (_core__WEBPACK_IMPORTED_MODULE_1__.fetchActionsWithArrayOfRecordsResponse.includes(type) &&
        !Array.isArray(response.data)) {
        logger("The response to '" + type + "' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '" + type + "'");
        throw new Error('ra.notification.data_provider_error');
    }
    if (_core__WEBPACK_IMPORTED_MODULE_1__.fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&
        Array.isArray(response.data) &&
        response.data.length > 0 &&
        response.data.some(function (d) { return !d.hasOwnProperty('id'); })) {
        logger("The response to '" + type + "' must be like { data : [{ id: 123, ...}, ...] }, but at least one received data item do not have an 'id' key. The dataProvider is probably wrong for '" + type + "'");
        throw new Error('ra.notification.data_provider_error');
    }
    if (_core__WEBPACK_IMPORTED_MODULE_1__.fetchActionsWithRecordResponse.includes(type) &&
        !response.data.hasOwnProperty('id')) {
        logger("The response to '" + type + "' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '" + type + "'");
        throw new Error('ra.notification.data_provider_error');
    }
    if (_core__WEBPACK_IMPORTED_MODULE_1__.fetchActionsWithTotalResponse.includes(type) &&
        !response.hasOwnProperty('total')) {
        logger("The response to '" + type + "' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '" + type + "'");
        throw new Error('ra.notification.data_provider_error');
    }
}
function handleFetch(dataProvider, action) {
    var type, payload, _a, fetchMeta, onSuccess, onFailure, meta, restType, successSideEffects, failureSideEffects, isOptimistic, response, error_1;
    return __generator(this, function (_b) {
        switch (_b.label) {
            case 0:
                type = action.type, payload = action.payload, _a = action.meta, fetchMeta = _a.fetch, onSuccess = _a.onSuccess, onFailure = _a.onFailure, meta = __rest(_a, ["fetch", "onSuccess", "onFailure"]);
                restType = fetchMeta;
                successSideEffects = onSuccess instanceof Function ? {} : onSuccess;
                failureSideEffects = onFailure instanceof Function ? {} : onFailure;
                _b.label = 1;
            case 1:
                _b.trys.push([1, 7, 10, 14]);
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.select)(function (state) { return state.admin.ui.optimistic; })];
            case 2:
                isOptimistic = _b.sent();
                if (isOptimistic) {
                    // in optimistic mode, all fetch actions are canceled,
                    // so the admin uses the store without synchronization
                    return [2 /*return*/];
                }
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.all)([
                        (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)({ type: type + "_LOADING", payload: payload, meta: meta }),
                        (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)({ type: _actions__WEBPACK_IMPORTED_MODULE_2__.FETCH_START }),
                    ])];
            case 3:
                _b.sent();
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.call)(dataProvider[(0,_core__WEBPACK_IMPORTED_MODULE_1__.sanitizeFetchType)(restType)], meta.resource, payload)];
            case 4:
                response = _b.sent();
                if (true) {
                    validateResponseFormat(response, restType);
                }
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)({
                        type: type + "_SUCCESS",
                        payload: response,
                        requestPayload: payload,
                        meta: __assign(__assign(__assign({}, meta), successSideEffects), { fetchResponse: restType, fetchStatus: _actions__WEBPACK_IMPORTED_MODULE_2__.FETCH_END }),
                    })];
            case 5:
                _b.sent();
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)({ type: _actions__WEBPACK_IMPORTED_MODULE_2__.FETCH_END })];
            case 6:
                _b.sent();
                return [3 /*break*/, 14];
            case 7:
                error_1 = _b.sent();
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)({
                        type: type + "_FAILURE",
                        error: (error_1 && (error_1.message ? error_1.message : error_1)) || null,
                        payload: (error_1 && error_1.body) || null,
                        requestPayload: payload,
                        meta: __assign(__assign(__assign({}, meta), failureSideEffects), { fetchResponse: restType, fetchStatus: _actions__WEBPACK_IMPORTED_MODULE_2__.FETCH_ERROR }),
                    })];
            case 8:
                _b.sent();
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)({ type: _actions__WEBPACK_IMPORTED_MODULE_2__.FETCH_ERROR, error: error_1 })];
            case 9:
                _b.sent();
                return [3 /*break*/, 14];
            case 10: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.cancelled)()];
            case 11:
                if (!_b.sent()) return [3 /*break*/, 13];
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)({ type: _actions__WEBPACK_IMPORTED_MODULE_2__.FETCH_CANCEL })];
            case 12:
                _b.sent();
                return [2 /*return*/];
            case 13: return [7 /*endfinally*/];
            case 14: return [2 /*return*/];
        }
    });
}
var takeFetchAction = function (action) { return action.meta && action.meta.fetch; };
var fetch = function (dataProvider) {
    return function watchFetch() {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery)(takeFetchAction, handleFetch, dataProvider)];
                case 1:
                    _a.sent();
                    return [2 /*return*/];
            }
        });
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fetch);


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/notification.js":
/*!*************************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/notification.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js");
/* harmony import */ var _actions_notificationActions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../actions/notificationActions */ "./node_modules/ra-core/esm/actions/notificationActions.js");
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


/**
 * Notification Side Effects
 */
function handleNotification(_a) {
    var body, level, _b, messageArgs;
    var error = _a.error, _c = _a.meta, notification = _c.notification, optimistic = _c.optimistic;
    return __generator(this, function (_d) {
        switch (_d.label) {
            case 0:
                body = notification.body, level = notification.level, _b = notification.messageArgs, messageArgs = _b === void 0 ? {} : _b;
                if (!error) return [3 /*break*/, 2];
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_notificationActions__WEBPACK_IMPORTED_MODULE_1__.showNotification)(typeof error === 'string' ? error : error.message || body, level || 'warning', {
                        messageArgs: messageArgs,
                        undoable: false,
                    }))];
            case 1: return [2 /*return*/, _d.sent()];
            case 2: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_notificationActions__WEBPACK_IMPORTED_MODULE_1__.showNotification)(body, level || 'info', {
                    messageArgs: messageArgs,
                    undoable: optimistic,
                }))];
            case 3:
                _d.sent();
                return [2 /*return*/];
        }
    });
}
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery)(
                // @ts-ignore
                function (action) { return action.meta && action.meta.notification; }, handleNotification)];
            case 1:
                _a.sent();
                return [2 /*return*/];
        }
    });
}


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/redirection.js":
/*!************************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/redirection.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "handleRedirection": () => (/* binding */ handleRedirection),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js");
/* harmony import */ var connected_react_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! connected-react-router */ "./node_modules/connected-react-router/esm/actions.js");
/* harmony import */ var _util_resolveRedirectTo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/resolveRedirectTo */ "./node_modules/ra-core/esm/util/resolveRedirectTo.js");
/* harmony import */ var _actions_uiActions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../actions/uiActions */ "./node_modules/ra-core/esm/actions/uiActions.js");
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




/**
 * Redirection Side Effects
 */
function handleRedirection(_a) {
    var payload = _a.payload, requestPayload = _a.requestPayload, _b = _a.meta, basePath = _b.basePath, redirectTo = _b.redirectTo;
    return __generator(this, function (_c) {
        switch (_c.label) {
            case 0:
                if (!!redirectTo) return [3 /*break*/, 2];
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_uiActions__WEBPACK_IMPORTED_MODULE_1__.refreshView)())];
            case 1:
                _c.sent();
                return [2 /*return*/];
            case 2: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,connected_react_router__WEBPACK_IMPORTED_MODULE_2__.push)((0,_util_resolveRedirectTo__WEBPACK_IMPORTED_MODULE_3__.default)(redirectTo, basePath, payload
                    ? payload.id || (payload.data ? payload.data.id : null)
                    : requestPayload
                        ? requestPayload.id
                        : null, payload && payload.data
                    ? payload.data
                    : requestPayload && requestPayload.data
                        ? requestPayload.data
                        : null)))];
            case 3:
                _c.sent();
                return [2 /*return*/];
        }
    });
}
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery)(
                // @ts-ignore
                function (action) { return action.meta && typeof action.meta.redirectTo !== 'undefined'; }, handleRedirection)];
            case 1:
                _a.sent();
                return [2 /*return*/];
        }
    });
}


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/refresh.js":
/*!********************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/refresh.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js");
/* harmony import */ var _actions_uiActions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../actions/uiActions */ "./node_modules/ra-core/esm/actions/uiActions.js");
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


/**
 * Refresh Side Effects
 */
function handleRefresh() {
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_uiActions__WEBPACK_IMPORTED_MODULE_1__.refreshView)())];
            case 1:
                _a.sent();
                return [2 /*return*/];
        }
    });
}
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery)(function (action) { return action.meta && action.meta.refresh; }, handleRefresh)];
            case 1:
                _a.sent();
                return [2 /*return*/];
        }
    });
}


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/undo.js":
/*!*****************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/undo.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "handleUndoRace": () => (/* binding */ handleUndoRace),
/* harmony export */   "default": () => (/* binding */ watchUndoable)
/* harmony export */ });
/* harmony import */ var redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-saga/effects */ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js");
/* harmony import */ var _actions_notificationActions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../actions/notificationActions */ "./node_modules/ra-core/esm/actions/notificationActions.js");
/* harmony import */ var _actions_undoActions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../actions/undoActions */ "./node_modules/ra-core/esm/actions/undoActions.js");
/* harmony import */ var _actions_uiActions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../actions/uiActions */ "./node_modules/ra-core/esm/actions/uiActions.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};




function handleUndoRace(undoableAction) {
    var action, _a, onSuccess, onFailure, metaWithoutSideEffects, complete;
    return __generator(this, function (_b) {
        switch (_b.label) {
            case 0:
                action = undoableAction.payload.action;
                _a = action.meta, onSuccess = _a.onSuccess, onFailure = _a.onFailure, metaWithoutSideEffects = __rest(_a, ["onSuccess", "onFailure"]);
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_undoActions__WEBPACK_IMPORTED_MODULE_1__.startOptimisticMode)())];
            case 1:
                _b.sent();
                // dispatch action in optimistic mode (no fetch), with success side effects
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)(__assign(__assign({}, action), { type: action.type + "_OPTIMISTIC", meta: __assign(__assign(__assign({}, metaWithoutSideEffects), onSuccess), { optimistic: true }) }))];
            case 2:
                // dispatch action in optimistic mode (no fetch), with success side effects
                _b.sent();
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.race)({
                        undo: (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.take)(_actions_undoActions__WEBPACK_IMPORTED_MODULE_1__.UNDO),
                        complete: (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.take)(_actions_undoActions__WEBPACK_IMPORTED_MODULE_1__.COMPLETE),
                    })];
            case 3:
                complete = (_b.sent()).complete;
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_undoActions__WEBPACK_IMPORTED_MODULE_1__.stopOptimisticMode)())];
            case 4:
                _b.sent();
                if (!complete) return [3 /*break*/, 6];
                // if not cancelled, redispatch the action, this time immediate, and without success side effect
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)(__assign(__assign({}, action), { meta: __assign(__assign({}, metaWithoutSideEffects), { onSuccess: { refresh: true }, onFailure: __assign(__assign({}, onFailure), { refresh: true }) }) }))];
            case 5:
                // if not cancelled, redispatch the action, this time immediate, and without success side effect
                _b.sent();
                return [3 /*break*/, 9];
            case 6: return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_notificationActions__WEBPACK_IMPORTED_MODULE_2__.showNotification)('ra.notification.canceled'))];
            case 7:
                _b.sent();
                return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.put)((0,_actions_uiActions__WEBPACK_IMPORTED_MODULE_3__.refreshView)())];
            case 8:
                _b.sent();
                _b.label = 9;
            case 9: return [2 /*return*/];
        }
    });
}
function watchUndoable() {
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: 
            // @ts-ignore
            return [4 /*yield*/, (0,redux_saga_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery)(_actions_undoActions__WEBPACK_IMPORTED_MODULE_1__.UNDOABLE, handleUndoRace)];
            case 1:
                // @ts-ignore
                _a.sent();
                return [2 /*return*/];
        }
    });
}


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/useRedirect.js":
/*!************************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/useRedirect.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var history__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! history */ "./node_modules/history/esm/history.js");
/* harmony import */ var _util_resolveRedirectTo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/resolveRedirectTo */ "./node_modules/ra-core/esm/util/resolveRedirectTo.js");
/* harmony import */ var _actions_uiActions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../actions/uiActions */ "./node_modules/ra-core/esm/actions/uiActions.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};






/**
 * Hook for Redirection Side Effect
 *
 * @example
 *
 * const redirect = useRedirect();
 * // redirect to list view
 * redirect('list', '/posts');
 * // redirect to edit view
 * redirect('edit', '/posts', 123);
 * // redirect to edit view with state data
 * redirect('edit', '/comment', 123, {}, { record: { post_id: record.id } });
 * // do not redirect (resets the record form)
 * redirect(false);
 * // redirect to the result of a function
 * redirect((redirectTo, basePath, id, data) => ...)
 */
var useRedirect = function () {
    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_2__.useHistory)(); // Note: history is mutable. This prevents render loops in useCallback.
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (redirectTo, basePath, id, data, state) {
        if (basePath === void 0) { basePath = ''; }
        if (state === void 0) { state = {}; }
        if (!redirectTo) {
            if (history.location.state || history.location.search) {
                history.replace(__assign(__assign({}, history.location), { state: state, search: undefined }));
            }
            else {
                dispatch((0,_actions_uiActions__WEBPACK_IMPORTED_MODULE_3__.refreshView)());
            }
            return;
        }
        history.push(__assign(__assign({}, (0,history__WEBPACK_IMPORTED_MODULE_4__.parsePath)((0,_util_resolveRedirectTo__WEBPACK_IMPORTED_MODULE_5__.default)(redirectTo, basePath, id, data))), { state: __assign({ _scrollToTop: true }, state) }));
    }, [dispatch, history]);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useRedirect);


/***/ }),

/***/ "./node_modules/ra-core/esm/sideEffect/useUnselectAll.js":
/*!***************************************************************!*\
  !*** ./node_modules/ra-core/esm/sideEffect/useUnselectAll.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../actions */ "./node_modules/ra-core/esm/actions/listActions.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util */ "./node_modules/ra-core/esm/util/warning.js");




/**
 * Hook for Unselect All Side Effect
 *
 * @example
 *
 * const unselectAll = useUnselectAll('posts');
 * unselectAll();
 */
var useUnselectAll = function (resource1) {
    var dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (resource2) {
        (0,_util__WEBPACK_IMPORTED_MODULE_2__.default)(!resource2 && !resource1, "You didn't specify the resource at initialization (useUnselectAll('posts')) nor when using the callback (unselectAll('posts'))");
        dispatch((0,_actions__WEBPACK_IMPORTED_MODULE_3__.setListSelectedIds)(resource2 || resource1, []));
    }, [dispatch, resource1]);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useUnselectAll);


/***/ }),

/***/ "./node_modules/ra-core/esm/util/Ready.js":
/*!************************************************!*\
  !*** ./node_modules/ra-core/esm/util/Ready.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};


var styles = {
    root: {
        width: '100vw',
        height: '100vh',
        display: 'flex',
        flexDirection: 'column',
        fontFamily: '"Roboto", sans-serif',
    },
    main: {
        flex: 1,
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        textAlign: 'center',
        flexDirection: 'column',
        background: 'linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)',
        color: 'white',
        fontSize: '1.5em',
        fontWeight: 'bold',
    },
    secondary: {
        height: '20vh',
        background: '#e8e8e8',
        color: 'black',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'space-evenly',
    },
    link: {
        textAlign: 'center',
        width: 150,
        display: 'block',
        textDecoration: 'none',
        color: 'black',
        opacity: 0.7,
    },
    linkHovered: {
        opacity: 1,
    },
    image: {
        width: 50,
    },
    logo: {
        height: 100,
    },
};
var Button = function (_a) {
    var img = _a.img, label = _a.label, href = _a.href;
    var _b = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), hovered = _b[0], setHovered = _b[1];
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", { href: href, style: hovered
                ? __assign(__assign({}, styles.link), styles.linkHovered) : styles.link, onMouseEnter: function () { return setHovered(true); }, onMouseLeave: function () { return setHovered(false); } },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("img", { src: img, alt: label, style: styles.image }),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("br", null),
            label)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function () {
    return  false ? (0) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { style: styles.root },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { style: styles.main },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("img", { style: styles.logo, src: "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=", alt: "react-admin logo" }),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1", null, "Welcome to React-admin"),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null,
                "Your application is properly configured.",
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("br", null),
                "Now you can add a <Resource> as child of <Admin>.")),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { style: styles.secondary },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(Button, { href: "https://marmelab.com/react-admin/Readme.html", img: "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=", label: "Documentation" }),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(Button, { href: "https://github.com/marmelab/react-admin/tree/master/examples", img: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=", label: "Examples" }),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(Button, { href: "https://stackoverflow.com/questions/tagged/react-admin", img: "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=", label: "Community" }))));
});


/***/ }),

/***/ "./node_modules/ra-core/esm/util/resolveRedirectTo.js":
/*!************************************************************!*\
  !*** ./node_modules/ra-core/esm/util/resolveRedirectTo.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _linkToRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./linkToRecord */ "./node_modules/ra-core/esm/util/linkToRecord.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (redirectTo, basePath, id, data) {
    if (typeof redirectTo === 'function') {
        return redirectTo(basePath, id, data);
    }
    switch (redirectTo) {
        case 'list':
            return basePath;
        case 'create':
            return basePath + "/create";
        case 'edit':
            return (0,_linkToRecord__WEBPACK_IMPORTED_MODULE_0__.default)(basePath, id);
        case 'show':
            return (0,_linkToRecord__WEBPACK_IMPORTED_MODULE_0__.default)(basePath, id) + "/show";
        default:
            return redirectTo;
    }
});


/***/ }),

/***/ "./node_modules/ra-data-json-server/esm/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/ra-data-json-server/esm/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! query-string */ "./node_modules/query-string/index.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/dataProvider/fetch.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};


/**
 * Maps react-admin queries to a json-server powered REST API
 *
 * @see https://github.com/typicode/json-server
 *
 * @example
 *
 * getList          => GET http://my.api.url/posts?_sort=title&_order=ASC&_start=0&_end=24
 * getOne           => GET http://my.api.url/posts/123
 * getManyReference => GET http://my.api.url/posts?author_id=345
 * getMany          => GET http://my.api.url/posts?id=123&id=456&id=789
 * create           => POST http://my.api.url/posts/123
 * update           => PUT http://my.api.url/posts/123
 * updateMany       => PUT http://my.api.url/posts/123, PUT http://my.api.url/posts/456, PUT http://my.api.url/posts/789
 * delete           => DELETE http://my.api.url/posts/123
 *
 * @example
 *
 * import * as React from "react";
 * import { Admin, Resource } from 'react-admin';
 * import jsonServerProvider from 'ra-data-json-server';
 *
 * import { PostList } from './posts';
 *
 * const App = () => (
 *     <Admin dataProvider={jsonServerProvider('http://jsonplaceholder.typicode.com')}>
 *         <Resource name="posts" list={PostList} />
 *     </Admin>
 * );
 *
 * export default App;
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (apiUrl, httpClient) {
    if (httpClient === void 0) { httpClient = ra_core__WEBPACK_IMPORTED_MODULE_1__.fetchJson; }
    return ({
        getList: function (resource, params) {
            var _a = params.pagination, page = _a.page, perPage = _a.perPage;
            var _b = params.sort, field = _b.field, order = _b.order;
            var query = __assign(__assign({}, ra_core__WEBPACK_IMPORTED_MODULE_1__.flattenObject(params.filter)), { _sort: field, _order: order, _start: (page - 1) * perPage, _end: page * perPage });
            var url = apiUrl + "/" + resource + "?" + (0,query_string__WEBPACK_IMPORTED_MODULE_0__.stringify)(query);
            return httpClient(url).then(function (_a) {
                var headers = _a.headers, json = _a.json;
                if (!headers.has('x-total-count')) {
                    throw new Error('The X-Total-Count header is missing in the HTTP Response. The jsonServer Data Provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare X-Total-Count in the Access-Control-Expose-Headers header?');
                }
                return {
                    data: json,
                    total: parseInt(headers.get('x-total-count').split('/').pop(), 10),
                };
            });
        },
        getOne: function (resource, params) {
            return httpClient(apiUrl + "/" + resource + "/" + params.id).then(function (_a) {
                var json = _a.json;
                return ({
                    data: json,
                });
            });
        },
        getMany: function (resource, params) {
            var query = {
                id: params.ids,
            };
            var url = apiUrl + "/" + resource + "?" + (0,query_string__WEBPACK_IMPORTED_MODULE_0__.stringify)(query);
            return httpClient(url).then(function (_a) {
                var json = _a.json;
                return ({ data: json });
            });
        },
        getManyReference: function (resource, params) {
            var _a;
            var _b = params.pagination, page = _b.page, perPage = _b.perPage;
            var _c = params.sort, field = _c.field, order = _c.order;
            var query = __assign(__assign({}, ra_core__WEBPACK_IMPORTED_MODULE_1__.flattenObject(params.filter)), (_a = {}, _a[params.target] = params.id, _a._sort = field, _a._order = order, _a._start = (page - 1) * perPage, _a._end = page * perPage, _a));
            var url = apiUrl + "/" + resource + "?" + (0,query_string__WEBPACK_IMPORTED_MODULE_0__.stringify)(query);
            return httpClient(url).then(function (_a) {
                var headers = _a.headers, json = _a.json;
                if (!headers.has('x-total-count')) {
                    throw new Error('The X-Total-Count header is missing in the HTTP Response. The jsonServer Data Provider expects responses for lists of resources to contain this header with the total number of results to build the pagination. If you are using CORS, did you declare X-Total-Count in the Access-Control-Expose-Headers header?');
                }
                return {
                    data: json,
                    total: parseInt(headers.get('x-total-count').split('/').pop(), 10),
                };
            });
        },
        update: function (resource, params) {
            return httpClient(apiUrl + "/" + resource + "/" + params.id, {
                method: 'PUT',
                body: JSON.stringify(params.data),
            }).then(function (_a) {
                var json = _a.json;
                return ({ data: json });
            });
        },
        // json-server doesn't handle filters on UPDATE route, so we fallback to calling UPDATE n times instead
        updateMany: function (resource, params) {
            return Promise.all(params.ids.map(function (id) {
                return httpClient(apiUrl + "/" + resource + "/" + id, {
                    method: 'PUT',
                    body: JSON.stringify(params.data),
                });
            })).then(function (responses) { return ({ data: responses.map(function (_a) {
                    var json = _a.json;
                    return json.id;
                }) }); });
        },
        create: function (resource, params) {
            return httpClient(apiUrl + "/" + resource, {
                method: 'POST',
                body: JSON.stringify(params.data),
            }).then(function (_a) {
                var json = _a.json;
                return ({
                    data: __assign(__assign({}, params.data), { id: json.id }),
                });
            });
        },
        delete: function (resource, params) {
            return httpClient(apiUrl + "/" + resource + "/" + params.id, {
                method: 'DELETE',
            }).then(function (_a) {
                var json = _a.json;
                return ({ data: json });
            });
        },
        // json-server doesn't handle filters on DELETE route, so we fallback to calling DELETE n times instead
        deleteMany: function (resource, params) {
            return Promise.all(params.ids.map(function (id) {
                return httpClient(apiUrl + "/" + resource + "/" + id, {
                    method: 'DELETE',
                });
            })).then(function (responses) { return ({ data: responses.map(function (_a) {
                    var json = _a.json;
                    return json.id;
                }) }); });
        },
    });
});


/***/ }),

/***/ "./node_modules/ra-language-english/esm/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/ra-language-english/esm/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var englishMessages = {
    ra: {
        action: {
            add_filter: 'Add filter',
            add: 'Add',
            back: 'Go Back',
            bulk_actions: '1 item selected |||| %{smart_count} items selected',
            cancel: 'Cancel',
            clear_input_value: 'Clear value',
            clone: 'Clone',
            confirm: 'Confirm',
            create: 'Create',
            create_item: 'Create %{item}',
            delete: 'Delete',
            edit: 'Edit',
            export: 'Export',
            list: 'List',
            refresh: 'Refresh',
            remove_filter: 'Remove this filter',
            remove: 'Remove',
            save: 'Save',
            search: 'Search',
            show: 'Show',
            sort: 'Sort',
            undo: 'Undo',
            unselect: 'Unselect',
            expand: 'Expand',
            close: 'Close',
            open_menu: 'Open menu',
            close_menu: 'Close menu',
            update: 'Update',
        },
        boolean: {
            true: 'Yes',
            false: 'No',
            null: '',
        },
        page: {
            create: 'Create %{name}',
            dashboard: 'Dashboard',
            edit: '%{name} #%{id}',
            error: 'Something went wrong',
            list: '%{name}',
            loading: 'Loading',
            not_found: 'Not Found',
            show: '%{name} #%{id}',
            empty: 'No %{name} yet.',
            invite: 'Do you want to add one?',
        },
        input: {
            file: {
                upload_several: 'Drop some files to upload, or click to select one.',
                upload_single: 'Drop a file to upload, or click to select it.',
            },
            image: {
                upload_several: 'Drop some pictures to upload, or click to select one.',
                upload_single: 'Drop a picture to upload, or click to select it.',
            },
            references: {
                all_missing: 'Unable to find references data.',
                many_missing: 'At least one of the associated references no longer appears to be available.',
                single_missing: 'Associated reference no longer appears to be available.',
            },
            password: {
                toggle_visible: 'Hide password',
                toggle_hidden: 'Show password',
            },
        },
        message: {
            about: 'About',
            are_you_sure: 'Are you sure?',
            bulk_delete_content: 'Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?',
            bulk_delete_title: 'Delete %{name} |||| Delete %{smart_count} %{name}',
            bulk_update_content: 'Are you sure you want to update this %{name}? |||| Are you sure you want to update these %{smart_count} items?',
            bulk_update_title: 'Update %{name} |||| Update %{smart_count} %{name}',
            delete_content: 'Are you sure you want to delete this item?',
            delete_title: 'Delete %{name} #%{id}',
            details: 'Details',
            error: "A client error occurred and your request couldn't be completed.",
            invalid_form: 'The form is not valid. Please check for errors',
            loading: 'The page is loading, just a moment please',
            no: 'No',
            not_found: 'Either you typed a wrong URL, or you followed a bad link.',
            yes: 'Yes',
            unsaved_changes: "Some of your changes weren't saved. Are you sure you want to ignore them?",
        },
        navigation: {
            no_results: 'No results found',
            no_more_results: 'The page number %{page} is out of boundaries. Try the previous page.',
            page_out_of_boundaries: 'Page number %{page} out of boundaries',
            page_out_from_end: 'Cannot go after last page',
            page_out_from_begin: 'Cannot go before page 1',
            page_range_info: '%{offsetBegin}-%{offsetEnd} of %{total}',
            page_rows_per_page: 'Rows per page:',
            next: 'Next',
            prev: 'Prev',
            skip_nav: 'Skip to content',
        },
        sort: {
            sort_by: 'Sort by %{field} %{order}',
            ASC: 'ascending',
            DESC: 'descending',
        },
        auth: {
            auth_check_error: 'Please login to continue',
            user_menu: 'Profile',
            username: 'Username',
            password: 'Password',
            sign_in: 'Sign in',
            sign_in_error: 'Authentication failed, please retry',
            logout: 'Logout',
        },
        notification: {
            updated: 'Element updated |||| %{smart_count} elements updated',
            created: 'Element created',
            deleted: 'Element deleted |||| %{smart_count} elements deleted',
            bad_item: 'Incorrect element',
            item_doesnt_exist: 'Element does not exist',
            http_error: 'Server communication error',
            data_provider_error: 'dataProvider error. Check the console for details.',
            i18n_error: 'Cannot load the translations for the specified language',
            canceled: 'Action cancelled',
            logged_out: 'Your session has ended, please reconnect.',
        },
        validation: {
            required: 'Required',
            minLength: 'Must be %{min} characters at least',
            maxLength: 'Must be %{max} characters or less',
            minValue: 'Must be at least %{min}',
            maxValue: 'Must be %{max} or less',
            number: 'Must be a number',
            email: 'Must be a valid email',
            oneOf: 'Must be one of: %{options}',
            regex: 'Must match a specific format (regexp): %{pattern}',
        },
    },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (englishMessages);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/auth/Login.js":
/*!*********************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/auth/Login.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Card/Card.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Avatar/Avatar.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/createMuiTheme.js");
/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/styles */ "./node_modules/@material-ui/styles/esm/ThemeProvider/ThemeProvider.js");
/* harmony import */ var _material_ui_icons_Lock__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/icons/Lock */ "./node_modules/@material-ui/icons/Lock.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/auth/useCheckAuth.js");
/* harmony import */ var _defaultTheme__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../defaultTheme */ "./node_modules/ra-ui-materialui/esm/defaultTheme.js");
/* harmony import */ var _layout_Notification__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../layout/Notification */ "./node_modules/ra-ui-materialui/esm/layout/Notification.js");
/* harmony import */ var _LoginForm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LoginForm */ "./node_modules/ra-ui-materialui/esm/auth/LoginForm.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};












var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)(function (theme) { return ({
    main: {
        display: 'flex',
        flexDirection: 'column',
        minHeight: '100vh',
        height: '1px',
        alignItems: 'center',
        justifyContent: 'flex-start',
        backgroundRepeat: 'no-repeat',
        backgroundSize: 'cover',
        backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)',
    },
    card: {
        minWidth: 300,
        marginTop: '6em',
    },
    avatar: {
        margin: '1em',
        display: 'flex',
        justifyContent: 'center',
    },
    icon: {
        backgroundColor: theme.palette.secondary[500],
    },
}); }, { name: 'RaLogin' });
/**
 * A standalone login page, to serve as authentication gate to the admin
 *
 * Expects the user to enter a login and a password, which will be checked
 * by the `authProvider.login()` method. Redirects to the root page (/)
 * upon success, otherwise displays an authentication error message.
 *
 * Copy and adapt this component to implement your own login logic
 * (e.g. to authenticate via email or facebook or anything else).
 *
 * @example
 *     import MyLoginPage from './MyLoginPage';
 *     const App = () => (
 *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>
 *             ...
 *        </Admin>
 *     );
 */
var Login = function (props) {
    var theme = props.theme, title = props.title, classesOverride = props.classes, className = props.className, children = props.children, notification = props.notification, staticContext = props.staticContext, backgroundImage = props.backgroundImage, rest = __rest(props, ["theme", "title", "classes", "className", "children", "notification", "staticContext", "backgroundImage"]);
    var containerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    var classes = useStyles(props);
    var muiTheme = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__.default)(theme); }, [theme]);
    var backgroundImageLoaded = false;
    var checkAuth = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.default)();
    var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useHistory)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        checkAuth({}, false)
            .then(function () {
            // already authenticated, redirect to the home page
            history.push('/');
        })
            .catch(function () {
            // not authenticated, stay on the login page
        });
    }, [checkAuth, history]);
    var updateBackgroundImage = function () {
        if (!backgroundImageLoaded && containerRef.current) {
            containerRef.current.style.backgroundImage = "url(" + backgroundImage + ")";
            backgroundImageLoaded = true;
        }
    };
    // Load background image asynchronously to speed up time to interactive
    var lazyLoadBackgroundImage = function () {
        if (backgroundImage) {
            var img = new Image();
            img.onload = updateBackgroundImage;
            img.src = backgroundImage;
        }
    };
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        if (!backgroundImageLoaded) {
            lazyLoadBackgroundImage();
        }
    });
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_styles__WEBPACK_IMPORTED_MODULE_7__.default, { theme: muiTheme },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", __assign({ className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.main, className) }, rest, { ref: containerRef }),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.default, { className: classes.card },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.avatar },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.default, { className: classes.icon },
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_Lock__WEBPACK_IMPORTED_MODULE_10__.default, null))),
                children),
            notification ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(notification) : null)));
};
Login.propTypes = {
    backgroundImage: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    children: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().node),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    theme: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    staticContext: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
};
Login.defaultProps = {
    theme: _defaultTheme__WEBPACK_IMPORTED_MODULE_11__.default,
    children: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_LoginForm__WEBPACK_IMPORTED_MODULE_12__.default, null),
    notification: _layout_Notification__WEBPACK_IMPORTED_MODULE_13__.default,
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Login);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/auth/LoginForm.js":
/*!*************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/auth/LoginForm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_final_form__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-final-form */ "./node_modules/react-final-form/dist/react-final-form.es.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TextField/TextField.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/CardActions/CardActions.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Button/Button.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/util/hooks.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/auth/useLogin.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/sideEffect/useNotify.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};






var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)(function (theme) { return ({
    form: {
        padding: '0 1em 1em 1em',
    },
    input: {
        marginTop: '1em',
    },
    button: {
        width: '100%',
    },
    icon: {
        marginRight: theme.spacing(1),
    },
}); }, { name: 'RaLoginForm' });
var Input = function (_a) {
    var _b = _a.meta, touched = _b.touched, error = _b.error, // eslint-disable-line react/prop-types
    inputProps = _a.input, // eslint-disable-line react/prop-types
    props = __rest(_a, ["meta", "input"]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.default, __assign({ error: !!(touched && error), helperText: touched && error }, inputProps, props, { fullWidth: true })));
};
var LoginForm = function (props) {
    var redirectTo = props.redirectTo;
    var _a = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.useSafeSetState)(false), loading = _a[0], setLoading = _a[1];
    var login = (0,ra_core__WEBPACK_IMPORTED_MODULE_6__.default)();
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_7__.default)();
    var notify = (0,ra_core__WEBPACK_IMPORTED_MODULE_8__.default)();
    var classes = useStyles(props);
    var validate = function (values) {
        var errors = { username: undefined, password: undefined };
        if (!values.username) {
            errors.username = translate('ra.validation.required');
        }
        if (!values.password) {
            errors.password = translate('ra.validation.required');
        }
        return errors;
    };
    var submit = function (values) {
        setLoading(true);
        login(values, redirectTo)
            .then(function () {
            setLoading(false);
        })
            .catch(function (error) {
            setLoading(false);
            notify(typeof error === 'string'
                ? error
                : typeof error === 'undefined' || !error.message
                    ? 'ra.auth.sign_in_error'
                    : error.message, 'warning', {
                _: typeof error === 'string'
                    ? error
                    : error && error.message
                        ? error.message
                        : undefined,
            });
        });
    };
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_final_form__WEBPACK_IMPORTED_MODULE_2__.Form, { onSubmit: submit, validate: validate, render: function (_a) {
            var handleSubmit = _a.handleSubmit;
            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("form", { onSubmit: handleSubmit, noValidate: true },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.form },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.input },
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_final_form__WEBPACK_IMPORTED_MODULE_2__.Field, { autoFocus: true, id: "username", name: "username", component: Input, label: translate('ra.auth.username'), disabled: loading })),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.input },
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_final_form__WEBPACK_IMPORTED_MODULE_2__.Field, { id: "password", name: "password", component: Input, label: translate('ra.auth.password'), type: "password", disabled: loading, autoComplete: "current-password" }))),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.default, null,
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.default, { variant: "contained", type: "submit", color: "primary", disabled: loading, className: classes.button },
                        loading && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.default, { className: classes.icon, size: 18, thickness: 2 })),
                        translate('ra.auth.sign_in')))));
        } }));
};
LoginForm.propTypes = {
    redirectTo: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LoginForm);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/auth/Logout.js":
/*!**********************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/auth/Logout.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/useMediaQuery/useMediaQuery.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/ListItemIcon/ListItemIcon.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var _material_ui_icons_PowerSettingsNew__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/icons/PowerSettingsNew */ "./node_modules/@material-ui/icons/PowerSettingsNew.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/auth/useLogout.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};








var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)(function (theme) { return ({
    menuItem: {
        color: theme.palette.text.secondary,
    },
    icon: { minWidth: theme.spacing(5) },
}); }, { name: 'RaLogout' });
/**
 * Logout button component, to be passed to the Admin component
 *
 * Used for the Logout Menu item in the sidebar
 */
var LogoutWithRef = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function Logout(props, ref) {
    var className = props.className, classesOverride = props.classes, redirectTo = props.redirectTo, icon = props.icon, rest = __rest(props, ["className", "classes", "redirectTo", "icon"]);
    var classes = useStyles(props);
    var isXSmall = (0,_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.default)(function (theme) {
        return theme.breakpoints.down('xs');
    });
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.default)();
    var logout = (0,ra_core__WEBPACK_IMPORTED_MODULE_6__.default)();
    // eslint-disable-next-line react-hooks/exhaustive-deps
    var handleClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () { return logout(null, redirectTo, false); }, [
        redirectTo,
        logout,
    ]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.default, __assign({ className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('logout', classes.menuItem, className), onClick: handleClick, ref: ref, component: isXSmall ? 'span' : 'li' }, rest),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.default, { className: classes.icon }, icon ? icon : react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_PowerSettingsNew__WEBPACK_IMPORTED_MODULE_9__.default, null)),
        translate('ra.auth.logout')));
});
LogoutWithRef.propTypes = {
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    redirectTo: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    icon: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LogoutWithRef);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/button/BulkDeleteButton.js":
/*!**********************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/button/BulkDeleteButton.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _BulkDeleteWithConfirmButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BulkDeleteWithConfirmButton */ "./node_modules/ra-ui-materialui/esm/button/BulkDeleteWithConfirmButton.js");
/* harmony import */ var _BulkDeleteWithUndoButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BulkDeleteWithUndoButton */ "./node_modules/ra-ui-materialui/esm/button/BulkDeleteWithUndoButton.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};




/**
 * Deletes the selected rows.
 *
 * To be used inside the <List bulkActionButtons> prop (where it's enabled by default).
 *
 * @example // basic usage
 * import * as React from 'react';
 * import { Fragment } from 'react';
 * import { BulkDeleteButton, BulkExportButton } from 'react-admin';
 *
 * const PostBulkActionButtons = ({ basePath }) => (
 *     <Fragment>
 *         <BulkExportButton />
 *         <BulkDeleteButton basePath={basePath} />
 *     </Fragment>
 * );
 *
 * export const PostList = (props) => (
 *     <List {...props} bulkActionButtons={<PostBulkActionButtons />}>
 *         ...
 *     </List>
 * );
 */
var BulkDeleteButton = function (_a) {
    var undoable = _a.undoable, props = __rest(_a, ["undoable"]);
    return undoable ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_BulkDeleteWithUndoButton__WEBPACK_IMPORTED_MODULE_2__.default, __assign({}, props))) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_BulkDeleteWithConfirmButton__WEBPACK_IMPORTED_MODULE_3__.default, __assign({}, props)));
};
BulkDeleteButton.propTypes = {
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    label: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    selectedIds: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_1___default().any)),
    undoable: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    icon: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
};
BulkDeleteButton.defaultProps = {
    undoable: true,
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BulkDeleteButton);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/button/BulkDeleteWithConfirmButton.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/button/BulkDeleteWithConfirmButton.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/icons/Delete */ "./node_modules/@material-ui/icons/Delete.js");
/* harmony import */ var _material_ui_core_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core/styles/colorManipulator */ "./node_modules/@material-ui/core/styles/colorManipulator.js");
/* harmony import */ var inflection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! inflection */ "./node_modules/inflection/lib/inflection.js");
/* harmony import */ var inflection__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(inflection__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/sideEffect/useNotify.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/sideEffect/useUnselectAll.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/sideEffect/useRefresh.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/useResourceContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/dataProvider/useDeleteMany.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/actions/dataActions/crudDeleteMany.js");
/* harmony import */ var _layout_Confirm__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../layout/Confirm */ "./node_modules/ra-ui-materialui/esm/layout/Confirm.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Button */ "./node_modules/ra-ui-materialui/esm/button/Button.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};










var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)(function (theme) { return ({
    deleteButton: {
        color: theme.palette.error.main,
        '&:hover': {
            backgroundColor: (0,_material_ui_core_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_4__.fade)(theme.palette.error.main, 0.12),
            // Reset on mouse devices
            '@media (hover: none)': {
                backgroundColor: 'transparent',
            },
        },
    },
}); }, { name: 'RaBulkDeleteWithConfirmButton' });
var defaultIcon = react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_5__.default, null);
var BulkDeleteWithConfirmButton = function (props) {
    var basePath = props.basePath, classesOverride = props.classes, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.bulk_delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.bulk_delete_content' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, label = props.label, onClick = props.onClick, selectedIds = props.selectedIds, rest = __rest(props, ["basePath", "classes", "confirmTitle", "confirmContent", "icon", "label", "onClick", "selectedIds"]);
    var _d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), isOpen = _d[0], setOpen = _d[1];
    var classes = useStyles(props);
    var notify = (0,ra_core__WEBPACK_IMPORTED_MODULE_6__.default)();
    var unselectAll = (0,ra_core__WEBPACK_IMPORTED_MODULE_7__.default)();
    var refresh = (0,ra_core__WEBPACK_IMPORTED_MODULE_8__.default)();
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_9__.default)();
    var resource = (0,ra_core__WEBPACK_IMPORTED_MODULE_10__.useResourceContext)(props);
    var _e = (0,ra_core__WEBPACK_IMPORTED_MODULE_11__.default)(resource, selectedIds, {
        action: ra_core__WEBPACK_IMPORTED_MODULE_12__.CRUD_DELETE_MANY,
        onSuccess: function () {
            refresh();
            notify('ra.notification.deleted', 'info', {
                smart_count: selectedIds.length,
            });
            unselectAll(resource);
        },
        onFailure: function (error) {
            notify(typeof error === 'string'
                ? error
                : error.message || 'ra.notification.http_error', 'warning', {
                _: typeof error === 'string'
                    ? error
                    : error && error.message
                        ? error.message
                        : undefined,
            });
            setOpen(false);
        },
    }), deleteMany = _e[0], loading = _e[1].loading;
    var handleClick = function (e) {
        setOpen(true);
        e.stopPropagation();
    };
    var handleDialogClose = function () {
        setOpen(false);
    };
    var handleDelete = function (e) {
        deleteMany();
        if (typeof onClick === 'function') {
            onClick(e);
        }
    };
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_13__.default, __assign({ onClick: handleClick, label: label, className: classes.deleteButton }, sanitizeRestProps(rest)), icon),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_layout_Confirm__WEBPACK_IMPORTED_MODULE_14__.default, { isOpen: isOpen, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {
                smart_count: selectedIds.length,
                name: translate("resources." + resource + ".forcedCaseName", {
                    smart_count: selectedIds.length,
                    _: inflection__WEBPACK_IMPORTED_MODULE_2___default().humanize(translate("resources." + resource + ".name", {
                        smart_count: selectedIds.length,
                        _: inflection__WEBPACK_IMPORTED_MODULE_2___default().inflect(resource, selectedIds.length),
                    }), true),
                }),
            }, onConfirm: handleDelete, onClose: handleDialogClose })));
};
var sanitizeRestProps = function (_a) {
    var basePath = _a.basePath, classes = _a.classes, filterValues = _a.filterValues, label = _a.label, rest = __rest(_a, ["basePath", "classes", "filterValues", "label"]);
    return rest;
};
BulkDeleteWithConfirmButton.propTypes = {
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    confirmTitle: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    confirmContent: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    label: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    selectedIds: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_1___default().any)),
    icon: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
};
BulkDeleteWithConfirmButton.defaultProps = {
    label: 'ra.action.delete',
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BulkDeleteWithConfirmButton);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/button/BulkDeleteWithUndoButton.js":
/*!******************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/button/BulkDeleteWithUndoButton.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @material-ui/icons/Delete */ "./node_modules/@material-ui/icons/Delete.js");
/* harmony import */ var _material_ui_core_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles/colorManipulator */ "./node_modules/@material-ui/core/styles/colorManipulator.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/sideEffect/useNotify.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/sideEffect/useUnselectAll.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/sideEffect/useRefresh.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/useResourceContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/dataProvider/useDeleteMany.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/actions/dataActions/crudDeleteMany.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Button */ "./node_modules/ra-ui-materialui/esm/button/Button.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};







var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__.default)(function (theme) { return ({
    deleteButton: {
        color: theme.palette.error.main,
        '&:hover': {
            backgroundColor: (0,_material_ui_core_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_3__.fade)(theme.palette.error.main, 0.12),
            // Reset on mouse devices
            '@media (hover: none)': {
                backgroundColor: 'transparent',
            },
        },
    },
}); }, { name: 'RaBulkDeleteWithUndoButton' });
var BulkDeleteWithUndoButton = function (props) {
    var basePath = props.basePath, classesOverride = props.classes, icon = props.icon, label = props.label, onClick = props.onClick, rest = __rest(props, ["basePath", "classes", "icon", "label", "onClick"]);
    var selectedIds = (0,ra_core__WEBPACK_IMPORTED_MODULE_4__.default)(props).selectedIds;
    var classes = useStyles(props);
    var notify = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.default)();
    var unselectAll = (0,ra_core__WEBPACK_IMPORTED_MODULE_6__.default)();
    var refresh = (0,ra_core__WEBPACK_IMPORTED_MODULE_7__.default)();
    var resource = (0,ra_core__WEBPACK_IMPORTED_MODULE_8__.useResourceContext)(props);
    var _a = (0,ra_core__WEBPACK_IMPORTED_MODULE_9__.default)(resource, selectedIds, {
        action: ra_core__WEBPACK_IMPORTED_MODULE_10__.CRUD_DELETE_MANY,
        onSuccess: function () {
            notify('ra.notification.deleted', 'info', { smart_count: selectedIds.length }, true);
            unselectAll(resource);
            refresh();
        },
        onFailure: function (error) {
            return notify(typeof error === 'string'
                ? error
                : error.message || 'ra.notification.http_error', 'warning', {
                _: typeof error === 'string'
                    ? error
                    : error && error.message
                        ? error.message
                        : undefined,
            });
        },
        undoable: true,
    }), deleteMany = _a[0], loading = _a[1].loading;
    var handleClick = function (e) {
        deleteMany();
        if (typeof onClick === 'function') {
            onClick(e);
        }
    };
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_11__.default, __assign({ onClick: handleClick, label: label, className: classes.deleteButton, disabled: loading }, sanitizeRestProps(rest)), icon));
};
var sanitizeRestProps = function (_a) {
    var basePath = _a.basePath, classes = _a.classes, filterValues = _a.filterValues, label = _a.label, selectedIds = _a.selectedIds, rest = __rest(_a, ["basePath", "classes", "filterValues", "label", "selectedIds"]);
    return rest;
};
BulkDeleteWithUndoButton.propTypes = {
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    label: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    selectedIds: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_1___default().any)),
    icon: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
};
BulkDeleteWithUndoButton.defaultProps = {
    label: 'ra.action.delete',
    icon: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_12__.default, null),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BulkDeleteWithUndoButton);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/button/CreateButton.js":
/*!******************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/button/CreateButton.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/useMediaQuery/useMediaQuery.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Fab/Fab.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var _material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/icons/Add */ "./node_modules/@material-ui/icons/Add.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/useResourceContext.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Button */ "./node_modules/ra-ui-materialui/esm/button/Button.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};










/**
 * Opens the Create view of a given resource
 *
 * Renders as a regular button on desktop, and a Floating Action Button
 * on mobile.
 *
 * @example // basic usage
 * import { CreateButton } from 'react-admin';
 *
 * const CommentCreateButton = () => (
 *     <CreateButton basePath="/comments" label="Create comment" />
 * );
 */
var CreateButton = function (props) {
    var _a = props.basePath, basePath = _a === void 0 ? '' : _a, className = props.className, classesOverride = props.classes, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, _c = props.label, label = _c === void 0 ? 'ra.action.create' : _c, _d = props.scrollToTop, scrollToTop = _d === void 0 ? true : _d, variant = props.variant, rest = __rest(props, ["basePath", "className", "classes", "icon", "label", "scrollToTop", "variant"]);
    var classes = useStyles(props);
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_3__.default)();
    var isSmall = (0,_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.default)(function (theme) {
        return theme.breakpoints.down('sm');
    });
    var resource = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.useResourceContext)();
    var location = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return ({
        pathname: basePath ? basePath + "/create" : "/" + resource + "/create",
        state: { _scrollToTop: scrollToTop },
    }); }, [basePath, resource, scrollToTop]);
    return isSmall ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.default, __assign({ component: react_router_dom__WEBPACK_IMPORTED_MODULE_7__.Link, color: "primary", className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.floating, className), to: location, "aria-label": label && translate(label) }, (0,_Button__WEBPACK_IMPORTED_MODULE_8__.sanitizeButtonRestProps)(rest)), icon)) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_8__.default, __assign({ component: react_router_dom__WEBPACK_IMPORTED_MODULE_7__.Link, to: location, className: className, label: label, variant: variant }, rest), icon));
};
var defaultIcon = react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_9__.default, null);
var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_10__.default)(function (theme) { return ({
    floating: {
        color: theme.palette.getContrastText(theme.palette.primary.main),
        margin: 0,
        top: 'auto',
        right: 20,
        bottom: 60,
        left: 'auto',
        position: 'fixed',
        zIndex: 1000,
    },
}); }, { name: 'RaCreateButton' });
CreateButton.propTypes = {
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    icon: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    label: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(CreateButton, function (prevProps, nextProps) {
    return (prevProps.basePath === nextProps.basePath &&
        prevProps.label === nextProps.label &&
        prevProps.translate === nextProps.translate &&
        prevProps.to === nextProps.to &&
        prevProps.disabled === nextProps.disabled);
}));


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/button/ExportButton.js":
/*!******************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/button/ExportButton.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_icons_GetApp__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/icons/GetApp */ "./node_modules/@material-ui/icons/GetApp.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/useResourceContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/dataProvider/useDataProvider.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/sideEffect/useNotify.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/export/fetchRelatedRecords.js");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Button */ "./node_modules/ra-ui-materialui/esm/button/Button.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};






var ExportButton = function (props) {
    var _a = props.maxResults, maxResults = _a === void 0 ? 1000 : _a, onClick = props.onClick, _b = props.label, label = _b === void 0 ? 'ra.action.export' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, customExporter = props.exporter, sort = props.sort, // deprecated, to be removed in v4
    rest = __rest(props, ["maxResults", "onClick", "label", "icon", "exporter", "sort"]);
    var _d = (0,ra_core__WEBPACK_IMPORTED_MODULE_2__.default)(props), filter = _d.filter, filterValues = _d.filterValues, currentSort = _d.currentSort, exporterFromContext = _d.exporter, total = _d.total;
    var resource = (0,ra_core__WEBPACK_IMPORTED_MODULE_3__.useResourceContext)(props);
    var exporter = customExporter || exporterFromContext;
    var dataProvider = (0,ra_core__WEBPACK_IMPORTED_MODULE_4__.default)();
    var notify = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.default)();
    var handleClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
        dataProvider
            .getList(resource, {
            sort: currentSort || sort,
            filter: filter
                ? __assign(__assign({}, filterValues), filter) : filterValues,
            pagination: { page: 1, perPage: maxResults },
        })
            .then(function (_a) {
            var data = _a.data;
            return exporter &&
                exporter(data, (0,ra_core__WEBPACK_IMPORTED_MODULE_6__.default)(dataProvider), dataProvider, resource);
        })
            .catch(function (error) {
            console.error(error);
            notify('ra.notification.http_error', 'warning');
        });
        if (typeof onClick === 'function') {
            onClick(event);
        }
    }, [
        currentSort,
        dataProvider,
        exporter,
        filter,
        filterValues,
        maxResults,
        notify,
        onClick,
        resource,
        sort,
    ]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Button__WEBPACK_IMPORTED_MODULE_7__.default, __assign({ onClick: handleClick, label: label, disabled: total === 0 }, sanitizeRestProps(rest)), icon));
};
var defaultIcon = react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_GetApp__WEBPACK_IMPORTED_MODULE_8__.default, null);
var sanitizeRestProps = function (_a) {
    var basePath = _a.basePath, filterValues = _a.filterValues, resource = _a.resource, rest = __rest(_a, ["basePath", "filterValues", "resource"]);
    return rest;
};
ExportButton.propTypes = {
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    exporter: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    filterValues: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    label: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    maxResults: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    sort: prop_types__WEBPACK_IMPORTED_MODULE_1___default().exact({
        field: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
        order: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    }),
    icon: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ExportButton);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/field/EmailField.js":
/*!***************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/field/EmailField.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/Typography */ "./node_modules/@material-ui/core/esm/Typography/Typography.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Link/Link.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/RecordContext.js");
/* harmony import */ var _sanitizeFieldRestProps__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sanitizeFieldRestProps */ "./node_modules/ra-ui-materialui/esm/field/sanitizeFieldRestProps.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./types */ "./node_modules/ra-ui-materialui/esm/field/types.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};








// useful to prevent click bubbling in a datagrid with rowClick
var stopPropagation = function (e) { return e.stopPropagation(); };
var EmailField = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function (props) {
    var className = props.className, source = props.source, emptyText = props.emptyText, rest = __rest(props, ["className", "source", "emptyText"]);
    var record = (0,ra_core__WEBPACK_IMPORTED_MODULE_2__.useRecordContext)(props);
    var value = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(record, source);
    if (value == null) {
        return emptyText ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__.default, __assign({ component: "span", variant: "body2", className: className }, (0,_sanitizeFieldRestProps__WEBPACK_IMPORTED_MODULE_4__.default)(rest)), emptyText)) : null;
    }
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.default, __assign({ className: className, href: "mailto:" + value, onClick: stopPropagation }, (0,_sanitizeFieldRestProps__WEBPACK_IMPORTED_MODULE_4__.default)(rest)), value));
});
EmailField.defaultProps = {
    addLabel: true,
};
EmailField.propTypes = _types__WEBPACK_IMPORTED_MODULE_6__.fieldPropTypes;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EmailField);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/layout/Confirm.js":
/*!*************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/layout/Confirm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core/Dialog */ "./node_modules/@material-ui/core/esm/Dialog/Dialog.js");
/* harmony import */ var _material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/core/DialogActions */ "./node_modules/@material-ui/core/esm/DialogActions/DialogActions.js");
/* harmony import */ var _material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core/DialogContent */ "./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js");
/* harmony import */ var _material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core/DialogContentText */ "./node_modules/@material-ui/core/esm/DialogContentText/DialogContentText.js");
/* harmony import */ var _material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/core/DialogTitle */ "./node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js");
/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material-ui/core/Button */ "./node_modules/@material-ui/core/esm/Button/Button.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var _material_ui_core_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core/styles/colorManipulator */ "./node_modules/@material-ui/core/styles/colorManipulator.js");
/* harmony import */ var _material_ui_icons_CheckCircle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @material-ui/icons/CheckCircle */ "./node_modules/@material-ui/icons/CheckCircle.js");
/* harmony import */ var _material_ui_icons_ErrorOutline__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @material-ui/icons/ErrorOutline */ "./node_modules/@material-ui/icons/ErrorOutline.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};















var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)(function (theme) { return ({
    confirmPrimary: {
        color: theme.palette.primary.main,
    },
    confirmWarning: {
        color: theme.palette.error.main,
        '&:hover': {
            backgroundColor: (0,_material_ui_core_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_4__.fade)(theme.palette.error.main, 0.12),
            // Reset on mouse devices
            '@media (hover: none)': {
                backgroundColor: 'transparent',
            },
        },
    },
    iconPaddingStyle: {
        paddingRight: '0.5em',
    },
}); }, { name: 'RaConfirm' });
/**
 * Confirmation dialog
 *
 * @example
 * <Confirm
 *     isOpen={true}
 *     title="Delete Item"
 *     content="Are you sure you want to delete this item?"
 *     confirm="Yes"
 *     confirmColor="primary"
 *     ConfirmIcon=ActionCheck
 *     CancelIcon=AlertError
 *     cancel="Cancel"
 *     onConfirm={() => { // do something }}
 *     onClose={() => { // do something }}
 * />
 */
var Confirm = function (props) {
    var _a;
    var isOpen = props.isOpen, loading = props.loading, title = props.title, content = props.content, confirm = props.confirm, cancel = props.cancel, confirmColor = props.confirmColor, ConfirmIcon = props.ConfirmIcon, CancelIcon = props.CancelIcon, onClose = props.onClose, onConfirm = props.onConfirm, _b = props.translateOptions, translateOptions = _b === void 0 ? {} : _b;
    var classes = useStyles(props);
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.default)();
    var handleConfirm = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (e) {
        e.stopPropagation();
        onConfirm(e);
    }, [onConfirm]);
    var handleClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (e) {
        e.stopPropagation();
    }, []);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_6__.default, { open: isOpen, onClose: onClose, onClick: handleClick, "aria-labelledby": "alert-dialog-title" },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_7__.default, { id: "alert-dialog-title" }, translate(title, __assign({ _: title }, translateOptions))),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_8__.default, null, typeof content === 'string' ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_9__.default, null, translate(content, __assign({ _: content }, translateOptions)))) : (content)),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_10__.default, null,
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_11__.default, { disabled: loading, onClick: onClose },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(CancelIcon, { className: classes.iconPaddingStyle }),
                translate(cancel, { _: cancel })),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_11__.default, { disabled: loading, onClick: handleConfirm, className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('ra-confirm', (_a = {},
                    _a[classes.confirmWarning] = confirmColor === 'warning',
                    _a[classes.confirmPrimary] = confirmColor === 'primary',
                    _a)), autoFocus: true },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConfirmIcon, { className: classes.iconPaddingStyle }),
                translate(confirm, { _: confirm })))));
};
Confirm.propTypes = {
    cancel: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    confirm: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    confirmColor: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    ConfirmIcon: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().elementType),
    CancelIcon: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().elementType),
    content: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().node.isRequired),
    isOpen: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    loading: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    onClose: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired),
    onConfirm: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired),
    title: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired),
};
Confirm.defaultProps = {
    cancel: 'ra.action.cancel',
    classes: {},
    confirm: 'ra.action.confirm',
    confirmColor: 'primary',
    ConfirmIcon: _material_ui_icons_CheckCircle__WEBPACK_IMPORTED_MODULE_12__.default,
    CancelIcon: _material_ui_icons_ErrorOutline__WEBPACK_IMPORTED_MODULE_13__.default,
    isOpen: false,
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Confirm);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/layout/Loading.js":
/*!*************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/layout/Loading.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core/CircularProgress */ "./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");






var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)(function (theme) {
    var _a;
    return ({
        container: (_a = {
                display: 'flex',
                flexDirection: 'column',
                justifyContent: 'center'
            },
            _a[theme.breakpoints.up('md')] = {
                height: '100%',
            },
            _a[theme.breakpoints.down('lg')] = {
                height: '100vh',
                marginTop: '-3em',
            },
            _a),
        icon: {
            width: '9em',
            height: '9em',
        },
        message: {
            textAlign: 'center',
            fontFamily: 'Roboto, sans-serif',
            opacity: 0.5,
            margin: '0 1em',
        },
    });
}, { name: 'RaLoading' });
var Loading = function (props) {
    var className = props.className, _a = props.loadingPrimary, loadingPrimary = _a === void 0 ? 'ra.page.loading' : _a, _b = props.loadingSecondary, loadingSecondary = _b === void 0 ? 'ra.message.loading' : _b;
    var classes = useStyles(props);
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_4__.default)();
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.container, className) },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.message },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_5__.default, { className: classes.icon, color: "primary" }),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1", null, translate(loadingPrimary)),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null,
                translate(loadingSecondary),
                "."))));
};
Loading.propTypes = {
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    loadingPrimary: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    loadingSecondary: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
};
Loading.defaultProps = {
    loadingPrimary: 'ra.page.loading',
    loadingSecondary: 'ra.message.loading',
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Loading);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/layout/LoadingPage.js":
/*!*****************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/layout/LoadingPage.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/styles */ "./node_modules/@material-ui/styles/esm/ThemeProvider/ThemeProvider.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/createMuiTheme.js");
/* harmony import */ var _Loading__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Loading */ "./node_modules/ra-ui-materialui/esm/layout/Loading.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};





var LoadingPage = function (_a) {
    var theme = _a.theme, props = __rest(_a, ["theme"]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_styles__WEBPACK_IMPORTED_MODULE_2__.default, { theme: theme },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Loading__WEBPACK_IMPORTED_MODULE_3__.default, __assign({}, props))));
};
LoadingPage.propTypes = {
    theme: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    loadingPrimary: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    loadingSecondary: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
};
LoadingPage.defaultProps = {
    theme: (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_4__.default)({}),
    loadingPrimary: 'ra.page.loading',
    loadingSecondary: 'ra.message.loading',
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LoadingPage);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/layout/NotFound.js":
/*!**************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/layout/NotFound.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core/Button */ "./node_modules/@material-ui/core/esm/Button/Button.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var _material_ui_icons_HotTub__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/icons/HotTub */ "./node_modules/@material-ui/icons/HotTub.js");
/* harmony import */ var _material_ui_icons_History__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/icons/History */ "./node_modules/@material-ui/icons/History.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/auth/useAuthenticated.js");
/* harmony import */ var _Title__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Title */ "./node_modules/ra-ui-materialui/esm/layout/Title.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};









var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)(function (theme) {
    var _a;
    return ({
        container: (_a = {
                display: 'flex',
                flexDirection: 'column',
                justifyContent: 'center'
            },
            _a[theme.breakpoints.up('md')] = {
                height: '100%',
            },
            _a[theme.breakpoints.down('sm')] = {
                height: '100vh',
                marginTop: '-3em',
            },
            _a),
        icon: {
            width: '9em',
            height: '9em',
        },
        message: {
            textAlign: 'center',
            fontFamily: 'Roboto, sans-serif',
            opacity: 0.5,
            margin: '0 1em',
        },
        toolbar: {
            textAlign: 'center',
            marginTop: '2em',
        },
    });
}, { name: 'RaNotFound' });
function goBack() {
    window.history.go(-1);
}
var NotFound = function (props) {
    var className = props.className, classesOverride = props.classes, title = props.title, rest = __rest(props, ["className", "classes", "title"]);
    var classes = useStyles(props);
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_4__.default)();
    (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.default)();
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", __assign({ className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.container, className) }, sanitizeRestProps(rest)),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Title__WEBPACK_IMPORTED_MODULE_6__.default, { defaultTitle: title }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.message },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_HotTub__WEBPACK_IMPORTED_MODULE_7__.default, { className: classes.icon }),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1", null, translate('ra.page.not_found')),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null,
                translate('ra.message.not_found'),
                ".")),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.toolbar },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_8__.default, { variant: "contained", startIcon: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_History__WEBPACK_IMPORTED_MODULE_9__.default, null), onClick: goBack }, translate('ra.action.back')))));
};
var sanitizeRestProps = function (_a) {
    var staticContext = _a.staticContext, history = _a.history, location = _a.location, match = _a.match, rest = __rest(_a, ["staticContext", "history", "location", "match"]);
    return rest;
};
NotFound.propTypes = {
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    title: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    location: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NotFound);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/layout/TopToolbar.js":
/*!****************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/layout/TopToolbar.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core/Toolbar */ "./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};





var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)(function (theme) {
    var _a;
    return ({
        root: (_a = {
                display: 'flex',
                justifyContent: 'flex-end',
                alignItems: 'flex-start',
                paddingTop: theme.spacing(3),
                paddingBottom: theme.spacing(1),
                minHeight: theme.spacing(5)
            },
            _a[theme.breakpoints.up('xs')] = {
                paddingLeft: 0,
                paddingRight: 0,
            },
            _a[theme.breakpoints.down('sm')] = {
                paddingRight: theme.spacing(2),
            },
            _a[theme.breakpoints.down('xs')] = {
                padding: theme.spacing(1),
                backgroundColor: theme.palette.background.paper,
            },
            _a),
    });
}, { name: 'RaTopToolbar' });
var TopToolbar = function (props) {
    var className = props.className, children = props.children, rest = __rest(props, ["className", "children"]);
    var classes = useStyles(props);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_4__.default, __assign({ className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.root, className) }, rest), children));
};
TopToolbar.propTypes = {
    children: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().node),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TopToolbar);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/BulkActionsToolbar.js":
/*!**********************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/BulkActionsToolbar.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/core/Toolbar */ "./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js");
/* harmony import */ var _material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material-ui/core/Typography */ "./node_modules/@material-ui/core/esm/Typography/Typography.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var _material_ui_core_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core/styles/colorManipulator */ "./node_modules/@material-ui/core/styles/colorManipulator.js");
/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core/IconButton */ "./node_modules/@material-ui/core/esm/IconButton/IconButton.js");
/* harmony import */ var _material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/icons/Close */ "./node_modules/@material-ui/icons/Close.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListController.js");
/* harmony import */ var _layout_TopToolbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../layout/TopToolbar */ "./node_modules/ra-ui-materialui/esm/layout/TopToolbar.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};












var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)(function (theme) { return ({
    toolbar: {
        zIndex: 3,
        color: theme.palette.type === 'light'
            ? theme.palette.primary.main
            : theme.palette.text.primary,
        justifyContent: 'space-between',
        backgroundColor: theme.palette.type === 'light'
            ? (0,_material_ui_core_styles_colorManipulator__WEBPACK_IMPORTED_MODULE_4__.lighten)(theme.palette.primary.light, 0.85)
            : theme.palette.primary.dark,
        minHeight: theme.spacing(8),
        height: theme.spacing(8),
        transition: theme.transitions.create('height') + ", " + theme.transitions.create('min-height'),
    },
    topToolbar: {
        paddingTop: theme.spacing(2),
    },
    buttons: {},
    collapsed: {
        minHeight: 0,
        height: 0,
        overflowY: 'hidden',
    },
    title: {
        display: 'flex',
        flex: '0 0 auto',
    },
    icon: {
        marginLeft: '-0.5em',
        marginRight: '0.5em',
    },
}); }, { name: 'RaBulkActionsToolbar' });
var BulkActionsToolbar = function (props) {
    var _a;
    var classesOverride = props.classes, _b = props.label, label = _b === void 0 ? 'ra.action.bulk_actions' : _b, children = props.children, rest = __rest(props, ["classes", "label", "children"]);
    var _c = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.default)(props), basePath = _c.basePath, filterValues = _c.filterValues, resource = _c.resource, selectedIds = _c.selectedIds, onUnselectItems = _c.onUnselectItems;
    var classes = useStyles(props);
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_6__.default)();
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_7__.default, __assign({ "data-test": "bulk-actions-toolbar", className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.toolbar, (_a = {},
            _a[classes.collapsed] = selectedIds.length === 0,
            _a)) }, (0,ra_core__WEBPACK_IMPORTED_MODULE_8__.sanitizeListRestProps)(rest)),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.title },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_9__.default, { className: classes.icon, "aria-label": translate('ra.action.unselect'), title: translate('ra.action.unselect'), onClick: onUnselectItems, size: "small" },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_10__.default, { fontSize: "small" })),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_11__.default, { color: "inherit", variant: "subtitle1" }, translate(label, {
                _: label,
                smart_count: selectedIds.length,
            }))),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_layout_TopToolbar__WEBPACK_IMPORTED_MODULE_12__.default, { className: classes.topToolbar }, react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, function (child) {
            return (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)
                ? (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(child, {
                    basePath: basePath,
                    filterValues: filterValues,
                    resource: resource,
                    selectedIds: selectedIds,
                })
                : null;
        }))));
};
BulkActionsToolbar.propTypes = {
    children: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().node),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    label: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BulkActionsToolbar);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/Empty.js":
/*!*********************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/Empty.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Typography/Typography.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var _material_ui_icons_Inbox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/icons/Inbox */ "./node_modules/@material-ui/icons/Inbox.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/useResourceContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/useGetResourceLabel.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../button */ "./node_modules/ra-ui-materialui/esm/button/CreateButton.js");






var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__.default)(function (theme) { return ({
    message: {
        textAlign: 'center',
        opacity: theme.palette.type === 'light' ? 0.5 : 0.8,
        margin: '0 1em',
        color: theme.palette.type === 'light'
            ? 'inherit'
            : theme.palette.text.primary,
    },
    icon: {
        width: '9em',
        height: '9em',
    },
    toolbar: {
        textAlign: 'center',
        marginTop: '2em',
    },
}); }, { name: 'RaEmpty' });
var Empty = function (props) {
    var _a = (0,ra_core__WEBPACK_IMPORTED_MODULE_2__.default)(props), basePath = _a.basePath, hasCreate = _a.hasCreate;
    var resource = (0,ra_core__WEBPACK_IMPORTED_MODULE_3__.useResourceContext)(props);
    var classes = useStyles(props);
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_4__.default)();
    var getResourceLabel = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.useGetResourceLabel)();
    var resourceName = translate("resources." + resource + ".forcedCaseName", {
        smart_count: 0,
        _: getResourceLabel(resource, 0),
    });
    var emptyMessage = translate('ra.page.empty', { name: resourceName });
    var inviteMessage = translate('ra.page.invite');
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.message },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_Inbox__WEBPACK_IMPORTED_MODULE_6__.default, { className: classes.icon }),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.default, { variant: "h4", paragraph: true }, translate("resources." + resource + ".empty", {
                _: emptyMessage,
            })),
            hasCreate && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.default, { variant: "body1" }, translate("resources." + resource + ".invite", {
                _: inviteMessage,
            })))),
        hasCreate && (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.toolbar },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_8__.default, { variant: "contained", basePath: basePath })))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Empty);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/List.js":
/*!********************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/List.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/checkMinimumRequiredProps.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListController.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/ListContextProvider.js");
/* harmony import */ var _layout_Title__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../layout/Title */ "./node_modules/ra-ui-materialui/esm/layout/Title.js");
/* harmony import */ var _ListView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ListView */ "./node_modules/ra-ui-materialui/esm/list/ListView.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};





/**
 * List page component
 *
 * The <List> component renders the list layout (title, buttons, filters, pagination),
 * and fetches the list of records from the REST API.
 * It then delegates the rendering of the list of records to its child component.
 * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.
 *
 * In Redux terms, <List> is a connected component, and <Datagrid> is a dumb component.
 *
 * The <List> component accepts the following props:
 *
 * - actions
 * - aside
 * - bulkActionButtons
 * - component
 * - empty
 * - exporter
 * - filter (the permanent filter to apply to the query)
 * - filterDefaultValues (the default values for `alwaysOn` filters)
 * - filters (a React component used to display the filter form)
 * - pagination
 * - perPage
 * - sort
 * - title
 * - syncWithLocation
 *
 * @example
 *
 * const PostFilter = (props) => (
 *     <Filter {...props}>
 *         <TextInput label="Search" source="q" alwaysOn />
 *         <TextInput label="Title" source="title" />
 *     </Filter>
 * );
 * export const PostList = (props) => (
 *     <List {...props}
 *         title="List of posts"
 *         sort={{ field: 'published_at' }}
 *         filter={{ is_published: true }}
 *         filters={PostFilter}
 *     >
 *         <Datagrid>
 *             <TextField source="id" />
 *             <TextField source="title" />
 *             <EditButton />
 *         </Datagrid>
 *     </List>
 * );
 */
var List = function (props) {
    (0,ra_core__WEBPACK_IMPORTED_MODULE_2__.useCheckMinimumRequiredProps)('List', ['children'], props);
    var controllerProps = (0,ra_core__WEBPACK_IMPORTED_MODULE_3__.default)(props);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ra_core__WEBPACK_IMPORTED_MODULE_4__.default, { value: controllerProps },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ListView__WEBPACK_IMPORTED_MODULE_5__.default, __assign({}, props, controllerProps))));
};
List.propTypes = {
    // the props you can change
    // @ts-ignore-line
    actions: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element)]),
    aside: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    // @ts-ignore-line
    bulkActionButtons: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().element), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool)]),
    children: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    filter: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    filterDefaultValues: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    filters: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    // @ts-ignore-line
    pagination: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().element), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool)]),
    perPage: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number.isRequired),
    //@ts-ignore-line
    sort: prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape({
        field: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
        order: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    }),
    title: _layout_Title__WEBPACK_IMPORTED_MODULE_6__.TitlePropType,
    // the props managed by react-admin
    authProvider: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    hasCreate: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    hasEdit: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    hasList: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    hasShow: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    location: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().any),
    match: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().any),
    path: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    syncWithLocation: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
};
List.defaultProps = {
    filter: {},
    perPage: 10,
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (List);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/ListActions.js":
/*!***************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/ListActions.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/useResourceContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/useResourceDefinition.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListController.js");
/* harmony import */ var _layout_TopToolbar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layout/TopToolbar */ "./node_modules/ra-ui-materialui/esm/layout/TopToolbar.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../button */ "./node_modules/ra-ui-materialui/esm/button/CreateButton.js");
/* harmony import */ var _button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../button */ "./node_modules/ra-ui-materialui/esm/button/ExportButton.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};






/**
 * Action Toolbar for the List view
 *
 * Internal component. If you want to add or remove actions for a List view,
 * write your own ListActions Component. Then, in the <List> component,
 * use it in the `actions` prop to pass a custom component.
 *
 * @example
 *     import { cloneElement } from 'react';
 *     import Button from '@material-ui/core/Button';
 *     import { TopToolbar, List, CreateButton, ExportButton } from 'react-admin';
 *
 *     const PostListActions = ({ basePath, filters }) => (
 *         <TopToolbar>
 *             { cloneElement(filters, { context: 'button' }) }
 *             <CreateButton/>
 *             <ExportButton/>
 *             // Add your custom actions here //
 *             <Button onClick={customAction}>Custom Action</Button>
 *         </TopToolbar>
 *     );
 *
 *     export const PostList = (props) => (
 *         <List actions={<PostListActions />} {...props}>
 *             ...
 *         </List>
 *     );
 */
var ListActions = function (props) {
    var className = props.className, exporter = props.exporter, filters = props.filters, rest = __rest(props, ["className", "exporter", "filters"]);
    var _a = (0,ra_core__WEBPACK_IMPORTED_MODULE_2__.default)(props), currentSort = _a.currentSort, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, basePath = _a.basePath, selectedIds = _a.selectedIds, showFilter = _a.showFilter, total = _a.total;
    var resource = (0,ra_core__WEBPACK_IMPORTED_MODULE_3__.useResourceContext)(rest);
    var hasCreate = (0,ra_core__WEBPACK_IMPORTED_MODULE_4__.useResourceDefinition)(rest).hasCreate;
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_layout_TopToolbar__WEBPACK_IMPORTED_MODULE_5__.default, __assign({ className: className }, (0,ra_core__WEBPACK_IMPORTED_MODULE_6__.sanitizeListRestProps)(rest)),
        filters &&
            (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(filters, {
                resource: resource,
                showFilter: showFilter,
                displayedFilters: displayedFilters,
                filterValues: filterValues,
                context: 'button',
            }),
        hasCreate && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_7__.default, { basePath: basePath }),
        exporter !== false && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_8__.default, { disabled: total === 0, resource: resource, sort: currentSort, filterValues: filterValues })))); }, [resource, displayedFilters, filterValues, selectedIds, filters, total] // eslint-disable-line react-hooks/exhaustive-deps
    );
};
ListActions.propTypes = {
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    currentSort: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().any),
    displayedFilters: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    exporter: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().func), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool)]),
    filters: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    filterValues: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    hasCreate: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    onUnselectItems: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired),
    selectedIds: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_1___default().any)),
    showFilter: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    total: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),
};
ListActions.defaultProps = {
    selectedIds: [],
    onUnselectItems: function () { return null; },
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ListActions);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/ListToolbar.js":
/*!***************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/ListToolbar.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};




var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__.default)(function (theme) {
    var _a, _b;
    return ({
        toolbar: (_a = {
                justifyContent: 'space-between',
                alignItems: 'flex-start',
                paddingRight: 0
            },
            _a[theme.breakpoints.up('xs')] = {
                paddingLeft: 0,
            },
            _a[theme.breakpoints.down('xs')] = {
                paddingLeft: theme.spacing(2),
                backgroundColor: theme.palette.background.paper,
            },
            _a),
        actions: (_b = {
                paddingTop: theme.spacing(3),
                minHeight: theme.spacing(5)
            },
            _b[theme.breakpoints.down('xs')] = {
                padding: theme.spacing(1),
                backgroundColor: theme.palette.background.paper,
            },
            _b),
    });
}, { name: 'RaListToolbar' });
var ListToolbar = function (props) {
    var classesOverride = props.classes, filters = props.filters, actions = props.actions, rest = __rest(props, ["classes", "filters", "actions"]);
    var classes = useStyles(props);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.default, { className: classes.toolbar },
        filters &&
            react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(filters, __assign(__assign({}, rest), { context: 'form' })),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null),
        actions &&
            react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions, filters: filters }), actions.props))));
};
ListToolbar.propTypes = {
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    filters: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    // @ts-ignore
    actions: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element)]),
    // @ts-ignore
    exporter: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().func), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool)]),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_0__.memo(ListToolbar));


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/ListView.js":
/*!************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/ListView.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ListView": () => (/* binding */ ListView),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_Card__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @material-ui/core/Card */ "./node_modules/@material-ui/core/esm/Card/Card.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/export/defaultExporter.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListController.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useVersion.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/util/ComponentPropType.js");
/* harmony import */ var _layout_Title__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../layout/Title */ "./node_modules/ra-ui-materialui/esm/layout/Title.js");
/* harmony import */ var _ListToolbar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ListToolbar */ "./node_modules/ra-ui-materialui/esm/list/ListToolbar.js");
/* harmony import */ var _pagination_Pagination__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./pagination/Pagination */ "./node_modules/ra-ui-materialui/esm/list/pagination/Pagination.js");
/* harmony import */ var _button_BulkDeleteButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../button/BulkDeleteButton */ "./node_modules/ra-ui-materialui/esm/button/BulkDeleteButton.js");
/* harmony import */ var _BulkActionsToolbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BulkActionsToolbar */ "./node_modules/ra-ui-materialui/esm/list/BulkActionsToolbar.js");
/* harmony import */ var _ListActions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ListActions */ "./node_modules/ra-ui-materialui/esm/list/ListActions.js");
/* harmony import */ var _Empty__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Empty */ "./node_modules/ra-ui-materialui/esm/list/Empty.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};














var ListView = function (props) {
    var actions = props.actions, aside = props.aside, filters = props.filters, bulkActionButtons = props.bulkActionButtons, pagination = props.pagination, children = props.children, className = props.className, classesOverride = props.classes, Content = props.component, _a = props.exporter, exporter = _a === void 0 ? ra_core__WEBPACK_IMPORTED_MODULE_3__.default : _a, title = props.title, empty = props.empty, rest = __rest(props, ["actions", "aside", "filters", "bulkActionButtons", "pagination", "children", "className", "classes", "component", "exporter", "title", "empty"]);
    var controllerProps = (0,ra_core__WEBPACK_IMPORTED_MODULE_4__.getListControllerProps)(props); // deprecated, to be removed in v4
    var listContext = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.default)(props);
    var classes = useStyles(props);
    var defaultTitle = listContext.defaultTitle, total = listContext.total, loaded = listContext.loaded, loading = listContext.loading, filterValues = listContext.filterValues, selectedIds = listContext.selectedIds;
    var version = (0,ra_core__WEBPACK_IMPORTED_MODULE_6__.default)();
    var renderList = function () {
        var _a;
        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
            (filters || actions) && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ListToolbar__WEBPACK_IMPORTED_MODULE_7__.default, __assign({ filters: filters }, controllerProps, { actions: actions, exporter: exporter }))),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.main },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(Content, { className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.content, (_a = {},
                        _a[classes.bulkActionsDisplayed] = selectedIds.length > 0,
                        _a)), key: version },
                    bulkActionButtons !== false && bulkActionButtons && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_BulkActionsToolbar__WEBPACK_IMPORTED_MODULE_8__.default, __assign({}, controllerProps), bulkActionButtons)),
                    children &&
                        // @ts-ignore-line
                        (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children), __assign(__assign({}, controllerProps), { hasBulkActions: bulkActionButtons !== false })),
                    pagination && (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(pagination, listContext)),
                aside && (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(aside, listContext))));
    };
    var shouldRenderEmptyPage = loaded && !loading && total === 0 && !Object.keys(filterValues).length;
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", __assign({ className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('list-page', classes.root, className) }, sanitizeRestProps(rest)),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_layout_Title__WEBPACK_IMPORTED_MODULE_9__.default, { title: title, defaultTitle: defaultTitle }),
        shouldRenderEmptyPage && empty !== false
            ? (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(empty, listContext)
            : renderList()));
};
ListView.propTypes = {
    // @ts-ignore-line
    actions: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element)]),
    aside: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    // @ts-ignore-line
    bulkActionButtons: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element)]),
    children: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    component: ra_core__WEBPACK_IMPORTED_MODULE_10__.default,
    // @ts-ignore-line
    currentSort: prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape({
        field: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired),
        order: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired),
    }),
    data: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().any),
    defaultTitle: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    displayedFilters: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    // @ts-ignore-line
    exporter: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().func), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool)]),
    filterDefaultValues: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    filters: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    filterValues: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    hasCreate: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    hideFilter: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    ids: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().array),
    loading: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    onSelect: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    onToggleItem: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    onUnselectItems: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    page: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),
    // @ts-ignore-line
    pagination: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().element), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool)]),
    perPage: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),
    refresh: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    selectedIds: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().array),
    setFilters: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    setPage: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    setPerPage: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    setSort: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    showFilter: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    title: _layout_Title__WEBPACK_IMPORTED_MODULE_9__.TitlePropType,
    total: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),
    version: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),
};
var DefaultBulkActionButtons = function (props) { return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button_BulkDeleteButton__WEBPACK_IMPORTED_MODULE_11__.default, __assign({}, props)); };
ListView.defaultProps = {
    actions: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ListActions__WEBPACK_IMPORTED_MODULE_12__.default, null),
    classes: {},
    component: _material_ui_core_Card__WEBPACK_IMPORTED_MODULE_13__.default,
    bulkActionButtons: react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefaultBulkActionButtons, null),
    pagination: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_pagination_Pagination__WEBPACK_IMPORTED_MODULE_14__.default, null),
    empty: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Empty__WEBPACK_IMPORTED_MODULE_15__.default, null),
};
var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_16__.default)(function (theme) {
    var _a;
    return ({
        root: {},
        main: {
            display: 'flex',
        },
        content: (_a = {
                marginTop: 0,
                transition: theme.transitions.create('margin-top'),
                position: 'relative',
                flex: '1 1 auto'
            },
            _a[theme.breakpoints.down('xs')] = {
                boxShadow: 'none',
            },
            _a.overflow = 'inherit',
            _a),
        bulkActionsDisplayed: {
            marginTop: -theme.spacing(8),
            transition: theme.transitions.create('margin-top'),
        },
        actions: {
            zIndex: 2,
            display: 'flex',
            justifyContent: 'flex-end',
            flexWrap: 'wrap',
        },
        noResults: { padding: 20 },
    });
}, { name: 'RaList' });
var sanitizeRestProps = function (_a) {
    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.currentSort, currentSort = _c === void 0 ? null : _c, _d = _a.data, data = _d === void 0 ? null : _d, _e = _a.defaultTitle, defaultTitle = _e === void 0 ? null : _e, _f = _a.displayedFilters, displayedFilters = _f === void 0 ? null : _f, _g = _a.filterDefaultValues, filterDefaultValues = _g === void 0 ? null : _g, _h = _a.filterValues, filterValues = _h === void 0 ? null : _h, _j = _a.hasCreate, hasCreate = _j === void 0 ? null : _j, _k = _a.hasEdit, hasEdit = _k === void 0 ? null : _k, _l = _a.hasList, hasList = _l === void 0 ? null : _l, _m = _a.hasShow, hasShow = _m === void 0 ? null : _m, _o = _a.hideFilter, hideFilter = _o === void 0 ? null : _o, _p = _a.history, history = _p === void 0 ? null : _p, _q = _a.ids, ids = _q === void 0 ? null : _q, _r = _a.loading, loading = _r === void 0 ? null : _r, _s = _a.loaded, loaded = _s === void 0 ? null : _s, _t = _a.location, location = _t === void 0 ? null : _t, _u = _a.match, match = _u === void 0 ? null : _u, _v = _a.onSelect, onSelect = _v === void 0 ? null : _v, _w = _a.onToggleItem, onToggleItem = _w === void 0 ? null : _w, _x = _a.onUnselectItems, onUnselectItems = _x === void 0 ? null : _x, _y = _a.options, options = _y === void 0 ? null : _y, _z = _a.page, page = _z === void 0 ? null : _z, _0 = _a.permissions, permissions = _0 === void 0 ? null : _0, _1 = _a.perPage, perPage = _1 === void 0 ? null : _1, _2 = _a.refetch, refetch = _2 === void 0 ? null : _2, _3 = _a.resource, resource = _3 === void 0 ? null : _3, _4 = _a.selectedIds, selectedIds = _4 === void 0 ? null : _4, _5 = _a.setFilters, setFilters = _5 === void 0 ? null : _5, _6 = _a.setPage, setPage = _6 === void 0 ? null : _6, _7 = _a.setPerPage, setPerPage = _7 === void 0 ? null : _7, _8 = _a.setSort, setSort = _8 === void 0 ? null : _8, _9 = _a.showFilter, showFilter = _9 === void 0 ? null : _9, _10 = _a.syncWithLocation, syncWithLocation = _10 === void 0 ? null : _10, _11 = _a.sort, sort = _11 === void 0 ? null : _11, _12 = _a.total, total = _12 === void 0 ? null : _12, rest = __rest(_a, ["basePath", "currentSort", "data", "defaultTitle", "displayedFilters", "filterDefaultValues", "filterValues", "hasCreate", "hasEdit", "hasList", "hasShow", "hideFilter", "history", "ids", "loading", "loaded", "location", "match", "onSelect", "onToggleItem", "onUnselectItems", "options", "page", "permissions", "perPage", "refetch", "resource", "selectedIds", "setFilters", "setPage", "setPerPage", "setSort", "showFilter", "syncWithLocation", "sort", "total"]);
    return rest;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ListView);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/Placeholder.js":
/*!***************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/Placeholder.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);



var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__.default)(function (theme) { return ({
    root: {
        backgroundColor: theme.palette.grey[300],
        display: 'flex',
    },
}); }, { name: 'RaPlaceholder' });
var Placeholder = function (props) {
    var classes = useStyles(props);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", { className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classes.root, props.className) }, "\u00A0"));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Placeholder);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/Datagrid.js":
/*!*********************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/Datagrid.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useVersion.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListController.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Table/Table.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableHead/TableHead.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableRow/TableRow.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableCell/TableCell.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Checkbox/Checkbox.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_union__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/union */ "./node_modules/lodash/union.js");
/* harmony import */ var lodash_union__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_union__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_difference__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/difference */ "./node_modules/lodash/difference.js");
/* harmony import */ var lodash_difference__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_difference__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _DatagridHeaderCell__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./DatagridHeaderCell */ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridHeaderCell.js");
/* harmony import */ var _DatagridLoading__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DatagridLoading */ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridLoading.js");
/* harmony import */ var _DatagridBody__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DatagridBody */ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridBody.js");
/* harmony import */ var _useDatagridStyles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useDatagridStyles */ "./node_modules/ra-ui-materialui/esm/list/datagrid/useDatagridStyles.js");
/* harmony import */ var _DatagridContextProvider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DatagridContextProvider */ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridContextProvider.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};













/**
 * The Datagrid component renders a list of records as a table.
 * It is usually used as a child of the <List> and <ReferenceManyField> components.
 *
 * Props:
 *  - rowStyle
 *
 * @example Display all posts as a datagrid
 * const postRowStyle = (record, index) => ({
 *     backgroundColor: record.nb_views >= 500 ? '#efe' : 'white',
 * });
 * export const PostList = (props) => (
 *     <List {...props}>
 *         <Datagrid rowStyle={postRowStyle}>
 *             <TextField source="id" />
 *             <TextField source="title" />
 *             <TextField source="body" />
 *             <EditButton />
 *         </Datagrid>
 *     </List>
 * );
 *
 * @example Display all the comments of the current post as a datagrid
 * <ReferenceManyField reference="comments" target="post_id">
 *     <Datagrid>
 *         <TextField source="id" />
 *         <TextField source="body" />
 *         <DateField source="created_at" />
 *         <EditButton />
 *     </Datagrid>
 * </ReferenceManyField>
 *
 *
 * @example Usage outside of a <List> or a <ReferenceManyField>.
 *
 * const currentSort = { field: 'published_at', order: 'DESC' };
 *
 * export const MyCustomList = (props) => {
 *     const { ids, data, total, loaded } = useGetList(
 *         'posts',
 *         { page: 1, perPage: 10 },
 *         currentSort
 *     );
 *
 *     return (
 *         <Datagrid
 *             basePath=""
 *             currentSort={currentSort}
 *             data={data}
 *             ids={ids}
 *             selectedIds={[]}
 *             loaded={loaded}
 *             total={total}
 *             setSort={() => {
 *                 console.log('set sort');
 *             }}
 *             onSelect={() => {
 *                 console.log('on select');
 *             }}
 *             onToggleItem={() => {
 *                 console.log('on toggle item');
 *             }}
 *         >
 *             <TextField source="id" />
 *             <TextField source="title" />
 *         </Datagrid>
 *     );
 * }
 */
var Datagrid = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
    var classes = (0,_useDatagridStyles__WEBPACK_IMPORTED_MODULE_5__.default)(props);
    var _a = props.optimized, optimized = _a === void 0 ? false : _a, _b = props.body, body = _b === void 0 ? optimized ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DatagridBody__WEBPACK_IMPORTED_MODULE_6__.PureDatagridBody, null) : react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DatagridBody__WEBPACK_IMPORTED_MODULE_6__.default, null) : _b, children = props.children, classesOverride = props.classes, className = props.className, empty = props.empty, expand = props.expand, _c = props.hasBulkActions, hasBulkActions = _c === void 0 ? false : _c, hover = props.hover, isRowSelectable = props.isRowSelectable, isRowExpandable = props.isRowExpandable, resource = props.resource, rowClick = props.rowClick, rowStyle = props.rowStyle, _d = props.size, size = _d === void 0 ? 'small' : _d, rest = __rest(props, ["optimized", "body", "children", "classes", "className", "empty", "expand", "hasBulkActions", "hover", "isRowSelectable", "isRowExpandable", "resource", "rowClick", "rowStyle", "size"]);
    var _e = (0,ra_core__WEBPACK_IMPORTED_MODULE_7__.default)(props), basePath = _e.basePath, currentSort = _e.currentSort, data = _e.data, ids = _e.ids, loaded = _e.loaded, onSelect = _e.onSelect, onToggleItem = _e.onToggleItem, selectedIds = _e.selectedIds, setSort = _e.setSort, total = _e.total;
    var version = (0,ra_core__WEBPACK_IMPORTED_MODULE_8__.default)();
    var contextValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return ({ isRowExpandable: isRowExpandable }); }, [
        isRowExpandable,
    ]);
    var updateSortCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
        event.stopPropagation();
        var newField = event.currentTarget.dataset.field;
        var newOrder = currentSort.field === newField
            ? currentSort.order === 'ASC'
                ? 'DESC'
                : 'ASC'
            : event.currentTarget.dataset.order;
        setSort(newField, newOrder);
    }, [currentSort.field, currentSort.order, setSort]);
    var updateSort = setSort ? updateSortCallback : null;
    var handleSelectAll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
        if (event.target.checked) {
            var all_1 = ids.concat(selectedIds.filter(function (id) { return !ids.includes(id); }));
            onSelect(isRowSelectable
                ? all_1.filter(function (id) { return isRowSelectable(data[id]); })
                : all_1);
        }
        else {
            onSelect([]);
        }
    }, [data, ids, onSelect, isRowSelectable, selectedIds]);
    var lastSelected = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        if (!selectedIds || selectedIds.length === 0) {
            lastSelected.current = null;
        }
    }, [JSON.stringify(selectedIds)]); // eslint-disable-line react-hooks/exhaustive-deps
    var handleToggleItem = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (id, event) {
        var lastSelectedIndex = ids.indexOf(lastSelected.current);
        lastSelected.current = event.target.checked ? id : null;
        if (event.shiftKey && lastSelectedIndex !== -1) {
            var index = ids.indexOf(id);
            var idsBetweenSelections = ids.slice(Math.min(lastSelectedIndex, index), Math.max(lastSelectedIndex, index) + 1);
            var newSelectedIds = event.target.checked
                ? lodash_union__WEBPACK_IMPORTED_MODULE_3___default()(selectedIds, idsBetweenSelections)
                : lodash_difference__WEBPACK_IMPORTED_MODULE_4___default()(selectedIds, idsBetweenSelections);
            onSelect(isRowSelectable
                ? newSelectedIds.filter(function (id) {
                    return isRowSelectable(data[id]);
                })
                : newSelectedIds);
        }
        else {
            onToggleItem(id);
        }
    }, [data, ids, isRowSelectable, onSelect, onToggleItem, selectedIds]);
    /**
     * if loaded is false, the list displays for the first time, and the dataProvider hasn't answered yet
     * if loaded is true, the data for the list has at least been returned once by the dataProvider
     * if loaded is undefined, the Datagrid parent doesn't track loading state (e.g. ReferenceArrayField)
     */
    if (loaded === false) {
        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DatagridLoading__WEBPACK_IMPORTED_MODULE_9__.default, { classes: classes, className: className, expand: expand, hasBulkActions: hasBulkActions, nbChildren: react__WEBPACK_IMPORTED_MODULE_0__.Children.count(children), size: size }));
    }
    /**
     * Once loaded, the data for the list may be empty. Instead of
     * displaying the table header with zero data rows,
     * the datagrid displays nothing or a custom empty component.
     */
    if (loaded && (ids.length === 0 || total === 0)) {
        if (empty) {
            return empty;
        }
        return null;
    }
    var all = isRowSelectable
        ? ids.filter(function (id) { return isRowSelectable(data[id]); })
        : ids;
    /**
     * After the initial load, if the data for the list isn't empty,
     * and even if the data is refreshing (e.g. after a filter change),
     * the datagrid displays the current data.
     */
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DatagridContextProvider__WEBPACK_IMPORTED_MODULE_10__.default, { value: contextValue },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.default, __assign({ ref: ref, className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.table, className), size: size }, (0,ra_core__WEBPACK_IMPORTED_MODULE_12__.sanitizeListRestProps)(rest)),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.default, { className: classes.thead },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_14__.default, { className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.row, classes.headerRow) },
                    expand && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_15__.default, { padding: "none", className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.headerCell, classes.expandHeader) })),
                    hasBulkActions && selectedIds && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_15__.default, { padding: "checkbox", className: classes.headerCell },
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_16__.default, { className: "select-all", color: "primary", checked: selectedIds.length > 0 &&
                                all.length > 0 &&
                                all.every(function (id) {
                                    return selectedIds.includes(id);
                                }), onChange: handleSelectAll }))),
                    react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, function (field, index) {
                        return (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(field) ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DatagridHeaderCell__WEBPACK_IMPORTED_MODULE_17__.default, { className: classes.headerCell, currentSort: currentSort, field: field, isSorting: currentSort.field ===
                                (field.props.sortBy ||
                                    field.props.source), key: field.props.source || index, resource: resource, updateSort: updateSort })) : null;
                    }))),
            (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(body, {
                basePath: basePath,
                className: classes.tbody,
                classes: classes,
                expand: expand,
                rowClick: rowClick,
                data: data,
                hasBulkActions: hasBulkActions,
                hover: hover,
                ids: ids,
                onToggleItem: handleToggleItem,
                resource: resource,
                rowStyle: rowStyle,
                selectedIds: selectedIds,
                isRowSelectable: isRowSelectable,
                version: version,
            }, children))));
});
Datagrid.propTypes = {
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    body: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    children: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().node.isRequired),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    currentSort: prop_types__WEBPACK_IMPORTED_MODULE_1___default().exact({
        field: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
        order: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    }),
    data: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().any),
    empty: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    // @ts-ignore
    expand: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().element), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().elementType)]),
    hasBulkActions: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    hover: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    ids: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_1___default().any)),
    loading: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    onSelect: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    onToggleItem: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    rowClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func)]),
    rowStyle: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    selectedIds: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_1___default().any)),
    setSort: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    total: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),
    version: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),
    isRowSelectable: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    isRowExpandable: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
};
Datagrid.displayName = 'Datagrid';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Datagrid);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridBody.js":
/*!*************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridBody.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PureDatagridBody": () => (/* binding */ PureDatagridBody),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableBody/TableBody.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _DatagridRow__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DatagridRow */ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridRow.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};







var DatagridBody = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (_a, ref) {
    var basePath = _a.basePath, children = _a.children, classes = _a.classes, className = _a.className, data = _a.data, expand = _a.expand, hasBulkActions = _a.hasBulkActions, hover = _a.hover, ids = _a.ids, onToggleItem = _a.onToggleItem, resource = _a.resource, row = _a.row, rowClick = _a.rowClick, rowStyle = _a.rowStyle, selectedIds = _a.selectedIds, isRowSelectable = _a.isRowSelectable, rest = __rest(_a, ["basePath", "children", "classes", "className", "data", "expand", "hasBulkActions", "hover", "ids", "onToggleItem", "resource", "row", "rowClick", "rowStyle", "selectedIds", "isRowSelectable"]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.default, __assign({ ref: ref, className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('datagrid-body', className) }, rest), ids.map(function (id, rowIndex) {
        var _a;
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(row, {
            basePath: basePath,
            classes: classes,
            className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.row, (_a = {},
                _a[classes.rowEven] = rowIndex % 2 === 0,
                _a[classes.rowOdd] = rowIndex % 2 !== 0,
                _a[classes.clickableRow] = rowClick,
                _a)),
            expand: expand,
            hasBulkActions: hasBulkActions && !!selectedIds,
            hover: hover,
            id: id,
            key: id,
            onToggleItem: onToggleItem,
            record: data[id],
            resource: resource,
            rowClick: rowClick,
            selectable: !isRowSelectable || isRowSelectable(data[id]),
            selected: selectedIds === null || selectedIds === void 0 ? void 0 : selectedIds.includes(id),
            style: rowStyle ? rowStyle(data[id], rowIndex) : null,
        }, children);
    })));
});
DatagridBody.propTypes = {
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().any),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    children: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().node),
    // @ts-ignore
    data: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object.isRequired),
    // @ts-ignore
    expand: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().element), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().elementType)]),
    hasBulkActions: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool.isRequired),
    hover: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    ids: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_1___default().any)).isRequired,
    onToggleItem: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    row: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    rowClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func)]),
    rowStyle: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    selectedIds: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_1___default().any)),
    styles: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    isRowSelectable: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
};
DatagridBody.defaultProps = {
    data: {},
    hasBulkActions: false,
    ids: [],
    row: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DatagridRow__WEBPACK_IMPORTED_MODULE_5__.default, null),
};
// trick material-ui Table into thinking this is one of the child type it supports
// @ts-ignore
DatagridBody.muiName = 'TableBody';
var areEqual = function (prevProps, nextProps) {
    var _1 = prevProps.children, _2 = prevProps.expand, _3 = prevProps.row, prevPropsWithoutChildren = __rest(prevProps, ["children", "expand", "row"]);
    var _4 = nextProps.children, _5 = nextProps.expand, _6 = nextProps.row, nextPropsWithoutChildren = __rest(nextProps, ["children", "expand", "row"]);
    return (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.shallowEqual)(prevPropsWithoutChildren, nextPropsWithoutChildren);
};
var PureDatagridBody = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(DatagridBody, areEqual);
// trick material-ui Table into thinking this is one of the child type it supports
// @ts-ignore
PureDatagridBody.muiName = 'TableBody';
// @ts-ignore
PureDatagridBody.defaultProps = {
    row: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DatagridRow__WEBPACK_IMPORTED_MODULE_5__.PureDatagridRow, null),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DatagridBody);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridCell.js":
/*!*************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridCell.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/TableCell */ "./node_modules/@material-ui/core/esm/TableCell/TableCell.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};




var DatagridCell = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (_a, ref) {
    var className = _a.className, field = _a.field, record = _a.record, basePath = _a.basePath, resource = _a.resource, rest = __rest(_a, ["className", "field", "record", "basePath", "resource"]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_TableCell__WEBPACK_IMPORTED_MODULE_3__.default, __assign({ className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(className, field.props.cellClassName), align: field.props.textAlign, ref: ref }, rest), react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(field, {
        record: record,
        basePath: field.props.basePath || basePath,
        resource: resource,
    })));
});
DatagridCell.propTypes = {
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    field: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    // @ts-ignore
    record: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
};
// What? TypeScript loses the displayName if we don't set it explicitly
DatagridCell.displayName = 'DatagridCell';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DatagridCell);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridContext.js":
/*!****************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridContext.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var DatagridContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});
DatagridContext.displayName = 'DatagridContext';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DatagridContext);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridContextProvider.js":
/*!************************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridContextProvider.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _DatagridContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DatagridContext */ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridContext.js");


var DatagridContextProvider = function (_a) {
    var children = _a.children, value = _a.value;
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DatagridContext__WEBPACK_IMPORTED_MODULE_1__.default.Provider, { value: value }, children));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DatagridContextProvider);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridHeaderCell.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridHeaderCell.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DatagridHeaderCell": () => (/* binding */ DatagridHeaderCell),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableCell/TableCell.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Tooltip/Tooltip.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableSortLabel/TableSortLabel.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/useResourceContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/util/FieldTitle.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};







// remove the sort icons when not active
var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)({
    icon: {
        display: 'none',
    },
    active: {
        '& $icon': {
            display: 'inline',
        },
    },
}, { name: 'RaDatagridHeaderCell' });
var DatagridHeaderCell = function (props) {
    var className = props.className, classesOverride = props.classes, field = props.field, currentSort = props.currentSort, updateSort = props.updateSort, isSorting = props.isSorting, rest = __rest(props, ["className", "classes", "field", "currentSort", "updateSort", "isSorting"]);
    var resource = (0,ra_core__WEBPACK_IMPORTED_MODULE_4__.useResourceContext)(props);
    var classes = useStyles(props);
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.default)();
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.default, __assign({ className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(className, field.props.headerClassName), align: field.props.textAlign, variant: "head" }, rest), updateSort &&
        field.props.sortable !== false &&
        (field.props.sortBy || field.props.source) ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.default, { title: translate('ra.action.sort'), placement: field.props.textAlign === 'right'
            ? 'bottom-end'
            : 'bottom-start', enterDelay: 300 },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.default, { active: currentSort.field ===
                (field.props.sortBy || field.props.source), direction: currentSort.order === 'ASC' ? 'asc' : 'desc', "data-sort": field.props.sortBy || field.props.source, "data-field": field.props.sortBy || field.props.source, "data-order": field.props.sortByOrder || 'ASC', onClick: updateSort, classes: classes },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(ra_core__WEBPACK_IMPORTED_MODULE_9__.default, { label: field.props.label, source: field.props.source, resource: resource })))) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ra_core__WEBPACK_IMPORTED_MODULE_9__.default, { label: field.props.label, source: field.props.source, resource: resource }))));
};
DatagridHeaderCell.propTypes = {
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    field: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    currentSort: prop_types__WEBPACK_IMPORTED_MODULE_1___default().shape({
        sort: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
        order: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    }).isRequired,
    isSorting: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    updateSort: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(DatagridHeaderCell, function (props, nextProps) {
    return props.updateSort === nextProps.updateSort &&
        props.currentSort.field === nextProps.currentSort.field &&
        props.currentSort.order === nextProps.currentSort.order &&
        props.isSorting === nextProps.isSorting &&
        props.resource === nextProps.resource;
}));


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridLoading.js":
/*!****************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridLoading.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Table/Table.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableHead/TableHead.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableRow/TableRow.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableCell/TableCell.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Checkbox/Checkbox.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableBody/TableBody.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/IconButton/IconButton.js");
/* harmony import */ var _material_ui_icons_ExpandMore__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @material-ui/icons/ExpandMore */ "./node_modules/@material-ui/icons/ExpandMore.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/util/hooks.js");
/* harmony import */ var _Placeholder__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Placeholder */ "./node_modules/ra-ui-materialui/esm/list/Placeholder.js");








var times = function (nbChildren, fn) {
    return Array.from({ length: nbChildren }, function (_, key) { return fn(key); });
};
var DatagridLoading = function (_a) {
    var classes = _a.classes, className = _a.className, expand = _a.expand, hasBulkActions = _a.hasBulkActions, nbChildren = _a.nbChildren, _b = _a.nbFakeLines, nbFakeLines = _b === void 0 ? 5 : _b, size = _a.size;
    var oneSecondHasPassed = (0,ra_core__WEBPACK_IMPORTED_MODULE_3__.useTimeout)(1000);
    return oneSecondHasPassed ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.default, { className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(classes.table, className), size: size },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.default, null,
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.default, { className: classes.row },
                expand && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.default, { padding: "none", className: classes.expandHeader })),
                hasBulkActions && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.default, { padding: "checkbox", className: classes.expandIconCell },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.default, { className: "select-all", color: "primary", checked: false }))),
                times(nbChildren, function (key) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.default, { variant: "head", className: classes.headerCell, key: key },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Placeholder__WEBPACK_IMPORTED_MODULE_9__.default, null))); }))),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.default, null, times(nbFakeLines, function (key1) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.default, { key: key1, style: { opacity: 1 / (key1 + 1) } },
            expand && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.default, { padding: "none", className: classes.expandIconCell },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.default, { className: classes.expandIcon, component: "div", "aria-hidden": "true" },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_ExpandMore__WEBPACK_IMPORTED_MODULE_12__.default, null)))),
            hasBulkActions && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.default, { padding: "checkbox", className: classes.expandIconCell },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.default, { className: "select-all", color: "primary", checked: false }))),
            times(nbChildren, function (key2) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.default, { className: classes.rowCell, key: key2 },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Placeholder__WEBPACK_IMPORTED_MODULE_9__.default, null))); }))); })))) : null;
};
DatagridLoading.propTypes = {
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    expand: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().element), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().elementType)]),
    hasBulkActions: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    nbChildren: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),
    nbFakeLines: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),
    size: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOf(['small', 'medium']),
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(DatagridLoading));


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridRow.js":
/*!************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridRow.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PureDatagridRow": () => (/* binding */ PureDatagridRow),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableRow/TableRow.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TableCell/TableCell.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Checkbox/Checkbox.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/useResourceContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useExpanded.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/util/linkToRecord.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/RecordContext.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/esm/react-router.js");
/* harmony import */ var _DatagridCell__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./DatagridCell */ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridCell.js");
/* harmony import */ var _ExpandRowButton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ExpandRowButton */ "./node_modules/ra-ui-materialui/esm/list/datagrid/ExpandRowButton.js");
/* harmony import */ var _useDatagridContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useDatagridContext */ "./node_modules/ra-ui-materialui/esm/list/datagrid/useDatagridContext.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};










var computeNbColumns = function (expand, children, hasBulkActions) {
    return expand
        ? 1 + // show expand button
            (hasBulkActions ? 1 : 0) + // checkbox column
            react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(children).filter(function (child) { return !!child; }).length // non-null children
        : 0;
}; // we don't need to compute columns if there is no expand panel;
var defaultClasses = { expandIconCell: '', checkbox: '', rowCell: '' };
var DatagridRow = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
    var basePath = props.basePath, children = props.children, _a = props.classes, classes = _a === void 0 ? defaultClasses : _a, className = props.className, expand = props.expand, hasBulkActions = props.hasBulkActions, hover = props.hover, id = props.id, onToggleItem = props.onToggleItem, record = props.record, rowClick = props.rowClick, selected = props.selected, style = props.style, selectable = props.selectable, rest = __rest(props, ["basePath", "children", "classes", "className", "expand", "hasBulkActions", "hover", "id", "onToggleItem", "record", "rowClick", "selected", "style", "selectable"]);
    var context = (0,_useDatagridContext__WEBPACK_IMPORTED_MODULE_4__.useDatagridContext)();
    var expandable = (!context ||
        !context.isRowExpandable ||
        context.isRowExpandable(record)) &&
        expand;
    var resource = (0,ra_core__WEBPACK_IMPORTED_MODULE_5__.useResourceContext)(props);
    var _b = (0,ra_core__WEBPACK_IMPORTED_MODULE_6__.default)(resource, id), expanded = _b[0], toggleExpanded = _b[1];
    var _c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(function () {
        return computeNbColumns(expandable, children, hasBulkActions);
    }), nbColumns = _c[0], setNbColumns = _c[1];
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        // Fields can be hidden dynamically based on permissions;
        // The expand panel must span over the remaining columns
        // So we must recompute the number of columns to span on
        var newNbColumns = computeNbColumns(expandable, children, hasBulkActions);
        if (newNbColumns !== nbColumns) {
            setNbColumns(newNbColumns);
        }
    }, [expandable, nbColumns, children, hasBulkActions]);
    var history = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.useHistory)();
    var handleToggleExpand = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
        toggleExpanded();
        event.stopPropagation();
    }, [toggleExpanded]);
    var handleToggleSelection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
        if (!selectable)
            return;
        onToggleItem(id, event);
        event.stopPropagation();
    }, [id, onToggleItem, selectable]);
    var handleClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) { return __awaiter(void 0, void 0, void 0, function () {
        var effect, _a;
        return __generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    if (!rowClick)
                        return [2 /*return*/];
                    event.persist();
                    if (!(typeof rowClick === 'function')) return [3 /*break*/, 2];
                    return [4 /*yield*/, rowClick(id, basePath || "/" + resource, record)];
                case 1:
                    _a = _b.sent();
                    return [3 /*break*/, 3];
                case 2:
                    _a = rowClick;
                    _b.label = 3;
                case 3:
                    effect = _a;
                    switch (effect) {
                        case 'edit':
                            history.push((0,ra_core__WEBPACK_IMPORTED_MODULE_8__.default)(basePath || "/" + resource, id));
                            return [2 /*return*/];
                        case 'show':
                            history.push((0,ra_core__WEBPACK_IMPORTED_MODULE_8__.default)(basePath || "/" + resource, id, 'show'));
                            return [2 /*return*/];
                        case 'expand':
                            handleToggleExpand(event);
                            return [2 /*return*/];
                        case 'toggleSelection':
                            handleToggleSelection(event);
                            return [2 /*return*/];
                        default:
                            if (effect)
                                history.push(effect);
                            return [2 /*return*/];
                    }
                    return [2 /*return*/];
            }
        });
    }); }, [
        basePath,
        history,
        handleToggleExpand,
        handleToggleSelection,
        id,
        record,
        resource,
        rowClick,
    ]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ra_core__WEBPACK_IMPORTED_MODULE_9__.RecordContextProvider, { value: record },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.default, __assign({ ref: ref, className: className, key: id, style: style, hover: hover, onClick: handleClick }, rest),
            expand && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.default, { padding: "none", className: classes.expandIconCell }, expandable && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ExpandRowButton__WEBPACK_IMPORTED_MODULE_12__.default, { classes: classes, expanded: expanded, onClick: handleToggleExpand, expandContentId: id + "-expand" })))),
            hasBulkActions && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.default, { padding: "checkbox" }, selectable && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.default, { color: "primary", className: "select-item " + classes.checkbox, checked: selected, onClick: handleToggleSelection })))),
            react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children, function (field, index) {
                return (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(field) ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DatagridCell__WEBPACK_IMPORTED_MODULE_14__.default, __assign({ key: id + "-" + (field.props.source || index), className: classnames__WEBPACK_IMPORTED_MODULE_2___default()("column-" + field.props.source, classes.rowCell), record: record }, { field: field, basePath: basePath, resource: resource }))) : null;
            })),
        expandable && expanded && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.default, { key: id + "-expand", id: id + "-expand" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.default, { colSpan: nbColumns }, (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(expand)
                ? (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(expand, {
                    // @ts-ignore
                    record: record,
                    basePath: basePath,
                    resource: resource,
                    id: String(id),
                })
                : (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(expand, {
                    record: record,
                    basePath: basePath,
                    resource: resource,
                    id: String(id),
                }))))));
});
DatagridRow.propTypes = {
    basePath: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    children: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().node),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().any),
    className: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    // @ts-ignore
    expand: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().element), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().elementType)]),
    hasBulkActions: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool.isRequired),
    hover: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    id: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().any),
    onToggleItem: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),
    // @ts-ignore
    record: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    resource: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),
    // @ts-ignore
    rowClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_1___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func)]),
    selected: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
    style: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    selectable: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),
};
DatagridRow.defaultProps = {
    hasBulkActions: false,
    hover: true,
    selected: false,
    selectable: true,
};
var areEqual = function (prevProps, nextProps) {
    var _1 = prevProps.children, _2 = prevProps.expand, prevPropsWithoutChildren = __rest(prevProps, ["children", "expand"]);
    var _3 = nextProps.children, _4 = nextProps.expand, nextPropsWithoutChildren = __rest(nextProps, ["children", "expand"]);
    return (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.shallowEqual)(prevPropsWithoutChildren, nextPropsWithoutChildren);
};
var PureDatagridRow = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(DatagridRow, areEqual);
PureDatagridRow.displayName = 'PureDatagridRow';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DatagridRow);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/ExpandRowButton.js":
/*!****************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/ExpandRowButton.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/IconButton */ "./node_modules/@material-ui/core/esm/IconButton/IconButton.js");
/* harmony import */ var _material_ui_icons_ExpandMore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/icons/ExpandMore */ "./node_modules/@material-ui/icons/ExpandMore.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};






var ExpandRowButton = function (_a) {
    var _b;
    var classes = _a.classes, expanded = _a.expanded, expandContentId = _a.expandContentId, props = __rest(_a, ["classes", "expanded", "expandContentId"]);
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_2__.default)();
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_3__.default, __assign({ "aria-label": translate(expanded ? 'ra.action.close' : 'ra.action.expand'), "aria-expanded": expanded, "aria-controls": expandContentId, className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(classes.expandIcon, (_b = {},
            _b[classes.expanded] = expanded,
            _b)), tabIndex: -1, "aria-hidden": "true", component: "div" }, props),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_ExpandMore__WEBPACK_IMPORTED_MODULE_4__.default, null)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ExpandRowButton));


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/useDatagridContext.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/useDatagridContext.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useDatagridContext": () => (/* binding */ useDatagridContext)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _DatagridContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DatagridContext */ "./node_modules/ra-ui-materialui/esm/list/datagrid/DatagridContext.js");
/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/defaults */ "./node_modules/lodash/defaults.js");
/* harmony import */ var lodash_defaults__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_defaults__WEBPACK_IMPORTED_MODULE_1__);



var useDatagridContext = function (props) {
    var context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_DatagridContext__WEBPACK_IMPORTED_MODULE_2__.default);
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
        return lodash_defaults__WEBPACK_IMPORTED_MODULE_1___default()({}, props != null ? { isRowExpandable: props.isRowExpandable } : {}, context);
    }, [context, props]);
};


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/datagrid/useDatagridStyles.js":
/*!******************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/datagrid/useDatagridStyles.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");

var useDatagridStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_0__.default)(function (theme) { return ({
    table: {
        tableLayout: 'auto',
    },
    thead: {},
    tbody: {},
    headerRow: {},
    headerCell: {
        position: 'sticky',
        top: 0,
        zIndex: 2,
        backgroundColor: theme.palette.background.paper,
        '&:first-child': {
            borderTopLeftRadius: theme.shape.borderRadius,
        },
        '&:last-child': {
            borderTopRightRadius: theme.shape.borderRadius,
        },
    },
    checkbox: {},
    row: {},
    clickableRow: {
        cursor: 'pointer',
    },
    rowEven: {},
    rowOdd: {},
    rowCell: {},
    expandHeader: {
        padding: 0,
        width: theme.spacing(6),
    },
    expandIconCell: {
        width: theme.spacing(6),
    },
    expandIcon: {
        padding: theme.spacing(1),
        transform: 'rotate(-90deg)',
        transition: theme.transitions.create('transform', {
            duration: theme.transitions.duration.shortest,
        }),
    },
    expanded: {
        transform: 'rotate(0deg)',
    },
}); }, { name: 'RaDatagrid' });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDatagridStyles);


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/pagination/Pagination.js":
/*!*************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/pagination/Pagination.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/useMediaQuery/useMediaQuery.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/Toolbar/Toolbar.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/TablePagination/TablePagination.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListPaginationContext.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/controller/useListController.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/util/ComponentPropType.js");
/* harmony import */ var _PaginationActions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./PaginationActions */ "./node_modules/ra-ui-materialui/esm/list/pagination/PaginationActions.js");
/* harmony import */ var _PaginationLimit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PaginationLimit */ "./node_modules/ra-ui-materialui/esm/list/pagination/PaginationLimit.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};







var emptyArray = [];
var Pagination = function (props) {
    var rowsPerPageOptions = props.rowsPerPageOptions, actions = props.actions, limit = props.limit, rest = __rest(props, ["rowsPerPageOptions", "actions", "limit"]);
    var _a = (0,ra_core__WEBPACK_IMPORTED_MODULE_2__.default)(props), loading = _a.loading, page = _a.page, perPage = _a.perPage, total = _a.total, setPage = _a.setPage, setPerPage = _a.setPerPage;
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_3__.default)();
    var isSmall = (0,_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.default)(function (theme) {
        return theme.breakpoints.down('sm');
    });
    var totalPages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
        return Math.ceil(total / perPage) || 1;
    }, [perPage, total]);
    /**
     * Warning: material-ui's page is 0-based
     */
    var handlePageChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event, page) {
        event && event.stopPropagation();
        if (page < 0 || page > totalPages - 1) {
            throw new Error(translate('ra.navigation.page_out_of_boundaries', {
                page: page + 1,
            }));
        }
        setPage(page + 1);
    }, [totalPages, setPage, translate]);
    var handlePerPageChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
        setPerPage(event.target.value);
    }, [setPerPage]);
    var labelDisplayedRows = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (_a) {
        var from = _a.from, to = _a.to, count = _a.count;
        return translate('ra.navigation.page_range_info', {
            offsetBegin: from,
            offsetEnd: to,
            total: count,
        });
    }, [translate]);
    // Avoid rendering TablePagination if "page" value is invalid
    if (total === null || total === 0 || page < 1 || page > totalPages) {
        return loading ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.default, { variant: "dense" }) : limit;
    }
    if (isSmall) {
        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.default, __assign({ count: total, rowsPerPage: perPage, page: page - 1, onChangePage: handlePageChange, rowsPerPageOptions: emptyArray, component: "span", labelDisplayedRows: labelDisplayedRows }, (0,ra_core__WEBPACK_IMPORTED_MODULE_7__.sanitizeListRestProps)(rest))));
    }
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.default, __assign({ count: total, rowsPerPage: perPage, page: page - 1, onChangePage: handlePageChange, onChangeRowsPerPage: handlePerPageChange, ActionsComponent: actions, component: "span", labelRowsPerPage: translate('ra.navigation.page_rows_per_page'), labelDisplayedRows: labelDisplayedRows, rowsPerPageOptions: rowsPerPageOptions }, (0,ra_core__WEBPACK_IMPORTED_MODULE_7__.sanitizeListRestProps)(rest))));
};
Pagination.propTypes = {
    actions: ra_core__WEBPACK_IMPORTED_MODULE_8__.default,
    limit: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().element),
    rowsPerPageOptions: prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_1___default().number)),
};
Pagination.defaultProps = {
    actions: _PaginationActions__WEBPACK_IMPORTED_MODULE_9__.default,
    limit: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_PaginationLimit__WEBPACK_IMPORTED_MODULE_10__.default, null),
    rowsPerPageOptions: [5, 10, 25],
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_0__.memo(Pagination));


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/pagination/PaginationActions.js":
/*!********************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/pagination/PaginationActions.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core/Button */ "./node_modules/@material-ui/core/esm/Button/Button.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/makeStyles.js");
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/useTheme.js");
/* harmony import */ var _material_ui_icons_ChevronLeft__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/icons/ChevronLeft */ "./node_modules/@material-ui/icons/ChevronLeft.js");
/* harmony import */ var _material_ui_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material-ui/icons/ChevronRight */ "./node_modules/@material-ui/icons/ChevronRight.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);








var useStyles = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_3__.default)(function (theme) { return ({
    actions: {
        flexShrink: 0,
        color: theme.palette.text.secondary,
        marginLeft: 20,
    },
    button: {},
    currentPageButton: {},
    hellip: { padding: '1.2em' },
}); }, { name: 'RaPaginationActions' });
function PaginationActions(props) {
    var page = props.page, rowsPerPage = props.rowsPerPage, count = props.count, onChangePage = props.onChangePage, color = props.color, size = props.size;
    var classes = useStyles(props);
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_4__.default)();
    var theme = (0,_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__.default)();
    /**
     * Warning: material-ui's page is 0-based
     */
    var range = function () {
        var nbPages = Math.ceil(count / rowsPerPage) || 1;
        if (isNaN(page) || nbPages === 1) {
            return [];
        }
        var input = [];
        // display page links around the current page
        if (page > 1) {
            input.push(1);
        }
        if (page === 3) {
            input.push(2);
        }
        if (page > 3) {
            input.push('.');
        }
        if (page > 0) {
            input.push(page);
        }
        input.push(page + 1);
        if (page < nbPages - 1) {
            input.push(page + 2);
        }
        if (page === nbPages - 4) {
            input.push(nbPages - 1);
        }
        if (page < nbPages - 4) {
            input.push('.');
        }
        if (page < nbPages - 2) {
            input.push(nbPages);
        }
        return input;
    };
    var getNbPages = function () { return Math.ceil(count / rowsPerPage) || 1; };
    var prevPage = function (event) {
        if (page === 0) {
            throw new Error(translate('ra.navigation.page_out_from_begin'));
        }
        onChangePage(event, page - 1);
    };
    var nextPage = function (event) {
        if (page > getNbPages() - 1) {
            throw new Error(translate('ra.navigation.page_out_from_end'));
        }
        onChangePage(event, page + 1);
    };
    var gotoPage = function (event) {
        var page = parseInt(event.currentTarget.dataset.page, 10);
        if (page < 0 || page > getNbPages() - 1) {
            throw new Error(translate('ra.navigation.page_out_of_boundaries', {
                page: page + 1,
            }));
        }
        onChangePage(event, page);
    };
    var renderPageNums = function () {
        return range().map(function (pageNum, index) {
            var _a;
            return pageNum === '.' ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", { key: "hyphen_" + index, className: classes.hellip }, "\u2026")) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__.default, { size: size, className: classnames__WEBPACK_IMPORTED_MODULE_2___default()('page-number', classes.button, (_a = {},
                    _a[classes.currentPageButton] = pageNum === page + 1,
                    _a)), color: pageNum === page + 1 ? 'default' : color, key: pageNum, "data-page": pageNum - 1, onClick: gotoPage }, pageNum));
        });
    };
    var nbPages = getNbPages();
    if (nbPages === 1) {
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.actions });
    }
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.actions },
        page > 0 && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__.default, { color: color, size: size, key: "prev", onClick: prevPage, className: "previous-page" },
            theme.direction === 'rtl' ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_7__.default, null)) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_ChevronLeft__WEBPACK_IMPORTED_MODULE_8__.default, null)),
            translate('ra.navigation.prev'))),
        renderPageNums(),
        page !== nbPages - 1 && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__.default, { color: color, size: size, key: "next", onClick: nextPage, className: "next-page" },
            translate('ra.navigation.next'),
            theme.direction === 'rtl' ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_ChevronLeft__WEBPACK_IMPORTED_MODULE_8__.default, null)) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_icons_ChevronRight__WEBPACK_IMPORTED_MODULE_7__.default, null))))));
}
/**
 * PaginationActions propTypes are copied over from material-uis
 * TablePaginationActions propTypes. See
 * https://github.com/mui-org/material-ui/blob/869692ecf3812bc4577ed4dde81a9911c5949695/packages/material-ui/src/TablePaginationActions/TablePaginationActions.js#L53-L85
 * for reference.
 */
PaginationActions.propTypes = {
    backIconButtonProps: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    count: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number.isRequired),
    classes: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    nextIconButtonProps: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
    onChangePage: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired),
    page: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number.isRequired),
    rowsPerPage: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number.isRequired),
    color: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOf(['primary', 'secondary']),
    size: prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOf(['small', 'medium', 'large']),
    theme: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().object),
};
PaginationActions.defaultProps = {
    color: 'primary',
    size: 'small',
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_0__.memo(PaginationActions));


/***/ }),

/***/ "./node_modules/ra-ui-materialui/esm/list/pagination/PaginationLimit.js":
/*!******************************************************************************!*\
  !*** ./node_modules/ra-ui-materialui/esm/list/pagination/PaginationLimit.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/CardContent */ "./node_modules/@material-ui/core/esm/CardContent/CardContent.js");
/* harmony import */ var _material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/Typography */ "./node_modules/@material-ui/core/esm/Typography/Typography.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/i18n/useTranslate.js");





var PaginationLimit = function () {
    var translate = (0,ra_core__WEBPACK_IMPORTED_MODULE_1__.default)();
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_2__.default, null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__.default, { variant: "body2" }, translate('ra.navigation.no_results'))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(PaginationLimit));


/***/ }),

/***/ "./node_modules/react-admin/esm/Admin.js":
/*!***********************************************!*\
  !*** ./node_modules/react-admin/esm/Admin.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _AdminContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AdminContext */ "./node_modules/react-admin/esm/AdminContext.js");
/* harmony import */ var _AdminUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AdminUI */ "./node_modules/react-admin/esm/AdminUI.js");



/**
 * Main admin component, entry point to the application.
 *
 * Initializes the various contexts (auth, data, i18n, redux, router)
 * and defines the main routes.
 *
 * Expects a list of resources as children, or a function returning a list of
 * resources based on the permissions.
 *
 * @example
 *
 * // static list of resources
 *
 * import {
 *     Admin,
 *     Resource,
 *     ListGuesser,
 *     useDataProvider,
 * } from 'react-admin';
 *
 * const App = () => (
 *     <Admin dataProvider={myDataProvider}>
 *         <Resource name="posts" list={ListGuesser} />
 *     </Admin>
 * );
 *
 * // dynamic list of resources based on permissions
 *
 * import {
 *     Admin,
 *     Resource,
 *     ListGuesser,
 *     useDataProvider,
 * } from 'react-admin';
 *
 * const App = () => (
 *     <Admin dataProvider={myDataProvider}>
 *         {permissions => [
 *             <Resource name="posts" key="posts" list={ListGuesser} />,
 *         ]}
 *     </Admin>
 * );
 *
 * // If you have to build a dynamic list of resources using a side effect,
 * // you can't use <Admin>. But as it delegates to sub components,
 * // it's relatively straightforward to replace it:
 *
 * import * as React from 'react';
import { useEffect, useState } from 'react';
 * import {
 *     AdminContext,
 *     AdminUI,
 *     Resource,
 *     ListGuesser,
 *     useDataProvider,
 * } from 'react-admin';
 *
 * const App = () => (
 *     <AdminContext dataProvider={myDataProvider}>
 *         <Resources />
 *     </AdminContext>
 * );
 *
 * const Resources = () => {
 *     const [resources, setResources] = useState([]);
 *     const dataProvider = useDataProvider();
 *     useEffect(() => {
 *         dataProvider.introspect().then(r => setResources(r));
 *     }, []);
 *
 *     return (
 *         <AdminUI>
 *             {resources.map(resource => (
 *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />
 *             ))}
 *         </AdminUI>
 *     );
 * };
 */
var Admin = function (_a) {
    var appLayout = _a.appLayout, authProvider = _a.authProvider, catchAll = _a.catchAll, children = _a.children, customReducers = _a.customReducers, _b = _a.customRoutes, customRoutes = _b === void 0 ? [] : _b, customSagas = _a.customSagas, dashboard = _a.dashboard, dataProvider = _a.dataProvider, disableTelemetry = _a.disableTelemetry, history = _a.history, i18nProvider = _a.i18nProvider, initialState = _a.initialState, layout = _a.layout, loading = _a.loading, locale = _a.locale, loginPage = _a.loginPage, logoutButton = _a.logoutButton, menu = _a.menu, // deprecated, use a custom layout instead
    ready = _a.ready, theme = _a.theme, _c = _a.title, title = _c === void 0 ? 'React Admin' : _c;
    if (appLayout && "development" !== 'production') {
        console.warn('You are using deprecated prop "appLayout", it was replaced by "layout", see https://github.com/marmelab/react-admin/issues/2918');
    }
    if (loginPage === true && "development" !== 'production') {
        console.warn('You passed true to the loginPage prop. You must either pass false to disable it or a component class to customize it');
    }
    if (locale && "development" !== 'production') {
        console.warn('You are using deprecated prop "locale". You must now pass the initial locale to your i18nProvider');
    }
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_AdminContext__WEBPACK_IMPORTED_MODULE_1__.default, { authProvider: authProvider, dataProvider: dataProvider, i18nProvider: i18nProvider, history: history, customReducers: customReducers, customSagas: customSagas, initialState: initialState },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_AdminUI__WEBPACK_IMPORTED_MODULE_2__.default, { layout: appLayout || layout, customRoutes: customRoutes, dashboard: dashboard, disableTelemetry: disableTelemetry, menu: menu, catchAll: catchAll, theme: theme, title: title, loading: loading, loginPage: loginPage, logout: authProvider ? logoutButton : undefined, ready: ready }, children)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Admin);


/***/ }),

/***/ "./node_modules/react-admin/esm/AdminContext.js":
/*!******************************************************!*\
  !*** ./node_modules/react-admin/esm/AdminContext.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/CoreAdminContext.js");
/* harmony import */ var _defaultI18nProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultI18nProvider */ "./node_modules/react-admin/esm/defaultI18nProvider.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var AdminContext = function (props) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ra_core__WEBPACK_IMPORTED_MODULE_1__.default, __assign({}, props))); };
AdminContext.defaultProps = {
    i18nProvider: _defaultI18nProvider__WEBPACK_IMPORTED_MODULE_2__.default,
};
AdminContext.displayName = 'AdminContext';
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AdminContext);


/***/ }),

/***/ "./node_modules/react-admin/esm/AdminUI.js":
/*!*************************************************!*\
  !*** ./node_modules/react-admin/esm/AdminUI.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var ra_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ra-core */ "./node_modules/ra-core/esm/core/CoreAdminUI.js");
/* harmony import */ var ra_ui_materialui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ra-ui-materialui */ "./node_modules/ra-ui-materialui/esm/layout/Layout.js");
/* harmony import */ var ra_ui_materialui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ra-ui-materialui */ "./node_modules/ra-ui-materialui/esm/layout/NotFound.js");
/* harmony import */ var ra_ui_materialui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ra-ui-materialui */ "./node_modules/ra-ui-materialui/esm/layout/LoadingPage.js");
/* harmony import */ var ra_ui_materialui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ra-ui-materialui */ "./node_modules/ra-ui-materialui/esm/auth/Login.js");
/* harmony import */ var ra_ui_materialui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ra-ui-materialui */ "./node_modules/ra-ui-materialui/esm/auth/Logout.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var AdminUI = function (props) { return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ra_core__WEBPACK_IMPORTED_MODULE_1__.default, __assign({}, props)); };
AdminUI.defaultProps = {
    layout: ra_ui_materialui__WEBPACK_IMPORTED_MODULE_2__.default,
    catchAll: ra_ui_materialui__WEBPACK_IMPORTED_MODULE_3__.default,
    loading: ra_ui_materialui__WEBPACK_IMPORTED_MODULE_4__.default,
    loginPage: ra_ui_materialui__WEBPACK_IMPORTED_MODULE_5__.default,
    logout: ra_ui_materialui__WEBPACK_IMPORTED_MODULE_6__.default,
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AdminUI);


/***/ }),

/***/ "./node_modules/react-admin/esm/defaultI18nProvider.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-admin/esm/defaultI18nProvider.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ra_language_english__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ra-language-english */ "./node_modules/ra-language-english/esm/index.js");
/* harmony import */ var ra_i18n_polyglot__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ra-i18n-polyglot */ "./node_modules/ra-i18n-polyglot/esm/index.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,ra_i18n_polyglot__WEBPACK_IMPORTED_MODULE_1__.default)(function () { return ra_language_english__WEBPACK_IMPORTED_MODULE_0__.default; }, 'en', {
    allowMissing: true,
}));


/***/ }),

/***/ "./node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CANCEL": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.CANCEL),
/* harmony export */   "END": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.END),
/* harmony export */   "SAGA_LOCATION": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.SAGA_LOCATION),
/* harmony export */   "buffers": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.buffers),
/* harmony export */   "channel": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.channel),
/* harmony export */   "detach": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.detach),
/* harmony export */   "eventChannel": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.eventChannel),
/* harmony export */   "isEnd": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.isEnd),
/* harmony export */   "multicastChannel": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.multicastChannel),
/* harmony export */   "runSaga": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.runSaga),
/* harmony export */   "stdChannel": () => (/* reexport safe */ _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.stdChannel),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _redux_saga_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @redux-saga/core */ "./node_modules/@redux-saga/core/dist/redux-saga-core.esm.js");





/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_redux_saga_core__WEBPACK_IMPORTED_MODULE_0__.default);


/***/ }),

/***/ "./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js":
/*!**************************************************************************!*\
  !*** ./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "actionChannel": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.actionChannel),
/* harmony export */   "all": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.all),
/* harmony export */   "apply": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.apply),
/* harmony export */   "call": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.call),
/* harmony export */   "cancel": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.cancel),
/* harmony export */   "cancelled": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.cancelled),
/* harmony export */   "cps": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.cps),
/* harmony export */   "debounce": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.debounce),
/* harmony export */   "delay": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.delay),
/* harmony export */   "effectTypes": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.effectTypes),
/* harmony export */   "flush": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.flush),
/* harmony export */   "fork": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.fork),
/* harmony export */   "getContext": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.getContext),
/* harmony export */   "join": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.join),
/* harmony export */   "put": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.put),
/* harmony export */   "putResolve": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.putResolve),
/* harmony export */   "race": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.race),
/* harmony export */   "retry": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.retry),
/* harmony export */   "select": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.select),
/* harmony export */   "setContext": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.setContext),
/* harmony export */   "spawn": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.spawn),
/* harmony export */   "take": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.take),
/* harmony export */   "takeEvery": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.takeEvery),
/* harmony export */   "takeLatest": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.takeLatest),
/* harmony export */   "takeLeading": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.takeLeading),
/* harmony export */   "takeMaybe": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.takeMaybe),
/* harmony export */   "throttle": () => (/* reexport safe */ _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__.throttle)
/* harmony export */ });
/* harmony import */ var _redux_saga_core_effects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @redux-saga/core/effects */ "./node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js");



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL0NhcmQvQ2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL0NhcmRBY3Rpb25zL0NhcmRBY3Rpb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vQ2FyZENvbnRlbnQvQ2FyZENvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9DaGVja2JveC9DaGVja2JveC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL0RpYWxvZy9EaWFsb2cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9EaWFsb2dBY3Rpb25zL0RpYWxvZ0FjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9EaWFsb2dDb250ZW50L0RpYWxvZ0NvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9EaWFsb2dDb250ZW50VGV4dC9EaWFsb2dDb250ZW50VGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL0RpYWxvZ1RpdGxlL0RpYWxvZ1RpdGxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vRmFiL0ZhYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL0xpbmsvTGluay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL1RhYmxlL1RhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vVGFibGUvVGFibGVDb250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vVGFibGUvVGFibGVsdmwyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL1RhYmxlQm9keS9UYWJsZUJvZHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9UYWJsZUNlbGwvVGFibGVDZWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vVGFibGVIZWFkL1RhYmxlSGVhZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL1RhYmxlUGFnaW5hdGlvbi9UYWJsZVBhZ2luYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9UYWJsZVBhZ2luYXRpb24vVGFibGVQYWdpbmF0aW9uQWN0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvZXNtL1RhYmxlUm93L1RhYmxlUm93LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vVGFibGVTb3J0TGFiZWwvVGFibGVTb3J0TGFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9pbnRlcm5hbC9Td2l0Y2hCYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vaW50ZXJuYWwvc3ZnLWljb25zL0Fycm93RG93bndhcmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9pbnRlcm5hbC9zdmctaWNvbnMvQ2hlY2tCb3guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9pbnRlcm5hbC9zdmctaWNvbnMvQ2hlY2tCb3hPdXRsaW5lQmxhbmsuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9pbnRlcm5hbC9zdmctaWNvbnMvSW5kZXRlcm1pbmF0ZUNoZWNrQm94LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vaW50ZXJuYWwvc3ZnLWljb25zL0tleWJvYXJkQXJyb3dMZWZ0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vaW50ZXJuYWwvc3ZnLWljb25zL0tleWJvYXJkQXJyb3dSaWdodC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzL2NvbG9yTWFuaXB1bGF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9pY29ucy9BZGQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9pY29ucy9DaGVja0NpcmNsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2ljb25zL0NoZXZyb25MZWZ0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvaWNvbnMvQ2hldnJvblJpZ2h0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvaWNvbnMvQ2xvc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9pY29ucy9EZWxldGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9pY29ucy9FcnJvck91dGxpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9pY29ucy9HZXRBcHAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9pY29ucy9Ib3RUdWIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9pY29ucy9JbmJveC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2ljb25zL0xvY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9pY29ucy9Qb3dlclNldHRpbmdzTmV3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvdXRpbHMvZXNtL2Zvcm1hdE11aUVycm9yTWVzc2FnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL3V0aWxzL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL3V0aWxzL2VzbS9wb255ZmlsbEdsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHJlZHV4LXNhZ2EvY29yZS9kaXN0L2lvLTZkZTE1NmYzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcmVkdXgtc2FnYS9jb3JlL2Rpc3QvcmVkdXgtc2FnYS1jb3JlLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHJlZHV4LXNhZ2EvY29yZS9kaXN0L3JlZHV4LXNhZ2EtZWZmZWN0cy5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0ByZWR1eC1zYWdhL2RlZmVycmVkL2Rpc3QvcmVkdXgtc2FnYS1kZWZlcnJlZC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0ByZWR1eC1zYWdhL2RlbGF5LXAvZGlzdC9yZWR1eC1zYWdhLWRlbGF5LXAuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcmVkdXgtc2FnYS9pcy9kaXN0L3JlZHV4LXNhZ2EtaXMuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcmVkdXgtc2FnYS9zeW1ib2xzL2Rpc3QvcmVkdXgtc2FnYS1zeW1ib2xzLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbmV4cG9ydC9kaXN0L2NvcmUvZW9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uZXhwb3J0L2Rpc3QvY29yZS9lc2NhcGUtZGVsaW1pdGVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbmV4cG9ydC9kaXN0L2NvcmUvaGVscGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uZXhwb3J0L2Rpc3QvY29yZS9qb2luLXJvd3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb25leHBvcnQvZGlzdC9jb3JlL3N0cmVhbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbmV4cG9ydC9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uZXhwb3J0L2Rpc3QvcGFyc2VyL2Nzdi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbmV4cG9ydC9kaXN0L3BhcnNlci9oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc2lnbk1lcmdlVmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZURpZmZlcmVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUZvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlTWVyZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZU1lcmdlRGVlcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jbG9uZUFycmF5QnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nsb25lQnVmZmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nsb25lVHlwZWRBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19jb3B5T2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NyZWF0ZUFzc2lnbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NyZWF0ZUJhc2VGb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faW5pdENsb25lT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSXRlcmF0ZWVDYWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3NhZmVHZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2RpZmZlcmVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc1BsYWluT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b1BsYWluT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeS1zdHJpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2FjdGlvbnMvYXV0aEFjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2FjdGlvbnMvZGF0YUFjdGlvbnMvY3J1ZERlbGV0ZU1hbnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2F1dGgvV2l0aFBlcm1pc3Npb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9hdXRoL2NvbnZlcnRMZWdhY3lBdXRoUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2F1dGgvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2F1dGgvdXNlQXV0aFN0YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9hdXRoL3VzZUF1dGhlbnRpY2F0ZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2F1dGgvdXNlQ2hlY2tBdXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9hdXRoL3VzZUdldFBlcm1pc3Npb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9hdXRoL3VzZUxvZ2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9hdXRoL3VzZVBlcm1pc3Npb25zT3B0aW1pemVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9jb250cm9sbGVyL2NoZWNrTWluaW11bVJlcXVpcmVkUHJvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2NvbnRyb2xsZXIvdXNlRXhwYW5kZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2NvbnRyb2xsZXIvdXNlTGlzdENvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2NvbnRyb2xsZXIvdXNlTGlzdENvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2NvbnRyb2xsZXIvdXNlTGlzdFBhZ2luYXRpb25Db250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9jb250cm9sbGVyL3VzZUxpc3RQYXJhbXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2NvbnRyb2xsZXIvdXNlUmVjb3JkU2VsZWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9jb3JlL0NvcmVBZG1pbkNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2NvcmUvQ29yZUFkbWluUm91dGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9jb3JlL0NvcmVBZG1pblVJLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9jb3JlL1Jlc291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9jb3JlL1JvdXRlc1dpdGhMYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2NvcmUvY3JlYXRlQWRtaW5TdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtY29yZS9lc20vY29yZS91c2VSZXNvdXJjZURlZmluaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2NvcmUvdXNlU2Nyb2xsVG9Ub3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2RhdGFQcm92aWRlci9IdHRwRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2RhdGFQcm92aWRlci9jb252ZXJ0TGVnYWN5RGF0YVByb3ZpZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9kYXRhUHJvdmlkZXIvZmV0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2RhdGFQcm92aWRlci91c2VEYXRhUHJvdmlkZXJXaXRoRGVjbGFyYXRpdmVTaWRlRWZmZWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtY29yZS9lc20vZGF0YVByb3ZpZGVyL3VzZURlY2xhcmF0aXZlU2lkZUVmZmVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2RhdGFQcm92aWRlci91c2VEZWxldGVNYW55LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9kYXRhUHJvdmlkZXIvdXNlR2V0TWFpbkxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL2RhdGFQcm92aWRlci91c2VNdXRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtY29yZS9lc20vZXhwb3J0L2RlZmF1bHRFeHBvcnRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtY29yZS9lc20vZXhwb3J0L2Rvd25sb2FkQ1NWLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9leHBvcnQvZmV0Y2hSZWxhdGVkUmVjb3Jkcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtY29yZS9lc20vaTE4bi9UcmFuc2xhdGlvblByb3ZpZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9zaWRlRWZmZWN0L2FjY3VtdWxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL3NpZGVFZmZlY3QvYWRtaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL3NpZGVFZmZlY3QvYXV0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtY29yZS9lc20vc2lkZUVmZmVjdC9jYWxsYmFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtY29yZS9lc20vc2lkZUVmZmVjdC9mZXRjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtY29yZS9lc20vc2lkZUVmZmVjdC9ub3RpZmljYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL3NpZGVFZmZlY3QvcmVkaXJlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLWNvcmUvZXNtL3NpZGVFZmZlY3QvcmVmcmVzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtY29yZS9lc20vc2lkZUVmZmVjdC91bmRvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9zaWRlRWZmZWN0L3VzZVJlZGlyZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS9zaWRlRWZmZWN0L3VzZVVuc2VsZWN0QWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS91dGlsL1JlYWR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1jb3JlL2VzbS91dGlsL3Jlc29sdmVSZWRpcmVjdFRvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS1kYXRhLWpzb24tc2VydmVyL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtbGFuZ3VhZ2UtZW5nbGlzaC9lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2F1dGgvTG9naW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2F1dGgvTG9naW5Gb3JtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9hdXRoL0xvZ291dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtdWktbWF0ZXJpYWx1aS9lc20vYnV0dG9uL0J1bGtEZWxldGVCdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2J1dHRvbi9CdWxrRGVsZXRlV2l0aENvbmZpcm1CdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2J1dHRvbi9CdWxrRGVsZXRlV2l0aFVuZG9CdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2J1dHRvbi9DcmVhdGVCdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2J1dHRvbi9FeHBvcnRCdXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2ZpZWxkL0VtYWlsRmllbGQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2xheW91dC9Db25maXJtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9sYXlvdXQvTG9hZGluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtdWktbWF0ZXJpYWx1aS9lc20vbGF5b3V0L0xvYWRpbmdQYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9sYXlvdXQvTm90Rm91bmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2xheW91dC9Ub3BUb29sYmFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9saXN0L0J1bGtBY3Rpb25zVG9vbGJhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtdWktbWF0ZXJpYWx1aS9lc20vbGlzdC9FbXB0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtdWktbWF0ZXJpYWx1aS9lc20vbGlzdC9MaXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9saXN0L0xpc3RBY3Rpb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9saXN0L0xpc3RUb29sYmFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9saXN0L0xpc3RWaWV3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9saXN0L1BsYWNlaG9sZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9saXN0L2RhdGFncmlkL0RhdGFncmlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9saXN0L2RhdGFncmlkL0RhdGFncmlkQm9keS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtdWktbWF0ZXJpYWx1aS9lc20vbGlzdC9kYXRhZ3JpZC9EYXRhZ3JpZENlbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2xpc3QvZGF0YWdyaWQvRGF0YWdyaWRDb250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9saXN0L2RhdGFncmlkL0RhdGFncmlkQ29udGV4dFByb3ZpZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9saXN0L2RhdGFncmlkL0RhdGFncmlkSGVhZGVyQ2VsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtdWktbWF0ZXJpYWx1aS9lc20vbGlzdC9kYXRhZ3JpZC9EYXRhZ3JpZExvYWRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2xpc3QvZGF0YWdyaWQvRGF0YWdyaWRSb3cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2xpc3QvZGF0YWdyaWQvRXhwYW5kUm93QnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYS11aS1tYXRlcmlhbHVpL2VzbS9saXN0L2RhdGFncmlkL3VzZURhdGFncmlkQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtdWktbWF0ZXJpYWx1aS9lc20vbGlzdC9kYXRhZ3JpZC91c2VEYXRhZ3JpZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtdWktbWF0ZXJpYWx1aS9lc20vbGlzdC9wYWdpbmF0aW9uL1BhZ2luYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhLXVpLW1hdGVyaWFsdWkvZXNtL2xpc3QvcGFnaW5hdGlvbi9QYWdpbmF0aW9uQWN0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmEtdWktbWF0ZXJpYWx1aS9lc20vbGlzdC9wYWdpbmF0aW9uL1BhZ2luYXRpb25MaW1pdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRtaW4vZXNtL0FkbWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1hZG1pbi9lc20vQWRtaW5Db250ZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1hZG1pbi9lc20vQWRtaW5VSS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRtaW4vZXNtL2RlZmF1bHRJMThuUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZHV4LXNhZ2EvZGlzdC9yZWR1eC1zYWdhLWNvcmUtbnBtLXByb3h5LmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVkdXgtc2FnYS9kaXN0L3JlZHV4LXNhZ2EtZWZmZWN0cy1ucG0tcHJveHkuZXNtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDZ0M7QUFDM0Q7QUFDSTtBQUNYO0FBQ0s7QUFDaUI7QUFDdkM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZDQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkZBQXdCOztBQUV0QyxzQkFBc0IsZ0RBQW1CLENBQUMsMkNBQUssRUFBRSwyRUFBUTtBQUN6RCxlQUFlLDZDQUFJO0FBQ25CO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBZ0I7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQWdCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdEQUFjO0FBQ3hCLENBQUMsR0FBRyxDQUFNO0FBQ1YsaUVBQWUsMkRBQVU7QUFDekI7QUFDQSxDQUFDLE9BQU8sRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2RGtEO0FBQ2dDO0FBQzNEO0FBQ0k7QUFDWDtBQUNzQjtBQUN2QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILDREQUE0RCxNQUFNO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw2Q0FBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDJGQUF3Qjs7QUFFdEMsc0JBQXNCLGdEQUFtQixRQUFRLDJFQUFRO0FBQ3pELGVBQWUsNkNBQUk7QUFDbkI7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBZ0I7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQWdCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0RBQWM7QUFDaEMsQ0FBQyxHQUFHLENBQU07QUFDVixpRUFBZSwyREFBVTtBQUN6QjtBQUNBLENBQUMsY0FBYyxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzlEMkM7QUFDZ0M7QUFDM0Q7QUFDSTtBQUNYO0FBQ3NCO0FBQ3ZDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw2Q0FBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDJGQUF3Qjs7QUFFdEMsc0JBQXNCLGdEQUFtQixZQUFZLDJFQUFRO0FBQzdELGVBQWUsNkNBQUk7QUFDbkI7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBZ0I7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQWdCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0RBRUM7QUFDZCxDQUFDLEdBQUcsQ0FBTTtBQUNWLGlFQUFlLDJEQUFVO0FBQ3pCO0FBQ0EsQ0FBQyxjQUFjLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNEMkM7QUFDZ0M7QUFDM0Q7QUFDSTtBQUNYO0FBQ3FCO0FBQ0c7QUFDa0M7QUFDeEI7QUFDUjtBQUNrQztBQUN2QztBQUNDO0FBQ3ZDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLDZEQUE2RCxLQUFLO0FBQ2xFLGVBQWU7O0FBRWYsOERBQThELEtBQUs7QUFDbkUsZ0JBQWdCOztBQUVoQixtRUFBbUUsS0FBSztBQUN4RSxxQkFBcUI7O0FBRXJCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOERBQUk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOERBQUk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsZ0RBQW1CLENBQUMsaUVBQVk7QUFDdEUsK0JBQStCLGdEQUFtQixDQUFDLDZFQUF3QjtBQUMzRSw0Q0FBNEMsZ0RBQW1CLENBQUMsOEVBQXlCO0FBQ3pGLDRCQUE0Qiw2Q0FBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkZBQXdCOztBQUV0QztBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLHlEQUFVLEVBQUUsMkVBQVE7QUFDOUQ7QUFDQTtBQUNBLFlBQVksNkNBQUksc0NBQXNDLDJEQUFVO0FBQ2hFO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsMkVBQVE7QUFDeEI7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLCtDQUFrQjtBQUN6QztBQUNBLEtBQUs7QUFDTCw4QkFBOEIsK0NBQWtCO0FBQ2hEO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCxLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdEQUFjOztBQUV6QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdEQUFjOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMERBQWdCOztBQUUzQjtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFlOztBQUV4QjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFjOztBQUUxQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQWM7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQWM7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBLE1BQU0sMERBQWdCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsd0RBQWM7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix3REFBYzs7QUFFbkM7QUFDQTtBQUNBO0FBQ0EsY0FBYywwREFBZ0I7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQU87O0FBRW5CO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0EsWUFBWSx3REFBYzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBYzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFlOztBQUV2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdURBQWE7QUFDdEIsQ0FBQyxHQUFHLENBQU07QUFDVixpRUFBZSw0REFBVTtBQUN6QjtBQUNBLENBQUMsV0FBVyxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzTThDO0FBQ2dDO0FBQ2xCO0FBQ3pDO0FBQ0k7QUFDWDtBQUNzQjtBQUNEO0FBQ2hCO0FBQ007QUFDUjtBQUNzQjtBQUNwQjtBQUN0QjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrRkFBZSxHQUFHO0FBQzdDO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtGQUFlLEdBQUc7QUFDN0M7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0ZBQWUsR0FBRztBQUM3QztBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrRkFBZSxHQUFHO0FBQzdDO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtGQUFlLEdBQUc7QUFDN0M7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTCw4REFBOEQsS0FBSztBQUNuRTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCwrREFBK0QsS0FBSztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdFQUF1QjtBQUNoQyxRQUFRLHVFQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIsNkNBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELDJDQUFLO0FBQy9EO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCwwQ0FBSTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyRkFBd0I7O0FBRXRDLHdCQUF3Qix5Q0FBWTs7QUFFcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixnREFBbUIsQ0FBQywyQ0FBSyxFQUFFLDJFQUFRO0FBQ3pELGVBQWUsNkNBQUk7QUFDbkIsdUJBQXVCLCtDQUFRO0FBQy9CLG1CQUFtQiwyRUFBUTtBQUMzQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsdUJBQXVCLGdEQUFtQixzQkFBc0IsMkVBQVE7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGlDQUFpQyxnREFBbUI7QUFDdkQsZUFBZSw2Q0FBSSw0Q0FBNEMsMkRBQVU7QUFDekU7QUFDQTtBQUNBLEdBQUcsZUFBZSxnREFBbUIsaUJBQWlCLDJFQUFRO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGVBQWUsNkNBQUksNkNBQTZDLDJEQUFVLHdDQUF3QywyREFBVTtBQUM1SCxHQUFHO0FBQ0gsQ0FBQztBQUNELEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwREFBZ0I7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwREFBZ0I7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwwREFBZ0I7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBZ0I7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQWdCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0RBQWM7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3REFBYzs7QUFFdEM7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3REFBYzs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsd0RBQWM7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFlOztBQUUzQjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0RBQWM7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQSxXQUFXLHdEQUFjOztBQUV6QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdEQUFjOztBQUV6QjtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdEQUFjOztBQUUzQjtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdEQUFjOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix3REFBYzs7QUFFakM7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3REFBYzs7QUFFeEI7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBYzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3REFBYzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtRUFBeUI7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrREFBcUI7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMERBQWdCOztBQUU5QjtBQUNBO0FBQ0E7QUFDQSxVQUFVLHVEQUFlOztBQUV6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwrREFBcUI7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJEQUFtQixFQUFFLDBEQUFnQixFQUFFLHVEQUFlO0FBQzVFLFlBQVksMERBQWdCO0FBQzVCLFdBQVcsMERBQWdCO0FBQzNCLFVBQVUsMERBQWdCO0FBQzFCLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDBEQUFnQjtBQUNuQyxDQUFDLEdBQUcsQ0FBTTtBQUNWLGlFQUFlLDREQUFVO0FBQ3pCO0FBQ0EsQ0FBQyxTQUFTLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbGFnRDtBQUNnQztBQUMzRDtBQUNJO0FBQ1g7QUFDc0I7QUFDdkM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsNERBQTRELE1BQU07QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDZDQUFnQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkZBQXdCOztBQUV0QyxzQkFBc0IsZ0RBQW1CLFFBQVEsMkVBQVE7QUFDekQsZUFBZSw2Q0FBSTtBQUNuQjtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsS0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBYzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBEQUFnQjs7QUFFM0I7QUFDQTtBQUNBO0FBQ0EsYUFBYSwwREFBZ0I7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3REFBYztBQUNoQyxDQUFDLEdBQUcsQ0FBTTtBQUNWLGlFQUFlLDJEQUFVO0FBQ3pCO0FBQ0EsQ0FBQyxnQkFBZ0IsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoRXlDO0FBQ2dDO0FBQzNEO0FBQ0k7QUFDWDtBQUNzQjtBQUN2QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsd0RBQXdELEtBQUs7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsNkNBQWdCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyRkFBd0I7O0FBRXRDLHNCQUFzQixnREFBbUIsUUFBUSwyRUFBUTtBQUN6RCxlQUFlLDZDQUFJO0FBQ25CO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCxLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFjOztBQUUxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMERBQWdCOztBQUUzQjtBQUNBO0FBQ0E7QUFDQSxhQUFhLDBEQUFnQjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBYztBQUMxQixDQUFDLEdBQUcsQ0FBTTtBQUNWLGlFQUFlLDJEQUFVO0FBQ3pCO0FBQ0EsQ0FBQyxnQkFBZ0IsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3RFeUM7QUFDM0I7QUFDSTtBQUNXO0FBQ1A7QUFDaEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDZDQUFnQjtBQUNyRCxzQkFBc0IsZ0RBQW1CLENBQUMsZ0RBQVUsRUFBRSwyRUFBUTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsS0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBYzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBEQUFnQjtBQUMzQixDQUFDLEdBQUcsQ0FBTTtBQUNWLGlFQUFlLDJEQUFVO0FBQ3pCO0FBQ0EsQ0FBQyxvQkFBb0IsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdENxQztBQUNnQztBQUMzRDtBQUNJO0FBQ1g7QUFDc0I7QUFDUDtBQUNoQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDZDQUFnQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyRkFBd0I7O0FBRXRDLHNCQUFzQixnREFBbUIsUUFBUSwyRUFBUTtBQUN6RCxlQUFlLDZDQUFJO0FBQ25CO0FBQ0EsR0FBRyxzREFBc0QsZ0RBQW1CLENBQUMsZ0RBQVU7QUFDdkY7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsS0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBYzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBEQUFnQjs7QUFFM0I7QUFDQTtBQUNBO0FBQ0EsYUFBYSwwREFBZ0I7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHdEQUFjO0FBQ25DLENBQUMsR0FBRyxDQUFNO0FBQ1YsaUVBQWUsMkRBQVU7QUFDekI7QUFDQSxDQUFDLGNBQWMsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdEMkU7QUFDaEM7QUFDM0I7QUFDSTtBQUNYO0FBQ3NCO0FBQ1A7QUFDTTtBQUN0QztBQUNQO0FBQ0E7QUFDQSxVQUFVLDJFQUFRLEdBQUc7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0Esb0JBQW9COztBQUVwQiw4REFBOEQsS0FBSztBQUNuRSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZDQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkZBQXdCOztBQUV0QyxzQkFBc0IsZ0RBQW1CLENBQUMsZ0RBQVUsRUFBRSwyRUFBUTtBQUM5RCxlQUFlLDZDQUFJLDZHQUE2RywwREFBVTtBQUMxSTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDZDQUFJO0FBQy9CO0FBQ0EsR0FBRyx1QkFBdUIsZ0RBQW1CO0FBQzdDO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCxLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1FQUVNOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMERBQWdCOztBQUUzQjtBQUNBO0FBQ0E7QUFDQSxhQUFhLDBEQUFnQjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1REFBZTs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtEQUVDOztBQUVkO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3REFBYzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdEQUFjOztBQUUvQjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMERBQWdCOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQWdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQWU7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdURBQWU7QUFDMUIsQ0FBQyxHQUFHLENBQU07QUFDVixpRUFBZSwyREFBVTtBQUN6QjtBQUNBLENBQUMsTUFBTSxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbFBtRDtBQUNnQztBQUMzRDtBQUNJO0FBQ1g7QUFDcUI7QUFDQztBQUNlO0FBQ0Y7QUFDZDtBQUNOO0FBQ2hDO0FBQ1A7QUFDQSxVQUFVOztBQUVWO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkNBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyRkFBd0I7O0FBRXRDLDJCQUEyQixpRUFBaUI7QUFDNUM7QUFDQTtBQUNBOztBQUVBLHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBOztBQUVBLG1CQUFtQiwwREFBVTs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsZ0RBQW1CLENBQUMsZ0RBQVUsRUFBRSwyRUFBUTtBQUM5RCxlQUFlLDZDQUFJLDBDQUEwQywwREFBVTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsS0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtRUFBeUI7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxRUFBMkI7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQWdCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFlOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdURBQXVCOztBQUVwQztBQUNBO0FBQ0E7QUFDQSxVQUFVLHdEQUFjOztBQUV4QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdEQUFjOztBQUV6QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMERBQWdCOztBQUVyQztBQUNBO0FBQ0E7QUFDQSxhQUFhLHVEQUFlOztBQUU1QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBEQUFnQjtBQUMzQixDQUFDLEdBQUcsQ0FBTTtBQUNWLGlFQUFlLDREQUFVO0FBQ3pCO0FBQ0EsQ0FBQyxPQUFPLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JMa0Y7QUFDaEM7QUFDM0I7QUFDSTtBQUNYO0FBQ3NCO0FBQ0o7QUFDbkM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwyRUFBUSxHQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUwsNERBQTRELEtBQUs7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZDQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkZBQXdCOztBQUV0QyxjQUFjLDBDQUFhO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLGdEQUFtQixDQUFDLDJEQUFxQjtBQUMvRDtBQUNBLEdBQUcsZUFBZSxnREFBbUIsWUFBWSwyRUFBUTtBQUN6RDtBQUNBO0FBQ0EsZUFBZSw2Q0FBSTtBQUNuQixHQUFHO0FBQ0gsQ0FBQztBQUNELEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUVBQXlCOztBQUVyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscUVBQTJCOztBQUV0QztBQUNBO0FBQ0E7QUFDQSxhQUFhLDBEQUFnQjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtEQUVDOztBQUVkO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdURBQWU7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQWU7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0RBQWM7QUFDOUIsQ0FBQyxHQUFHLENBQU07QUFDVixpRUFBZSwyREFBVTtBQUN6QjtBQUNBLENBQUMsUUFBUSxFOzs7Ozs7Ozs7Ozs7Ozs7O0FDdEdzQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGdEQUFtQjs7QUFFdEMsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLGlFQUFlLFlBQVksRTs7Ozs7Ozs7Ozs7Ozs7OztBQ1hJO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsZ0RBQW1COztBQUUxQyxJQUFJLElBQXFDO0FBQ3pDO0FBQ0E7O0FBRUEsaUVBQWUsZ0JBQWdCLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1gyQjtBQUNnQztBQUMzRDtBQUNJO0FBQ1g7QUFDc0I7QUFDVztBQUNsRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2Q0FBZ0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDJGQUF3Qjs7QUFFdEMsc0JBQXNCLGdEQUFtQixDQUFDLHFFQUF5QjtBQUNuRTtBQUNBLEdBQUcsZUFBZSxnREFBbUIsWUFBWSwyRUFBUTtBQUN6RCxlQUFlLDZDQUFJO0FBQ25CO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxRUFBMkI7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQWdCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0RBRUM7QUFDZCxDQUFDLEdBQUcsQ0FBTTtBQUNWLGlFQUFlLDJEQUFVO0FBQ3pCO0FBQ0EsQ0FBQyxZQUFZLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNENkU7QUFDaEM7QUFDM0I7QUFDSTtBQUNYO0FBQ3NCO0FBQ0Q7QUFDc0I7QUFDbEI7QUFDUTtBQUNsRDtBQUNQO0FBQ0E7QUFDQSxVQUFVLDJFQUFRLEdBQUc7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsaUVBQU8sQ0FBQyw4REFBSSxvQ0FBb0MsZ0VBQU0sQ0FBQyw4REFBSTtBQUN6STtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsMEVBQTBFLEtBQUs7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLDZDQUFnQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkZBQXdCOztBQUV0QyxjQUFjLDZDQUFnQixDQUFDLHdEQUFZO0FBQzNDLGtCQUFrQiw2Q0FBZ0IsQ0FBQyw0REFBZ0I7QUFDbkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLGdEQUFtQixZQUFZLDJFQUFRO0FBQzdEO0FBQ0EsZUFBZSw2Q0FBSSwwRkFBMEYsMERBQVUsNkRBQTZELDBEQUFVLHdEQUF3RCwwREFBVTtBQUNoUTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdURBQWU7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBZ0I7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQWdCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0RBRUM7O0FBRWQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVEQUFlOztBQUUxQjtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBEQUFnQjs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFlOztBQUV2QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsdURBQWU7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1REFBZTtBQUMxQixDQUFDLEdBQUcsQ0FBTTtBQUNWLGlFQUFlLDJEQUFVO0FBQ3pCO0FBQ0EsQ0FBQyxZQUFZLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzFPNkM7QUFDZ0M7QUFDM0Q7QUFDSTtBQUNYO0FBQ3NCO0FBQ1c7QUFDbEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNkNBQWdCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyRkFBd0I7O0FBRXRDLHNCQUFzQixnREFBbUIsQ0FBQyxxRUFBeUI7QUFDbkU7QUFDQSxHQUFHLGVBQWUsZ0RBQW1CLFlBQVksMkVBQVE7QUFDekQsZUFBZSw2Q0FBSTtBQUNuQjtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCxLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFjOztBQUUxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscUVBQTJCOztBQUV0QztBQUNBO0FBQ0E7QUFDQSxhQUFhLDBEQUFnQjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtEQUVDO0FBQ2QsQ0FBQyxHQUFHLENBQU07QUFDVixpRUFBZSwyREFBVTtBQUN6QjtBQUNBLENBQUMsWUFBWSxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNENkM7QUFDZ0M7QUFDM0Q7QUFDSTtBQUNpQjtBQUM1QjtBQUNzQjtBQUNUO0FBQ0Y7QUFDSjtBQUNNO0FBQ0o7QUFDTTtBQUN1QjtBQUNsQjtBQUNyQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxrQkFBa0I7O0FBRWxCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsZ0JBQWdCOztBQUVoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DLDZDQUFnQjtBQUNuRDtBQUNBLDREQUE0RCw0REFBc0I7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsK0NBQVM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3RELGNBQWMsMkZBQXdCOztBQUV0Qzs7QUFFQSxvQkFBb0IsK0NBQVM7QUFDN0Isa0NBQWtDO0FBQ2xDOztBQUVBLGlCQUFpQiw4REFBSztBQUN0QixnQkFBZ0IsOERBQUs7QUFDckIsMERBQTBELDhDQUFRO0FBQ2xFLHNCQUFzQixnREFBbUIsWUFBWSwyRUFBUTtBQUM3RCxlQUFlLDZDQUFJO0FBQ25CO0FBQ0E7QUFDQSxHQUFHLHVCQUF1QixnREFBbUIsQ0FBQyw2Q0FBTztBQUNyRDtBQUNBLEdBQUcsZUFBZSxnREFBbUI7QUFDckM7QUFDQSxHQUFHLGlEQUFpRCxnREFBbUIsQ0FBQyxpREFBVTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsbUVBQW1FLGdEQUFtQixDQUFDLDZDQUFNLEVBQUUsMkVBQVE7QUFDMUc7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHdCQUF3QixnREFBbUIsQ0FBQyxnREFBUztBQUNyRCxpQkFBaUIsNkNBQUk7QUFDckIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHdCQUF3QixnREFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUcsaUJBQWlCLGdEQUFtQixDQUFDLGlEQUFVO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsaUJBQWlCLGdEQUFtQjtBQUN2QztBQUNBLHlCQUF5QiwyRUFBUTtBQUNqQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EseUJBQXlCLDJFQUFRO0FBQ2pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCxLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrREFBcUI7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBZ0I7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMERBQWdCOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscUVBQTJCOztBQUV0QztBQUNBO0FBQ0E7QUFDQSxhQUFhLDBEQUFnQjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0EsV0FBVywwREFBZ0I7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwrREFFQzs7QUFFZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxRUFBMkI7O0FBRXBDO0FBQ0EsMERBQTBELHdCQUF3QjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3REFBYzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3REFBYzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBEQUFnQjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwREFBZ0I7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQSxnQkFBZ0IsbUVBQXlCOztBQUV6QztBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQSx1QkFBdUIsd0RBQWM7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQWMsQ0FBQyxxRUFBMkI7QUFDbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUVBQTJCOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix5REFBZTs7QUFFckM7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwREFBZ0I7QUFDL0IsQ0FBQyxHQUFHLENBQU07QUFDVixpRUFBZSw0REFBVTtBQUN6QjtBQUNBLENBQUMsa0JBQWtCLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9UdUM7QUFDZ0M7QUFDM0Q7QUFDSTtBQUNxQztBQUNFO0FBQ2hDO0FBQ0g7QUFDdkM7QUFDQTtBQUNBOztBQUVBLHdCQUF3QixnREFBbUIsQ0FBQywyRUFBa0I7O0FBRTlELHlCQUF5QixnREFBbUIsQ0FBQywwRUFBaUI7O0FBRTlELHlCQUF5QixnREFBbUIsQ0FBQywwRUFBaUI7O0FBRTlELHlCQUF5QixnREFBbUIsQ0FBQywyRUFBa0I7O0FBRS9ELDBDQUEwQyw2Q0FBZ0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyRkFBd0I7O0FBRXRDLGNBQWMseURBQVE7O0FBRXRCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLGdEQUFtQixRQUFRLDJFQUFRO0FBQ3pEO0FBQ0EsR0FBRyx1QkFBdUIsZ0RBQW1CLENBQUMsZ0RBQVUsRUFBRSwyRUFBUTtBQUNsRTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdGQUFnRixnREFBbUIsQ0FBQyxnREFBVSxFQUFFLDJFQUFRO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsS0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBEQUFnQjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxRUFBMkI7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBZ0I7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQSxnQkFBZ0IsbUVBQXlCOztBQUV6QztBQUNBO0FBQ0E7QUFDQSxRQUFRLHFFQUEyQjs7QUFFbkM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxRUFBMkI7QUFDMUMsQ0FBQyxHQUFHLENBQU07QUFDVixpRUFBZSxzQkFBc0IsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JGcUI7QUFDZ0M7QUFDM0Q7QUFDSTtBQUNYO0FBQ3NCO0FBQ1c7QUFDUDtBQUMzQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLDhEQUFJO0FBQzdCO0FBQ0EsS0FBSzs7QUFFTCw4REFBOEQsS0FBSztBQUNuRSxnQkFBZ0I7O0FBRWhCLDJEQUEyRCxLQUFLO0FBQ2hFLGFBQWE7O0FBRWI7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEIsNkNBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDJGQUF3Qjs7QUFFdEMsa0JBQWtCLDZDQUFnQixDQUFDLDREQUFnQjtBQUNuRCxzQkFBc0IsZ0RBQW1CLFlBQVksMkVBQVE7QUFDN0Q7QUFDQSxlQUFlLDZDQUFJO0FBQ25CO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxRUFBMkI7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQWdCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0RBRUM7O0FBRWQ7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3REFBYzs7QUFFdkI7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBYztBQUMxQixDQUFDLEdBQUcsQ0FBTTtBQUNWLGlFQUFlLDJEQUFVO0FBQ3pCO0FBQ0EsQ0FBQyxXQUFXLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEc4QztBQUNnQztBQUMzRDtBQUNJO0FBQ1g7QUFDNEM7QUFDdEI7QUFDUDtBQUNNO0FBQ3RDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCw0REFBNEQsS0FBSztBQUNqRSxjQUFjOztBQUVkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtDQUFrQyw2Q0FBZ0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Qsc0VBQWlCO0FBQ3pFLGNBQWMsMkZBQXdCOztBQUV0QyxzQkFBc0IsZ0RBQW1CLENBQUMsZ0RBQVUsRUFBRSwyRUFBUTtBQUM5RCxlQUFlLDZDQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLEdBQUcsa0VBQWtFLGdEQUFtQjtBQUN4RixlQUFlLDZDQUFJLDhDQUE4QywwREFBVTtBQUMzRSxHQUFHO0FBQ0gsQ0FBQztBQUNELEtBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0RBQWM7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWM7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxRUFBMkI7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQWdCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVEQUFlOztBQUU1QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0RBQWM7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwrREFBcUI7QUFDdEMsQ0FBQyxHQUFHLENBQU07QUFDVixpRUFBZSwyREFBVTtBQUN6QjtBQUNBLENBQUMsaUJBQWlCLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqSXdDO0FBQ1k7QUFDb0I7QUFDM0Q7QUFDSTtBQUNYO0FBQ3FCO0FBQ007QUFDUTtBQUNiO0FBQ1A7QUFDaEM7QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNILGFBQWE7QUFDYixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLDZDQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyRkFBd0I7O0FBRXRDLHVCQUF1Qiw2REFBYTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx3QkFBd0IsaUZBQWM7QUFDdEM7QUFDQTs7QUFFQSx1QkFBdUIsb0VBQWM7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsZ0RBQW1CLENBQUMsZ0RBQVUsRUFBRSwyRUFBUTtBQUM5RDtBQUNBLGVBQWUsNkNBQUk7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyx1QkFBdUIsZ0RBQW1CLFVBQVUsMkVBQVE7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDLEVBQUU7QUFDSDs7QUFFQSxLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxhQUFhLHdEQUFjOztBQUUzQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdEQUFjOztBQUV6QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1FQUF5Qjs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHFFQUEyQjs7QUFFdEM7QUFDQTtBQUNBO0FBQ0EsYUFBYSwwREFBZ0I7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3REFBYzs7QUFFaEM7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBYzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtRUFBeUI7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBLE1BQU0sMERBQWdCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBEQUFnQjs7QUFFOUI7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1REFBTzs7QUFFbkI7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwREFBZ0I7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0RBQWM7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0EsWUFBWSx3REFBYzs7QUFFMUI7QUFDQTtBQUNBO0FBQ0EsV0FBVyx3REFBYzs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFjOztBQUUxQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFjOztBQUUxQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJEQUFtQixFQUFFLDBEQUFnQixFQUFFLDBEQUFnQjs7QUFFbkU7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxRUFBMkI7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdURBQWE7QUFDdEIsQ0FBQyxHQUFHLENBQU07QUFDVixpRUFBZSw0REFBVTtBQUN6QjtBQUNBLENBQUMsYUFBYSxFOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3BQaUI7QUFDdUI7QUFDdEQ7QUFDQTtBQUNBOztBQUVBLGlFQUFlLDZEQUFhLGVBQWUsZ0RBQW1CO0FBQzlEO0FBQ0EsQ0FBQyxtQkFBbUIsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNSVztBQUN1QjtBQUN0RDtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsNkRBQWEsZUFBZSxnREFBbUI7QUFDOUQ7QUFDQSxDQUFDLGNBQWMsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNSZ0I7QUFDdUI7QUFDdEQ7QUFDQTtBQUNBOztBQUVBLGlFQUFlLDZEQUFhLGVBQWUsZ0RBQW1CO0FBQzlEO0FBQ0EsQ0FBQywwQkFBMEIsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNSSTtBQUN1QjtBQUN0RDtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsNkRBQWEsZUFBZSxnREFBbUI7QUFDOUQ7QUFDQSxDQUFDLDJCQUEyQixFOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1JHO0FBQ3VCO0FBQ3REO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSw2REFBYSxlQUFlLGdEQUFtQjtBQUM5RDtBQUNBLENBQUMsdUJBQXVCLEU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUk87QUFDdUI7QUFDdEQ7QUFDQTtBQUNBOztBQUVBLGlFQUFlLDZEQUFhLGVBQWUsZ0RBQW1CO0FBQzlEO0FBQ0EsQ0FBQyx3QkFBd0IsRTs7Ozs7Ozs7Ozs7QUNSWjs7QUFFYiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLGdCQUFnQjtBQUNoQixzQkFBc0I7QUFDdEIsc0JBQXNCO0FBQ3RCLHdCQUF3QjtBQUN4QixvQkFBb0I7QUFDcEIsaUJBQWlCO0FBQ2pCLFlBQVk7QUFDWixjQUFjO0FBQ2QsZUFBZTs7QUFFZixhQUFhLG1CQUFPLENBQUMsMEVBQW9COztBQUV6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxJQUFxQztBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjs7O0FBR0E7QUFDQTtBQUNBLHlCQUF5Qix3Q0FBd0M7QUFDakU7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTyx3QkFBd0I7QUFDNUM7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsS0FBcUMsNElBQTRJLENBQTJDO0FBQ2hQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE1BQU07QUFDakIsYUFBYSxPQUFPO0FBQ3BCOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlOztBQUVmO0FBQ0EsR0FBRyxFQUFFOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEM7Ozs7Ozs7Ozs7O0FDalRhOztBQUViLDZCQUE2QixtQkFBTyxDQUFDLG9IQUE4Qzs7QUFFbkYsOEJBQThCLG1CQUFPLENBQUMsc0hBQStDOztBQUVyRiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixlQUFlOztBQUVmLG9DQUFvQyxtQkFBTyxDQUFDLDRDQUFPOztBQUVuRCw0Q0FBNEMsbUJBQU8sQ0FBQyx1RkFBdUI7O0FBRTNFO0FBQ0E7QUFDQSxDQUFDOztBQUVELGVBQWUsWTs7Ozs7Ozs7Ozs7QUNuQkY7O0FBRWIsNkJBQTZCLG1CQUFPLENBQUMsb0hBQThDOztBQUVuRiw4QkFBOEIsbUJBQU8sQ0FBQyxzSEFBK0M7O0FBRXJGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGVBQWU7O0FBRWYsb0NBQW9DLG1CQUFPLENBQUMsNENBQU87O0FBRW5ELDRDQUE0QyxtQkFBTyxDQUFDLHVGQUF1Qjs7QUFFM0U7QUFDQTtBQUNBLENBQUM7O0FBRUQsZUFBZSxZOzs7Ozs7Ozs7OztBQ25CRjs7QUFFYiw2QkFBNkIsbUJBQU8sQ0FBQyxvSEFBOEM7O0FBRW5GLDhCQUE4QixtQkFBTyxDQUFDLHNIQUErQzs7QUFFckYsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsZUFBZTs7QUFFZixvQ0FBb0MsbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFbkQsNENBQTRDLG1CQUFPLENBQUMsdUZBQXVCOztBQUUzRTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxlQUFlLFk7Ozs7Ozs7Ozs7O0FDbkJGOztBQUViLDZCQUE2QixtQkFBTyxDQUFDLG9IQUE4Qzs7QUFFbkYsOEJBQThCLG1CQUFPLENBQUMsc0hBQStDOztBQUVyRiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixlQUFlOztBQUVmLG9DQUFvQyxtQkFBTyxDQUFDLDRDQUFPOztBQUVuRCw0Q0FBNEMsbUJBQU8sQ0FBQyx1RkFBdUI7O0FBRTNFO0FBQ0E7QUFDQSxDQUFDOztBQUVELGVBQWUsWTs7Ozs7Ozs7Ozs7QUNuQkY7O0FBRWIsNkJBQTZCLG1CQUFPLENBQUMsb0hBQThDOztBQUVuRiw4QkFBOEIsbUJBQU8sQ0FBQyxzSEFBK0M7O0FBRXJGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGVBQWU7O0FBRWYsb0NBQW9DLG1CQUFPLENBQUMsNENBQU87O0FBRW5ELDRDQUE0QyxtQkFBTyxDQUFDLHVGQUF1Qjs7QUFFM0U7QUFDQTtBQUNBLENBQUM7O0FBRUQsZUFBZSxZOzs7Ozs7Ozs7OztBQ25CRjs7QUFFYiw2QkFBNkIsbUJBQU8sQ0FBQyxvSEFBOEM7O0FBRW5GLDhCQUE4QixtQkFBTyxDQUFDLHNIQUErQzs7QUFFckYsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsZUFBZTs7QUFFZixvQ0FBb0MsbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFbkQsNENBQTRDLG1CQUFPLENBQUMsdUZBQXVCOztBQUUzRTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxlQUFlLFk7Ozs7Ozs7Ozs7O0FDbkJGOztBQUViLDZCQUE2QixtQkFBTyxDQUFDLG9IQUE4Qzs7QUFFbkYsOEJBQThCLG1CQUFPLENBQUMsc0hBQStDOztBQUVyRiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixlQUFlOztBQUVmLG9DQUFvQyxtQkFBTyxDQUFDLDRDQUFPOztBQUVuRCw0Q0FBNEMsbUJBQU8sQ0FBQyx1RkFBdUI7O0FBRTNFO0FBQ0E7QUFDQSxDQUFDOztBQUVELGVBQWUsWTs7Ozs7Ozs7Ozs7QUNuQkY7O0FBRWIsNkJBQTZCLG1CQUFPLENBQUMsb0hBQThDOztBQUVuRiw4QkFBOEIsbUJBQU8sQ0FBQyxzSEFBK0M7O0FBRXJGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGVBQWU7O0FBRWYsb0NBQW9DLG1CQUFPLENBQUMsNENBQU87O0FBRW5ELDRDQUE0QyxtQkFBTyxDQUFDLHVGQUF1Qjs7QUFFM0U7QUFDQTtBQUNBLENBQUM7O0FBRUQsZUFBZSxZOzs7Ozs7Ozs7OztBQ25CRjs7QUFFYiw2QkFBNkIsbUJBQU8sQ0FBQyxvSEFBOEM7O0FBRW5GLDhCQUE4QixtQkFBTyxDQUFDLHNIQUErQzs7QUFFckYsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsZUFBZTs7QUFFZixvQ0FBb0MsbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFbkQsNENBQTRDLG1CQUFPLENBQUMsdUZBQXVCOztBQUUzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7O0FBRUQsZUFBZSxZOzs7Ozs7Ozs7OztBQ3ZCRjs7QUFFYiw2QkFBNkIsbUJBQU8sQ0FBQyxvSEFBOEM7O0FBRW5GLDhCQUE4QixtQkFBTyxDQUFDLHNIQUErQzs7QUFFckYsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsZUFBZTs7QUFFZixvQ0FBb0MsbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFbkQsNENBQTRDLG1CQUFPLENBQUMsdUZBQXVCOztBQUUzRTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxlQUFlLFk7Ozs7Ozs7Ozs7O0FDbkJGOztBQUViLDZCQUE2QixtQkFBTyxDQUFDLG9IQUE4Qzs7QUFFbkYsOEJBQThCLG1CQUFPLENBQUMsc0hBQStDOztBQUVyRiw4Q0FBNkM7QUFDN0M7QUFDQSxDQUFDLEVBQUM7QUFDRixlQUFlOztBQUVmLG9DQUFvQyxtQkFBTyxDQUFDLDRDQUFPOztBQUVuRCw0Q0FBNEMsbUJBQU8sQ0FBQyx1RkFBdUI7O0FBRTNFO0FBQ0E7QUFDQSxDQUFDOztBQUVELGVBQWUsWTs7Ozs7Ozs7Ozs7QUNuQkY7O0FBRWIsNkJBQTZCLG1CQUFPLENBQUMsb0hBQThDOztBQUVuRiw4QkFBOEIsbUJBQU8sQ0FBQyxzSEFBK0M7O0FBRXJGLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGVBQWU7O0FBRWYsb0NBQW9DLG1CQUFPLENBQUMsNENBQU87O0FBRW5ELDRDQUE0QyxtQkFBTyxDQUFDLHVGQUF1Qjs7QUFFM0U7QUFDQTtBQUNBLENBQUM7O0FBRUQsZUFBZSxZOzs7Ozs7Ozs7Ozs7Ozs7QUNuQmY7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1EQUFtRDtBQUNuRDtBQUNBLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM2RDtBQUNWO0FBQ29CO0FBQ1E7QUFDNUI7QUFDd0I7QUFDZDtBQUNFO0FBQ0Y7Ozs7Ozs7Ozs7Ozs7Ozs7QUNiN0Q7QUFDQTtBQUNBLGlFQUFlLGlKQUFpSixFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0ZoRDtBQUN0RDtBQUN1RTtBQUN4Rjs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxJQUFJLEtBQXFDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDJFQUFROztBQUVWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNmxCQUE2bEI7O0FBRTdsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFxQztBQUM3QztBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBLGtEQUFrRCw0REFBVztBQUM3RDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMERBQVM7QUFDMUI7QUFDQTtBQUNBLGlCQUFpQiw0REFBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLElBQXFDO0FBQzNDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixxREFBSztBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhEQUFhO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLE9BQU8sbURBQUU7QUFDM0I7O0FBRUE7QUFDQSxTQUFTLHNEQUFNO0FBQ2Y7O0FBRUE7QUFDQSxNQUFNLElBQXFDO0FBQzNDO0FBQ0E7O0FBRUEsMEJBQTBCLDJFQUFRLEdBQUc7QUFDckM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLEtBQXFDO0FBQzNDLHdCQUF3QixvREFBUTtBQUNoQzs7QUFFQSxNQUFNLHVEQUFPO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxNQUFNLHlEQUFTLHNCQUFzQix3REFBUSxzQkFBc0IsdURBQU87QUFDMUU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLE1BQU0sdURBQU87QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLE1BQU0sSUFBcUM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQztBQUNBLHVCQUF1QixvREFBUTtBQUMvQix1QkFBdUIsbURBQU87QUFDOUIsb0JBQW9CLG9EQUFRO0FBQzVCLEtBQUs7QUFDTCx1QkFBdUIsb0RBQVE7QUFDL0I7QUFDQTs7QUFFQSxNQUFNLHFEQUFLO0FBQ1gsdUJBQXVCOztBQUV2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0Esc0JBQXNCLG9EQUFROztBQUU5QixNQUFNLG9EQUFJO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBLE1BQU0scURBQUs7QUFDWDtBQUNBO0FBQ0EsY0FBYyxvREFBUTtBQUN0QixHQUFHLFVBQVUsc0RBQU07QUFDbkI7QUFDQTtBQUNBLGNBQWMsb0RBQVEsb0NBQW9DLFlBQVk7QUFDdEUsR0FBRztBQUNILHdCQUF3QixnREFBSTtBQUM1QjtBQUNBOztBQUVBLGlCQUFpQixzREFBTTtBQUN2Qix1QkFBdUIsZ0RBQUk7QUFDM0I7QUFDQTs7QUFFQSxZQUFZLGdEQUFJLCtEQUErRCxZQUFZO0FBQzNGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLG9EQUFJO0FBQ1Y7QUFDQSxHQUFHO0FBQ0gsUUFBUSxxREFBSztBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixzREFBTSxRQUFRLG9EQUFJO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0ZBQXdGLGFBQWE7QUFDckc7QUFDQTs7QUFFQSxNQUFNLElBQXFDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxNQUFNLElBQXFDO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQztBQUNBOztBQUVBLDRGQUE0RixlQUFlO0FBQzNHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQztBQUNBO0FBQ0EsY0FBYyxzREFBTTtBQUNwQixLQUFLO0FBQ0w7O0FBRUEsNEZBQTRGLGVBQWU7QUFDM0c7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLElBQXFDO0FBQzNDO0FBQ0E7O0FBRUEsNEZBQTRGLGVBQWU7QUFDM0c7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLElBQXFDO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLHFEQUFLO0FBQ2I7QUFDQSxpQkFBaUIsZ0RBQUk7QUFDckIsT0FBTztBQUNQLEtBQUs7QUFDTCx5QkFBeUIsZ0RBQUk7QUFDN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrRUFBaUI7QUFDbkM7O0FBRUEsTUFBTSxJQUFxQztBQUMzQztBQUNBO0FBQ0E7O0FBRUEsUUFBUSxxREFBSztBQUNiO0FBQ0EsaUJBQWlCLGdEQUFJO0FBQ3JCLE9BQU87QUFDUCxLQUFLLDBCQUEwQixrRUFBaUIsSUFBSSx3REFBUTtBQUM1RCx5QkFBeUIsZ0RBQUk7QUFDN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNEZBQTRGLGVBQWU7QUFDM0c7QUFDQTs7QUFFQSxNQUFNLEtBQXFDO0FBQzNDLHdCQUF3QixvREFBUTtBQUNoQyxvQkFBb0IsZ0RBQUk7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQyxxQkFBcUIsbURBQU87O0FBRTVCO0FBQ0Esc0JBQXNCLG9EQUFRO0FBQzlCLHNCQUFzQixrREFBTTtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxNQUFNLElBQXFDO0FBQzNDLHFCQUFxQixtREFBTztBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLElBQXFDO0FBQzNDLGdCQUFnQixrREFBTTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLElBQXFDO0FBQzNDLGlCQUFpQixrREFBTTtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3REFBTTs7QUFFMjZCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3pxQjl5QjtBQUN2RjtBQUNGO0FBQzBDO0FBQ3NGO0FBQzBkO0FBQ3ZsQjtBQUM3QjtBQUNZO0FBQ2Y7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4Q0FBSztBQUNkO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxzREFBUSxxQkFBcUIscURBQU8sb0JBQW9CLDhEQUFjLHFCQUFxQixvREFBSSx3QkFBd0Isc0RBQVE7O0FBRW5MO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSxpRUFBZ0I7QUFDeEI7QUFDQTtBQUNBLHlCQUF5QixpRUFBZ0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrREFBUztBQUN4Qjs7QUFFQTtBQUNBOztBQUVBLE1BQU0sSUFBcUM7QUFDM0MsSUFBSSxrREFBSyxXQUFXLGtEQUFNO0FBQzFCOztBQUVBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCOztBQUVBO0FBQ0EsWUFBWSxrREFBVztBQUN2QjtBQUNBOztBQUVBO0FBQ0EsUUFBUSxJQUFxQztBQUM3QztBQUNBLE1BQU0sa0RBQUssUUFBUSxvREFBUTtBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsSUFBcUM7QUFDN0M7QUFDQSxNQUFNLGtEQUFLLEtBQUssZ0RBQUk7QUFDcEI7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFFBQVEsa0RBQU07QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLElBQXFDO0FBQzdDO0FBQ0EsTUFBTSxrREFBSyxLQUFLLGdEQUFJO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLElBQXFDO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUMsU0FBUztBQUM5QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtEQUFJO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxRQUFRLG9EQUFJO0FBQ1o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVILE1BQU0sSUFBcUM7QUFDM0MsSUFBSSxrREFBSyxjQUFjLGdEQUFJO0FBQzNCOztBQUVBLGdCQUFnQixrREFBSTs7QUFFcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLGtEQUFXO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFFBQVEsSUFBcUM7QUFDN0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLGtCQUFrQixPQUFPLDBEQUFTO0FBQ2xDLFFBQVEsSUFBcUM7QUFDN0M7QUFDQSxNQUFNLGtEQUFLLFFBQVEsb0RBQVE7QUFDM0I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLHdDQUF3QyxTQUFTO0FBQ2pEOztBQUVBLGdCQUFnQixzREFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxJQUFxQztBQUM3QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8sc0RBQUs7QUFDWjtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFJO0FBQ3BCO0FBQ0EsTUFBTSxrREFBTTtBQUNaLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLDREQUFXO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsdURBQU07O0FBRXBDLE1BQU0sb0RBQUk7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxrREFBVztBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0M7QUFDaEM7QUFDQSx5Q0FBeUM7O0FBRXpDLFFBQVEsd0RBQVE7QUFDaEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0EsaUJBQWlCLHVEQUFPO0FBQ3hCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLGtEQUFZO0FBQ3ZCLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVyxrREFBWTtBQUN2QjtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLG1CQUFtQix1REFBTztBQUMxQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRyxFQUFFO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUywwREFBUztBQUNsQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUIsd0RBQVE7QUFDakMsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0NBQWdDO0FBQ2hDO0FBQ0E7O0FBRUEsUUFBUSx1REFBTztBQUNmO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLHdEQUFRO0FBQ2hCO0FBQ0EsK0NBQStDLGtEQUFXO0FBQzFEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSxVQUFVLHFEQUFLO0FBQ2Y7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUcsRUFBRTtBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DLGtEQUFNO0FBQzFDOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxxREFBTztBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QixrREFBNEI7QUFDckQ7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxzQkFBc0Isa0VBQWlCO0FBQ3ZDO0FBQ0EsR0FBRyxVQUFVLHFEQUFPO0FBQ3BCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUEsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTyxxREFBTyxtQkFBbUI7QUFDakM7QUFDQTs7QUFFQSx1QkFBdUIsa0RBQTRCO0FBQ25EO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscURBQU8sWUFBWSxrREFBZ0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGtEQUFjO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLDhDQUFJO0FBQzNCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRSxrREFBaUI7QUFDbkI7QUFDQTs7QUFFQSw0Q0FBNEMsbUJBQW1CLDhDQUFJLG9DQUFvQyw4Q0FBRyxtQ0FBbUMsOENBQUcsbUNBQW1DLDhDQUFJLG9DQUFvQyw4Q0FBSSxvQ0FBb0MsOENBQUcsbUNBQW1DLDhDQUFJLG9DQUFvQyw4Q0FBSSxvQ0FBb0MsOENBQVEsc0NBQXNDLDhDQUFNLHNDQUFzQyw4Q0FBYyx1Q0FBdUMsOENBQVcseUNBQXlDLDhDQUFLLHFDQUFxQyw4Q0FBVywwQ0FBMEMsOENBQVc7O0FBRXRxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSxrREFBTTtBQUNaLGtCQUFrQiw4Q0FBSTs7QUFFdEI7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsOENBQUk7QUFDbkI7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsa0RBQVc7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLGtEQUFPO0FBQzlCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQSxtREFBbUQ7QUFDbkQsNkJBQTZCLG9DQUFvQyxHQUFHO0FBQ3BFLDRCQUE0QjtBQUM1QiwyQkFBMkI7QUFDM0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsOENBQUk7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7O0FBRXhCLFVBQVUsNERBQVc7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw0REFBVztBQUNoQztBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0EsbUNBQW1DO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLElBQXFDO0FBQzdDLE1BQU0sa0RBQUssUUFBUSxrREFBTSxFQUFFLGtEQUF1QjtBQUNsRDs7QUFFQSxJQUFJLGtEQUFpQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsNkRBQVE7O0FBRTFCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdCQUF3QixRQUFRLHFEQUFJO0FBQ3BDO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLEtBQXFDLGVBQWUsOENBQW1CO0FBQzdFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQiw4Q0FBSTtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLEdBQUc7OztBQUdILFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsaURBQWlEO0FBQzlELGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUNBQXVDOztBQUV2QztBQUNBLE9BQU8sVUFBVSxrREFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLG9EQUFJLHdDQUF3Qyw0REFBVztBQUN4RTtBQUNBLGlCQUFpQiw0REFBVztBQUM1QjtBQUNBLE9BQU8sVUFBVSxrREFBZTtBQUNoQztBQUNBLGlCQUFpQixvREFBSTtBQUNyQjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQU87QUFDZjtBQUNBLEtBQUssVUFBVSx3REFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMkJBQTJCLG1EQUFFO0FBQ2xDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQiw4Q0FBSSxDQUFDOztBQUV2QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7OztBQUdMLG9CQUFvQiw4Q0FBSSxDQUFDOztBQUV6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCOztBQUV0QixzQkFBc0IsOENBQUksQ0FBQzs7QUFFM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsOENBQVE7O0FBRWxELE1BQU0sSUFBcUM7QUFDM0MsSUFBSSxrREFBSyxPQUFPLGdEQUFJO0FBQ3BCOztBQUVBLHdGQUF3RixhQUFhO0FBQ3JHO0FBQ0E7O0FBRUE7O0FBRUEsTUFBTSxJQUFxQztBQUMzQyxJQUFJLGtEQUFLLGFBQWEsb0RBQVE7QUFDOUI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGlFQUFpRSw4Q0FBSTtBQUNyRSxpRUFBaUUsOENBQUk7QUFDckUsK0RBQStELDhDQUFJO0FBQ25FLCtEQUErRCw4Q0FBSTtBQUNuRSxpRUFBaUUsOENBQUk7QUFDckUsbUVBQW1FLDhDQUFJO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLE1BQU0sSUFBcUM7QUFDM0MsUUFBUSx3REFBUTtBQUNoQixNQUFNLGtEQUFLLFdBQVcsZ0RBQUk7QUFDMUI7O0FBRUEsUUFBUSx3REFBUTtBQUNoQixNQUFNLGtEQUFLLFdBQVcsZ0RBQUk7QUFDMUI7O0FBRUEsUUFBUSx3REFBUTtBQUNoQjtBQUNBLE1BQU0sa0RBQUssb0JBQW9CLGlEQUFPO0FBQ3RDO0FBQ0EsZUFBZSxrREFBSyxtQkFBbUIsZ0RBQUk7QUFDM0MsT0FBTztBQUNQOztBQUVBLElBQUksa0RBQUssVUFBVSxnREFBSTtBQUN2Qjs7QUFFQTs7QUFFQTtBQUNBLHFCQUFxQixnREFBYTs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0JBQXdCLDhDQUFRO0FBQ2hDOztBQUVBO0FBQ0E7QUFDQSxjQUFjLGtEQUFnQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Qsa0RBQVc7QUFDbkU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdHQUE2Qjs7QUFFN0M7O0FBRUEsTUFBTSxJQUFxQztBQUMzQyxJQUFJLGtEQUFLLFVBQVUsbURBQVM7QUFDNUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDJFQUFRLEdBQUc7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtDQUFrQzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsS0FBcUM7QUFDN0M7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSxJQUFxQztBQUM3QyxNQUFNLGtEQUFLLFFBQVEsa0RBQU0sRUFBRSxrREFBdUI7QUFDbEQ7O0FBRUEsSUFBSSxrREFBaUI7QUFDckI7O0FBRUE7QUFDQTs7QUFFQSxpRUFBZSxxQkFBcUIsRUFBQztBQUMrQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3NUN2RDtBQUNlO0FBQzZCO0FBQytGO0FBQzBKO0FBQ3JTOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sdURBQU87QUFDYjtBQUNBOztBQUVBLE1BQU0sOERBQWM7QUFDcEI7QUFDQTs7QUFFQSxNQUFNLG9EQUFJO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsa0RBQVk7QUFDckI7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSx3RkFBd0YsYUFBYTtBQUNyRztBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGtEQUFJO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvREFBVTtBQUN2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHdGQUF3RixhQUFhO0FBQ3JHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsa0RBQUk7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG9EQUFVO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxrREFBTTtBQUNuQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSx3RkFBd0YsYUFBYTtBQUNyRztBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGtEQUFJO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvREFBVTtBQUN2QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSx3RkFBd0YsYUFBYTtBQUNyRztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0RBQWEsVUFBVSxrREFBTztBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtEQUFJO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvREFBVTtBQUN2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGtEQUFLO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUEsd0ZBQXdGLGFBQWE7QUFDckc7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxvREFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLGtEQUFLO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHdGQUF3RixhQUFhO0FBQ3JHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrREFBSTtBQUNmO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0RBQUk7QUFDZixjQUFjLGtEQUFJO0FBQ2xCLGdCQUFnQixrREFBSztBQUNyQixLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvREFBVTtBQUN2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsRUFBRSxrREFBSyxtQkFBbUIsb0RBQVE7QUFDbEMsRUFBRSxrREFBSyxTQUFTLG9EQUFRO0FBQ3hCOztBQUVBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQztBQUNBOztBQUVBLHdGQUF3RixhQUFhO0FBQ3JHO0FBQ0E7O0FBRUEsU0FBUyxvREFBVTtBQUNuQjtBQUNBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQztBQUNBOztBQUVBLDRGQUE0RixlQUFlO0FBQzNHO0FBQ0E7O0FBRUEsU0FBUyxvREFBVTtBQUNuQjtBQUNBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQztBQUNBOztBQUVBLDRGQUE0RixlQUFlO0FBQzNHO0FBQ0E7O0FBRUEsU0FBUyxvREFBVTtBQUNuQjtBQUNBO0FBQ0EsTUFBTSxJQUFxQztBQUMzQyxJQUFJLGtEQUFLLFVBQVUsb0RBQVE7QUFDM0IsSUFBSSxrREFBSyxTQUFTLG9EQUFRO0FBQzFCOztBQUVBLDRGQUE0RixlQUFlO0FBQzNHO0FBQ0E7O0FBRUEsU0FBUyxvREFBVTtBQUNuQjtBQUNBO0FBQ0EsNEZBQTRGLGVBQWU7QUFDM0c7QUFDQTs7QUFFQSxTQUFTLG9EQUFVO0FBQ25CO0FBQ0E7QUFDQSw0RkFBNEYsZUFBZTtBQUMzRztBQUNBOztBQUVBLFNBQVMsb0RBQVU7QUFDbkI7O0FBRWtKOzs7Ozs7Ozs7Ozs7Ozs7OztBQzdibEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUVBQWUsUUFBUSxFQUFDO0FBQ0c7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbkJrQjs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxVQUFVLHVEQUFNO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpRUFBZSxNQUFNLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25CaUQ7O0FBRXZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUk7QUFDcEI7QUFDQTtBQUNBLHdCQUF3Qiw0REFBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBEQUFTO0FBQ3BDO0FBQ0E7QUFDQSxvQkFBb0IsbURBQUU7QUFDdEI7O0FBRWdNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdEaE07QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFdUk7Ozs7Ozs7Ozs7OztBQ3RDdkk7QUFDQSxFQUFlOztBQUVmOzs7Ozs7Ozs7Ozs7QUNIQTtBQUNhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRTs7Ozs7Ozs7Ozs7QUM3Q2E7O0FBRWIseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0I7QUFDdEI7QUFDQTs7QUFFQSx1QkFBdUI7QUFDdkI7QUFDQTs7QUFFQSx1QkFBdUI7QUFDdkI7QUFDQTs7QUFFQSx1QkFBdUI7QUFDdkI7QUFDQTs7QUFFQSx3QkFBd0I7QUFDeEI7QUFDQTs7QUFFQSxxQkFBcUI7QUFDckI7QUFDQSxFOzs7Ozs7Ozs7OztBQzdCYTs7QUFFYixVQUFVLG1CQUFPLENBQUMseURBQU87QUFDekIsYUFBYSxtQkFBTyxDQUFDLCtEQUFVOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEU7Ozs7Ozs7Ozs7O0FDWkE7QUFDQSxFQUFlOztBQUVmO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7O0FDUEE7QUFDYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWEsbUJBQU8sQ0FBQyxrRUFBYztBQUNuQyxhQUFhLG1CQUFPLENBQUMsb0VBQWU7QUFDcEMsYUFBYSxtQkFBTyxDQUFDLG9FQUFlOztBQUVwQztBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFOzs7Ozs7Ozs7OztBQzdCQTtBQUNhOztBQUViO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosVUFBVSxtQkFBTyxDQUFDLCtEQUFhO0FBQy9CLGVBQWUsbUJBQU8sQ0FBQywyRUFBbUI7QUFDMUMsY0FBYyxtQkFBTyxDQUFDLG1FQUFXO0FBQ2pDLGFBQWEsbUJBQU8sQ0FBQyxxRUFBZ0I7O0FBRXJDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQU8sQ0FBQywyRkFBMkI7QUFDdEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWE7QUFDMUIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGO0FBQ2xGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0REFBNEQsZ0VBQWdFO0FBQzVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtFQUFrRSxtRUFBbUU7QUFDckk7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBOEQsbUVBQW1FO0FBQ2pJOztBQUVBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVELHdCOzs7Ozs7Ozs7OztBQ2pTQTtBQUNhOztBQUViLG9HQUFvRyxtQkFBbUIsRUFBRSxtQkFBbUIsOEhBQThIOztBQUUxUSxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosYUFBYSxtQkFBTyxDQUFDLHFFQUFnQjs7QUFFckM7QUFDQTtBQUNBOztBQUVBOztBQUVBLG9CQUFvQjtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFlBQVk7QUFDNUI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5Qjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGtCQUFrQixZQUFZO0FBQzlCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckIsa0JBQWtCLFlBQVk7QUFDOUI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsdUJBQXVCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQixPQUFPO0FBQ3hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUIsT0FBTztBQUN4Qjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUs7QUFDcEIsaUJBQWlCLE9BQU87QUFDeEI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0RBQWtELHFCQUFNO0FBQ3hEO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQzs7Ozs7Ozs7OztBQ25RQSxzQkFBc0IsbUJBQU8sQ0FBQyxxRUFBb0I7QUFDbEQsU0FBUyxtQkFBTyxDQUFDLHlDQUFNOztBQUV2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUU7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7QUNuQkEsZUFBZSxtQkFBTyxDQUFDLHVEQUFhO0FBQ3BDLG9CQUFvQixtQkFBTyxDQUFDLGlFQUFrQjtBQUM5Qyx3QkFBd0IsbUJBQU8sQ0FBQyx5RUFBc0I7QUFDdEQsZUFBZSxtQkFBTyxDQUFDLHVEQUFhO0FBQ3BDLGdCQUFnQixtQkFBTyxDQUFDLHlEQUFjO0FBQ3RDLGVBQWUsbUJBQU8sQ0FBQyx1REFBYTs7QUFFcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7OztBQ2xFQSxvQkFBb0IsbUJBQU8sQ0FBQyxpRUFBa0I7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBOztBQUVBOzs7Ozs7Ozs7OztBQ2ZBLFlBQVksbUJBQU8sQ0FBQyxpREFBVTtBQUM5Qix1QkFBdUIsbUJBQU8sQ0FBQyx1RUFBcUI7QUFDcEQsY0FBYyxtQkFBTyxDQUFDLHFEQUFZO0FBQ2xDLG9CQUFvQixtQkFBTyxDQUFDLGlFQUFrQjtBQUM5QyxlQUFlLG1CQUFPLENBQUMscURBQVk7QUFDbkMsYUFBYSxtQkFBTyxDQUFDLGlEQUFVO0FBQy9CLGNBQWMsbUJBQU8sQ0FBQyxxREFBWTs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOzs7Ozs7Ozs7OztBQ3pDQSx1QkFBdUIsbUJBQU8sQ0FBQyx1RUFBcUI7QUFDcEQsa0JBQWtCLG1CQUFPLENBQUMsNkRBQWdCO0FBQzFDLHNCQUFzQixtQkFBTyxDQUFDLHFFQUFvQjtBQUNsRCxnQkFBZ0IsbUJBQU8sQ0FBQyx5REFBYztBQUN0QyxzQkFBc0IsbUJBQU8sQ0FBQyxxRUFBb0I7QUFDbEQsa0JBQWtCLG1CQUFPLENBQUMsMkRBQWU7QUFDekMsY0FBYyxtQkFBTyxDQUFDLG1EQUFXO0FBQ2pDLHdCQUF3QixtQkFBTyxDQUFDLHVFQUFxQjtBQUNyRCxlQUFlLG1CQUFPLENBQUMscURBQVk7QUFDbkMsaUJBQWlCLG1CQUFPLENBQUMseURBQWM7QUFDdkMsZUFBZSxtQkFBTyxDQUFDLHFEQUFZO0FBQ25DLG9CQUFvQixtQkFBTyxDQUFDLCtEQUFpQjtBQUM3QyxtQkFBbUIsbUJBQU8sQ0FBQyw2REFBZ0I7QUFDM0MsY0FBYyxtQkFBTyxDQUFDLHFEQUFZO0FBQ2xDLG9CQUFvQixtQkFBTyxDQUFDLCtEQUFpQjs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7OztBQzdGQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsYUFBYSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7O0FDZkEsV0FBVyxtQkFBTyxDQUFDLCtDQUFTOztBQUU1QjtBQUNBLGtCQUFrQixLQUEwQjs7QUFFNUM7QUFDQSxnQ0FBZ0MsUUFBYTs7QUFFN0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7O0FDbENBLHVCQUF1QixtQkFBTyxDQUFDLHVFQUFxQjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7OztBQ2ZBLGtCQUFrQixtQkFBTyxDQUFDLDZEQUFnQjtBQUMxQyxzQkFBc0IsbUJBQU8sQ0FBQyxxRUFBb0I7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQixXQUFXLE9BQU8sV0FBVztBQUM3QixXQUFXLFNBQVM7QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qjs7QUFFeEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7O0FDdkNBLGVBQWUsbUJBQU8sQ0FBQyx1REFBYTtBQUNwQyxxQkFBcUIsbUJBQU8sQ0FBQyxtRUFBbUI7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOzs7Ozs7Ozs7OztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7OztBQ3hCQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTtBQUN4QyxtQkFBbUIsbUJBQU8sQ0FBQywrREFBaUI7QUFDNUMsa0JBQWtCLG1CQUFPLENBQUMsNkRBQWdCOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7OztBQ2pCQSxTQUFTLG1CQUFPLENBQUMseUNBQU07QUFDdkIsa0JBQWtCLG1CQUFPLENBQUMsMkRBQWU7QUFDekMsY0FBYyxtQkFBTyxDQUFDLHFEQUFZO0FBQ2xDLGVBQWUsbUJBQU8sQ0FBQyxxREFBWTs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixXQUFXLEVBQUU7QUFDYixXQUFXLEVBQUU7QUFDYixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7OztBQzdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7QUNwQkEsZUFBZSxtQkFBTyxDQUFDLHVEQUFhO0FBQ3BDLFNBQVMsbUJBQU8sQ0FBQyx5Q0FBTTtBQUN2QixxQkFBcUIsbUJBQU8sQ0FBQyxtRUFBbUI7QUFDaEQsYUFBYSxtQkFBTyxDQUFDLGlEQUFVOztBQUUvQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsVUFBVTtBQUNyQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTLEdBQUcsU0FBUyxHQUFHLFNBQVM7QUFDaEQsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7Ozs7Ozs7Ozs7O0FDL0RBLHFCQUFxQixtQkFBTyxDQUFDLG1FQUFtQjtBQUNoRCxrQkFBa0IsbUJBQU8sQ0FBQyw2REFBZ0I7QUFDMUMsZUFBZSxtQkFBTyxDQUFDLHVEQUFhO0FBQ3BDLHdCQUF3QixtQkFBTyxDQUFDLHVFQUFxQjs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsU0FBUztBQUNwQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOzs7Ozs7Ozs7OztBQ2hDQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTtBQUN4QyxtQkFBbUIsbUJBQU8sQ0FBQywrREFBaUI7QUFDNUMsbUJBQW1CLG1CQUFPLENBQUMsNkRBQWdCOztBQUUzQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxFQUFFO0FBQ2IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7QUM3REEsZ0JBQWdCLG1CQUFPLENBQUMseURBQWM7QUFDdEMscUJBQXFCLG1CQUFPLENBQUMsbUVBQW1COztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVMsR0FBRyxTQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLFlBQVksU0FBUyxHQUFHLFNBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsVUFBVSxRQUFRLGlCQUFpQixHQUFHLGlCQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOzs7Ozs7Ozs7OztBQ3RDQSxpQkFBaUIsbUJBQU8sQ0FBQywyREFBZTtBQUN4QyxhQUFhLG1CQUFPLENBQUMsaURBQVU7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEVBQUU7QUFDYixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixVQUFVO0FBQ1Y7QUFDQSxhQUFhLFNBQVM7QUFDdEIsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7Ozs7QUMvQmE7QUFDYixzQkFBc0IsbUJBQU8sQ0FBQyxvRUFBbUI7QUFDakQsbUJBQW1CLG1CQUFPLENBQUMsNERBQWU7QUFDMUMsc0JBQXNCLG1CQUFPLENBQUMsMEVBQXNCOztBQUVwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixvQkFBb0I7O0FBRTFDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjs7QUFFQSxlQUFlO0FBQ2YsYUFBYTs7QUFFYixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQSxFQUFFO0FBQ0Y7O0FBRUEsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvTkEsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQ3JEO0FBQ0E7QUFDQSxXQUFXLGlDQUFpQztBQUM1QyxDQUFDLEVBQUU7QUFDSTtBQUNBO0FBQ0E7QUFDUCxpQ0FBaUMsa0JBQWtCO0FBQ25EO0FBQ0E7QUFDQSxxQ0FBcUMsYUFBYSwyQkFBMkI7QUFDN0UsZUFBZSxpQ0FBaUM7QUFDaEQsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3QkFBd0IsbUJBQW1CLFNBQVM7QUFDakU7QUFDTyx3Q0FBd0M7QUFDL0M7QUFDQSxjQUFjLHlCQUF5QjtBQUN2QyxXQUFXLGFBQWE7QUFDeEIsQ0FBQyxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxQ3NDO0FBQ2xDO0FBQ1AsNkJBQTZCLGdCQUFnQjtBQUM3QztBQUNBO0FBQ0Esa0JBQWtCLFdBQVc7QUFDN0I7QUFDQTtBQUNBLG1CQUFtQiw4Q0FBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNPO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pDUCxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDaUQ7QUFDWDtBQUNZO0FBQ2M7QUFDaEUsMkNBQTJDLFFBQVEsaURBQWMsaUJBQWlCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGtCQUFrQjtBQUNqQztBQUNBLHFCQUFxQixjQUFjO0FBQ25DLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBLGlDQUFpQztBQUNqQyw0QkFBNEIsRUFBRSx3QkFBd0IsdUJBQXVCLFlBQVksRUFBRSxTQUFTO0FBQ3BHO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHNEQUFPO0FBQ1g7QUFDQTtBQUNBLElBQUksMERBQWdCO0FBQ3BCLHNCQUFzQixpRUFBdUI7QUFDN0M7QUFDQTtBQUNBLGVBQWUsb0RBQWEsc0JBQXNCLDJCQUEyQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsMkJBQTJCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyQkFBMkI7QUFDN0Q7QUFDQTtBQUNBLGlFQUFlLGVBQWUsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqRmtFO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQSxpRUFBZ0I7QUFDaEI7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsMkJBQTJCLDhDQUFVLFVBQVU7QUFDM0YsNkNBQTZDLDJCQUEyQiwrQ0FBVyxVQUFVO0FBQzdGLGdEQUFnRCwyQkFBMkIsOENBQVUsVUFBVTtBQUMvRixnREFBZ0QsMkJBQTJCLDhDQUFVLFNBQVM7QUFDOUY7QUFDQSxrQ0FBa0Msd0RBQW9CO0FBQ3REO0FBQ0E7QUFDQSxDQUFDLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMUJJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKMkI7QUFDUTtBQUNNO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsMERBQTBELHdDQUF3QztBQUNsRztBQUNBO0FBQ0EsV0FBVyx3QkFBd0I7QUFDbkM7QUFDQTtBQUNBLGNBQWMseUJBQXlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRCxhQUFhLDREQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvQkFBb0Isc0RBQVk7QUFDaEMsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSw2QkFBNkIsb0RBQW9EO0FBQ2pGLFNBQVM7QUFDVDtBQUNBLDZCQUE2QixxREFBcUQ7QUFDbEYsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUVBQWUsWUFBWSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzRE07QUFDUTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFtQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGtCQUFrQjtBQUN4RDtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZ0I7QUFDaEIsNEJBQTRCLHNCQUFzQjtBQUNsRCxvQkFBb0Isc0RBQVk7QUFDaEMsSUFBSSxnREFBUztBQUNiLDZDQUE2QyxFQUFFO0FBQy9DLEtBQUs7QUFDTCxDQUFDLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbENpQztBQUNtQztBQUNuQztBQUNZO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLFFBQVE7QUFDUjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsdUJBQXVCLHlEQUFlO0FBQ3RDLGlCQUFpQiw4REFBUztBQUMxQixpQkFBaUIsbURBQVM7QUFDMUIsb0JBQW9CLGtEQUFXO0FBQy9CLGdDQUFnQyxhQUFhO0FBQzdDLHlDQUF5Qyx3QkFBd0I7QUFDakUsb0NBQW9DLGNBQWMsd0VBQTBCLENBQUM7QUFDN0UsNkNBQTZDLDZCQUE2QjtBQUMxRTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxnREFBZ0QsMEJBQTBCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsWUFBWSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4RVE7QUFDWTtBQUNoRCxpREFBaUQsNEJBQTRCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLDRCQUE0QixJQUFJLEVBQUUsV0FBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseURBQWU7QUFDdEMseUJBQXlCLGtEQUFXO0FBQ3BDLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpRUFBZSxpQkFBaUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMUNHO0FBQ3VCO0FBQ2pCO0FBQzZCO0FBQ0o7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IseUNBQXlDO0FBQzNEO0FBQ0E7QUFDQSwrQkFBK0IsWUFBWTtBQUMzQztBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseURBQWU7QUFDdEMsbUJBQW1CLDZEQUFXO0FBQzlCO0FBQ0Esa0JBQWtCLDREQUFVO0FBQzVCLG1CQUFtQix3REFBVztBQUM5QjtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFXO0FBQzNCLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0EscUJBQXFCLCtFQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNkVBQStCO0FBQ25EO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLCtCQUErQixrREFBVztBQUMxQyxpQkFBaUIsK0VBQWlCO0FBQ2xDLHFCQUFxQiw2RUFBK0I7QUFDcEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlFQUFlLFFBQVEsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkRVO0FBQ0c7QUFDZTtBQUNKO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxJQUFJO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixlQUFlO0FBQ2YsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLDBEQUEwRCxxQkFBcUI7QUFDL0U7QUFDQTtBQUNBLGVBQWUsMEJBQTBCO0FBQ3pDO0FBQ0E7QUFDQSxrQkFBa0IsY0FBYztBQUNoQztBQUNBLG9DQUFvQyxTQUFTLFNBQVMsT0FBTztBQUM3RCxZQUFZO0FBQ1osaUNBQWlDLFNBQVM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0JBQXNCO0FBQ2xEO0FBQ0EsYUFBYSw0REFBZTtBQUM1QjtBQUNBLEtBQUs7QUFDTCx5QkFBeUIsMkRBQWlCO0FBQzFDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFPO0FBQ3hCO0FBQ0EsMEJBQTBCLDJCQUEyQjtBQUNyRDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUsseUJBQXlCO0FBQzlCO0FBQ0E7QUFDQSxpRUFBZSx1QkFBdUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcEV2QyxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQy9CLHVFQUF1RSxxQ0FBcUM7QUFDNUc7QUFDQSxXQUFXLGdEQUFtQiw4QkFBOEI7QUFDNUQsRUFBRSxHQUFHO0FBQ0wsaUVBQWUseUJBQXlCLEVBQUM7QUFDekM7QUFDTztBQUNQO0FBQ0EsNkRBQTZELGtDQUFrQyxFQUFFO0FBQ2pHO0FBQ0EsbVBBQW1QLFNBQVMsMkJBQTJCO0FBQ3ZSO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4Qm9DO0FBQ21CO0FBQ087QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsZUFBZTtBQUMxQjtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHdEQUFXO0FBQzlCLHVCQUF1Qix3REFBVztBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDBDQUEwQyxpQkFBaUIsRUFBRSx1QkFBdUI7QUFDcEYseUJBQXlCLGtEQUFXO0FBQ3BDLGlCQUFpQiwwRUFBb0I7QUFDckMsS0FBSztBQUNMO0FBQ0E7QUFDQSxpRUFBZSxXQUFXLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaENpQjtBQUNMO0FBQ0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixVQUFVLE9BQU8sdURBQXVELE9BQU8sZ0NBQWdDLFFBQVEsTUFBTTtBQUM3SCxVQUFVLE1BQU07QUFDaEIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQixVQUFVLFFBQVE7QUFDbEIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsU0FBUztBQUNuQixVQUFVLFFBQVE7QUFDbEIsVUFBVSxTQUFTO0FBQ25CLFVBQVUsT0FBTyw4QkFBOEIsZUFBZSxRQUFRO0FBQ3RFLFVBQVUsU0FBUztBQUNuQixVQUFVLE9BQU8scURBQXFEO0FBQ3RFLFVBQVUsU0FBUztBQUNuQixVQUFVLE9BQU8saUVBQWlFO0FBQ2xGLFVBQVUsU0FBUztBQUNuQixVQUFVLFNBQVM7QUFDbkIsVUFBVSxNQUFNO0FBQ2hCLFVBQVUsU0FBUztBQUNuQixVQUFVLFNBQVM7QUFDbkIsVUFBVSxTQUFTO0FBQ25CLFVBQVUsT0FBTztBQUNqQixVQUFVLE9BQU87QUFDakIsVUFBVSxPQUFPO0FBQ2pCO0FBQ0EsYUFBYSxvQkFBb0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0E7QUFDQSxjQUFjLG9CQUFvQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsNEJBQTRCLFVBQVUsRUFBRSxZQUFZO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdDQUFnQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixtRUFBbUUsd0JBQXdCO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLG1FQUFtRSx3QkFBd0I7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlEQUFVLENBQUMsaURBQVc7QUFDeEM7QUFDQTtBQUNBLFdBQVcsOENBQU87QUFDbEIsZUFBZSxzREFBUSxHQUFHLHFEQUFxRDtBQUMvRSxLQUFLO0FBQ0w7QUFDQSxpRUFBZSxjQUFjLEVBQUM7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsYUFBYSxvQkFBb0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hJQSxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzJEO0FBQ2dCO0FBQy9CO0FBQ1U7QUFDTjtBQUNBO0FBQ2dCO0FBQ087QUFDNUI7QUFDYTtBQUNVO0FBQ2xFO0FBQ0E7QUFDQSxXQUFXLCtFQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1CQUFtQixFQUFFLFNBQVM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsSUFBSSx3RkFBNEI7QUFDaEMsbUZBQW1GLDREQUFlO0FBQ2xHLG1CQUFtQix5REFBa0I7QUFDckM7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHFEQUFjO0FBQ2hDO0FBQ0E7QUFDQSxvQkFBb0IsMkRBQVk7QUFDaEMsaUJBQWlCLDhEQUFTO0FBQzFCLGFBQWEsdURBQWE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsNERBQWtCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0RUFBYztBQUMzQjtBQUNBO0FBQ0EsS0FBSyxHQUFHLHdDQUF3QyxzQkFBc0I7QUFDdEUsZ0JBQWdCLG9EQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHNCQUFzQiw4Q0FBTyxjQUFjO0FBQzNDO0FBQ0E7QUFDQSxLQUFLLEVBQUUsRUFBRTtBQUNULDJCQUEyQiwyREFBbUI7QUFDOUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esb0NBQW9DLGdCQUFnQjtBQUNwRCxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EscUNBQXFDLDBDQUEwQyxFQUFFO0FBQ2pGO0FBQ0E7QUFDQSxvQ0FBb0MsZ0JBQWdCO0FBQ3BELEtBQUssSUFBSTtBQUNUO0FBQ0EsaUVBQWUsaUJBQWlCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pNRTtBQUN5QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQixVQUFVLFNBQVM7QUFDbkIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsU0FBUztBQUNuQixVQUFVLE9BQU87QUFDakI7QUFDQSxhQUFhLDJCQUEyQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpREFBVSxDQUFDLDJEQUFxQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxJQUFxQztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSx3QkFBd0IsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4Q3hDLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDMEU7QUFDTDtBQUNyQjtBQUNIO0FBQ1Y7QUFDd0I7QUFDbUc7QUFDcEc7QUFDWjtBQUM5QztBQUNBO0FBQ0E7QUFDQSxXQUFXLCtFQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxNQUFNO0FBQ25CO0FBQ0EsT0FBTyx1RkFBdUY7QUFDOUYsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0RBQVc7QUFDOUIsbUJBQW1CLDZEQUFXO0FBQzlCLGtCQUFrQiw0REFBVTtBQUM1QixhQUFhLCtDQUFRO0FBQ3JCLGlCQUFpQix3REFBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUUscURBQVk7QUFDbkIscUJBQXFCLDZDQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4Q0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQSxxQkFBcUIsc0VBQWdCO0FBQ3JDO0FBQ0EsS0FBSyxNQUFNO0FBQ1gsdUJBQXVCLGtEQUFXO0FBQ2xDO0FBQ0E7QUFDQSxpQ0FBaUMsa0ZBQVk7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdURBQVMscUJBQXFCLHdCQUF3QiwySEFBMkg7QUFDdk4sZ0NBQWdDLCtCQUErQiwrRUFBUSxFQUFFO0FBQ3pFLHFCQUFxQjtBQUNyQiw2QkFBNkIsc0VBQWdCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGtGQUFZO0FBQzdDO0FBQ0EsS0FBSyxvQkFBb0I7QUFDekIsa0JBQWtCLGtEQUFXO0FBQzdCO0FBQ0Esa0JBQWtCLCtFQUFRO0FBQzFCLHNCQUFzQiwyQkFBMkI7QUFDakQsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGtCQUFrQixrREFBVyxxQkFBcUIsc0JBQXNCLE9BQU8sK0VBQVEsb0JBQW9CLEVBQUUsRUFBRTtBQUMvRztBQUNBLHFCQUFxQixrREFBVztBQUNoQyw2QkFBNkIsT0FBTyxtRkFBWSx1QkFBdUI7QUFDdkUsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzREFBYztBQUM1QztBQUNBLGtCQUFrQixpRkFBVTtBQUM1QjtBQUNBLHdCQUF3QiwwREFBVztBQUNuQztBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLHFCQUFxQixrREFBVztBQUNoQyxrQ0FBa0MsaUJBQWlCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpRkFBVTtBQUNoQztBQUNBLDRCQUE0QiwwREFBVztBQUN2QztBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsS0FBSztBQUNMO0FBQ0EscUJBQXFCLGtEQUFXO0FBQ2hDO0FBQ0Esa0JBQWtCLGtGQUFXO0FBQzdCO0FBQ0EsU0FBUztBQUNULEtBQUssb0JBQW9CO0FBQ3pCLHFCQUFxQixrREFBVztBQUNoQztBQUNBLGtCQUFrQixrRkFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUssb0JBQW9CO0FBQ3pCO0FBQ0Esa0JBQWtCO0FBQ2xCLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsZ0JBQWdCLG9EQUFNLENBQUMsbURBQUssMkJBQTJCLDJDQUEyQyxFQUFFO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxXQUFXO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGFBQWEsa0NBQWtDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFdBQVcsMEZBQTBGO0FBQ3BJO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsYUFBYSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN1JHO0FBQ3FDO0FBQ087QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPLCtCQUErQixpQ0FBaUM7QUFDcEY7QUFDQTtBQUNBLG1CQUFtQix3REFBVztBQUM5QixzQkFBc0Isd0RBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0EsS0FBSyxFQUFFLHFEQUFZO0FBQ25CLDZCQUE2Qiw4Q0FBTyxjQUFjO0FBQ2xEO0FBQ0EscUJBQXFCLHdFQUFrQjtBQUN2QyxTQUFTO0FBQ1Q7QUFDQSxxQkFBcUIsb0VBQWM7QUFDbkMsU0FBUztBQUNUO0FBQ0EscUJBQXFCLHdFQUFrQjtBQUN2QyxTQUFTO0FBQ1QsS0FBSyxFQUFFLEVBQUU7QUFDVDtBQUNBO0FBQ0EsaUVBQWUsa0JBQWtCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0JIO0FBQ2M7QUFDYTtBQUNkO0FBQ2E7QUFDUTtBQUNpQjtBQUNoQztBQUNZO0FBQzlEO0FBQ0E7QUFDQSxzQ0FBc0MsaURBQVUsQ0FBQywwREFBaUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhDQUF5QjtBQUNuQztBQUNBO0FBQ0EsVUFBVSxzREFBeUI7QUFDbkM7QUFDQSxrQ0FBa0MsMERBQWlCO0FBQ25EO0FBQ0EsZ0JBQWdCLGdEQUFtQixDQUFDLG1EQUFvQixHQUFHLDJCQUEyQjtBQUN0RixZQUFZLGdEQUFtQixDQUFDLDJEQUE0QixHQUFHLDJCQUEyQjtBQUMxRixnQkFBZ0IsZ0RBQW1CLENBQUMsOERBQW1CLEdBQUcsNkJBQTZCLG1DQUFtQyxnREFBbUIsQ0FBQyxtRUFBZSxHQUFHLHdCQUF3QjtBQUN4TDtBQUNBLGdCQUFnQiwrQ0FBUTtBQUN4QjtBQUNBLGNBQWMsMERBQWdCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQW1CLENBQUMsaURBQVEsR0FBRyxlQUFlO0FBQzdEO0FBQ0E7QUFDQSxpRUFBZSxnQkFBZ0IsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakRoQyxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCLDJCQUEyQiwrREFBK0QsZ0JBQWdCLEVBQUUsRUFBRTtBQUM5RztBQUNBLG1DQUFtQyxNQUFNLDZCQUE2QixFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ2pHLGtDQUFrQyxNQUFNLGlDQUFpQyxFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ3BHLCtCQUErQixxRkFBcUY7QUFDcEg7QUFDQSxLQUFLO0FBQ0w7QUFDQSxtQkFBbUIsU0FBSSxJQUFJLFNBQUk7QUFDL0IsYUFBYSw2QkFBNkIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEcsZ0JBQWdCLHFEQUFxRCxvRUFBb0UsYUFBYSxFQUFFO0FBQ3hKLHNCQUFzQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGtDQUFrQyxTQUFTO0FBQzNDLGtDQUFrQyxXQUFXLFVBQVU7QUFDdkQseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSw2R0FBNkcsT0FBTyxVQUFVO0FBQzlILGdGQUFnRixpQkFBaUIsT0FBTztBQUN4Ryx3REFBd0QsZ0JBQWdCLFFBQVEsT0FBTztBQUN2Riw4Q0FBOEMsZ0JBQWdCLGdCQUFnQixPQUFPO0FBQ3JGO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTLFlBQVksYUFBYSxPQUFPLEVBQUUsVUFBVSxXQUFXO0FBQ2hFLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7QUFDaUY7QUFDaEM7QUFDQztBQUNtQjtBQUNmO0FBQ0o7QUFDbEQ7QUFDQSx5QkFBeUIsOENBQWlCO0FBQzFDLG1CQUFtQiw4Q0FBUztBQUM1Qix3QkFBd0IsOENBQVk7QUFDcEMsNkJBQTZCLGlEQUFVO0FBQ3ZDLGFBQWEsc0RBQWU7QUFDNUIsSUFBSSwrREFBYztBQUNsQixJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSyxtQkFBbUI7QUFDeEIsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGNBQWMsRUFBRTtBQUMxRSx1REFBdUQsNkJBQTZCLFdBQVcsNEJBQTRCLGlCQUFpQix3QkFBd0IsR0FBRyxHQUFHLEVBQUU7QUFDNUsseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx3RkFBd0YsY0FBYyxFQUFFO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLLEVBQUU7QUFDUDtBQUNBO0FBQ0EsMERBQTBELGdCQUFnQixxQkFBcUI7QUFDL0Y7QUFDQTtBQUNBLG1CQUFtQixvREFBYSw0Q0FBNEMsZ0JBQWdCLHFCQUFxQjtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQW1CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFtQixDQUFDLG9EQUFNO0FBQzFDO0FBQ0EsMENBQTBDLDZCQUE2QixFQUFFO0FBQ3pFO0FBQ0EsdUJBQXVCLG1EQUFZO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsbUNBQW1DLGdEQUFtQixDQUFDLG1EQUFLLEdBQUcsc0NBQXNDLFFBQVEsZ0RBQW1CLGVBQWUsZUFBZSxFQUFFLEVBQUUsRUFBRTtBQUNwSztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQW1CO0FBQy9CO0FBQ0E7QUFDQSxRQUFRLCtDQUFZO0FBQ3BCLG1CQUFtQixtREFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsUUFBUSxnREFBbUIsQ0FBQyxvREFBTTtBQUNsQztBQUNBLDBDQUEwQyw2QkFBNkIsRUFBRTtBQUN6RTtBQUNBLHVCQUF1QixtREFBWTtBQUNuQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFlBQVksZ0RBQW1CLENBQUMsbURBQUssR0FBRztBQUN4QywyQkFBMkIsb0RBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixFQUFFLGdEQUFtQixDQUFDLHNEQUFnQixHQUFHLHlFQUF5RSw4QkFBOEIsRUFBRSx1Q0FBdUMsRUFBRSwrQ0FBWTtBQUM1TiwrQkFBK0IsbURBQVk7QUFDM0M7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCLEVBQUU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxlQUFlLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeksvQixnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQzRCO0FBQ1Y7QUFDRDtBQUNoQjtBQUNoQztBQUNBO0FBQ0EsWUFBWSxnREFBbUIsQ0FBQywyQ0FBYztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwwQ0FBSztBQUNqQyx3QkFBd0IsOENBQU8sY0FBYyxrQkFBa0Isb0RBQWEsU0FBUyxFQUFFO0FBQ3ZGO0FBQ0E7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQSxZQUFZLGFBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksZ0RBQW1CLENBQUMsb0RBQU07QUFDdEMscURBQXFELGdEQUFtQixDQUFDLG1EQUFLLEdBQUc7QUFDakYsdUJBQXVCLG9EQUFhLGdDQUFnQyxXQUFXO0FBQy9FLGtDQUFrQztBQUNsQyxhQUFhLEVBQUU7QUFDZixRQUFRLGdEQUFtQixDQUFDLG1EQUFLLEdBQUcsc0NBQXNDLFNBQVMsZ0RBQW1CLENBQUMscURBQWUsWUFBWSxzTEFBc0wscUJBQXFCLEVBQUUsRUFBRTtBQUNqVjtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDLGlFQUFlLFdBQVcsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzlDM0IsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ1k7QUFDWTtBQUNOO0FBQ0s7QUFDWTtBQUNFO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix3REFBVztBQUM5QixJQUFJLGdEQUFTO0FBQ2IsaUJBQWlCLDBEQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCw0QkFBNEIsaUJBQWlCLDREQUFrQixRQUFRO0FBQ3ZFLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3REFBVyxtQkFBbUIsc0NBQXNDLEVBQUU7QUFDN0Y7QUFDQSx1QkFBdUIsOENBQU8sY0FBYztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUUsRUFBRTtBQUNULHFEQUFxRDtBQUNyRCxXQUFXLDhDQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFtQixDQUFDLDZFQUF1QixHQUFHLGNBQWM7QUFDNUUsWUFBWSxnREFBbUIsQ0FBQyxvREFBTTtBQUN0QywyQkFBMkIsZ0RBQW1CLENBQUMsbURBQUssR0FBRyw0REFBNEQsU0FBUyxnREFBbUIsQ0FBQywwREFBZSxZQUFZLHdDQUF3Qyw4QkFBOEIsRUFBRSxFQUFFO0FBQ3JQLHlCQUF5QixnREFBbUIsQ0FBQyxtREFBSyxHQUFHLDhEQUE4RCxTQUFTLGdEQUFtQixDQUFDLDBEQUFlLFlBQVk7QUFDM0sseUNBQXlDLDhCQUE4QixFQUFFLEVBQUU7QUFDM0UseUJBQXlCLGdEQUFtQixDQUFDLG1EQUFLLEdBQUcseURBQXlELFNBQVMsZ0RBQW1CLENBQUMsMERBQWUsWUFBWTtBQUN0Syx5Q0FBeUMsOEJBQThCLEVBQUUsRUFBRTtBQUMzRSx5QkFBeUIsZ0RBQW1CLENBQUMsbURBQUssR0FBRyxxREFBcUQsU0FBUyxnREFBbUIsQ0FBQywwREFBZSxZQUFZLHNDQUFzQyw2QkFBNkIseUJBQXlCLElBQUksRUFBRSxFQUFFO0FBQ3RRLEtBQUsscUVBQXFFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxnREFBbUIsOEJBQThCLGNBQWMsZ0RBQW1CLDRCQUE0QjtBQUN0SjtBQUNBLGlFQUFlLFFBQVEsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9FeEIsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNzRTtBQUNYO0FBQ0w7QUFDdEQseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSwwQkFBMEIsbURBQXNCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQW1CLENBQUMsb0RBQU07QUFDdEM7QUFDQSxvREFBb0QsUUFBUSxtREFBWSxTQUFTLFdBQVcsRUFBRSxFQUFFO0FBQ2hHLFFBQVEsK0NBQVksNkJBQTZCLFNBQVMsZ0RBQW1CLENBQUMsbURBQUssR0FBRztBQUN0Rix1QkFBdUIsbURBQVksa0I7QUFDbkM7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxhQUFhLEVBQUUsR0FBRyxFQUFFO0FBQ3BCLHFCQUFxQixnREFBbUIsQ0FBQyxtREFBSyxHQUFHLHdEQUF3RCxTQUFTLGdEQUFtQixDQUFDLDBEQUFlLFlBQVksc0RBQXNELGdCQUFnQixFQUFFLEVBQUUsbUJBQW1CLGdEQUFtQixDQUFDLG1EQUFLLEdBQUcsOENBQThDLFFBQVEsZ0RBQW1CLENBQUMsc0RBQVEsR0FBRyxrQ0FBa0MsRUFBRSxFQUFFLEVBQUU7QUFDdlosUUFBUSxnREFBbUIsQ0FBQyxtREFBSyxHQUFHO0FBQ3BDLHVCQUF1QixvREFBYSwrQkFBK0IsZ0JBQWdCLGVBQWU7QUFDbEcsYUFBYSxFQUFFO0FBQ2Y7QUFDQSxpRUFBZSxnQkFBZ0IsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuQ2hDLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsU0FBSSxJQUFJLFNBQUk7QUFDL0IsYUFBYSw2QkFBNkIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEcsZ0JBQWdCLHFEQUFxRCxvRUFBb0UsYUFBYSxFQUFFO0FBQ3hKLHNCQUFzQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGtDQUFrQyxTQUFTO0FBQzNDLGtDQUFrQyxXQUFXLFVBQVU7QUFDdkQseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSw2R0FBNkcsT0FBTyxVQUFVO0FBQzlILGdGQUFnRixpQkFBaUIsT0FBTztBQUN4Ryx3REFBd0QsZ0JBQWdCLFFBQVEsT0FBTztBQUN2Riw4Q0FBOEMsZ0JBQWdCLGdCQUFnQixPQUFPO0FBQ3JGO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTLFlBQVksYUFBYSxPQUFPLEVBQUUsVUFBVSxXQUFXO0FBQ2hFLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7QUFDQSxzQkFBc0IsU0FBSSxJQUFJLFNBQUk7QUFDbEMsaURBQWlELFFBQVE7QUFDekQsd0NBQXdDLFFBQVE7QUFDaEQsd0RBQXdELFFBQVE7QUFDaEU7QUFDQTtBQUNBO0FBQzhEO0FBQ0o7QUFDWjtBQUNDO0FBQ0w7QUFDQTtBQUNZO0FBQ3RELGlFQUFnQjtBQUNoQix5SEFBeUg7QUFDekgscUJBQXFCLGlEQUFnQjtBQUNyQztBQUNBLDBDQUEwQyw4REFBVztBQUNyRDtBQUNBO0FBQ0EsaUNBQWlDLFdBQVcsNEJBQTRCLGlCQUFpQiwwQkFBMEIsbUJBQW1CLGVBQWUsY0FBYyxvQkFBb0IsRUFBRSxFQUFFLEdBQUc7QUFDOUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsdURBQUcsaUJBQWlCLG9EQUFTLGdEQUFnRCxvREFBSTtBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHlCQUF5QixtREFBb0I7QUFDN0M7QUFDQSw0QkFBNEIsS0FBc0M7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLDBDQUFPO0FBQ2YsZ0JBQWdCLGtEQUFXLDRHQUE0RyxzREFBZSxpQkFBaUIsK0RBQWdCO0FBQ3ZMO0FBQ0E7QUFDQSxDQUFDLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwRnVDO0FBQ0g7QUFDRztBQUNnQjtBQUMxQjtBQUNoQztBQUNBO0FBQ0E7QUFDTztBQUNQLG1CQUFtQix1RUFBa0I7QUFDckMsb0JBQW9CLHdEQUFXLENBQUMsa0RBQVk7QUFDNUM7QUFDQSxxQkFBcUIsOENBQU87QUFDNUIsK0RBQStELG9FQUFvRSxFQUFFO0FBQ3JJLGVBQWUsc0RBQVEsR0FBRztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEJrQztBQUNZO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSx1QkFBdUIscUJBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0JBQWtCLDREQUFVO0FBQzVCLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMOzs7Ozs7Ozs7Ozs7Ozs7O0FDbENBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QjtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qiw4RUFBOEU7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUVBQWUsU0FBUyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2xDb0c7QUFDN0gsdUNBQXVDLDBCQUEwQjtBQUNqRSwwQ0FBMEMsOEJBQThCO0FBQ3hFLDBDQUEwQyw4QkFBOEI7QUFDeEUsOENBQThDLDhCQUE4QjtBQUM1RSwyQ0FBMkMsOEJBQThCO0FBQ3pFLDJDQUEyQyw4QkFBOEI7QUFDekUsb0RBQW9ELDhCQUE4QjtBQUNsRiwwQ0FBMEMsOEJBQThCO0FBQ3hFLDBDQUEwQyw4QkFBOEI7QUFDeEUsOENBQThDLDhCQUE4QjtBQUM1RTtBQUNBLFlBQVkseUNBQU07QUFDbEIsWUFBWSx5Q0FBTTtBQUNsQixnQkFBZ0IsOENBQVc7QUFDM0IsYUFBYSwyQ0FBUTtBQUNyQixhQUFhLDJDQUFRO0FBQ3JCLHNCQUFzQixxREFBa0I7QUFDeEMsWUFBWSwwQ0FBTztBQUNuQixZQUFZLHlDQUFNO0FBQ2xCLGdCQUFnQiw4Q0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUVBQWUseUJBQXlCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hEekMsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixTQUFJLElBQUksU0FBSTtBQUNsQyxpREFBaUQsUUFBUTtBQUN6RCx3Q0FBd0MsUUFBUTtBQUNoRCx3REFBd0QsUUFBUTtBQUNoRTtBQUNBO0FBQ0E7QUFDb0M7QUFDSztBQUNsQztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkJBQTZCLGNBQWM7QUFDM0M7QUFDQSwwQ0FBMEMsYUFBYSwwQkFBMEI7QUFDakY7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLEVBQUUsRUFBRTtBQUNiLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywrQ0FBUztBQUMvQztBQUNBLGdDQUFnQywyREFBMkQ7QUFDM0YsS0FBSztBQUNMO0FBQ08sc0JBQXNCLG1EQUFTO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDBCQUEwQixXQUFXO0FBQ3JDO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwRkEsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFNBQUksSUFBSSxTQUFJO0FBQ2xDLGlEQUFpRCxRQUFRO0FBQ3pELHdDQUF3QyxRQUFRO0FBQ2hELHdEQUF3RCxRQUFRO0FBQ2hFO0FBQ0E7QUFDQTtBQUNnRDtBQUNoQjtBQUNvQztBQUNVO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHlEQUFlO0FBQ3RDLHlCQUF5QixtRUFBeUI7QUFDbEQ7QUFDQSw0QkFBNEIsOENBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsdUJBQXVCO0FBQzNEO0FBQ0E7QUFDQSw2QkFBNkIsMkZBQTRCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Qsa0JBQWtCO0FBQ3RFLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUVBQWUseUNBQXlDLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdGMkI7QUFDcEQ7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixvREFBUztBQUMxQixtQkFBbUIsb0RBQVc7QUFDOUIsa0JBQWtCLG9EQUFVO0FBQzVCLHNCQUFzQixvREFBYztBQUNwQyxXQUFXLDhDQUFPLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEVBQUU7QUFDUjtBQUNBLGlFQUFlLHlCQUF5QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxQ0w7QUFDSTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0NBQWdDO0FBQzVELDRCQUE0QiwrQkFBK0I7QUFDM0QsNEJBQTRCLDJEQUEyRDtBQUN2Riw0QkFBNEIsOERBQThEO0FBQzFGO0FBQ0E7QUFDQTtBQUNBLHFJQUFxSSxhQUFhLGdCQUFnQjtBQUNsSztBQUNBLG9FQUFvRSwrQkFBK0I7QUFDbkc7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHFCQUFxQixNQUFNLEVBQUU7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLG1DQUFtQyxjQUFjO0FBQ2pELDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFCQUFxQjtBQUN4QyxnQ0FBZ0MsUUFBUSxVQUFVLFdBQVc7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLG1DQUFtQyxjQUFjO0FBQ2pELDJCQUEyQixpQkFBaUI7QUFDNUMsbUJBQW1CLHFCQUFxQjtBQUN4QyxnQ0FBZ0MsUUFBUSxVQUFVLFdBQVc7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxREFBVyxFQUFFLG1EQUFtRCxXQUFXLEVBQUU7QUFDMUYscUJBQXFCLGtEQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsYUFBYSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25FVztBQUNYO0FBQzJCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsZUFBZTtBQUNmLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU8sb0NBQW9DLGdCQUFnQixRQUFRO0FBQzlFLFdBQVcsT0FBTyx3QkFBd0IsZUFBZSxRQUFRO0FBQ2pFLFdBQVcsT0FBTyxtQ0FBbUM7QUFDckQsV0FBVyxPQUFPLDRIQUE0SCxhQUFhLGdCQUFnQjtBQUMzSztBQUNBLHVEQUF1RCxvREFBb0Q7QUFDM0c7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBLGNBQWMsNEJBQTRCO0FBQzFDO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkMsWUFBWTtBQUNaO0FBQ0EscUJBQXFCLG9CQUFvQjtBQUN6QyxtQkFBbUIscUJBQXFCO0FBQ3hDLG1CQUFtQjtBQUNuQixvQkFBb0IsR0FBRyxFQUFFLGVBQWU7QUFDeEMsU0FBUztBQUNUO0FBQ0E7QUFDTztBQUNQLDJDQUEyQyxxREFBcUQ7QUFDaEcsZUFBZSw2Q0FBTSxHQUFHO0FBQ3hCLGFBQWEscUVBQWlCLEVBQUUsZ0RBQWdELHFEQUFxRCxFQUFFO0FBQ3ZJO0FBQ0E7QUFDQSxrQkFBa0IsaURBQUc7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxvQkFBb0IsaURBQUc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpREFBRztBQUN6QjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLHdCQUF3QixpREFBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsaURBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxLQUFLLGVBQWUsYUFBYSxFQUFFO0FBQ25DLGVBQWUsOENBQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHVCQUF1QixFQUFFO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUk7QUFDakIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGdDQUFnQyxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMUh2RSxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDb0M7QUFDSDtBQUNlO0FBQ0E7QUFDb0Q7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU8sdUNBQXVDLEVBQUU7QUFDM0QsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRLDRGQUE0RixhQUFhLGdCQUFnQjtBQUM1STtBQUNBLCtGQUErRixzQ0FBc0M7QUFDckk7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGdDQUFnQztBQUM5RCw4QkFBOEIsK0JBQStCO0FBQzdELDhCQUE4Qix5RkFBeUY7QUFDdkgsOEJBQThCLDhEQUE4RDtBQUM1RjtBQUNBO0FBQ0EsTUFBTSxPQUFPO0FBQ2IsTUFBTSxPQUFPO0FBQ2IsTUFBTSxPQUFPO0FBQ2IsTUFBTSxPQUFPLHlDQUF5QyxpQkFBaUIsbUJBQW1CO0FBQzFGLE1BQU0sT0FBTztBQUNiLE1BQU0sT0FBTztBQUNiLE1BQU0sUUFBUTtBQUNkLE1BQU0sUUFBUTtBQUNkLE1BQU0sU0FBUyxzRkFBc0Y7QUFDckcsTUFBTSxTQUFTLDJFQUEyRTtBQUMxRixNQUFNLFFBQVEsb0ZBQW9GLGFBQWEsZ0JBQWdCO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0EsMkJBQTJCLFNBQVM7QUFDcEMsd0JBQXdCLFVBQVU7QUFDbEM7QUFDQTtBQUNBLHFCQUFxQix1QkFBdUIsbUJBQW1CO0FBQy9ELFFBQVE7QUFDUiwrQ0FBK0MsUUFBUSxXQUFXLFFBQVE7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0EsMkJBQTJCLFNBQVM7QUFDcEMsdUJBQXVCLFVBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixZQUFZO0FBQ1osUUFBUTtBQUNSO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0NBQXNDO0FBQ2pEO0FBQ0EsOEJBQThCLFNBQVM7QUFDdkMsdUJBQXVCLFVBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1QkFBdUIsV0FBVztBQUM1RCxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsWUFBWSxXQUFXLFFBQVE7QUFDbEY7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0REFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHVCQUF1Qix5REFBZTtBQUN0QyxpREFBaUQsbUZBQXlDO0FBQzFGO0FBQ0EsaUJBQWlCLGtEQUFXO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDZCQUE2QixlQUFlLGdCQUFnQixHQUFHLEVBQUU7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3QkFBd0IsaUNBQWlDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyw4Q0FBOEMsZUFBZSxZQUFZLEVBQUUsRUFBRTtBQUN4SCxpREFBaUQsU0FBUyw4Q0FBOEMsZUFBZSxZQUFZLEVBQUUsRUFBRTtBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw4Q0FBOEMsZUFBZSxZQUFZLEVBQUUsRUFBRTtBQUNoSCwrQkFBK0IsT0FBTztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLHlCQUF5QjtBQUN6QixtQkFBbUI7QUFDbkIsMkJBQTJCO0FBQzNCO0FBQ0EsWUFBWSxtQ0FBbUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtREFBSyxHQUFHO0FBQzFCO0FBQ0E7QUFDQSxrQkFBa0IsbURBQUssR0FBRztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxxQkFBcUIsdUJBQXVCO0FBQzVDO0FBQ0EsaUVBQWUsV0FBVyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeFJjO0FBQ0Q7QUFDeEM7QUFDQSxXQUFXLHNEQUFVLDRCQUE0QixRQUFRLHFEQUFXLGdCQUFnQixFQUFFO0FBQ3RGO0FBQ0EsaUVBQWUsZUFBZSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDTC9CLGlFQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUJBQWlCLGdCQUFnQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDZEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQSw0QkFBNEIsa0NBQWtDO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYixLQUFLO0FBQ0wsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFzRDtBQUNsRSxZQUFZLHdEQUF3RDtBQUNwRSxZQUFZLGdEQUFnRDtBQUM1RDtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUF1RDtBQUNuRSxZQUFZLHlEQUF5RDtBQUNyRSxZQUFZLDhDQUE4QztBQUMxRDtBQUNBLHlDQUF5QztBQUN6QztBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLE9BQU87QUFDbEI7QUFDTztBQUNQO0FBQ0EsbUNBQW1DLDhCQUE4QixFQUFFO0FBQ25FLGdDQUFnQyxzQkFBc0IsRUFBRTtBQUN4RCx1Q0FBdUMsMEJBQTBCLEVBQUU7QUFDbkU7QUFDQSxpRUFBZSxtQkFBbUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25EbkMsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrRDtBQUNmO0FBQ1U7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixNQUFNO0FBQ2xDLGtEQUFrRCxhQUFhO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw0REFBZTtBQUM1QjtBQUNBO0FBQ0EsS0FBSztBQUNMLG9CQUFvQixrREFBVztBQUMvQiwwQ0FBMEMsNkJBQTZCLFdBQVcsb0JBQW9CLEdBQUcsRUFBRTtBQUMzRyxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQiw4Q0FBTyxjQUFjLDZCQUE2QixXQUFXLHVCQUF1QixHQUFHLEVBQUU7QUFDekcsWUFBWSxnREFBbUIsQ0FBQyw0RUFBMkIsR0FBRyxlQUFlLEVBQUUsZ0RBQWE7QUFDNUY7QUFDQSxpRUFBZSxtQkFBbUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hDbkMsbUJBQW1CLFNBQUksSUFBSSxTQUFJO0FBQy9CLGFBQWEsNkJBQTZCLDBCQUEwQixhQUFhLEVBQUUscUJBQXFCO0FBQ3hHLGdCQUFnQixxREFBcUQsb0VBQW9FLGFBQWEsRUFBRTtBQUN4SixzQkFBc0Isc0JBQXNCLHFCQUFxQixHQUFHO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxrQ0FBa0MsU0FBUztBQUMzQyxrQ0FBa0MsV0FBVyxVQUFVO0FBQ3ZELHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0EsNkdBQTZHLE9BQU8sVUFBVTtBQUM5SCxnRkFBZ0YsaUJBQWlCLE9BQU87QUFDeEcsd0RBQXdELGdCQUFnQixRQUFRLE9BQU87QUFDdkYsOENBQThDLGdCQUFnQixnQkFBZ0IsT0FBTztBQUNyRjtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsU0FBUyxZQUFZLGFBQWEsT0FBTyxFQUFFLFVBQVUsV0FBVztBQUNoRSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ3lFO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFdBQVcsY0FBYyxFQUFFO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwQkFBMEIsRUFBRTtBQUMzRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx5REFBSztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx1REFBRztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9DQUFvQztBQUN4RCxpQkFBaUI7QUFDakIsUUFBUTtBQUNSO0FBQ0E7QUFDQSxvQkFBb0IsaUNBQWlDO0FBQ3JELGlCQUFpQjtBQUNqQixRQUFRO0FBQ1IseUJBQXlCLDBDQUEwQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLHNCQUFzQixHQUFHLDRCQUE0QixJQUFJO0FBQ3pJO0FBQ0EsNkJBQTZCLG9DQUFvQyxzQkFBc0IsU0FBUyw0QkFBNEIsYUFBYTtBQUN6STtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0Ysc0JBQXNCLEdBQUcsNEJBQTRCLElBQUk7QUFDekk7QUFDQSw2QkFBNkIsb0NBQW9DLHNCQUFzQixTQUFTLDRCQUE0QixhQUFhO0FBQ3pJO0FBQ0EsUUFBUTtBQUNSLG9FQUFvRSxzQkFBc0IsR0FBRyw0QkFBNEIsSUFBSTtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDBEQUFNO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHdEQUFJO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSw2QkFBZSxzQ0FBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNkRBQVMsb0JBQW9CLDhDQUE4QyxFQUFFO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeEpBLG1CQUFtQixTQUFJLElBQUksU0FBSTtBQUMvQixhQUFhLDZCQUE2QiwwQkFBMEIsYUFBYSxFQUFFLHFCQUFxQjtBQUN4RyxnQkFBZ0IscURBQXFELG9FQUFvRSxhQUFhLEVBQUU7QUFDeEosc0JBQXNCLHNCQUFzQixxQkFBcUIsR0FBRztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsa0NBQWtDLFNBQVM7QUFDM0Msa0NBQWtDLFdBQVcsVUFBVTtBQUN2RCx5Q0FBeUMsY0FBYztBQUN2RDtBQUNBLDZHQUE2RyxPQUFPLFVBQVU7QUFDOUgsZ0ZBQWdGLGlCQUFpQixPQUFPO0FBQ3hHLHdEQUF3RCxnQkFBZ0IsUUFBUSxPQUFPO0FBQ3ZGLDhDQUE4QyxnQkFBZ0IsZ0JBQWdCLE9BQU87QUFDckY7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLFNBQVMsWUFBWSxhQUFhLE9BQU8sRUFBRSxVQUFVLFdBQVc7QUFDaEUsbUNBQW1DLFNBQVM7QUFDNUM7QUFDQTtBQUN5QztBQUNmO0FBQ1E7QUFDTjtBQUNjO0FBQ0Y7QUFDRjtBQUNOO0FBQ047QUFDMUI7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsaUVBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx1REFBRztBQUNoRCx3QkFBd0IsOENBQUk7QUFDNUIsd0JBQXdCLDhDQUFJO0FBQzVCLHdCQUF3QiwrQ0FBSztBQUM3Qix3QkFBd0Isb0RBQVU7QUFDbEMsd0JBQXdCLHFEQUFXO0FBQ25DLHdCQUF3QixpREFBTztBQUMvQix3QkFBd0Isc0RBQVk7QUFDcEMsd0JBQXdCLGtEQUFRO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxDQUFDLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNURILG1CQUFtQixTQUFJLElBQUksU0FBSTtBQUMvQixhQUFhLDZCQUE2QiwwQkFBMEIsYUFBYSxFQUFFLHFCQUFxQjtBQUN4RyxnQkFBZ0IscURBQXFELG9FQUFvRSxhQUFhLEVBQUU7QUFDeEosc0JBQXNCLHNCQUFzQixxQkFBcUIsR0FBRztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsa0NBQWtDLFNBQVM7QUFDM0Msa0NBQWtDLFdBQVcsVUFBVTtBQUN2RCx5Q0FBeUMsY0FBYztBQUN2RDtBQUNBLDZHQUE2RyxPQUFPLFVBQVU7QUFDOUgsZ0ZBQWdGLGlCQUFpQixPQUFPO0FBQ3hHLHdEQUF3RCxnQkFBZ0IsUUFBUSxPQUFPO0FBQ3ZGLDhDQUE4QyxnQkFBZ0IsZ0JBQWdCLE9BQU87QUFDckY7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLFNBQVMsWUFBWSxhQUFhLE9BQU8sRUFBRSxVQUFVLFdBQVc7QUFDaEUsbUNBQW1DLFNBQVM7QUFDNUM7QUFDQTtBQUNvRjtBQUM3QjtBQUM4QjtBQUNxRDtBQUNwRjtBQUNEO0FBQ3JELGlFQUFnQjtBQUNoQjtBQUNBLDRCQUE0QixhQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHVEQUFHO0FBQ2hELHdCQUF3Qiw2REFBUyxDQUFDLDREQUFVO0FBQzVDLHdCQUF3Qiw2REFBUyxDQUFDLDREQUFVO0FBQzVDLHdCQUF3Qiw2REFBUyxDQUFDLDZEQUFXO0FBQzdDLHdCQUF3Qiw4REFBVSxDQUFDLDhEQUFXO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxDQUFDLEVBQUU7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCw4QkFBOEI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx1REFBRyxFQUFFLE9BQU8sb0VBQWtCLEVBQUU7QUFDekU7QUFDQTtBQUNBLHlDQUF5Qyx3REFBSTtBQUM3QztBQUNBO0FBQ0EseUNBQXlDLHVEQUFHO0FBQzVDLGtDQUFrQyxvRUFBa0I7QUFDcEQ7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDBEQUFNO0FBQ2xDO0FBQ0E7QUFDQSx5Q0FBeUMsdURBQUcsQ0FBQyw0REFBSTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHVEQUFHO0FBQzVDLGtDQUFrQyxvRUFBa0I7QUFDcEQ7QUFDQSxtQ0FBbUMsYUFBYTtBQUNoRCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHVEQUFHLENBQUMsOEVBQWdCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHdEQUFJO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsd0RBQUk7QUFDN0M7QUFDQTtBQUNBLHlDQUF5Qyx1REFBRyxDQUFDLCtEQUFPO0FBQ3BEO0FBQ0Esb0NBQW9DLDhCQUE4QjtBQUNsRSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHVEQUFHLENBQUMsaUVBQVU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsdURBQUcsQ0FBQyw4RUFBZ0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsd0RBQUk7QUFDN0M7QUFDQTtBQUNBLHlDQUF5Qyx1REFBRyxDQUFDLDREQUFJO0FBQ2pEO0FBQ0E7QUFDQSx5Q0FBeUMsdURBQUcsQ0FBQyxpRUFBVTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsd0RBQUk7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywwREFBTTtBQUMvQztBQUNBO0FBQ0EseUNBQXlDLHdEQUFJO0FBQzdDO0FBQ0E7QUFDQSx5Q0FBeUMsdURBQUcsQ0FBQyw0REFBSTtBQUNqRDtBQUNBLG9DQUFvQyw2QkFBNkI7QUFDakUseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx1REFBRyxDQUFDLGlFQUFVO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx1REFBRyxDQUFDLDhFQUFnQjtBQUM3RDtBQUNBO0FBQ0EseUNBQXlDLHVEQUFHLENBQUMsOEVBQWdCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzTkEsbUJBQW1CLFNBQUksSUFBSSxTQUFJO0FBQy9CLGFBQWEsNkJBQTZCLDBCQUEwQixhQUFhLEVBQUUscUJBQXFCO0FBQ3hHLGdCQUFnQixxREFBcUQsb0VBQW9FLGFBQWEsRUFBRTtBQUN4SixzQkFBc0Isc0JBQXNCLHFCQUFxQixHQUFHO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxrQ0FBa0MsU0FBUztBQUMzQyxrQ0FBa0MsV0FBVyxVQUFVO0FBQ3ZELHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0EsNkdBQTZHLE9BQU8sVUFBVTtBQUM5SCxnRkFBZ0YsaUJBQWlCLE9BQU87QUFDeEcsd0RBQXdELGdCQUFnQixRQUFRLE9BQU87QUFDdkYsOENBQThDLGdCQUFnQixnQkFBZ0IsT0FBTztBQUNyRjtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsU0FBUyxZQUFZLGFBQWEsT0FBTyxFQUFFLFVBQVUsV0FBVztBQUNoRSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ3FEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHdEQUFJLFlBQVksaUVBQWlFO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkJBQWUsc0NBQVk7QUFDM0I7QUFDQTtBQUNBLHlDQUF5Qyw2REFBUyxvQkFBb0IsNENBQTRDLEVBQUU7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25EQSxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQUksSUFBSSxTQUFJO0FBQy9CLGFBQWEsNkJBQTZCLDBCQUEwQixhQUFhLEVBQUUscUJBQXFCO0FBQ3hHLGdCQUFnQixxREFBcUQsb0VBQW9FLGFBQWEsRUFBRTtBQUN4SixzQkFBc0Isc0JBQXNCLHFCQUFxQixHQUFHO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxrQ0FBa0MsU0FBUztBQUMzQyxrQ0FBa0MsV0FBVyxVQUFVO0FBQ3ZELHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0EsNkdBQTZHLE9BQU8sVUFBVTtBQUM5SCxnRkFBZ0YsaUJBQWlCLE9BQU87QUFDeEcsd0RBQXdELGdCQUFnQixRQUFRLE9BQU87QUFDdkYsOENBQThDLGdCQUFnQixnQkFBZ0IsT0FBTztBQUNyRjtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsU0FBUyxZQUFZLGFBQWEsT0FBTyxFQUFFLFVBQVUsV0FBVztBQUNoRSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDbUY7QUFDSjtBQUN1SDtBQUN0TTtBQUNBO0FBQ0EsNEJBQTRCLHdCQUF3QjtBQUNwRDtBQUNBLDZEQUE2RCxZQUFZO0FBQ3pFO0FBQ0E7QUFDQSxRQUFRLGtGQUErQztBQUN2RDtBQUNBLDZEQUE2RCxlQUFlO0FBQzVFO0FBQ0E7QUFDQSxRQUFRLDRGQUF5RDtBQUNqRTtBQUNBO0FBQ0EseUNBQXlDLGdDQUFnQyxFQUFFO0FBQzNFLDZEQUE2RCxVQUFVLGNBQWMsUUFBUTtBQUM3RjtBQUNBO0FBQ0EsUUFBUSwwRUFBdUM7QUFDL0M7QUFDQSw2REFBNkQsUUFBUSxlQUFlLEVBQUU7QUFDdEY7QUFDQTtBQUNBLFFBQVEseUVBQXNDO0FBQzlDO0FBQ0EsOERBQThELDBCQUEwQjtBQUN4RjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RTtBQUN2RSx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDBEQUFNLG1CQUFtQixrQ0FBa0MsRUFBRTtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx1REFBRztBQUN4Qyx3QkFBd0IsdURBQUcsRUFBRSx3REFBd0Q7QUFDckYsd0JBQXdCLHVEQUFHLEVBQUUsT0FBTyxpREFBVyxFQUFFO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx3REFBSSxjQUFjLHdEQUFpQjtBQUN4RTtBQUNBO0FBQ0Esb0JBQW9CLElBQXFDO0FBQ3pEO0FBQ0E7QUFDQSxxQ0FBcUMsdURBQUc7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELCtCQUErQix1Q0FBdUMsK0NBQVMsRUFBRTtBQUM1SSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFDQUFxQyx1REFBRyxFQUFFLE9BQU8sK0NBQVMsRUFBRTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHVEQUFHO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELCtCQUErQix1Q0FBdUMsaURBQVcsRUFBRTtBQUM5SSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFDQUFxQyx1REFBRyxFQUFFLE9BQU8saURBQVcsa0JBQWtCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyw2REFBUztBQUNuRDtBQUNBO0FBQ0EscUNBQXFDLHVEQUFHLEVBQUUsT0FBTyxrREFBWSxFQUFFO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPLHlDQUF5Qyx5Q0FBeUM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNkRBQVM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlFQUFlLEtBQUssRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEtyQixtQkFBbUIsU0FBSSxJQUFJLFNBQUk7QUFDL0IsYUFBYSw2QkFBNkIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEcsZ0JBQWdCLHFEQUFxRCxvRUFBb0UsYUFBYSxFQUFFO0FBQ3hKLHNCQUFzQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGtDQUFrQyxTQUFTO0FBQzNDLGtDQUFrQyxXQUFXLFVBQVU7QUFDdkQseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSw2R0FBNkcsT0FBTyxVQUFVO0FBQzlILGdGQUFnRixpQkFBaUIsT0FBTztBQUN4Ryx3REFBd0QsZ0JBQWdCLFFBQVEsT0FBTztBQUN2Riw4Q0FBOEMsZ0JBQWdCLGdCQUFnQixPQUFPO0FBQ3JGO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTLFlBQVksYUFBYSxPQUFPLEVBQUUsVUFBVSxXQUFXO0FBQ2hFLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7QUFDb0Q7QUFDZTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxSUFBcUk7QUFDckk7QUFDQSxxQ0FBcUMsdURBQUcsQ0FBQyw4RUFBZ0I7QUFDekQ7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHlDQUF5Qyx1REFBRyxDQUFDLDhFQUFnQjtBQUM3RDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkJBQWUsc0NBQVk7QUFDM0I7QUFDQTtBQUNBLHlDQUF5Qyw2REFBUztBQUNsRDtBQUNBLG1DQUFtQyxnREFBZ0QsRUFBRTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbEVBLG1CQUFtQixTQUFJLElBQUksU0FBSTtBQUMvQixhQUFhLDZCQUE2QiwwQkFBMEIsYUFBYSxFQUFFLHFCQUFxQjtBQUN4RyxnQkFBZ0IscURBQXFELG9FQUFvRSxhQUFhLEVBQUU7QUFDeEosc0JBQXNCLHNCQUFzQixxQkFBcUIsR0FBRztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsa0NBQWtDLFNBQVM7QUFDM0Msa0NBQWtDLFdBQVcsVUFBVTtBQUN2RCx5Q0FBeUMsY0FBYztBQUN2RDtBQUNBLDZHQUE2RyxPQUFPLFVBQVU7QUFDOUgsZ0ZBQWdGLGlCQUFpQixPQUFPO0FBQ3hHLHdEQUF3RCxnQkFBZ0IsUUFBUSxPQUFPO0FBQ3ZGLDhDQUE4QyxnQkFBZ0IsZ0JBQWdCLE9BQU87QUFDckY7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLFNBQVMsWUFBWSxhQUFhLE9BQU8sRUFBRSxVQUFVLFdBQVc7QUFDaEUsbUNBQW1DLFNBQVM7QUFDNUM7QUFDQTtBQUNvRDtBQUNOO0FBQ1k7QUFDUDtBQUNuRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsdURBQUcsQ0FBQywrREFBVztBQUNwRDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsdURBQUcsQ0FBQyw0REFBSSxDQUFDLGdFQUFpQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2QkFBZSxzQ0FBWTtBQUMzQjtBQUNBO0FBQ0EseUNBQXlDLDZEQUFTO0FBQ2xEO0FBQ0EsbUNBQW1DLHFFQUFxRSxFQUFFO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0RUEsbUJBQW1CLFNBQUksSUFBSSxTQUFJO0FBQy9CLGFBQWEsNkJBQTZCLDBCQUEwQixhQUFhLEVBQUUscUJBQXFCO0FBQ3hHLGdCQUFnQixxREFBcUQsb0VBQW9FLGFBQWEsRUFBRTtBQUN4SixzQkFBc0Isc0JBQXNCLHFCQUFxQixHQUFHO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxrQ0FBa0MsU0FBUztBQUMzQyxrQ0FBa0MsV0FBVyxVQUFVO0FBQ3ZELHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0EsNkdBQTZHLE9BQU8sVUFBVTtBQUM5SCxnRkFBZ0YsaUJBQWlCLE9BQU87QUFDeEcsd0RBQXdELGdCQUFnQixRQUFRLE9BQU87QUFDdkYsOENBQThDLGdCQUFnQixnQkFBZ0IsT0FBTztBQUNyRjtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsU0FBUyxZQUFZLGFBQWEsT0FBTyxFQUFFLFVBQVUsV0FBVztBQUNoRSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ29EO0FBQ0Q7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHVEQUFHLENBQUMsK0RBQVc7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2QkFBZSxzQ0FBWTtBQUMzQjtBQUNBO0FBQ0EseUNBQXlDLDZEQUFTLG9CQUFvQiwyQ0FBMkMsRUFBRTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbkRBLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsU0FBSSxJQUFJLFNBQUk7QUFDL0IsYUFBYSw2QkFBNkIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEcsZ0JBQWdCLHFEQUFxRCxvRUFBb0UsYUFBYSxFQUFFO0FBQ3hKLHNCQUFzQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGtDQUFrQyxTQUFTO0FBQzNDLGtDQUFrQyxXQUFXLFVBQVU7QUFDdkQseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSw2R0FBNkcsT0FBTyxVQUFVO0FBQzlILGdGQUFnRixpQkFBaUIsT0FBTztBQUN4Ryx3REFBd0QsZ0JBQWdCLFFBQVEsT0FBTztBQUN2Riw4Q0FBOEMsZ0JBQWdCLGdCQUFnQixPQUFPO0FBQ3JGO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTLFlBQVksYUFBYSxPQUFPLEVBQUUsVUFBVSxXQUFXO0FBQ2hFLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7QUFDQSxjQUFjLFNBQUksSUFBSSxTQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNnRTtBQUNFO0FBQzBDO0FBQ3pEO0FBQzVDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHVEQUFHLENBQUMseUVBQW1CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx1REFBRyxxQkFBcUIsWUFBWSx1RUFBdUUsd0NBQXdDLG1CQUFtQixHQUFHO0FBQzlNO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx3REFBSTtBQUN6Qyw4QkFBOEIsd0RBQUksQ0FBQyxzREFBSTtBQUN2QyxrQ0FBa0Msd0RBQUksQ0FBQywwREFBUTtBQUMvQyxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFDQUFxQyx1REFBRyxDQUFDLHdFQUFrQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx1REFBRyxxQkFBcUIsWUFBWSwyQkFBMkIsNEJBQTRCLGFBQWEsZ0JBQWdCLGlDQUFpQyxlQUFlLGdCQUFnQixHQUFHLEdBQUc7QUFDbk87QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsdURBQUcsQ0FBQyw4RUFBZ0I7QUFDN0Q7QUFDQTtBQUNBLHFDQUFxQyx1REFBRyxDQUFDLCtEQUFXO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDZEQUFTLENBQUMsMERBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNHQSxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ29DO0FBQ007QUFDSTtBQUNWO0FBQ3NCO0FBQ1A7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxHQUFHLFVBQVUscUJBQXFCLEVBQUU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHdEQUFXO0FBQzlCLGtCQUFrQiw0REFBVSxHQUFHO0FBQy9CLFdBQVcsa0RBQVc7QUFDdEIsa0NBQWtDLGVBQWU7QUFDakQsK0JBQStCLFlBQVk7QUFDM0M7QUFDQTtBQUNBLG9EQUFvRCxzQkFBc0Isa0NBQWtDO0FBQzVHO0FBQ0E7QUFDQSx5QkFBeUIsK0RBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLEVBQUUsa0RBQVMsQ0FBQyxnRUFBaUIscUNBQXFDLGtCQUFrQixxQkFBcUIsVUFBVTtBQUM1SixLQUFLO0FBQ0w7QUFDQSxpRUFBZSxXQUFXLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcERTO0FBQ007QUFDTTtBQUNkO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix3REFBVztBQUM5QixXQUFXLGtEQUFXO0FBQ3RCLFFBQVEsOENBQU87QUFDZixpQkFBaUIsNERBQWtCO0FBQ25DLEtBQUs7QUFDTDtBQUNBLGlFQUFlLGNBQWMsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuQjlCLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDRTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0NBQVE7QUFDckIsWUFBWSxnREFBbUI7QUFDL0IsUUFBUSxnREFBbUIsT0FBTztBQUNsQyxzQ0FBc0MsOEVBQThFLHlCQUF5QixFQUFFLDZCQUE2QiwwQkFBMEIsRUFBRSxFQUFFO0FBQzFNLFlBQVksZ0RBQW1CLFNBQVMsNENBQTRDO0FBQ3BGLFlBQVksZ0RBQW1CO0FBQy9CO0FBQ0E7QUFDQSxpRUFBZ0I7QUFDaEIsV0FBVyxNQUFxQyxJQUFJLENBQWlDLEtBQUssZ0RBQW1CLFNBQVMscUJBQXFCO0FBQzNJLFFBQVEsZ0RBQW1CLFNBQVMscUJBQXFCO0FBQ3pELFlBQVksZ0RBQW1CLFNBQVMsOENBQThDLDJzR0FBMnNHO0FBQ2p5RyxZQUFZLGdEQUFtQjtBQUMvQixZQUFZLGdEQUFtQjtBQUMvQjtBQUNBLGdCQUFnQixnREFBbUI7QUFDbkM7QUFDQSxRQUFRLGdEQUFtQixTQUFTLDBCQUEwQjtBQUM5RCxZQUFZLGdEQUFtQixVQUFVLGdGQUFnRiw4ekVBQTh6RTtBQUN2N0UsWUFBWSxnREFBbUIsVUFBVSxnR0FBZ0csaVZBQWlWO0FBQzFkLFlBQVksZ0RBQW1CLFVBQVUsMEZBQTBGLHNrREFBc2tEO0FBQ3pzRCxDQUFDLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbEZ1QztBQUMxQyxpRUFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFZO0FBQy9CO0FBQ0EsbUJBQW1CLHNEQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakJILGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDeUM7QUFDSjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEI7QUFDQTtBQUNBLDRCQUE0QiwwREFBMEQ7QUFDdEYsd0NBQXdDLFNBQVM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFnQjtBQUNoQixnQ0FBZ0MsY0FBYyw4Q0FBb0IsQ0FBQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxFQUFFLGtEQUF3QixtQkFBbUIsa0ZBQWtGO0FBQzNLLHNEQUFzRCx1REFBUztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCx1REFBUztBQUMvRDtBQUNBO0FBQ0EseUJBQXlCLGFBQWE7QUFDdEMsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxFQUFFLGtEQUF3QiwwQkFBMEI7QUFDaEcsc0RBQXNELHVEQUFTO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx5QkFBeUIsYUFBYTtBQUN0QyxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhLDhCQUE4QixVQUFVO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUIsR0FBRyxFQUFFLEVBQUU7QUFDeEIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSw4Q0FBOEMsaUJBQWlCLGNBQWM7QUFDN0UsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EseUJBQXlCLGFBQWE7QUFDdEMsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWEsOEJBQThCLFVBQVU7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQixHQUFHLEVBQUUsRUFBRTtBQUN4QixTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUMsRUFBRTs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZKSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsWUFBWTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEtBQUs7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsOEJBQThCLEtBQUs7QUFDbkM7QUFDQSxxQkFBcUIsS0FBSyxJQUFJLEdBQUc7QUFDakM7QUFDQSxxQkFBcUIsS0FBSztBQUMxQjtBQUNBO0FBQ0EscUJBQXFCLEtBQUssSUFBSSxHQUFHO0FBQ2pDLHlCQUF5QixLQUFLO0FBQzlCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxLQUFLLCtDQUErQyxZQUFZO0FBQ3pJLHlDQUF5QyxLQUFLLGVBQWUsWUFBWSxHQUFHLEtBQUs7QUFDakYseUVBQXlFLEtBQUssK0NBQStDLFlBQVk7QUFDekkseUNBQXlDLEtBQUssZUFBZSxZQUFZLEdBQUcsS0FBSztBQUNqRjtBQUNBLG9DQUFvQyxLQUFLLElBQUksR0FBRztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnREFBZ0QsS0FBSztBQUNyRCxtREFBbUQsS0FBSztBQUN4RDtBQUNBO0FBQ0EsZ0NBQWdDLFlBQVksR0FBRyxVQUFVLE1BQU0sTUFBTTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGdDQUFnQyxNQUFNLEdBQUcsTUFBTTtBQUMvQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw2Q0FBNkMsWUFBWTtBQUN6RDtBQUNBLDZDQUE2QyxZQUFZO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxrQ0FBa0MsSUFBSTtBQUN0QyxrQ0FBa0MsSUFBSTtBQUN0QywwQ0FBMEMsSUFBSTtBQUM5QyxpQ0FBaUMsSUFBSTtBQUNyQztBQUNBO0FBQ0Esc0NBQXNDLFFBQVE7QUFDOUMsNkRBQTZELFFBQVE7QUFDckUsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLGlFQUFlLGVBQWUsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6SS9CLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQUksSUFBSSxTQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMwRTtBQUN2QztBQUNDO0FBQ2E7QUFDcUI7QUFDbEI7QUFDTDtBQUNEO0FBQ1A7QUFDSTtBQUNjO0FBQ2Q7QUFDM0MsZ0JBQWdCLGlFQUFVLG1CQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLEVBQUUsRUFBRSxHQUFHLGtCQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixZQUFZLGVBQWUsYUFBYTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNkNBQU07QUFDN0I7QUFDQSxtQkFBbUIsOENBQU8sY0FBYyxRQUFRLGlFQUFjLFFBQVEsRUFBRTtBQUN4RTtBQUNBLG9CQUFvQixnREFBWTtBQUNoQyxrQkFBa0IsNERBQVU7QUFDNUIsSUFBSSxnREFBUztBQUNiLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxnREFBbUIsQ0FBQyx3REFBYSxHQUFHLGtCQUFrQjtBQUNsRSxRQUFRLGdEQUFtQixrQkFBa0IsWUFBWSxpREFBVSwyQkFBMkIsU0FBUyxvQkFBb0I7QUFDM0gsWUFBWSxnREFBbUIsQ0FBQyxzREFBSSxHQUFHLDBCQUEwQjtBQUNqRSxnQkFBZ0IsZ0RBQW1CLFNBQVMsNEJBQTRCO0FBQ3hFLG9CQUFvQixnREFBbUIsQ0FBQyxzREFBTSxHQUFHLDBCQUEwQjtBQUMzRSx3QkFBd0IsZ0RBQW1CLENBQUMsNkRBQVE7QUFDcEQ7QUFDQSwyQkFBMkIsb0RBQWE7QUFDeEM7QUFDQTtBQUNBLHFCQUFxQiwwREFBZ0I7QUFDckMsY0FBYyx3REFBYztBQUM1QixhQUFhLDBEQUFnQjtBQUM3QixlQUFlLDBEQUFnQjtBQUMvQixXQUFXLDBEQUFnQjtBQUMzQixtQkFBbUIsMERBQWdCO0FBQ25DO0FBQ0E7QUFDQSxXQUFXLG1EQUFZO0FBQ3ZCLGNBQWMsZ0RBQW1CLENBQUMsZ0RBQWdCO0FBQ2xELGtCQUFrQiwwREFBbUI7QUFDckM7QUFDQSxpRUFBZSxLQUFLLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeElyQixnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDSTtBQUNZO0FBQ3VDO0FBQ2hDO0FBQ3VCO0FBQzdFLGdCQUFnQixpRUFBVSxtQkFBbUI7QUFDN0M7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLEVBQUUsRUFBRSxHQUFHLHNCQUFzQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQW1CLENBQUMsc0RBQVMsWUFBWSw0REFBNEQsc0JBQXNCLGtCQUFrQjtBQUN6SjtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdEQUFlO0FBQzVCLGdCQUFnQixnREFBUTtBQUN4QixvQkFBb0IsZ0RBQVk7QUFDaEMsaUJBQWlCLGdEQUFTO0FBQzFCO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLFlBQVksZ0RBQW1CLENBQUMsa0RBQUksR0FBRztBQUN2QztBQUNBLG9CQUFvQixnREFBbUIsVUFBVSwyQ0FBMkM7QUFDNUYsZ0JBQWdCLGdEQUFtQixTQUFTLDBCQUEwQjtBQUN0RSxvQkFBb0IsZ0RBQW1CLFNBQVMsMkJBQTJCO0FBQzNFLHdCQUF3QixnREFBbUIsQ0FBQyxtREFBSyxHQUFHLCtIQUErSDtBQUNuTCxvQkFBb0IsZ0RBQW1CLFNBQVMsMkJBQTJCO0FBQzNFLHdCQUF3QixnREFBbUIsQ0FBQyxtREFBSyxHQUFHLGtLQUFrSztBQUN0TixnQkFBZ0IsZ0RBQW1CLENBQUMsc0RBQVc7QUFDL0Msb0JBQW9CLGdEQUFtQixDQUFDLHVEQUFNLEdBQUcsdUdBQXVHO0FBQ3hKLG9DQUFvQyxnREFBbUIsQ0FBQyx1REFBZ0IsR0FBRyxrREFBa0Q7QUFDN0g7QUFDQSxTQUFTLEVBQUU7QUFDWDtBQUNBO0FBQ0EsZ0JBQWdCLDBEQUFnQjtBQUNoQztBQUNBLGlFQUFlLFNBQVMsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZHekIsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ0s7QUFDRDtBQUN1QztBQUNwQjtBQUNLO0FBQ3ZCO0FBQ2M7QUFDbEQsZ0JBQWdCLGlFQUFVLG1CQUFtQjtBQUM3QztBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsNkJBQTZCO0FBQ3hDLENBQUMsRUFBRSxFQUFFLEdBQUcsbUJBQW1CO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNkNBQWdCO0FBQ3BDO0FBQ0E7QUFDQSxtQkFBbUIsMERBQWE7QUFDaEM7QUFDQSxLQUFLO0FBQ0wsb0JBQW9CLGdEQUFZO0FBQ2hDLGlCQUFpQixnREFBUztBQUMxQjtBQUNBLHNCQUFzQixrREFBVyxjQUFjLHdDQUF3QyxFQUFFO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQW1CLENBQUMsc0RBQVEsWUFBWSxZQUFZLGlEQUFVLDhHQUE4RztBQUN4TCxRQUFRLGdEQUFtQixDQUFDLHNEQUFZLEdBQUcsMEJBQTBCLGdCQUFnQixnREFBbUIsQ0FBQyx3RUFBUTtBQUNqSDtBQUNBLENBQUM7QUFDRDtBQUNBLGVBQWUsMERBQWdCO0FBQy9CLGdCQUFnQiwwREFBZ0I7QUFDaEMsVUFBVSwyREFBaUI7QUFDM0I7QUFDQSxpRUFBZSxhQUFhLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9EN0IsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ0k7QUFDcUM7QUFDTjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLHFDQUFxQztBQUNoRDtBQUNBLG1DQUFtQyxXQUFXO0FBQzlDO0FBQ0E7QUFDQSx1Q0FBdUMsU0FBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBUyxvQkFBb0IsMEJBQTBCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBbUIsQ0FBQyw4REFBd0IsYUFBYSxjQUFjLGdEQUFtQixDQUFDLGlFQUEyQixhQUFhO0FBQzFKO0FBQ0E7QUFDQSxjQUFjLDBEQUFnQjtBQUM5QixXQUFXLDBEQUFnQjtBQUMzQixjQUFjLDBEQUFnQjtBQUM5QixpQkFBaUIseURBQWlCLENBQUMsdURBQWE7QUFDaEQsY0FBYyx3REFBYztBQUM1QixVQUFVLDJEQUFpQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLGdCQUFnQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoRWhDLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQUksSUFBSSxTQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQjtBQUNZO0FBQ1I7QUFDa0I7QUFDWTtBQUM3QjtBQUNrQjtBQUM4RTtBQUM1RjtBQUNWO0FBQzlCLGdCQUFnQixpRUFBVSxtQkFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLCtFQUFJO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUMsRUFBRSxFQUFFLEdBQUcsd0NBQXdDO0FBQ2hELGtCQUFrQixnREFBbUIsQ0FBQyw4REFBWTtBQUNsRDtBQUNBO0FBQ0EsYUFBYSwrQ0FBUTtBQUNyQjtBQUNBLGlCQUFpQixnREFBUztBQUMxQixzQkFBc0IsZ0RBQWM7QUFDcEMsa0JBQWtCLGdEQUFVO0FBQzVCLG9CQUFvQixnREFBWTtBQUNoQyxtQkFBbUIsNERBQWtCO0FBQ3JDLGFBQWEsaURBQWE7QUFDMUIsZ0JBQWdCLHNEQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBbUIsQ0FBQywyQ0FBUTtBQUN4QyxRQUFRLGdEQUFtQixDQUFDLDZDQUFNLFlBQVksc0VBQXNFO0FBQ3BILFFBQVEsZ0RBQW1CLENBQUMscURBQU8sR0FBRztBQUN0QztBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMERBQW1CO0FBQzFDO0FBQ0EsMkJBQTJCLHlEQUFrQjtBQUM3QyxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWEsdURBQXVEO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMERBQWdCO0FBQzlCLGFBQWEsMERBQWdCO0FBQzdCLGtCQUFrQiwwREFBZ0I7QUFDbEMsb0JBQW9CLDBEQUFnQjtBQUNwQyxXQUFXLDBEQUFnQjtBQUMzQixjQUFjLDBEQUFnQjtBQUM5QixpQkFBaUIseURBQWlCLENBQUMsdURBQWE7QUFDaEQsVUFBVSwyREFBaUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSwyQkFBMkIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkgzQyxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDSTtBQUNrQjtBQUNZO0FBQ1g7QUFDZ0Y7QUFDeEc7QUFDOUIsZ0JBQWdCLGlFQUFVLG1CQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0VBQUk7QUFDakM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQyxFQUFFLEVBQUUsR0FBRyxxQ0FBcUM7QUFDN0M7QUFDQTtBQUNBLHNCQUFzQixnREFBYztBQUNwQztBQUNBLGlCQUFpQixnREFBUztBQUMxQixzQkFBc0IsZ0RBQWM7QUFDcEMsa0JBQWtCLGdEQUFVO0FBQzVCLG1CQUFtQiwyREFBa0I7QUFDckMsYUFBYSxnREFBYTtBQUMxQixnQkFBZ0Isc0RBQWdCO0FBQ2hDO0FBQ0EsdURBQXVELGtDQUFrQztBQUN6RjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBbUIsQ0FBQyw2Q0FBTSxZQUFZLHlGQUF5RjtBQUMzSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBEQUFnQjtBQUM5QixhQUFhLDBEQUFnQjtBQUM3QixXQUFXLDBEQUFnQjtBQUMzQixjQUFjLDBEQUFnQjtBQUM5QixpQkFBaUIseURBQWlCLENBQUMsdURBQWE7QUFDaEQsVUFBVSwyREFBaUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnREFBbUIsQ0FBQywrREFBWTtBQUMxQztBQUNBLGlFQUFlLHdCQUF3QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdGeEMsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ087QUFDSDtBQUNvQjtBQUNEO0FBQ047QUFDWjtBQUNJO0FBQ21CO0FBQ0E7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnREFBWTtBQUNoQyxrQkFBa0IsMERBQWE7QUFDL0I7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLDJEQUFrQjtBQUNyQyxtQkFBbUIsOENBQU8sY0FBYztBQUN4QztBQUNBLGdCQUFnQiw0QkFBNEI7QUFDNUMsS0FBSyxFQUFFLEVBQUU7QUFDVCxzQkFBc0IsZ0RBQW1CLENBQUMsc0RBQUcsWUFBWSxZQUFZLGtEQUFJLCtCQUErQixpREFBVSxzRkFBc0YsRUFBRSxnRUFBdUIsbUJBQW1CLGdEQUFtQixDQUFDLDRDQUFNLFlBQVksWUFBWSxrREFBSSxzRUFBc0U7QUFDaFg7QUFDQSxrQkFBa0IsZ0RBQW1CLENBQUMsMkRBQVU7QUFDaEQsZ0JBQWdCLGtFQUFVLG1CQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQyxFQUFFLEVBQUUsR0FBRyx5QkFBeUI7QUFDakM7QUFDQSxjQUFjLDBEQUFnQjtBQUM5QixhQUFhLDBEQUFnQjtBQUM3QixlQUFlLDBEQUFnQjtBQUMvQixVQUFVLDJEQUFpQjtBQUMzQixXQUFXLDBEQUFnQjtBQUMzQjtBQUNBLGlFQUFlLDJDQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyRkgsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ0s7QUFDRDtBQUNrQjtBQUMwRDtBQUNqRjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdEQUFjO0FBQzNCLG1CQUFtQiwyREFBa0I7QUFDckM7QUFDQSx1QkFBdUIsZ0RBQWU7QUFDdEMsaUJBQWlCLGdEQUFTO0FBQzFCLHNCQUFzQixrREFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0Qyx5QkFBeUIsK0JBQStCO0FBQ3hELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0RBQW1CO0FBQ2xELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFtQixDQUFDLDRDQUFNLFlBQVksNERBQTREO0FBQzlHO0FBQ0Esa0JBQWtCLGdEQUFtQixDQUFDLDhEQUFZO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBEQUFnQjtBQUM5QixjQUFjLHdEQUFjO0FBQzVCLGtCQUFrQiwwREFBZ0I7QUFDbEMsV0FBVywwREFBZ0I7QUFDM0IsZ0JBQWdCLDBEQUFnQjtBQUNoQyxjQUFjLDBEQUFnQjtBQUM5QixVQUFVLHVEQUFlO0FBQ3pCLGVBQWUsMERBQWdCO0FBQy9CLGVBQWUsMERBQWdCO0FBQy9CLEtBQUs7QUFDTCxVQUFVLDJEQUFpQjtBQUMzQjtBQUNBLGlFQUFlLFlBQVksRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeEY1QixnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDRjtBQUNBO0FBQ3lCO0FBQ2I7QUFDRTtBQUNtQjtBQUNyQjtBQUN6QztBQUNBLG9DQUFvQyw0QkFBNEI7QUFDaEUsaUJBQWlCLDJDQUFJO0FBQ3JCO0FBQ0EsaUJBQWlCLHlEQUFnQjtBQUNqQyxnQkFBZ0IsaURBQUc7QUFDbkI7QUFDQSw0QkFBNEIsZ0RBQW1CLENBQUMsaUVBQVUsWUFBWSw0REFBNEQsRUFBRSxnRUFBc0I7QUFDMUo7QUFDQSxZQUFZLGdEQUFtQixDQUFDLHNEQUFJLFlBQVksMEVBQTBFLEVBQUUsZ0VBQXNCO0FBQ2xKLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0RBQWM7QUFDckMsaUVBQWUsVUFBVSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdDMUIsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQjtBQUNLO0FBQ0Q7QUFDVztBQUNjO0FBQ0E7QUFDUTtBQUNaO0FBQ1Y7QUFDUTtBQUNXO0FBQ1I7QUFDQTtBQUNyQjtBQUNHO0FBQ3ZDLGdCQUFnQixpRUFBVSxtQkFBbUI7QUFDN0M7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0VBQUk7QUFDakM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLEVBQUUsRUFBRSxHQUFHLG9CQUFvQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE9BQU87QUFDekIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpWEFBaVg7QUFDalg7QUFDQSxvQkFBb0IsZ0RBQVk7QUFDaEMsd0JBQXdCLGtEQUFXO0FBQ25DO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsc0JBQXNCLGtEQUFXO0FBQ2pDO0FBQ0EsS0FBSztBQUNMLFlBQVksZ0RBQW1CLENBQUMsNkRBQU0sR0FBRyxnR0FBZ0c7QUFDekksUUFBUSxnREFBbUIsQ0FBQyxrRUFBVyxHQUFHLDJCQUEyQiw2QkFBNkIsV0FBVztBQUM3RyxRQUFRLGdEQUFtQixDQUFDLG9FQUFhLHVDQUF1QyxnREFBbUIsQ0FBQyx3RUFBaUIscUNBQXFDLGFBQWE7QUFDdkssUUFBUSxnREFBbUIsQ0FBQyxxRUFBYTtBQUN6QyxZQUFZLGdEQUFtQixDQUFDLDhEQUFNLEdBQUcsc0NBQXNDO0FBQy9FLGdCQUFnQixnREFBbUIsY0FBYyxzQ0FBc0M7QUFDdkYsbUNBQW1DLFlBQVk7QUFDL0MsWUFBWSxnREFBbUIsQ0FBQyw4REFBTSxHQUFHLHVEQUF1RCxpREFBVSx1QkFBdUI7QUFDakk7QUFDQTtBQUNBLDJDQUEyQztBQUMzQyxnQkFBZ0IsZ0RBQW1CLGVBQWUsc0NBQXNDO0FBQ3hGLG9DQUFvQyxhQUFhO0FBQ2pEO0FBQ0E7QUFDQSxZQUFZLDBEQUFnQjtBQUM1QixhQUFhLDBEQUFnQjtBQUM3QixhQUFhLDBEQUFnQjtBQUM3QixrQkFBa0IsMERBQWdCO0FBQ2xDLGlCQUFpQiwrREFBcUI7QUFDdEMsZ0JBQWdCLCtEQUFxQjtBQUNyQyxhQUFhLG1FQUF5QjtBQUN0QyxZQUFZLHdEQUFjO0FBQzFCLGFBQWEsd0RBQWM7QUFDM0IsYUFBYSxtRUFBeUI7QUFDdEMsZUFBZSxtRUFBeUI7QUFDeEMsV0FBVyxxRUFBMkI7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxpQkFBaUIsb0VBQVc7QUFDNUIsZ0JBQWdCLHFFQUFVO0FBQzFCO0FBQ0E7QUFDQSxpRUFBZSxPQUFPLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzlHUTtBQUNJO0FBQ21CO0FBQ2xCO0FBQzhCO0FBQzNCO0FBQ3ZDLGdCQUFnQixpRUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQyxHQUFHLG9CQUFvQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0RBQVk7QUFDaEMsWUFBWSxnREFBbUIsU0FBUyxZQUFZLGlEQUFVLGdDQUFnQztBQUM5RixRQUFRLGdEQUFtQixTQUFTLDZCQUE2QjtBQUNqRSxZQUFZLGdEQUFtQixDQUFDLHVFQUFnQixHQUFHLDRDQUE0QztBQUMvRixZQUFZLGdEQUFtQjtBQUMvQixZQUFZLGdEQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQWdCO0FBQzdCLGVBQWUsMERBQWdCO0FBQy9CLG9CQUFvQiwwREFBZ0I7QUFDcEMsc0JBQXNCLDBEQUFnQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsT0FBTyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeER2QixnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDSTtBQUNpQjtBQUNNO0FBQzFCO0FBQ2hDO0FBQ0E7QUFDQSxZQUFZLGdEQUFtQixDQUFDLHdEQUFhLEdBQUcsZUFBZTtBQUMvRCxRQUFRLGdEQUFtQixDQUFDLDZDQUFPLGFBQWE7QUFDaEQ7QUFDQTtBQUNBLFdBQVcsMERBQWdCO0FBQzNCLGFBQWEsMERBQWdCO0FBQzdCLGVBQWUsMERBQWdCO0FBQy9CLG9CQUFvQiwwREFBZ0I7QUFDcEMsc0JBQXNCLDBEQUFnQjtBQUN0QztBQUNBO0FBQ0EsV0FBVyxpRUFBYyxHQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLFdBQVcsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzVDM0IsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ0k7QUFDVztBQUNRO0FBQ1A7QUFDRTtBQUNiO0FBQ3FCO0FBQzdCO0FBQzVCLGdCQUFnQixpRUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUMsR0FBRyxxQkFBcUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdEQUFZO0FBQ2hDLElBQUksZ0RBQWdCO0FBQ3BCLFlBQVksZ0RBQW1CLGtCQUFrQixZQUFZLGlEQUFVLGdDQUFnQztBQUN2RyxRQUFRLGdEQUFtQixDQUFDLDJDQUFLLEdBQUcsc0JBQXNCO0FBQzFELFFBQVEsZ0RBQW1CLFNBQVMsNkJBQTZCO0FBQ2pFLFlBQVksZ0RBQW1CLENBQUMsOERBQU0sR0FBRywwQkFBMEI7QUFDbkUsWUFBWSxnREFBbUI7QUFDL0IsWUFBWSxnREFBbUI7QUFDL0I7QUFDQTtBQUNBLFFBQVEsZ0RBQW1CLFNBQVMsNkJBQTZCO0FBQ2pFLFlBQVksZ0RBQW1CLENBQUMsNkRBQU0sR0FBRyxrQ0FBa0MsZ0RBQW1CLENBQUMsK0RBQU8sMEJBQTBCO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMERBQWdCO0FBQy9CLGFBQWEsMERBQWdCO0FBQzdCLFdBQVcsMERBQWdCO0FBQzNCLGNBQWMsMERBQWdCO0FBQzlCO0FBQ0EsaUVBQWUsUUFBUSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzVGeEIsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ0k7QUFDYTtBQUNNO0FBQ2xCO0FBQ3BDLGdCQUFnQixpRUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMLENBQUMsR0FBRyx1QkFBdUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBbUIsQ0FBQyw4REFBTyxZQUFZLFlBQVksaURBQVUsMkJBQTJCO0FBQ3BHO0FBQ0E7QUFDQSxjQUFjLHdEQUFjO0FBQzVCLGVBQWUsMERBQWdCO0FBQy9CO0FBQ0EsaUVBQWUsVUFBVSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0QxQixnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDZ0M7QUFDNUI7QUFDQztBQUNZO0FBQ007QUFDQTtBQUNjO0FBQ2Q7QUFDTDtBQUM2QjtBQUNoQztBQUM5QyxnQkFBZ0IsaUVBQVUsbUJBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxrRkFBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUMsRUFBRSxFQUFFLEdBQUcsK0JBQStCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQWM7QUFDM0I7QUFDQSxvQkFBb0IsZ0RBQVk7QUFDaEMsWUFBWSxnREFBbUIsQ0FBQyw4REFBTyxZQUFZLGlEQUFpRCxpREFBVSwwQkFBMEI7QUFDeEk7QUFDQSxrQkFBa0IsRUFBRSw4REFBcUI7QUFDekMsUUFBUSxnREFBbUIsU0FBUywyQkFBMkI7QUFDL0QsWUFBWSxnREFBbUIsQ0FBQyxpRUFBVSxHQUFHLDBKQUEwSjtBQUN2TSxnQkFBZ0IsZ0RBQW1CLENBQUMsOERBQVMsR0FBRyxvQkFBb0I7QUFDcEUsWUFBWSxnREFBbUIsQ0FBQyxrRUFBVSxHQUFHLHlDQUF5QztBQUN0RjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFFBQVEsZ0RBQW1CLENBQUMsd0RBQVUsR0FBRyxnQ0FBZ0MsRUFBRSwrQ0FBWTtBQUN2RixtQkFBbUIscURBQWM7QUFDakMsa0JBQWtCLG1EQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxjQUFjLHdEQUFjO0FBQzVCLGFBQWEsMERBQWdCO0FBQzdCLFdBQVcsMERBQWdCO0FBQzNCO0FBQ0EsaUVBQWUsa0JBQWtCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsR0g7QUFDZ0I7QUFDTztBQUNUO0FBQ29EO0FBQ3hEO0FBQ3pDLGdCQUFnQixpRUFBVSxtQkFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLEVBQUUsRUFBRSxHQUFHLGtCQUFrQjtBQUMxQjtBQUNBLGFBQWEsZ0RBQWM7QUFDM0IsbUJBQW1CLDJEQUFrQjtBQUNyQztBQUNBLG9CQUFvQixnREFBWTtBQUNoQywyQkFBMkIsNERBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtREFBbUQscUJBQXFCO0FBQ3hFO0FBQ0EsWUFBWSxnREFBbUIsQ0FBQywyQ0FBYztBQUM5QyxRQUFRLGdEQUFtQixTQUFTLDZCQUE2QjtBQUNqRSxZQUFZLGdEQUFtQixDQUFDLDZEQUFLLEdBQUcsMEJBQTBCO0FBQ2xFLFlBQVksZ0RBQW1CLENBQUMsc0RBQVUsR0FBRyxpQ0FBaUM7QUFDOUU7QUFDQSxhQUFhO0FBQ2IsMEJBQTBCLGdEQUFtQixDQUFDLHNEQUFVLEdBQUcsbUJBQW1CO0FBQzlFO0FBQ0EsYUFBYTtBQUNiLHNCQUFzQixnREFBbUIsU0FBUyw2QkFBNkI7QUFDL0UsWUFBWSxnREFBbUIsQ0FBQyw0Q0FBWSxHQUFHLDJDQUEyQztBQUMxRjtBQUNBLGlFQUFlLEtBQUssRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaERyQixnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ0k7QUFDNkQ7QUFDaEQ7QUFDZDtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0Esa0JBQWtCO0FBQ2xCLG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFFQUE0QjtBQUNoQywwQkFBMEIsZ0RBQWlCO0FBQzNDLFlBQVksZ0RBQW1CLENBQUMsNENBQW1CLEdBQUcseUJBQXlCO0FBQy9FLFFBQVEsZ0RBQW1CLENBQUMsOENBQVEsYUFBYTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkRBQW1CLEVBQUUsd0RBQWMsRUFBRSwyREFBaUI7QUFDbkUsV0FBVywyREFBaUI7QUFDNUI7QUFDQSx1QkFBdUIsMkRBQW1CLEVBQUUsMkRBQWlCLEVBQUUsd0RBQWM7QUFDN0UsY0FBYywyREFBaUI7QUFDL0IsYUFBYSwwREFBZ0I7QUFDN0IsZUFBZSwwREFBZ0I7QUFDL0IsWUFBWSwwREFBZ0I7QUFDNUIseUJBQXlCLDBEQUFnQjtBQUN6QyxhQUFhLDJEQUFpQjtBQUM5QjtBQUNBLGdCQUFnQiwyREFBbUIsRUFBRSwyREFBaUIsRUFBRSx3REFBYztBQUN0RSxhQUFhLHFFQUEyQjtBQUN4QztBQUNBLFVBQVUsdURBQWU7QUFDekIsZUFBZSwwREFBZ0I7QUFDL0IsZUFBZSwwREFBZ0I7QUFDL0IsS0FBSztBQUNMLFdBQVcsd0RBQWE7QUFDeEI7QUFDQSxrQkFBa0Isd0RBQWM7QUFDaEMsZUFBZSx3REFBYztBQUM3QixhQUFhLHdEQUFjO0FBQzNCLGFBQWEsd0RBQWM7QUFDM0IsYUFBYSx3REFBYztBQUMzQixjQUFjLHVEQUFhO0FBQzNCLFdBQVcsdURBQWE7QUFDeEIsVUFBVSwwREFBZ0I7QUFDMUIsY0FBYywwREFBZ0I7QUFDOUIsc0JBQXNCLHdEQUFjO0FBQ3BDO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGlFQUFlLElBQUksRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5R3BCLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQUksSUFBSSxTQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQjtBQUNlO0FBQ1g7QUFDeUU7QUFDOUQ7QUFDUztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0EsZUFBZSwrQ0FBK0M7QUFDOUQ7QUFDQSxpQ0FBaUMsb0JBQW9CO0FBQ3JEO0FBQ0EsZ0JBQWdCLHdCQUF3QixvQkFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0JBQW9CLEVBQUUsU0FBUztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdEQUFjO0FBQzNCLG1CQUFtQiwyREFBa0I7QUFDckMsb0JBQW9CLDhEQUFxQjtBQUN6QyxXQUFXLDhDQUFPLGNBQWMsU0FBUyxnREFBbUIsQ0FBQyx1REFBVSxZQUFZLHVCQUF1QixFQUFFLDhEQUFxQjtBQUNqSTtBQUNBLFlBQVksbURBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixxQkFBcUIsZ0RBQW1CLENBQUMsNENBQVksR0FBRyxxQkFBcUI7QUFDN0UsK0JBQStCLGdEQUFtQixDQUFDLDRDQUFZLEdBQUcsMkZBQTJGLEtBQUssRUFBRTtBQUNwSztBQUNBO0FBQ0E7QUFDQSxjQUFjLDBEQUFnQjtBQUM5QixlQUFlLDBEQUFnQjtBQUMvQixpQkFBaUIsdURBQWE7QUFDOUIsc0JBQXNCLDBEQUFnQjtBQUN0QyxjQUFjLDJEQUFtQixFQUFFLHdEQUFjLEVBQUUsd0RBQWM7QUFDakUsYUFBYSwyREFBaUI7QUFDOUIsa0JBQWtCLDBEQUFnQjtBQUNsQyxlQUFlLHdEQUFjO0FBQzdCLGNBQWMsMERBQWdCO0FBQzlCLHFCQUFxQixtRUFBeUI7QUFDOUMsaUJBQWlCLHlEQUFpQixDQUFDLHVEQUFhO0FBQ2hELGdCQUFnQix3REFBYztBQUM5QixXQUFXLDBEQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsYUFBYSxFQUFFO0FBQ2pEO0FBQ0EsaUVBQWUsV0FBVyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3RjNCLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQUksSUFBSSxTQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQjtBQUNJO0FBQ1M7QUFDVTtBQUN0RCxnQkFBZ0IsaUVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTCxDQUFDLEdBQUcsd0JBQXdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0RBQW1CLENBQUMsc0RBQU8sR0FBRyw2QkFBNkI7QUFDdkU7QUFDQSxZQUFZLCtDQUFrQiw4QkFBOEIsVUFBVSxrQkFBa0I7QUFDeEYsUUFBUSxnREFBbUI7QUFDM0I7QUFDQSxZQUFZLCtDQUFrQix1Q0FBdUMsVUFBVSwrQ0FBK0M7QUFDOUg7QUFDQTtBQUNBLGFBQWEsMERBQWdCO0FBQzdCLGFBQWEsMkRBQWlCO0FBQzlCO0FBQ0EsYUFBYSwyREFBbUIsRUFBRSx3REFBYyxFQUFFLDJEQUFpQjtBQUNuRTtBQUNBLGNBQWMsMkRBQW1CLEVBQUUsd0RBQWMsRUFBRSx3REFBYztBQUNqRTtBQUNBLGlFQUFlLHVDQUFVLGFBQWEsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkV2QyxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDZ0I7QUFDWjtBQUNPO0FBQ047QUFDa0I7QUFDNEQ7QUFDM0Q7QUFDZjtBQUNnQjtBQUNFO0FBQ0o7QUFDWDtBQUNmO0FBQ3JCO0FBQ1AsK1RBQStULDRDQUFlO0FBQzlVLDBCQUEwQiwrREFBc0IsUUFBUTtBQUN4RCxzQkFBc0IsZ0RBQWM7QUFDcEM7QUFDQTtBQUNBLGtCQUFrQixnREFBVTtBQUM1QjtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFtQixDQUFDLDJDQUFjO0FBQ2xELHFDQUFxQyxnREFBbUIsQ0FBQyxpREFBVyxZQUFZLG1CQUFtQixvQkFBb0IsdUNBQXVDO0FBQzlKLFlBQVksZ0RBQW1CLFNBQVMsMEJBQTBCO0FBQ2xFLGdCQUFnQixnREFBbUIsV0FBVyxZQUFZLGlEQUFVLDBCQUEwQjtBQUM5RjtBQUNBLDRDQUE0QztBQUM1Qyx5RUFBeUUsZ0RBQW1CLENBQUMsd0RBQWtCLGFBQWE7QUFDNUg7QUFDQTtBQUNBLHdCQUF3QixtREFBWSxDQUFDLGdEQUFhLGdDQUFnQyxxQkFBcUIsOENBQThDO0FBQ3JKLGtDQUFrQyxtREFBWTtBQUM5Qyx5QkFBeUIsbURBQVk7QUFDckM7QUFDQTtBQUNBLFlBQVksZ0RBQW1CLGtCQUFrQixZQUFZLGlEQUFVLHdDQUF3QztBQUMvRyxRQUFRLGdEQUFtQixDQUFDLGtEQUFLLEdBQUcsMkNBQTJDO0FBQy9FO0FBQ0EsY0FBYyxtREFBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkRBQW1CLEVBQUUsd0RBQWMsRUFBRSwyREFBaUI7QUFDbkUsV0FBVywyREFBaUI7QUFDNUIsY0FBYywwREFBZ0I7QUFDOUI7QUFDQSx1QkFBdUIsMkRBQW1CLEVBQUUsd0RBQWMsRUFBRSwyREFBaUI7QUFDN0UsY0FBYywyREFBaUI7QUFDL0IsZUFBZSwwREFBZ0I7QUFDL0IsYUFBYSwwREFBZ0I7QUFDN0IsZUFBZSw2Q0FBaUI7QUFDaEM7QUFDQSxpQkFBaUIsdURBQWU7QUFDaEMsZUFBZSxxRUFBMkI7QUFDMUMsZUFBZSxxRUFBMkI7QUFDMUMsS0FBSztBQUNMLFVBQVUsdURBQWE7QUFDdkIsa0JBQWtCLDBEQUFnQjtBQUNsQyxzQkFBc0IsMERBQWdCO0FBQ3RDO0FBQ0EsY0FBYywyREFBbUIsRUFBRSx3REFBYyxFQUFFLHdEQUFjO0FBQ2pFLHlCQUF5QiwwREFBZ0I7QUFDekMsYUFBYSwyREFBaUI7QUFDOUIsa0JBQWtCLDBEQUFnQjtBQUNsQyxlQUFlLHdEQUFjO0FBQzdCLGdCQUFnQix3REFBYztBQUM5QixTQUFTLHlEQUFlO0FBQ3hCLGFBQWEsd0RBQWM7QUFDM0IsY0FBYyx3REFBYztBQUM1QixrQkFBa0Isd0RBQWM7QUFDaEMscUJBQXFCLHdEQUFjO0FBQ25DLFVBQVUsMERBQWdCO0FBQzFCO0FBQ0EsZ0JBQWdCLDJEQUFtQixFQUFFLDJEQUFpQixFQUFFLHdEQUFjO0FBQ3RFLGFBQWEsMERBQWdCO0FBQzdCLGFBQWEsd0RBQWM7QUFDM0IsY0FBYywwREFBZ0I7QUFDOUIsaUJBQWlCLHlEQUFlO0FBQ2hDLGdCQUFnQix3REFBYztBQUM5QixhQUFhLHdEQUFjO0FBQzNCLGdCQUFnQix3REFBYztBQUM5QixhQUFhLHdEQUFjO0FBQzNCLGdCQUFnQix3REFBYztBQUM5QixXQUFXLHdEQUFhO0FBQ3hCLFdBQVcsMERBQWdCO0FBQzNCLGFBQWEsMERBQWdCO0FBQzdCO0FBQ0EsaURBQWlELFFBQVEsZ0RBQW1CLENBQUMsOERBQWdCLGFBQWEsVUFBVTtBQUNwSDtBQUNBLGFBQWEsZ0RBQW1CLENBQUMsa0RBQWM7QUFDL0MsZUFBZTtBQUNmLGVBQWUsNERBQUk7QUFDbkIsdUJBQXVCLGdEQUFtQjtBQUMxQyxnQkFBZ0IsZ0RBQW1CLENBQUMsNERBQWlCO0FBQ3JELFdBQVcsZ0RBQW1CLENBQUMsNENBQUs7QUFDcEM7QUFDQSxnQkFBZ0Isa0VBQVU7QUFDMUI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsb0JBQW9CLGNBQWM7QUFDbEMsS0FBSztBQUNMLENBQUMsR0FBRyxpQkFBaUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxRQUFRLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUpPO0FBQ3VCO0FBQ2xCO0FBQ3BDLGdCQUFnQixpRUFBVSxtQkFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUMsRUFBRSxFQUFFLEdBQUcsd0JBQXdCO0FBQ2hDO0FBQ0E7QUFDQSxZQUFZLGdEQUFtQixVQUFVLFlBQVksaURBQVUsaUNBQWlDO0FBQ2hHO0FBQ0EsaUVBQWUsV0FBVyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2IzQixnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDMEU7QUFDdEU7QUFDMEM7QUFDUTtBQUNqRDtBQUNIO0FBQ1U7QUFDVztBQUNOO0FBQ2dCO0FBQ1o7QUFDWTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLGNBQWMsU0FBUztBQUN2QiwrQkFBK0IsYUFBYTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLGNBQWMsMkJBQTJCO0FBQ3pDO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLHFCQUFxQjtBQUNyQixvQkFBb0I7QUFDcEIsNEJBQTRCO0FBQzVCLHVCQUF1QjtBQUN2QixzQkFBc0I7QUFDdEIsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZDQUFnQjtBQUMvQixrQkFBa0IsMkRBQWlCO0FBQ25DLDBIQUEwSCxnREFBbUIsQ0FBQywyREFBZ0IsVUFBVSxnREFBbUIsQ0FBQyxrREFBWTtBQUN4TSxhQUFhLGdEQUFjO0FBQzNCLGtCQUFrQixnREFBVTtBQUM1Qix1QkFBdUIsOENBQU8sY0FBYyxVQUFVLG1DQUFtQyxFQUFFLEVBQUU7QUFDN0Y7QUFDQTtBQUNBLDZCQUE2QixrREFBVztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMEJBQTBCLGtEQUFXO0FBQ3JDO0FBQ0EscUVBQXFFLDBCQUEwQixFQUFFO0FBQ2pHO0FBQ0EsOENBQThDLGtDQUFrQyxFQUFFO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLDZDQUFNO0FBQzdCLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLLGlDQUFpQztBQUN0QywyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1EQUFLO0FBQ3ZCLGtCQUFrQix3REFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQW1CLENBQUMscURBQWUsR0FBRyxxR0FBcUcsaURBQW9CLHdCQUF3QjtBQUN2TTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrQ0FBa0MsRUFBRTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFtQixDQUFDLDhEQUF1QixHQUFHLHNCQUFzQjtBQUNoRixRQUFRLGdEQUFtQixDQUFDLHVEQUFLLFlBQVksc0JBQXNCLGlEQUFVLHdDQUF3QyxFQUFFLCtEQUFxQjtBQUM1SSxZQUFZLGdEQUFtQixDQUFDLHVEQUFTLEdBQUcsMkJBQTJCO0FBQ3ZFLGdCQUFnQixnREFBbUIsQ0FBQyx1REFBUSxHQUFHLFlBQVksaURBQVUsa0NBQWtDO0FBQ3ZHLCtCQUErQixnREFBbUIsQ0FBQyx1REFBUyxHQUFHLDZCQUE2QixpREFBVSw0Q0FBNEM7QUFDbEosc0RBQXNELGdEQUFtQixDQUFDLHVEQUFTLEdBQUcscURBQXFEO0FBQzNJLHdCQUF3QixnREFBbUIsQ0FBQyx1REFBUSxHQUFHO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw4QkFBOEI7QUFDL0Qsb0JBQW9CLCtDQUFZO0FBQ2hDLCtCQUErQixxREFBYyxXQUFXLGdEQUFtQixDQUFDLHlEQUFrQixHQUFHO0FBQ2pHO0FBQ0EsdUlBQXVJO0FBQ3ZJLHFCQUFxQjtBQUNyQixZQUFZLG1EQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixDQUFDO0FBQ0Q7QUFDQSxjQUFjLDBEQUFnQjtBQUM5QixVQUFVLDJEQUFpQjtBQUMzQixjQUFjLG1FQUF5QjtBQUN2QyxhQUFhLDBEQUFnQjtBQUM3QixlQUFlLDBEQUFnQjtBQUMvQixpQkFBaUIsdURBQWU7QUFDaEMsZUFBZSwwREFBZ0I7QUFDL0IsZUFBZSwwREFBZ0I7QUFDL0IsS0FBSztBQUNMLFVBQVUsdURBQWE7QUFDdkIsV0FBVywyREFBaUI7QUFDNUI7QUFDQSxZQUFZLDJEQUFtQixFQUFFLDJEQUFpQixFQUFFLCtEQUFxQjtBQUN6RSxvQkFBb0Isd0RBQWM7QUFDbEMsV0FBVyx3REFBYztBQUN6QixTQUFTLHlEQUFpQixDQUFDLHVEQUFhO0FBQ3hDLGFBQWEsd0RBQWM7QUFDM0IsY0FBYyx3REFBYztBQUM1QixrQkFBa0Isd0RBQWM7QUFDaEMsY0FBYywwREFBZ0I7QUFDOUIsY0FBYywyREFBbUIsRUFBRSwwREFBZ0IsRUFBRSx3REFBYztBQUNuRSxjQUFjLHdEQUFjO0FBQzVCLGlCQUFpQix5REFBaUIsQ0FBQyx1REFBYTtBQUNoRCxhQUFhLHdEQUFjO0FBQzNCLFdBQVcsMERBQWdCO0FBQzNCLGFBQWEsMERBQWdCO0FBQzdCLHFCQUFxQix3REFBYztBQUNuQyxxQkFBcUIsd0RBQWM7QUFDbkM7QUFDQTtBQUNBLGlFQUFlLFFBQVEsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNQeEIsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ1k7QUFDUjtBQUNXO0FBQ1Y7QUFDTztBQUNrQjtBQUM3RCxtQkFBbUIsNkNBQWdCO0FBQ25DO0FBQ0EsWUFBWSxnREFBbUIsQ0FBQyxzREFBUyxZQUFZLHNCQUFzQixpREFBVSw4QkFBOEI7QUFDbkg7QUFDQSxlQUFlLG1EQUFZO0FBQzNCO0FBQ0E7QUFDQSx1QkFBdUIsaURBQVUsc0JBQXNCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQSxjQUFjLDBEQUFnQjtBQUM5QixhQUFhLHVEQUFhO0FBQzFCLGVBQWUsMERBQWdCO0FBQy9CLGNBQWMsd0RBQWM7QUFDNUI7QUFDQSxVQUFVLHFFQUEyQjtBQUNyQztBQUNBLFlBQVksMkRBQW1CLEVBQUUsMkRBQWlCLEVBQUUsK0RBQXFCO0FBQ3pFLG9CQUFvQixtRUFBeUI7QUFDN0MsV0FBVyx3REFBYztBQUN6QixTQUFTLHlEQUFpQixDQUFDLHVEQUFhO0FBQ3hDLGtCQUFrQix3REFBYztBQUNoQyxjQUFjLDBEQUFnQjtBQUM5QixTQUFTLDJEQUFpQjtBQUMxQixjQUFjLDJEQUFtQixFQUFFLDBEQUFnQixFQUFFLHdEQUFjO0FBQ25FLGNBQWMsd0RBQWM7QUFDNUIsaUJBQWlCLHlEQUFpQixDQUFDLHVEQUFhO0FBQ2hELFlBQVksMERBQWdCO0FBQzVCLHFCQUFxQix3REFBYztBQUNuQztBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTLGdEQUFtQixDQUFDLGlEQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5REFBWTtBQUN2QjtBQUNPLHVCQUF1QiwyQ0FBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnREFBbUIsQ0FBQyx5REFBZTtBQUM1QztBQUNBLGlFQUFlLFlBQVksRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25HNUIsZ0JBQWdCLFNBQUksSUFBSSxTQUFJO0FBQzVCO0FBQ0EsZ0RBQWdELE9BQU87QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ0k7QUFDaUI7QUFDaEI7QUFDcEMsbUJBQW1CLDZDQUFnQjtBQUNuQztBQUNBLFlBQVksZ0RBQW1CLENBQUMsZ0VBQVMsWUFBWSxZQUFZLGlEQUFVLGdGQUFnRixTQUFTLCtDQUFrQjtBQUN0TDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0EsZUFBZSwwREFBZ0I7QUFDL0IsV0FBVywyREFBaUI7QUFDNUI7QUFDQSxZQUFZLDBEQUFnQjtBQUM1QixjQUFjLDBEQUFnQjtBQUM5QixjQUFjLDBEQUFnQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxZQUFZLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUNVO0FBQ3RDLHNCQUFzQixvREFBYSxHQUFHO0FBQ3RDO0FBQ0EsaUVBQWUsZUFBZSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNITDtBQUNzQjtBQUNoRDtBQUNBO0FBQ0EsWUFBWSxnREFBbUIsQ0FBQyw4REFBd0IsR0FBRyxlQUFlO0FBQzFFO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTnZDLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQUksSUFBSSxTQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQjtBQUNGO0FBQ007QUFDQztBQUNtQztBQUNqQjtBQUNrQjtBQUN4RTtBQUNBLGdCQUFnQixpRUFBVTtBQUMxQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQyxHQUFHLCtCQUErQjtBQUM1QjtBQUNQO0FBQ0EsbUJBQW1CLDJEQUFrQjtBQUNyQztBQUNBLG9CQUFvQixnREFBWTtBQUNoQyxZQUFZLGdEQUFtQixDQUFDLHNEQUFTLFlBQVksWUFBWSxpREFBVSx5RkFBeUY7QUFDcEs7QUFDQSxzREFBc0QsZ0RBQW1CLENBQUMsc0RBQU8sR0FBRztBQUNwRjtBQUNBLCtDQUErQztBQUMvQyxRQUFRLGdEQUFtQixDQUFDLHNEQUFjLEdBQUc7QUFDN0MsMlRBQTJUO0FBQzNULFlBQVksZ0RBQW1CLENBQUMsNENBQVUsR0FBRywyRUFBMkUsUUFBUSxnREFBbUIsQ0FBQyw0Q0FBVSxHQUFHLDJFQUEyRTtBQUM1TztBQUNBO0FBQ0EsZUFBZSwwREFBZ0I7QUFDL0IsYUFBYSwwREFBZ0I7QUFDN0IsV0FBVywyREFBaUI7QUFDNUIsaUJBQWlCLHVEQUFlO0FBQ2hDLGNBQWMsMERBQWdCO0FBQzlCLGVBQWUsMERBQWdCO0FBQy9CLEtBQUs7QUFDTCxlQUFlLHdEQUFjO0FBQzdCLGNBQWMsMERBQWdCO0FBQzlCLGdCQUFnQix3REFBYztBQUM5QjtBQUNBLGlFQUFlLDJDQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hFNEI7QUFDRjtBQUNNO0FBQ3lFO0FBQ2pEO0FBQ3ZCO0FBQ0M7QUFDSTtBQUN6QztBQUNBLHVCQUF1QixxQkFBcUIscUJBQXFCLGdCQUFnQixFQUFFO0FBQ25GO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtREFBVTtBQUN2QyxpQ0FBaUMsZ0RBQW1CLENBQUMsc0RBQUssR0FBRyxZQUFZLGlEQUFVLHdDQUF3QztBQUMzSCxRQUFRLGdEQUFtQixDQUFDLHNEQUFTO0FBQ3JDLFlBQVksZ0RBQW1CLENBQUMsc0RBQVEsR0FBRyx5QkFBeUI7QUFDcEUsMkJBQTJCLGdEQUFtQixDQUFDLHNEQUFTLEdBQUcsbURBQW1EO0FBQzlHLG1DQUFtQyxnREFBbUIsQ0FBQyxzREFBUyxHQUFHLHlEQUF5RDtBQUM1SCxvQkFBb0IsZ0RBQW1CLENBQUMsc0RBQVEsR0FBRyw0REFBNEQ7QUFDL0csa0RBQWtELFNBQVMsZ0RBQW1CLENBQUMsc0RBQVMsR0FBRywyREFBMkQ7QUFDdEosb0JBQW9CLGdEQUFtQixDQUFDLGlEQUFXLFVBQVUsRUFBRTtBQUMvRCxRQUFRLGdEQUFtQixDQUFDLHVEQUFTLDRDQUE0QyxTQUFTLGdEQUFtQixDQUFDLHNEQUFRLEdBQUcsb0JBQW9CLDBCQUEwQixFQUFFO0FBQ3pLLHVCQUF1QixnREFBbUIsQ0FBQyxzREFBUyxHQUFHLHFEQUFxRDtBQUM1RyxnQkFBZ0IsZ0RBQW1CLENBQUMsdURBQVUsR0FBRyx5RUFBeUU7QUFDMUgsb0JBQW9CLGdEQUFtQixDQUFDLG1FQUFjO0FBQ3RELCtCQUErQixnREFBbUIsQ0FBQyxzREFBUyxHQUFHLHlEQUF5RDtBQUN4SCxnQkFBZ0IsZ0RBQW1CLENBQUMsc0RBQVEsR0FBRyw0REFBNEQ7QUFDM0csK0NBQStDLFNBQVMsZ0RBQW1CLENBQUMsc0RBQVMsR0FBRyx3Q0FBd0M7QUFDaEksZ0JBQWdCLGdEQUFtQixDQUFDLGlEQUFXLFVBQVUsRUFBRSxJQUFJLEVBQUU7QUFDakU7QUFDQTtBQUNBLGFBQWEsMERBQWdCO0FBQzdCLGVBQWUsMERBQWdCO0FBQy9CLFlBQVksMkRBQW1CLEVBQUUsMkRBQWlCLEVBQUUsK0RBQXFCO0FBQ3pFLG9CQUFvQix3REFBYztBQUNsQyxnQkFBZ0IsMERBQWdCO0FBQ2hDLGlCQUFpQiwwREFBZ0I7QUFDakMsVUFBVSx1REFBZTtBQUN6QjtBQUNBLGlFQUFlLDJDQUFJLGlCQUFpQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeENyQyxnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCLDJCQUEyQiwrREFBK0QsZ0JBQWdCLEVBQUUsRUFBRTtBQUM5RztBQUNBLG1DQUFtQyxNQUFNLDZCQUE2QixFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ2pHLGtDQUFrQyxNQUFNLGlDQUFpQyxFQUFFLFlBQVksV0FBVyxFQUFFO0FBQ3BHLCtCQUErQixxRkFBcUY7QUFDcEg7QUFDQSxLQUFLO0FBQ0w7QUFDQSxtQkFBbUIsU0FBSSxJQUFJLFNBQUk7QUFDL0IsYUFBYSw2QkFBNkIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEcsZ0JBQWdCLHFEQUFxRCxvRUFBb0UsYUFBYSxFQUFFO0FBQ3hKLHNCQUFzQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGtDQUFrQyxTQUFTO0FBQzNDLGtDQUFrQyxXQUFXLFVBQVU7QUFDdkQseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSw2R0FBNkcsT0FBTyxVQUFVO0FBQzlILGdGQUFnRixpQkFBaUIsT0FBTztBQUN4Ryx3REFBd0QsZ0JBQWdCLFFBQVEsT0FBTztBQUN2Riw4Q0FBOEMsZ0JBQWdCLGdCQUFnQixPQUFPO0FBQ3JGO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTLFlBQVksYUFBYSxPQUFPLEVBQUUsVUFBVSxXQUFXO0FBQ2hFLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7QUFDQSxjQUFjLFNBQUksSUFBSSxTQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNvSDtBQUNqRjtBQUNDO0FBQytCO0FBQzZCO0FBQ3JEO0FBQ0c7QUFDSjtBQUNNO0FBQ1U7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1EQUFzQixvQ0FBb0MsZ0JBQWdCLEVBQUU7QUFDeEY7QUFDQSxFQUFFO0FBQ0Ysc0JBQXNCO0FBQ3RCLGtCQUFrQiw2Q0FBZ0I7QUFDbEM7QUFDQSxrQkFBa0IsdUVBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDJEQUFrQjtBQUNyQyxhQUFhLGdEQUFXO0FBQ3hCLGFBQWEsK0NBQVE7QUFDckI7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQiw0REFBVTtBQUM1Qiw2QkFBNkIsa0RBQVc7QUFDeEM7QUFDQTtBQUNBLEtBQUs7QUFDTCxnQ0FBZ0Msa0RBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsc0JBQXNCLGtEQUFXLG1CQUFtQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxnREFBWTtBQUNyRDtBQUNBO0FBQ0EseUNBQXlDLGdEQUFZO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSyxFQUFFLEVBQUU7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFtQixDQUFDLDBEQUFxQixHQUFHLGdCQUFnQjtBQUN4RSxRQUFRLGdEQUFtQixDQUFDLHVEQUFRLFlBQVksNEZBQTRGO0FBQzVJLHVCQUF1QixnREFBbUIsQ0FBQyx1REFBUyxHQUFHLHFEQUFxRCxpQkFBaUIsZ0RBQW1CLENBQUMsc0RBQWUsR0FBRyxxR0FBcUc7QUFDeFEsK0JBQStCLGdEQUFtQixDQUFDLHVEQUFTLEdBQUcsc0JBQXNCLGlCQUFpQixnREFBbUIsQ0FBQyx1REFBUSxHQUFHLG9IQUFvSDtBQUN6UCxZQUFZLCtDQUFrQjtBQUM5Qix1QkFBdUIscURBQWMsV0FBVyxnREFBbUIsQ0FBQyxtREFBWSxZQUFZLDJEQUEyRCxpREFBVSxtRUFBbUUsR0FBRyx1REFBdUQ7QUFDOVIsYUFBYTtBQUNiLG1DQUFtQyxnREFBbUIsQ0FBQyx1REFBUSxHQUFHLDBDQUEwQztBQUM1RyxZQUFZLGdEQUFtQixDQUFDLHVEQUFTLEdBQUcscUJBQXFCLEVBQUUscURBQWM7QUFDakYsa0JBQWtCLG1EQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsa0JBQWtCLG9EQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLENBQUM7QUFDRDtBQUNBLGNBQWMsMERBQWdCO0FBQzlCLGNBQWMsd0RBQWM7QUFDNUIsYUFBYSx1REFBYTtBQUMxQixlQUFlLDBEQUFnQjtBQUMvQjtBQUNBLFlBQVksMkRBQW1CLEVBQUUsMkRBQWlCLEVBQUUsK0RBQXFCO0FBQ3pFLG9CQUFvQixtRUFBeUI7QUFDN0MsV0FBVyx3REFBYztBQUN6QixRQUFRLHVEQUFhO0FBQ3JCLGtCQUFrQix3REFBYztBQUNoQztBQUNBLFlBQVksMERBQWdCO0FBQzVCLGNBQWMsMERBQWdCO0FBQzlCO0FBQ0EsY0FBYywyREFBbUIsRUFBRSwwREFBZ0IsRUFBRSx3REFBYztBQUNuRSxjQUFjLHdEQUFjO0FBQzVCLFdBQVcsMERBQWdCO0FBQzNCLGdCQUFnQix3REFBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseURBQVk7QUFDdkI7QUFDTyxzQkFBc0IsMkNBQUk7QUFDakM7QUFDQSxpRUFBZSxXQUFXLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyTjNCLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQUksSUFBSSxTQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQjtBQUNGO0FBQ3lCO0FBQ0s7QUFDdkI7QUFDRztBQUN2QztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0RBQVk7QUFDaEMsWUFBWSxnREFBbUIsQ0FBQyxpRUFBVSxZQUFZLHFKQUFxSixpREFBVSw2QkFBNkI7QUFDbFA7QUFDQSx5RUFBeUU7QUFDekUsUUFBUSxnREFBbUIsQ0FBQyxrRUFBYztBQUMxQztBQUNBLGlFQUFlLDJDQUFJLGlCQUFpQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JDTztBQUNJO0FBQ1Q7QUFDaEM7QUFDUCxrQkFBa0IsaURBQVUsQ0FBQyxxREFBZTtBQUM1QyxXQUFXLDhDQUFPO0FBQ2xCLGVBQWUsc0RBQVEsR0FBRyxtQkFBbUIseUNBQXlDLEtBQUs7QUFDM0YsS0FBSztBQUNMOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1JzRDtBQUN0RCx3QkFBd0IsaUVBQVUsbUJBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiLGFBQWE7QUFDYixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wsZ0JBQWdCO0FBQ2hCLFdBQVc7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMLGVBQWU7QUFDZixjQUFjO0FBQ2QsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQyxFQUFFLEVBQUUsR0FBRyxxQkFBcUI7QUFDN0IsaUVBQWUsaUJBQWlCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5Q2pDLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQUksSUFBSSxTQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQjtBQUNjO0FBQ1Y7QUFDMEM7QUFDK0I7QUFDakQ7QUFDSjtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdEQUF3QjtBQUNyQyxvQkFBb0IsZ0RBQVk7QUFDaEMsa0JBQWtCLDBEQUFhO0FBQy9CO0FBQ0EsS0FBSztBQUNMLHFCQUFxQiw4Q0FBTztBQUM1QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTCw4QkFBOEIsa0RBQVc7QUFDekM7QUFDQSxLQUFLO0FBQ0wsNkJBQTZCLGtEQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSx5QkFBeUIsZ0RBQW1CLENBQUMsc0RBQU8sR0FBRyxtQkFBbUI7QUFDMUU7QUFDQTtBQUNBLGdCQUFnQixnREFBbUIsQ0FBQyxzREFBZSxZQUFZLGdMQUFnTCxFQUFFLDhEQUFxQjtBQUN0UTtBQUNBLFlBQVksZ0RBQW1CLENBQUMsc0RBQWUsWUFBWSw4VEFBOFQsRUFBRSw4REFBcUI7QUFDaFo7QUFDQTtBQUNBLGFBQWEsNENBQWlCO0FBQzlCLFdBQVcsMkRBQWlCO0FBQzVCLHdCQUF3Qix5REFBaUIsQ0FBQywwREFBZ0I7QUFDMUQ7QUFDQTtBQUNBLGFBQWEsdURBQXdCO0FBQ3JDLFdBQVcsZ0RBQW1CLENBQUMsc0RBQXNCO0FBQ3JEO0FBQ0E7QUFDQSxpRUFBZSx1Q0FBVSxZQUFZLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xGUDtBQUNJO0FBQ1c7QUFDa0I7QUFDUDtBQUNFO0FBQ3BCO0FBQ0g7QUFDcEMsZ0JBQWdCLGlFQUFVLG1CQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxjQUFjO0FBQ2QseUJBQXlCO0FBQ3pCLGFBQWEsbUJBQW1CO0FBQ2hDLENBQUMsRUFBRSxFQUFFLEdBQUcsOEJBQThCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnREFBWTtBQUNoQyxnQkFBZ0IsaUVBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNENBQTRDO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGdEQUFtQixVQUFVLG9EQUFvRCxnQkFBZ0IsZ0RBQW1CLENBQUMsNkRBQU0sR0FBRyx3QkFBd0IsaURBQVUsd0NBQXdDO0FBQzlPO0FBQ0Esc0lBQXNJO0FBQ3RJLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFtQixTQUFTLDZCQUE2QjtBQUN4RTtBQUNBLFlBQVksZ0RBQW1CLFNBQVMsNkJBQTZCO0FBQ3JFLHFCQUFxQixnREFBbUIsQ0FBQyw2REFBTSxHQUFHLHVGQUF1RjtBQUN6SSx5Q0FBeUMsZ0RBQW1CLENBQUMsb0VBQVksWUFBWSxnREFBbUIsQ0FBQyxtRUFBVztBQUNwSDtBQUNBO0FBQ0EsaUNBQWlDLGdEQUFtQixDQUFDLDZEQUFNLEdBQUcsbUZBQW1GO0FBQ2pKO0FBQ0EseUNBQXlDLGdEQUFtQixDQUFDLG1FQUFXLFlBQVksZ0RBQW1CLENBQUMsb0VBQVk7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwREFBZ0I7QUFDekMsV0FBVyxxRUFBMkI7QUFDdEMsYUFBYSwwREFBZ0I7QUFDN0IseUJBQXlCLDBEQUFnQjtBQUN6QyxrQkFBa0IsbUVBQXlCO0FBQzNDLFVBQVUscUVBQTJCO0FBQ3JDLGlCQUFpQixxRUFBMkI7QUFDNUMsV0FBVyx1REFBZTtBQUMxQixVQUFVLHVEQUFlO0FBQ3pCLFdBQVcsMERBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSx1Q0FBVSxtQkFBbUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3SGQ7QUFDRjtBQUMyQjtBQUNGO0FBQ2Y7QUFDdkM7QUFDQSxvQkFBb0IsZ0RBQVk7QUFDaEMsWUFBWSxnREFBbUIsQ0FBQyxrRUFBVztBQUMzQyxRQUFRLGdEQUFtQixDQUFDLGlFQUFVLEdBQUcsbUJBQW1CO0FBQzVEO0FBQ0EsaUVBQWUsMkNBQUksaUJBQWlCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNWTjtBQUNXO0FBQ1Y7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSw0QkFBNEIsZUFBZTtBQUMzQyx3Q0FBd0MsWUFBWTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsNEJBQTRCLGVBQWU7QUFDM0MsWUFBWTtBQUNaLHdEQUF3RCxZQUFZO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0JBQXNCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsbUNBQW1DLGVBQWU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixtQ0FBbUMsY0FBYyxNQUFNLGFBQWEsT0FBTyxZQUFZO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsYUFBb0I7QUFDekM7QUFDQTtBQUNBLDhCQUE4QixhQUFvQjtBQUNsRDtBQUNBO0FBQ0Esa0JBQWtCLGFBQW9CO0FBQ3RDO0FBQ0E7QUFDQSxZQUFZLGdEQUFtQixDQUFDLGtEQUFZLEdBQUcsNkxBQTZMO0FBQzVPLFFBQVEsZ0RBQW1CLENBQUMsNkNBQU8sR0FBRyx1UkFBdVI7QUFDN1Q7QUFDQSxpRUFBZSxLQUFLLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqR3JCLGdCQUFnQixTQUFJLElBQUksU0FBSTtBQUM1QjtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDK0I7QUFDWTtBQUNhO0FBQ3hELHFDQUFxQyxTQUFTLGdEQUFtQixDQUFDLDRDQUFnQixhQUFhLFdBQVc7QUFDMUc7QUFDQSxrQkFBa0IseURBQW1CO0FBQ3JDO0FBQ0E7QUFDQSxpRUFBZSxZQUFZLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbkI1QixnQkFBZ0IsU0FBSSxJQUFJLFNBQUk7QUFDNUI7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytCO0FBQ087QUFDNEQ7QUFDbEcsZ0NBQWdDLFFBQVEsZ0RBQW1CLENBQUMsNENBQVcsYUFBYSxVQUFVO0FBQzlGO0FBQ0EsWUFBWSxxREFBYTtBQUN6QixjQUFjLHFEQUFRO0FBQ3RCLGFBQWEscURBQVc7QUFDeEIsZUFBZSxxREFBSztBQUNwQixZQUFZLHFEQUFNO0FBQ2xCO0FBQ0EsaUVBQWUsT0FBTyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0QjJCO0FBQ0U7QUFDcEQsaUVBQWUseURBQW9CLGNBQWMsUUFBUSx3REFBZSxDQUFDLEVBQUU7QUFDM0U7QUFDQSxDQUFDLENBQUMsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0owRDtBQUM1Qjs7OztBQUlqQyxpRUFBZSxxREFBNkIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0xKIiwiZmlsZSI6InZlbmRvcnMtbm9kZV9tb2R1bGVzX3JhLWNvcmVfZXNtX2NvcmVfUmVzb3VyY2VfanMtbm9kZV9tb2R1bGVzX3JhLWRhdGEtanNvbi1zZXJ2ZXJfZXNtX2luZGV4Xy1hYWQ0YjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgUGFwZXIgZnJvbSAnLi4vUGFwZXInO1xuaW1wb3J0IHdpdGhTdHlsZXMgZnJvbSAnLi4vc3R5bGVzL3dpdGhTdHlsZXMnO1xuZXhwb3J0IHZhciBzdHlsZXMgPSB7XG4gIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQuICovXG4gIHJvb3Q6IHtcbiAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgfVxufTtcbnZhciBDYXJkID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gQ2FyZChwcm9wcywgcmVmKSB7XG4gIHZhciBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIF9wcm9wcyRyYWlzZWQgPSBwcm9wcy5yYWlzZWQsXG4gICAgICByYWlzZWQgPSBfcHJvcHMkcmFpc2VkID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRyYWlzZWQsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wiY2xhc3Nlc1wiLCBcImNsYXNzTmFtZVwiLCBcInJhaXNlZFwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBhcGVyLCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICBlbGV2YXRpb246IHJhaXNlZCA/IDggOiAxLFxuICAgIHJlZjogcmVmXG4gIH0sIG90aGVyKSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENhcmQucHJvcFR5cGVzID0ge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBXYXJuaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHwgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zIHxcbiAgLy8gfCAgICAgVG8gdXBkYXRlIHRoZW0gZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gXCJ5YXJuIHByb3B0eXBlc1wiICAgICB8XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKiBTZWUgW0NTUyBBUEldKCNjc3MpIGJlbG93IGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNhcmQgd2lsbCB1c2UgcmFpc2VkIHN0eWxpbmcuXG4gICAqL1xuICByYWlzZWQ6IFByb3BUeXBlcy5ib29sXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aUNhcmQnXG59KShDYXJkKTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgd2l0aFN0eWxlcyBmcm9tICcuLi9zdHlsZXMvd2l0aFN0eWxlcyc7XG5leHBvcnQgdmFyIHN0eWxlcyA9IHtcbiAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudC4gKi9cbiAgcm9vdDoge1xuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBwYWRkaW5nOiA4XG4gIH0sXG5cbiAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgZGlzYWJsZVNwYWNpbmc9e2ZhbHNlfWAuICovXG4gIHNwYWNpbmc6IHtcbiAgICAnJiA+IDpub3QoOmZpcnN0LWNoaWxkKSc6IHtcbiAgICAgIG1hcmdpbkxlZnQ6IDhcbiAgICB9XG4gIH1cbn07XG52YXIgQ2FyZEFjdGlvbnMgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBDYXJkQWN0aW9ucyhwcm9wcywgcmVmKSB7XG4gIHZhciBfcHJvcHMkZGlzYWJsZVNwYWNpbmcgPSBwcm9wcy5kaXNhYmxlU3BhY2luZyxcbiAgICAgIGRpc2FibGVTcGFjaW5nID0gX3Byb3BzJGRpc2FibGVTcGFjaW5nID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRkaXNhYmxlU3BhY2luZyxcbiAgICAgIGNsYXNzZXMgPSBwcm9wcy5jbGFzc2VzLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImRpc2FibGVTcGFjaW5nXCIsIFwiY2xhc3Nlc1wiLCBcImNsYXNzTmFtZVwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUsICFkaXNhYmxlU3BhY2luZyAmJiBjbGFzc2VzLnNwYWNpbmcpLFxuICAgIHJlZjogcmVmXG4gIH0sIG90aGVyKSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENhcmRBY3Rpb25zLnByb3BUeXBlcyA9IHtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gV2FybmluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB8IFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucyB8XG4gIC8vIHwgICAgIFRvIHVwZGF0ZSB0aGVtIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIFwieWFybiBwcm9wdHlwZXNcIiAgICAgfFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICogU2VlIFtDU1MgQVBJXSgjY3NzKSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBhY3Rpb25zIGRvIG5vdCBoYXZlIGFkZGl0aW9uYWwgbWFyZ2luLlxuICAgKi9cbiAgZGlzYWJsZVNwYWNpbmc6IFByb3BUeXBlcy5ib29sXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aUNhcmRBY3Rpb25zJ1xufSkoQ2FyZEFjdGlvbnMpOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCB3aXRoU3R5bGVzIGZyb20gJy4uL3N0eWxlcy93aXRoU3R5bGVzJztcbmV4cG9ydCB2YXIgc3R5bGVzID0ge1xuICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50LiAqL1xuICByb290OiB7XG4gICAgcGFkZGluZzogMTYsXG4gICAgJyY6bGFzdC1jaGlsZCc6IHtcbiAgICAgIHBhZGRpbmdCb3R0b206IDI0XG4gICAgfVxuICB9XG59O1xudmFyIENhcmRDb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gQ2FyZENvbnRlbnQocHJvcHMsIHJlZikge1xuICB2YXIgY2xhc3NlcyA9IHByb3BzLmNsYXNzZXMsXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBfcHJvcHMkY29tcG9uZW50ID0gcHJvcHMuY29tcG9uZW50LFxuICAgICAgQ29tcG9uZW50ID0gX3Byb3BzJGNvbXBvbmVudCA9PT0gdm9pZCAwID8gJ2RpdicgOiBfcHJvcHMkY29tcG9uZW50LFxuICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImNsYXNzZXNcIiwgXCJjbGFzc05hbWVcIiwgXCJjb21wb25lbnRcIl0pO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgIHJlZjogcmVmXG4gIH0sIG90aGVyKSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENhcmRDb250ZW50LnByb3BUeXBlcyA9IHtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gV2FybmluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB8IFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucyB8XG4gIC8vIHwgICAgIFRvIHVwZGF0ZSB0aGVtIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIFwieWFybiBwcm9wdHlwZXNcIiAgICAgfFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICogU2VlIFtDU1MgQVBJXSgjY3NzKSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlc1xuICAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovXG4gIC5lbGVtZW50VHlwZVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7XG4gIG5hbWU6ICdNdWlDYXJkQ29udGVudCdcbn0pKENhcmRDb250ZW50KTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgeyByZWZUeXBlIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3V0aWxzJztcbmltcG9ydCBTd2l0Y2hCYXNlIGZyb20gJy4uL2ludGVybmFsL1N3aXRjaEJhc2UnO1xuaW1wb3J0IENoZWNrQm94T3V0bGluZUJsYW5rSWNvbiBmcm9tICcuLi9pbnRlcm5hbC9zdmctaWNvbnMvQ2hlY2tCb3hPdXRsaW5lQmxhbmsnO1xuaW1wb3J0IENoZWNrQm94SWNvbiBmcm9tICcuLi9pbnRlcm5hbC9zdmctaWNvbnMvQ2hlY2tCb3gnO1xuaW1wb3J0IHsgZmFkZSB9IGZyb20gJy4uL3N0eWxlcy9jb2xvck1hbmlwdWxhdG9yJztcbmltcG9ydCBJbmRldGVybWluYXRlQ2hlY2tCb3hJY29uIGZyb20gJy4uL2ludGVybmFsL3N2Zy1pY29ucy9JbmRldGVybWluYXRlQ2hlY2tCb3gnO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSAnLi4vdXRpbHMvY2FwaXRhbGl6ZSc7XG5pbXBvcnQgd2l0aFN0eWxlcyBmcm9tICcuLi9zdHlsZXMvd2l0aFN0eWxlcyc7XG5leHBvcnQgdmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQuICovXG4gICAgcm9vdDoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5zZWNvbmRhcnlcbiAgICB9LFxuXG4gICAgLyogUHNldWRvLWNsYXNzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgY2hlY2tlZD17dHJ1ZX1gLiAqL1xuICAgIGNoZWNrZWQ6IHt9LFxuXG4gICAgLyogUHNldWRvLWNsYXNzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgZGlzYWJsZWQ9e3RydWV9YC4gKi9cbiAgICBkaXNhYmxlZDoge30sXG5cbiAgICAvKiBQc2V1ZG8tY2xhc3MgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBpbmRldGVybWluYXRlPXt0cnVlfWAuICovXG4gICAgaW5kZXRlcm1pbmF0ZToge30sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBjb2xvcj1cInByaW1hcnlcImAuICovXG4gICAgY29sb3JQcmltYXJ5OiB7XG4gICAgICAnJiRjaGVja2VkJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogZmFkZSh0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgdGhlbWUucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5KSxcbiAgICAgICAgICAvLyBSZXNldCBvbiB0b3VjaCBkZXZpY2VzLCBpdCBkb2Vzbid0IGFkZCBzcGVjaWZpY2l0eVxuICAgICAgICAgICdAbWVkaWEgKGhvdmVyOiBub25lKSc6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICcmJGRpc2FibGVkJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5hY3Rpb24uZGlzYWJsZWRcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgY29sb3I9XCJzZWNvbmRhcnlcImAuICovXG4gICAgY29sb3JTZWNvbmRhcnk6IHtcbiAgICAgICcmJGNoZWNrZWQnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGZhZGUodGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiwgdGhlbWUucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5KSxcbiAgICAgICAgICAvLyBSZXNldCBvbiB0b3VjaCBkZXZpY2VzLCBpdCBkb2Vzbid0IGFkZCBzcGVjaWZpY2l0eVxuICAgICAgICAgICdAbWVkaWEgKGhvdmVyOiBub25lKSc6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50J1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICcmJGRpc2FibGVkJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5hY3Rpb24uZGlzYWJsZWRcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xudmFyIGRlZmF1bHRDaGVja2VkSWNvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrQm94SWNvbiwgbnVsbCk7XG52YXIgZGVmYXVsdEljb24gPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja0JveE91dGxpbmVCbGFua0ljb24sIG51bGwpO1xudmFyIGRlZmF1bHRJbmRldGVybWluYXRlSWNvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEluZGV0ZXJtaW5hdGVDaGVja0JveEljb24sIG51bGwpO1xudmFyIENoZWNrYm94ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gQ2hlY2tib3gocHJvcHMsIHJlZikge1xuICB2YXIgX3Byb3BzJGNoZWNrZWRJY29uID0gcHJvcHMuY2hlY2tlZEljb24sXG4gICAgICBjaGVja2VkSWNvbiA9IF9wcm9wcyRjaGVja2VkSWNvbiA9PT0gdm9pZCAwID8gZGVmYXVsdENoZWNrZWRJY29uIDogX3Byb3BzJGNoZWNrZWRJY29uLFxuICAgICAgY2xhc3NlcyA9IHByb3BzLmNsYXNzZXMsXG4gICAgICBfcHJvcHMkY29sb3IgPSBwcm9wcy5jb2xvcixcbiAgICAgIGNvbG9yID0gX3Byb3BzJGNvbG9yID09PSB2b2lkIDAgPyAnc2Vjb25kYXJ5JyA6IF9wcm9wcyRjb2xvcixcbiAgICAgIF9wcm9wcyRpY29uID0gcHJvcHMuaWNvbixcbiAgICAgIGljb25Qcm9wID0gX3Byb3BzJGljb24gPT09IHZvaWQgMCA/IGRlZmF1bHRJY29uIDogX3Byb3BzJGljb24sXG4gICAgICBfcHJvcHMkaW5kZXRlcm1pbmF0ZSA9IHByb3BzLmluZGV0ZXJtaW5hdGUsXG4gICAgICBpbmRldGVybWluYXRlID0gX3Byb3BzJGluZGV0ZXJtaW5hdGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGluZGV0ZXJtaW5hdGUsXG4gICAgICBfcHJvcHMkaW5kZXRlcm1pbmF0ZUkgPSBwcm9wcy5pbmRldGVybWluYXRlSWNvbixcbiAgICAgIGluZGV0ZXJtaW5hdGVJY29uUHJvcCA9IF9wcm9wcyRpbmRldGVybWluYXRlSSA9PT0gdm9pZCAwID8gZGVmYXVsdEluZGV0ZXJtaW5hdGVJY29uIDogX3Byb3BzJGluZGV0ZXJtaW5hdGVJLFxuICAgICAgaW5wdXRQcm9wcyA9IHByb3BzLmlucHV0UHJvcHMsXG4gICAgICBfcHJvcHMkc2l6ZSA9IHByb3BzLnNpemUsXG4gICAgICBzaXplID0gX3Byb3BzJHNpemUgPT09IHZvaWQgMCA/ICdtZWRpdW0nIDogX3Byb3BzJHNpemUsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wiY2hlY2tlZEljb25cIiwgXCJjbGFzc2VzXCIsIFwiY29sb3JcIiwgXCJpY29uXCIsIFwiaW5kZXRlcm1pbmF0ZVwiLCBcImluZGV0ZXJtaW5hdGVJY29uXCIsIFwiaW5wdXRQcm9wc1wiLCBcInNpemVcIl0pO1xuXG4gIHZhciBpY29uID0gaW5kZXRlcm1pbmF0ZSA/IGluZGV0ZXJtaW5hdGVJY29uUHJvcCA6IGljb25Qcm9wO1xuICB2YXIgaW5kZXRlcm1pbmF0ZUljb24gPSBpbmRldGVybWluYXRlID8gaW5kZXRlcm1pbmF0ZUljb25Qcm9wIDogY2hlY2tlZEljb247XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTd2l0Y2hCYXNlLCBfZXh0ZW5kcyh7XG4gICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgIGNsYXNzZXM6IHtcbiAgICAgIHJvb3Q6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc2VzW1wiY29sb3JcIi5jb25jYXQoY2FwaXRhbGl6ZShjb2xvcikpXSwgaW5kZXRlcm1pbmF0ZSAmJiBjbGFzc2VzLmluZGV0ZXJtaW5hdGUpLFxuICAgICAgY2hlY2tlZDogY2xhc3Nlcy5jaGVja2VkLFxuICAgICAgZGlzYWJsZWQ6IGNsYXNzZXMuZGlzYWJsZWRcbiAgICB9LFxuICAgIGNvbG9yOiBjb2xvcixcbiAgICBpbnB1dFByb3BzOiBfZXh0ZW5kcyh7XG4gICAgICAnZGF0YS1pbmRldGVybWluYXRlJzogaW5kZXRlcm1pbmF0ZVxuICAgIH0sIGlucHV0UHJvcHMpLFxuICAgIGljb246IC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoaWNvbiwge1xuICAgICAgZm9udFNpemU6IGljb24ucHJvcHMuZm9udFNpemUgPT09IHVuZGVmaW5lZCAmJiBzaXplID09PSBcInNtYWxsXCIgPyBzaXplIDogaWNvbi5wcm9wcy5mb250U2l6ZVxuICAgIH0pLFxuICAgIGNoZWNrZWRJY29uOiAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KGluZGV0ZXJtaW5hdGVJY29uLCB7XG4gICAgICBmb250U2l6ZTogaW5kZXRlcm1pbmF0ZUljb24ucHJvcHMuZm9udFNpemUgPT09IHVuZGVmaW5lZCAmJiBzaXplID09PSBcInNtYWxsXCIgPyBzaXplIDogaW5kZXRlcm1pbmF0ZUljb24ucHJvcHMuZm9udFNpemVcbiAgICB9KSxcbiAgICByZWY6IHJlZlxuICB9LCBvdGhlcikpO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBDaGVja2JveC5wcm9wVHlwZXMgPSB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFdhcm5pbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gfCBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMgfFxuICAvLyB8ICAgICBUbyB1cGRhdGUgdGhlbSBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBcInlhcm4gcHJvcHR5cGVzXCIgICAgIHxcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgaXMgY2hlY2tlZC5cbiAgICovXG4gIGNoZWNrZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBUaGUgaWNvbiB0byBkaXNwbGF5IHdoZW4gdGhlIGNvbXBvbmVudCBpcyBjaGVja2VkLlxuICAgKi9cbiAgY2hlY2tlZEljb246IFByb3BUeXBlcy5ub2RlLFxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqIFNlZSBbQ1NTIEFQSV0oI2NzcykgYmVsb3cgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIFRoZSBjb2xvciBvZiB0aGUgY29tcG9uZW50LiBJdCBzdXBwb3J0cyB0aG9zZSB0aGVtZSBjb2xvcnMgdGhhdCBtYWtlIHNlbnNlIGZvciB0aGlzIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbG9yOiBQcm9wVHlwZXMub25lT2YoWydkZWZhdWx0JywgJ3ByaW1hcnknLCAnc2Vjb25kYXJ5J10pLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjaGVja2JveCB3aWxsIGJlIGRpc2FibGVkLlxuICAgKi9cbiAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSByaXBwbGUgZWZmZWN0IHdpbGwgYmUgZGlzYWJsZWQuXG4gICAqL1xuICBkaXNhYmxlUmlwcGxlOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogVGhlIGljb24gdG8gZGlzcGxheSB3aGVuIHRoZSBjb21wb25lbnQgaXMgdW5jaGVja2VkLlxuICAgKi9cbiAgaWNvbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIFRoZSBpZCBvZiB0aGUgYGlucHV0YCBlbGVtZW50LlxuICAgKi9cbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGNvbXBvbmVudCBhcHBlYXJzIGluZGV0ZXJtaW5hdGUuXG4gICAqIFRoaXMgZG9lcyBub3Qgc2V0IHRoZSBuYXRpdmUgaW5wdXQgZWxlbWVudCB0byBpbmRldGVybWluYXRlIGR1ZVxuICAgKiB0byBpbmNvbnNpc3RlbnQgYmVoYXZpb3IgYWNyb3NzIGJyb3dzZXJzLlxuICAgKiBIb3dldmVyLCB3ZSBzZXQgYSBgZGF0YS1pbmRldGVybWluYXRlYCBhdHRyaWJ1dGUgb24gdGhlIGlucHV0LlxuICAgKi9cbiAgaW5kZXRlcm1pbmF0ZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFRoZSBpY29uIHRvIGRpc3BsYXkgd2hlbiB0aGUgY29tcG9uZW50IGlzIGluZGV0ZXJtaW5hdGUuXG4gICAqL1xuICBpbmRldGVybWluYXRlSWNvbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIFtBdHRyaWJ1dGVzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvaW5wdXQjQXR0cmlidXRlcykgYXBwbGllZCB0byB0aGUgYGlucHV0YCBlbGVtZW50LlxuICAgKi9cbiAgaW5wdXRQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogUGFzcyBhIHJlZiB0byB0aGUgYGlucHV0YCBlbGVtZW50LlxuICAgKi9cbiAgaW5wdXRSZWY6IHJlZlR5cGUsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIHdoZW4gdGhlIHN0YXRlIGlzIGNoYW5nZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBUaGUgZXZlbnQgc291cmNlIG9mIHRoZSBjYWxsYmFjay5cbiAgICogWW91IGNhbiBwdWxsIG91dCB0aGUgbmV3IGNoZWNrZWQgc3RhdGUgYnkgYWNjZXNzaW5nIGBldmVudC50YXJnZXQuY2hlY2tlZGAgKGJvb2xlYW4pLlxuICAgKi9cbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBgaW5wdXRgIGVsZW1lbnQgd2lsbCBiZSByZXF1aXJlZC5cbiAgICovXG4gIHJlcXVpcmVkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGNoZWNrYm94LlxuICAgKiBgc21hbGxgIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGRlbnNlIGNoZWNrYm94IHN0eWxpbmcuXG4gICAqL1xuICBzaXplOiBQcm9wVHlwZXMub25lT2YoWydtZWRpdW0nLCAnc21hbGwnXSksXG5cbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgY29tcG9uZW50LiBUaGUgRE9NIEFQSSBjYXN0cyB0aGlzIHRvIGEgc3RyaW5nLlxuICAgKiBUaGUgYnJvd3NlciB1c2VzIFwib25cIiBhcyB0aGUgZGVmYXVsdCB2YWx1ZS5cbiAgICovXG4gIHZhbHVlOiBQcm9wVHlwZXMuYW55XG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aUNoZWNrYm94J1xufSkoQ2hlY2tib3gpOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgd2l0aFN0eWxlcyBmcm9tICcuLi9zdHlsZXMvd2l0aFN0eWxlcyc7XG5pbXBvcnQgY2FwaXRhbGl6ZSBmcm9tICcuLi91dGlscy9jYXBpdGFsaXplJztcbmltcG9ydCBNb2RhbCBmcm9tICcuLi9Nb2RhbCc7XG5pbXBvcnQgQmFja2Ryb3AgZnJvbSAnLi4vQmFja2Ryb3AnO1xuaW1wb3J0IEZhZGUgZnJvbSAnLi4vRmFkZSc7XG5pbXBvcnQgeyBkdXJhdGlvbiB9IGZyb20gJy4uL3N0eWxlcy90cmFuc2l0aW9ucyc7XG5pbXBvcnQgUGFwZXIgZnJvbSAnLi4vUGFwZXInO1xuZXhwb3J0IHZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50LiAqL1xuICAgIHJvb3Q6IHtcbiAgICAgICdAbWVkaWEgcHJpbnQnOiB7XG4gICAgICAgIC8vIFVzZSAhaW1wb3J0YW50IHRvIG92ZXJyaWRlIHRoZSBNb2RhbCBpbmxpbmUtc3R5bGUuXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUgIWltcG9ydGFudCdcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lciBlbGVtZW50IGlmIGBzY3JvbGw9XCJwYXBlclwiYC4gKi9cbiAgICBzY3JvbGxQYXBlcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lciBlbGVtZW50IGlmIGBzY3JvbGw9XCJib2R5XCJgLiAqL1xuICAgIHNjcm9sbEJvZHk6IHtcbiAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAnJjphZnRlcic6IHtcbiAgICAgICAgY29udGVudDogJ1wiXCInLFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgICAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICB3aWR0aDogJzAnXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIgZWxlbWVudC4gKi9cbiAgICBjb250YWluZXI6IHtcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgJ0BtZWRpYSBwcmludCc6IHtcbiAgICAgICAgaGVpZ2h0OiAnYXV0bydcbiAgICAgIH0sXG4gICAgICAvLyBXZSBkaXNhYmxlIHRoZSBmb2N1cyByaW5nIGZvciBtb3VzZSwgdG91Y2ggYW5kIGtleWJvYXJkIHVzZXJzLlxuICAgICAgb3V0bGluZTogMFxuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgYFBhcGVyYCBjb21wb25lbnQuICovXG4gICAgcGFwZXI6IHtcbiAgICAgIG1hcmdpbjogMzIsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgLy8gRml4IElFIDExIGlzc3VlLCB0byByZW1vdmUgYXQgc29tZSBwb2ludC5cbiAgICAgICdAbWVkaWEgcHJpbnQnOiB7XG4gICAgICAgIG92ZXJmbG93WTogJ3Zpc2libGUnLFxuICAgICAgICBib3hTaGFkb3c6ICdub25lJ1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgYFBhcGVyYCBjb21wb25lbnQgaWYgYHNjcm9sbD1cInBhcGVyXCJgLiAqL1xuICAgIHBhcGVyU2Nyb2xsUGFwZXI6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgbWF4SGVpZ2h0OiAnY2FsYygxMDAlIC0gNjRweCknXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSBgUGFwZXJgIGNvbXBvbmVudCBpZiBgc2Nyb2xsPVwiYm9keVwiYC4gKi9cbiAgICBwYXBlclNjcm9sbEJvZHk6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gICAgICB0ZXh0QWxpZ246ICdsZWZ0JyAvLyAnaW5pdGlhbCcgZG9lc24ndCB3b3JrIG9uIElFIDExXG5cbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIGBQYXBlcmAgY29tcG9uZW50IGlmIGBtYXhXaWR0aD1mYWxzZWAuICovXG4gICAgcGFwZXJXaWR0aEZhbHNlOiB7XG4gICAgICBtYXhXaWR0aDogJ2NhbGMoMTAwJSAtIDY0cHgpJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgYFBhcGVyYCBjb21wb25lbnQgaWYgYG1heFdpZHRoPVwieHNcImAuICovXG4gICAgcGFwZXJXaWR0aFhzOiB7XG4gICAgICBtYXhXaWR0aDogTWF0aC5tYXgodGhlbWUuYnJlYWtwb2ludHMudmFsdWVzLnhzLCA0NDQpLFxuICAgICAgJyYkcGFwZXJTY3JvbGxCb2R5JzogX2RlZmluZVByb3BlcnR5KHt9LCB0aGVtZS5icmVha3BvaW50cy5kb3duKE1hdGgubWF4KHRoZW1lLmJyZWFrcG9pbnRzLnZhbHVlcy54cywgNDQ0KSArIDMyICogMiksIHtcbiAgICAgICAgbWF4V2lkdGg6ICdjYWxjKDEwMCUgLSA2NHB4KSdcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSBgUGFwZXJgIGNvbXBvbmVudCBpZiBgbWF4V2lkdGg9XCJzbVwiYC4gKi9cbiAgICBwYXBlcldpZHRoU206IHtcbiAgICAgIG1heFdpZHRoOiB0aGVtZS5icmVha3BvaW50cy52YWx1ZXMuc20sXG4gICAgICAnJiRwYXBlclNjcm9sbEJvZHknOiBfZGVmaW5lUHJvcGVydHkoe30sIHRoZW1lLmJyZWFrcG9pbnRzLmRvd24odGhlbWUuYnJlYWtwb2ludHMudmFsdWVzLnNtICsgMzIgKiAyKSwge1xuICAgICAgICBtYXhXaWR0aDogJ2NhbGMoMTAwJSAtIDY0cHgpJ1xuICAgICAgfSlcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIGBQYXBlcmAgY29tcG9uZW50IGlmIGBtYXhXaWR0aD1cIm1kXCJgLiAqL1xuICAgIHBhcGVyV2lkdGhNZDoge1xuICAgICAgbWF4V2lkdGg6IHRoZW1lLmJyZWFrcG9pbnRzLnZhbHVlcy5tZCxcbiAgICAgICcmJHBhcGVyU2Nyb2xsQm9keSc6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgdGhlbWUuYnJlYWtwb2ludHMuZG93bih0aGVtZS5icmVha3BvaW50cy52YWx1ZXMubWQgKyAzMiAqIDIpLCB7XG4gICAgICAgIG1heFdpZHRoOiAnY2FsYygxMDAlIC0gNjRweCknXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgYFBhcGVyYCBjb21wb25lbnQgaWYgYG1heFdpZHRoPVwibGdcImAuICovXG4gICAgcGFwZXJXaWR0aExnOiB7XG4gICAgICBtYXhXaWR0aDogdGhlbWUuYnJlYWtwb2ludHMudmFsdWVzLmxnLFxuICAgICAgJyYkcGFwZXJTY3JvbGxCb2R5JzogX2RlZmluZVByb3BlcnR5KHt9LCB0aGVtZS5icmVha3BvaW50cy5kb3duKHRoZW1lLmJyZWFrcG9pbnRzLnZhbHVlcy5sZyArIDMyICogMiksIHtcbiAgICAgICAgbWF4V2lkdGg6ICdjYWxjKDEwMCUgLSA2NHB4KSdcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSBgUGFwZXJgIGNvbXBvbmVudCBpZiBgbWF4V2lkdGg9XCJ4bFwiYC4gKi9cbiAgICBwYXBlcldpZHRoWGw6IHtcbiAgICAgIG1heFdpZHRoOiB0aGVtZS5icmVha3BvaW50cy52YWx1ZXMueGwsXG4gICAgICAnJiRwYXBlclNjcm9sbEJvZHknOiBfZGVmaW5lUHJvcGVydHkoe30sIHRoZW1lLmJyZWFrcG9pbnRzLmRvd24odGhlbWUuYnJlYWtwb2ludHMudmFsdWVzLnhsICsgMzIgKiAyKSwge1xuICAgICAgICBtYXhXaWR0aDogJ2NhbGMoMTAwJSAtIDY0cHgpJ1xuICAgICAgfSlcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIGBQYXBlcmAgY29tcG9uZW50IGlmIGBmdWxsV2lkdGg9e3RydWV9YC4gKi9cbiAgICBwYXBlckZ1bGxXaWR0aDoge1xuICAgICAgd2lkdGg6ICdjYWxjKDEwMCUgLSA2NHB4KSdcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIGBQYXBlcmAgY29tcG9uZW50IGlmIGBmdWxsU2NyZWVuPXt0cnVlfWAuICovXG4gICAgcGFwZXJGdWxsU2NyZWVuOiB7XG4gICAgICBtYXJnaW46IDAsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgbWF4SGVpZ2h0OiAnbm9uZScsXG4gICAgICBib3JkZXJSYWRpdXM6IDAsXG4gICAgICAnJiRwYXBlclNjcm9sbEJvZHknOiB7XG4gICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgbWF4V2lkdGg6ICcxMDAlJ1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG52YXIgZGVmYXVsdFRyYW5zaXRpb25EdXJhdGlvbiA9IHtcbiAgZW50ZXI6IGR1cmF0aW9uLmVudGVyaW5nU2NyZWVuLFxuICBleGl0OiBkdXJhdGlvbi5sZWF2aW5nU2NyZWVuXG59O1xuLyoqXG4gKiBEaWFsb2dzIGFyZSBvdmVybGFpZCBtb2RhbCBwYXBlciBiYXNlZCBjb21wb25lbnRzIHdpdGggYSBiYWNrZHJvcC5cbiAqL1xuXG52YXIgRGlhbG9nID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gRGlhbG9nKHByb3BzLCByZWYpIHtcbiAgdmFyIEJhY2tkcm9wUHJvcHMgPSBwcm9wcy5CYWNrZHJvcFByb3BzLFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGNsYXNzZXMgPSBwcm9wcy5jbGFzc2VzLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgX3Byb3BzJGRpc2FibGVCYWNrZHJvID0gcHJvcHMuZGlzYWJsZUJhY2tkcm9wQ2xpY2ssXG4gICAgICBkaXNhYmxlQmFja2Ryb3BDbGljayA9IF9wcm9wcyRkaXNhYmxlQmFja2RybyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkZGlzYWJsZUJhY2tkcm8sXG4gICAgICBfcHJvcHMkZGlzYWJsZUVzY2FwZUsgPSBwcm9wcy5kaXNhYmxlRXNjYXBlS2V5RG93bixcbiAgICAgIGRpc2FibGVFc2NhcGVLZXlEb3duID0gX3Byb3BzJGRpc2FibGVFc2NhcGVLID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRkaXNhYmxlRXNjYXBlSyxcbiAgICAgIF9wcm9wcyRmdWxsU2NyZWVuID0gcHJvcHMuZnVsbFNjcmVlbixcbiAgICAgIGZ1bGxTY3JlZW4gPSBfcHJvcHMkZnVsbFNjcmVlbiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkZnVsbFNjcmVlbixcbiAgICAgIF9wcm9wcyRmdWxsV2lkdGggPSBwcm9wcy5mdWxsV2lkdGgsXG4gICAgICBmdWxsV2lkdGggPSBfcHJvcHMkZnVsbFdpZHRoID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRmdWxsV2lkdGgsXG4gICAgICBfcHJvcHMkbWF4V2lkdGggPSBwcm9wcy5tYXhXaWR0aCxcbiAgICAgIG1heFdpZHRoID0gX3Byb3BzJG1heFdpZHRoID09PSB2b2lkIDAgPyAnc20nIDogX3Byb3BzJG1heFdpZHRoLFxuICAgICAgb25CYWNrZHJvcENsaWNrID0gcHJvcHMub25CYWNrZHJvcENsaWNrLFxuICAgICAgb25DbG9zZSA9IHByb3BzLm9uQ2xvc2UsXG4gICAgICBvbkVudGVyID0gcHJvcHMub25FbnRlcixcbiAgICAgIG9uRW50ZXJlZCA9IHByb3BzLm9uRW50ZXJlZCxcbiAgICAgIG9uRW50ZXJpbmcgPSBwcm9wcy5vbkVudGVyaW5nLFxuICAgICAgb25Fc2NhcGVLZXlEb3duID0gcHJvcHMub25Fc2NhcGVLZXlEb3duLFxuICAgICAgb25FeGl0ID0gcHJvcHMub25FeGl0LFxuICAgICAgb25FeGl0ZWQgPSBwcm9wcy5vbkV4aXRlZCxcbiAgICAgIG9uRXhpdGluZyA9IHByb3BzLm9uRXhpdGluZyxcbiAgICAgIG9wZW4gPSBwcm9wcy5vcGVuLFxuICAgICAgX3Byb3BzJFBhcGVyQ29tcG9uZW50ID0gcHJvcHMuUGFwZXJDb21wb25lbnQsXG4gICAgICBQYXBlckNvbXBvbmVudCA9IF9wcm9wcyRQYXBlckNvbXBvbmVudCA9PT0gdm9pZCAwID8gUGFwZXIgOiBfcHJvcHMkUGFwZXJDb21wb25lbnQsXG4gICAgICBfcHJvcHMkUGFwZXJQcm9wcyA9IHByb3BzLlBhcGVyUHJvcHMsXG4gICAgICBQYXBlclByb3BzID0gX3Byb3BzJFBhcGVyUHJvcHMgPT09IHZvaWQgMCA/IHt9IDogX3Byb3BzJFBhcGVyUHJvcHMsXG4gICAgICBfcHJvcHMkc2Nyb2xsID0gcHJvcHMuc2Nyb2xsLFxuICAgICAgc2Nyb2xsID0gX3Byb3BzJHNjcm9sbCA9PT0gdm9pZCAwID8gJ3BhcGVyJyA6IF9wcm9wcyRzY3JvbGwsXG4gICAgICBfcHJvcHMkVHJhbnNpdGlvbkNvbXAgPSBwcm9wcy5UcmFuc2l0aW9uQ29tcG9uZW50LFxuICAgICAgVHJhbnNpdGlvbkNvbXBvbmVudCA9IF9wcm9wcyRUcmFuc2l0aW9uQ29tcCA9PT0gdm9pZCAwID8gRmFkZSA6IF9wcm9wcyRUcmFuc2l0aW9uQ29tcCxcbiAgICAgIF9wcm9wcyR0cmFuc2l0aW9uRHVyYSA9IHByb3BzLnRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IF9wcm9wcyR0cmFuc2l0aW9uRHVyYSA9PT0gdm9pZCAwID8gZGVmYXVsdFRyYW5zaXRpb25EdXJhdGlvbiA6IF9wcm9wcyR0cmFuc2l0aW9uRHVyYSxcbiAgICAgIFRyYW5zaXRpb25Qcm9wcyA9IHByb3BzLlRyYW5zaXRpb25Qcm9wcyxcbiAgICAgIGFyaWFEZXNjcmliZWRieSA9IHByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J10sXG4gICAgICBhcmlhTGFiZWxsZWRieSA9IHByb3BzWydhcmlhLWxhYmVsbGVkYnknXSxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJCYWNrZHJvcFByb3BzXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwiZGlzYWJsZUJhY2tkcm9wQ2xpY2tcIiwgXCJkaXNhYmxlRXNjYXBlS2V5RG93blwiLCBcImZ1bGxTY3JlZW5cIiwgXCJmdWxsV2lkdGhcIiwgXCJtYXhXaWR0aFwiLCBcIm9uQmFja2Ryb3BDbGlja1wiLCBcIm9uQ2xvc2VcIiwgXCJvbkVudGVyXCIsIFwib25FbnRlcmVkXCIsIFwib25FbnRlcmluZ1wiLCBcIm9uRXNjYXBlS2V5RG93blwiLCBcIm9uRXhpdFwiLCBcIm9uRXhpdGVkXCIsIFwib25FeGl0aW5nXCIsIFwib3BlblwiLCBcIlBhcGVyQ29tcG9uZW50XCIsIFwiUGFwZXJQcm9wc1wiLCBcInNjcm9sbFwiLCBcIlRyYW5zaXRpb25Db21wb25lbnRcIiwgXCJ0cmFuc2l0aW9uRHVyYXRpb25cIiwgXCJUcmFuc2l0aW9uUHJvcHNcIiwgXCJhcmlhLWRlc2NyaWJlZGJ5XCIsIFwiYXJpYS1sYWJlbGxlZGJ5XCJdKTtcblxuICB2YXIgbW91c2VEb3duVGFyZ2V0ID0gUmVhY3QudXNlUmVmKCk7XG5cbiAgdmFyIGhhbmRsZU1vdXNlRG93biA9IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldmVudCkge1xuICAgIG1vdXNlRG93blRhcmdldC5jdXJyZW50ID0gZXZlbnQudGFyZ2V0O1xuICB9O1xuXG4gIHZhciBoYW5kbGVCYWNrZHJvcENsaWNrID0gZnVuY3Rpb24gaGFuZGxlQmFja2Ryb3BDbGljayhldmVudCkge1xuICAgIC8vIElnbm9yZSB0aGUgZXZlbnRzIG5vdCBjb21pbmcgZnJvbSB0aGUgXCJiYWNrZHJvcFwiXG4gICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBjbG9zZSB0aGUgZGlhbG9nIHdoZW4gY2xpY2tpbmcgdGhlIGRpYWxvZyBjb250ZW50LlxuICAgIGlmIChldmVudC50YXJnZXQgIT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIE1ha2Ugc3VyZSB0aGUgZXZlbnQgc3RhcnRzIGFuZCBlbmRzIG9uIHRoZSBzYW1lIERPTSBlbGVtZW50LlxuXG5cbiAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBtb3VzZURvd25UYXJnZXQuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1vdXNlRG93blRhcmdldC5jdXJyZW50ID0gbnVsbDtcblxuICAgIGlmIChvbkJhY2tkcm9wQ2xpY2spIHtcbiAgICAgIG9uQmFja2Ryb3BDbGljayhldmVudCk7XG4gICAgfVxuXG4gICAgaWYgKCFkaXNhYmxlQmFja2Ryb3BDbGljayAmJiBvbkNsb3NlKSB7XG4gICAgICBvbkNsb3NlKGV2ZW50LCAnYmFja2Ryb3BDbGljaycpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTW9kYWwsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpLFxuICAgIEJhY2tkcm9wQ29tcG9uZW50OiBCYWNrZHJvcCxcbiAgICBCYWNrZHJvcFByb3BzOiBfZXh0ZW5kcyh7XG4gICAgICB0cmFuc2l0aW9uRHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvblxuICAgIH0sIEJhY2tkcm9wUHJvcHMpLFxuICAgIGNsb3NlQWZ0ZXJUcmFuc2l0aW9uOiB0cnVlLFxuICAgIGRpc2FibGVCYWNrZHJvcENsaWNrOiBkaXNhYmxlQmFja2Ryb3BDbGljayxcbiAgICBkaXNhYmxlRXNjYXBlS2V5RG93bjogZGlzYWJsZUVzY2FwZUtleURvd24sXG4gICAgb25Fc2NhcGVLZXlEb3duOiBvbkVzY2FwZUtleURvd24sXG4gICAgb25DbG9zZTogb25DbG9zZSxcbiAgICBvcGVuOiBvcGVuLFxuICAgIHJlZjogcmVmXG4gIH0sIG90aGVyKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNpdGlvbkNvbXBvbmVudCwgX2V4dGVuZHMoe1xuICAgIGFwcGVhcjogdHJ1ZSxcbiAgICBpbjogb3BlbixcbiAgICB0aW1lb3V0OiB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgb25FbnRlcjogb25FbnRlcixcbiAgICBvbkVudGVyaW5nOiBvbkVudGVyaW5nLFxuICAgIG9uRW50ZXJlZDogb25FbnRlcmVkLFxuICAgIG9uRXhpdDogb25FeGl0LFxuICAgIG9uRXhpdGluZzogb25FeGl0aW5nLFxuICAgIG9uRXhpdGVkOiBvbkV4aXRlZCxcbiAgICByb2xlOiBcIm5vbmUgcHJlc2VudGF0aW9uXCJcbiAgfSwgVHJhbnNpdGlvblByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLmNvbnRhaW5lciwgY2xhc3Nlc1tcInNjcm9sbFwiLmNvbmNhdChjYXBpdGFsaXplKHNjcm9sbCkpXSksXG4gICAgb25Nb3VzZVVwOiBoYW5kbGVCYWNrZHJvcENsaWNrLFxuICAgIG9uTW91c2VEb3duOiBoYW5kbGVNb3VzZURvd25cbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUGFwZXJDb21wb25lbnQsIF9leHRlbmRzKHtcbiAgICBlbGV2YXRpb246IDI0LFxuICAgIHJvbGU6IFwiZGlhbG9nXCIsXG4gICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IGFyaWFEZXNjcmliZWRieSxcbiAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBhcmlhTGFiZWxsZWRieVxuICB9LCBQYXBlclByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucGFwZXIsIGNsYXNzZXNbXCJwYXBlclNjcm9sbFwiLmNvbmNhdChjYXBpdGFsaXplKHNjcm9sbCkpXSwgY2xhc3Nlc1tcInBhcGVyV2lkdGhcIi5jb25jYXQoY2FwaXRhbGl6ZShTdHJpbmcobWF4V2lkdGgpKSldLCBQYXBlclByb3BzLmNsYXNzTmFtZSwgZnVsbFNjcmVlbiAmJiBjbGFzc2VzLnBhcGVyRnVsbFNjcmVlbiwgZnVsbFdpZHRoICYmIGNsYXNzZXMucGFwZXJGdWxsV2lkdGgpXG4gIH0pLCBjaGlsZHJlbikpKSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERpYWxvZy5wcm9wVHlwZXMgPSB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFdhcm5pbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gfCBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMgfFxuICAvLyB8ICAgICBUbyB1cGRhdGUgdGhlbSBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBcInlhcm4gcHJvcHR5cGVzXCIgICAgIHxcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8qKlxuICAgKiBUaGUgaWQocykgb2YgdGhlIGVsZW1lbnQocykgdGhhdCBkZXNjcmliZSB0aGUgZGlhbG9nLlxuICAgKi9cbiAgJ2FyaWEtZGVzY3JpYmVkYnknOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgaWQocykgb2YgdGhlIGVsZW1lbnQocykgdGhhdCBsYWJlbCB0aGUgZGlhbG9nLlxuICAgKi9cbiAgJ2FyaWEtbGFiZWxsZWRieSc6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIEJhY2tkcm9wUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIERpYWxvZyBjaGlsZHJlbiwgdXN1YWxseSB0aGUgaW5jbHVkZWQgc3ViLWNvbXBvbmVudHMuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICogU2VlIFtDU1MgQVBJXSgjY3NzKSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIGNsaWNraW5nIHRoZSBiYWNrZHJvcCB3aWxsIG5vdCBmaXJlIHRoZSBgb25DbG9zZWAgY2FsbGJhY2suXG4gICAqL1xuICBkaXNhYmxlQmFja2Ryb3BDbGljazogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgaGl0dGluZyBlc2NhcGUgd2lsbCBub3QgZmlyZSB0aGUgYG9uQ2xvc2VgIGNhbGxiYWNrLlxuICAgKi9cbiAgZGlzYWJsZUVzY2FwZUtleURvd246IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBkaWFsb2cgd2lsbCBiZSBmdWxsLXNjcmVlblxuICAgKi9cbiAgZnVsbFNjcmVlbjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGRpYWxvZyBzdHJldGNoZXMgdG8gYG1heFdpZHRoYC5cbiAgICpcbiAgICogTm90aWNlIHRoYXQgdGhlIGRpYWxvZyB3aWR0aCBncm93IGlzIGxpbWl0ZWQgYnkgdGhlIGRlZmF1bHQgbWFyZ2luLlxuICAgKi9cbiAgZnVsbFdpZHRoOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHRoZSBtYXgtd2lkdGggb2YgdGhlIGRpYWxvZy5cbiAgICogVGhlIGRpYWxvZyB3aWR0aCBncm93cyB3aXRoIHRoZSBzaXplIG9mIHRoZSBzY3JlZW4uXG4gICAqIFNldCB0byBgZmFsc2VgIHRvIGRpc2FibGUgYG1heFdpZHRoYC5cbiAgICovXG4gIG1heFdpZHRoOiBQcm9wVHlwZXMub25lT2YoWydsZycsICdtZCcsICdzbScsICd4bCcsICd4cycsIGZhbHNlXSksXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIHdoZW4gdGhlIGJhY2tkcm9wIGlzIGNsaWNrZWQuXG4gICAqL1xuICBvbkJhY2tkcm9wQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIHRoZSBjb21wb25lbnQgcmVxdWVzdHMgdG8gYmUgY2xvc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgVGhlIGV2ZW50IHNvdXJjZSBvZiB0aGUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gQ2FuIGJlOiBgXCJlc2NhcGVLZXlEb3duXCJgLCBgXCJiYWNrZHJvcENsaWNrXCJgLlxuICAgKi9cbiAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIGJlZm9yZSB0aGUgZGlhbG9nIGVudGVycy5cbiAgICovXG4gIG9uRW50ZXI6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIHRoZSBkaWFsb2cgaGFzIGVudGVyZWQuXG4gICAqL1xuICBvbkVudGVyZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIHRoZSBkaWFsb2cgaXMgZW50ZXJpbmcuXG4gICAqL1xuICBvbkVudGVyaW5nOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgd2hlbiB0aGUgZXNjYXBlIGtleSBpcyBwcmVzc2VkLFxuICAgKiBgZGlzYWJsZUtleWJvYXJkYCBpcyBmYWxzZSBhbmQgdGhlIG1vZGFsIGlzIGluIGZvY3VzLlxuICAgKi9cbiAgb25Fc2NhcGVLZXlEb3duOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgYmVmb3JlIHRoZSBkaWFsb2cgZXhpdHMuXG4gICAqL1xuICBvbkV4aXQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIHRoZSBkaWFsb2cgaGFzIGV4aXRlZC5cbiAgICovXG4gIG9uRXhpdGVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgd2hlbiB0aGUgZGlhbG9nIGlzIGV4aXRpbmcuXG4gICAqL1xuICBvbkV4aXRpbmc6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBEaWFsb2cgaXMgb3Blbi5cbiAgICovXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCB0byByZW5kZXIgdGhlIGJvZHkgb2YgdGhlIGRpYWxvZy5cbiAgICovXG4gIFBhcGVyQ29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG5cbiAgLyoqXG4gICAqIFByb3BzIGFwcGxpZWQgdG8gdGhlIFtgUGFwZXJgXSgvYXBpL3BhcGVyLykgZWxlbWVudC5cbiAgICovXG4gIFBhcGVyUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIERldGVybWluZSB0aGUgY29udGFpbmVyIGZvciBzY3JvbGxpbmcgdGhlIGRpYWxvZy5cbiAgICovXG4gIHNjcm9sbDogUHJvcFR5cGVzLm9uZU9mKFsnYm9keScsICdwYXBlciddKSxcblxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCB1c2VkIGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICogW0ZvbGxvdyB0aGlzIGd1aWRlXSgvY29tcG9uZW50cy90cmFuc2l0aW9ucy8jdHJhbnNpdGlvbmNvbXBvbmVudC1wcm9wKSB0byBsZWFybiBtb3JlIGFib3V0IHRoZSByZXF1aXJlbWVudHMgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgKi9cbiAgVHJhbnNpdGlvbkNvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuXG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gZm9yIHRoZSB0cmFuc2l0aW9uLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqIFlvdSBtYXkgc3BlY2lmeSBhIHNpbmdsZSB0aW1lb3V0IGZvciBhbGwgdHJhbnNpdGlvbnMsIG9yIGluZGl2aWR1YWxseSB3aXRoIGFuIG9iamVjdC5cbiAgICovXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBhcHBlYXI6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZW50ZXI6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZXhpdDogUHJvcFR5cGVzLm51bWJlclxuICB9KV0pLFxuXG4gIC8qKlxuICAgKiBQcm9wcyBhcHBsaWVkIHRvIHRoZSBbYFRyYW5zaXRpb25gXShodHRwOi8vcmVhY3Rjb21tdW5pdHkub3JnL3JlYWN0LXRyYW5zaXRpb24tZ3JvdXAvdHJhbnNpdGlvbiNUcmFuc2l0aW9uLXByb3BzKSBlbGVtZW50LlxuICAgKi9cbiAgVHJhbnNpdGlvblByb3BzOiBQcm9wVHlwZXMub2JqZWN0XG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aURpYWxvZydcbn0pKERpYWxvZyk7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHdpdGhTdHlsZXMgZnJvbSAnLi4vc3R5bGVzL3dpdGhTdHlsZXMnO1xuZXhwb3J0IHZhciBzdHlsZXMgPSB7XG4gIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQuICovXG4gIHJvb3Q6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgcGFkZGluZzogOCxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICBmbGV4OiAnMCAwIGF1dG8nXG4gIH0sXG5cbiAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgZGlzYWJsZVNwYWNpbmc9e2ZhbHNlfWAuICovXG4gIHNwYWNpbmc6IHtcbiAgICAnJiA+IDpub3QoOmZpcnN0LWNoaWxkKSc6IHtcbiAgICAgIG1hcmdpbkxlZnQ6IDhcbiAgICB9XG4gIH1cbn07XG52YXIgRGlhbG9nQWN0aW9ucyA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIERpYWxvZ0FjdGlvbnMocHJvcHMsIHJlZikge1xuICB2YXIgX3Byb3BzJGRpc2FibGVTcGFjaW5nID0gcHJvcHMuZGlzYWJsZVNwYWNpbmcsXG4gICAgICBkaXNhYmxlU3BhY2luZyA9IF9wcm9wcyRkaXNhYmxlU3BhY2luZyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkZGlzYWJsZVNwYWNpbmcsXG4gICAgICBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJkaXNhYmxlU3BhY2luZ1wiLCBcImNsYXNzZXNcIiwgXCJjbGFzc05hbWVcIl0pO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lLCAhZGlzYWJsZVNwYWNpbmcgJiYgY2xhc3Nlcy5zcGFjaW5nKSxcbiAgICByZWY6IHJlZlxuICB9LCBvdGhlcikpO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEaWFsb2dBY3Rpb25zLnByb3BUeXBlcyA9IHtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gV2FybmluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB8IFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucyB8XG4gIC8vIHwgICAgIFRvIHVwZGF0ZSB0aGVtIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIFwieWFybiBwcm9wdHlwZXNcIiAgICAgfFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICogU2VlIFtDU1MgQVBJXSgjY3NzKSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBhY3Rpb25zIGRvIG5vdCBoYXZlIGFkZGl0aW9uYWwgbWFyZ2luLlxuICAgKi9cbiAgZGlzYWJsZVNwYWNpbmc6IFByb3BUeXBlcy5ib29sXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aURpYWxvZ0FjdGlvbnMnXG59KShEaWFsb2dBY3Rpb25zKTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgd2l0aFN0eWxlcyBmcm9tICcuLi9zdHlsZXMvd2l0aFN0eWxlcyc7XG5leHBvcnQgdmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQuICovXG4gICAgcm9vdDoge1xuICAgICAgZmxleDogJzEgMSBhdXRvJyxcbiAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuICAgICAgLy8gQWRkIGlPUyBtb21lbnR1bSBzY3JvbGxpbmcuXG4gICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgIHBhZGRpbmc6ICc4cHggMjRweCcsXG4gICAgICAnJjpmaXJzdC1jaGlsZCc6IHtcbiAgICAgICAgLy8gZGlhbG9nIHdpdGhvdXQgdGl0bGVcbiAgICAgICAgcGFkZGluZ1RvcDogMjBcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgZGl2aWRlcnM9e3RydWV9YC4gKi9cbiAgICBkaXZpZGVyczoge1xuICAgICAgcGFkZGluZzogJzE2cHggMjRweCcsXG4gICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkIFwiLmNvbmNhdCh0aGVtZS5wYWxldHRlLmRpdmlkZXIpLFxuICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZCBcIi5jb25jYXQodGhlbWUucGFsZXR0ZS5kaXZpZGVyKVxuICAgIH1cbiAgfTtcbn07XG52YXIgRGlhbG9nQ29udGVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIERpYWxvZ0NvbnRlbnQocHJvcHMsIHJlZikge1xuICB2YXIgY2xhc3NlcyA9IHByb3BzLmNsYXNzZXMsXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBfcHJvcHMkZGl2aWRlcnMgPSBwcm9wcy5kaXZpZGVycyxcbiAgICAgIGRpdmlkZXJzID0gX3Byb3BzJGRpdmlkZXJzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRkaXZpZGVycyxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJjbGFzc2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwiZGl2aWRlcnNcIl0pO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lLCBkaXZpZGVycyAmJiBjbGFzc2VzLmRpdmlkZXJzKSxcbiAgICByZWY6IHJlZlxuICB9LCBvdGhlcikpO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBEaWFsb2dDb250ZW50LnByb3BUeXBlcyA9IHtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gV2FybmluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB8IFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucyB8XG4gIC8vIHwgICAgIFRvIHVwZGF0ZSB0aGVtIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIFwieWFybiBwcm9wdHlwZXNcIiAgICAgfFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICogU2VlIFtDU1MgQVBJXSgjY3NzKSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBEaXNwbGF5IHRoZSB0b3AgYW5kIGJvdHRvbSBkaXZpZGVycy5cbiAgICovXG4gIGRpdmlkZXJzOiBQcm9wVHlwZXMuYm9vbFxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7XG4gIG5hbWU6ICdNdWlEaWFsb2dDb250ZW50J1xufSkoRGlhbG9nQ29udGVudCk7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHdpdGhTdHlsZXMgZnJvbSAnLi4vc3R5bGVzL3dpdGhTdHlsZXMnO1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnLi4vVHlwb2dyYXBoeSc7XG5leHBvcnQgdmFyIHN0eWxlcyA9IHtcbiAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudC4gKi9cbiAgcm9vdDoge1xuICAgIG1hcmdpbkJvdHRvbTogMTJcbiAgfVxufTtcbnZhciBEaWFsb2dDb250ZW50VGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIERpYWxvZ0NvbnRlbnRUZXh0KHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIF9leHRlbmRzKHtcbiAgICBjb21wb25lbnQ6IFwicFwiLFxuICAgIHZhcmlhbnQ6IFwiYm9keTFcIixcbiAgICBjb2xvcjogXCJ0ZXh0U2Vjb25kYXJ5XCIsXG4gICAgcmVmOiByZWZcbiAgfSwgcHJvcHMpKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGlhbG9nQ29udGVudFRleHQucHJvcFR5cGVzID0ge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBXYXJuaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHwgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zIHxcbiAgLy8gfCAgICAgVG8gdXBkYXRlIHRoZW0gZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gXCJ5YXJuIHByb3B0eXBlc1wiICAgICB8XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKiBTZWUgW0NTUyBBUEldKCNjc3MpIGJlbG93IGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0XG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aURpYWxvZ0NvbnRlbnRUZXh0J1xufSkoRGlhbG9nQ29udGVudFRleHQpOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCB3aXRoU3R5bGVzIGZyb20gJy4uL3N0eWxlcy93aXRoU3R5bGVzJztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJy4uL1R5cG9ncmFwaHknO1xuZXhwb3J0IHZhciBzdHlsZXMgPSB7XG4gIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQuICovXG4gIHJvb3Q6IHtcbiAgICBtYXJnaW46IDAsXG4gICAgcGFkZGluZzogJzE2cHggMjRweCcsXG4gICAgZmxleDogJzAgMCBhdXRvJ1xuICB9XG59O1xudmFyIERpYWxvZ1RpdGxlID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gRGlhbG9nVGl0bGUocHJvcHMsIHJlZikge1xuICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGNsYXNzZXMgPSBwcm9wcy5jbGFzc2VzLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgX3Byb3BzJGRpc2FibGVUeXBvZ3JhID0gcHJvcHMuZGlzYWJsZVR5cG9ncmFwaHksXG4gICAgICBkaXNhYmxlVHlwb2dyYXBoeSA9IF9wcm9wcyRkaXNhYmxlVHlwb2dyYSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkZGlzYWJsZVR5cG9ncmEsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwiZGlzYWJsZVR5cG9ncmFwaHlcIl0pO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICByZWY6IHJlZlxuICB9LCBvdGhlciksIGRpc2FibGVUeXBvZ3JhcGh5ID8gY2hpbGRyZW4gOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgY29tcG9uZW50OiBcImgyXCIsXG4gICAgdmFyaWFudDogXCJoNlwiXG4gIH0sIGNoaWxkcmVuKSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IERpYWxvZ1RpdGxlLnByb3BUeXBlcyA9IHtcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gV2FybmluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyB8IFRoZXNlIFByb3BUeXBlcyBhcmUgZ2VuZXJhdGVkIGZyb20gdGhlIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucyB8XG4gIC8vIHwgICAgIFRvIHVwZGF0ZSB0aGVtIGVkaXQgdGhlIGQudHMgZmlsZSBhbmQgcnVuIFwieWFybiBwcm9wdHlwZXNcIiAgICAgfFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICogU2VlIFtDU1MgQVBJXSgjY3NzKSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjaGlsZHJlbiB3b24ndCBiZSB3cmFwcGVkIGJ5IGEgdHlwb2dyYXBoeSBjb21wb25lbnQuXG4gICAqIEZvciBpbnN0YW5jZSwgdGhpcyBjYW4gYmUgdXNlZnVsIHRvIHJlbmRlciBhbiBoNCBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IGgyLlxuICAgKi9cbiAgZGlzYWJsZVR5cG9ncmFwaHk6IFByb3BUeXBlcy5ib29sXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aURpYWxvZ1RpdGxlJ1xufSkoRGlhbG9nVGl0bGUpOyIsImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCB3aXRoU3R5bGVzIGZyb20gJy4uL3N0eWxlcy93aXRoU3R5bGVzJztcbmltcG9ydCBCdXR0b25CYXNlIGZyb20gJy4uL0J1dHRvbkJhc2UnO1xuaW1wb3J0IGNhcGl0YWxpemUgZnJvbSAnLi4vdXRpbHMvY2FwaXRhbGl6ZSc7XG5leHBvcnQgdmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQuICovXG4gICAgcm9vdDogX2V4dGVuZHMoe30sIHRoZW1lLnR5cG9ncmFwaHkuYnV0dG9uLCB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIG1pbkhlaWdodDogMzYsXG4gICAgICB0cmFuc2l0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoWydiYWNrZ3JvdW5kLWNvbG9yJywgJ2JveC1zaGFkb3cnLCAnYm9yZGVyJ10sIHtcbiAgICAgICAgZHVyYXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0XG4gICAgICB9KSxcbiAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgbWluV2lkdGg6IDAsXG4gICAgICB3aWR0aDogNTYsXG4gICAgICBoZWlnaHQ6IDU2LFxuICAgICAgYm94U2hhZG93OiB0aGVtZS5zaGFkb3dzWzZdLFxuICAgICAgJyY6YWN0aXZlJzoge1xuICAgICAgICBib3hTaGFkb3c6IHRoZW1lLnNoYWRvd3NbMTJdXG4gICAgICB9LFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHRoZW1lLnBhbGV0dGUuZ3JleVszMDBdKSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5ncmV5WzMwMF0sXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmdyZXkuQTEwMCxcbiAgICAgICAgLy8gUmVzZXQgb24gdG91Y2ggZGV2aWNlcywgaXQgZG9lc24ndCBhZGQgc3BlY2lmaWNpdHlcbiAgICAgICAgJ0BtZWRpYSAoaG92ZXI6IG5vbmUpJzoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5ncmV5WzMwMF1cbiAgICAgICAgfSxcbiAgICAgICAgJyYkZGlzYWJsZWQnOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZEJhY2tncm91bmRcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJ1xuICAgICAgfSxcbiAgICAgICcmJGZvY3VzVmlzaWJsZSc6IHtcbiAgICAgICAgYm94U2hhZG93OiB0aGVtZS5zaGFkb3dzWzZdXG4gICAgICB9LFxuICAgICAgJyYkZGlzYWJsZWQnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZCxcbiAgICAgICAgYm94U2hhZG93OiB0aGVtZS5zaGFkb3dzWzBdLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkQmFja2dyb3VuZFxuICAgICAgfVxuICAgIH0pLFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHNwYW4gZWxlbWVudCB0aGF0IHdyYXBzIHRoZSBjaGlsZHJlbi4gKi9cbiAgICBsYWJlbDoge1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIC8vIGFzc3VyZSB0aGUgY29ycmVjdCB3aWR0aCBmb3IgaU9TIFNhZmFyaVxuICAgICAgZGlzcGxheTogJ2luaGVyaXQnLFxuICAgICAgYWxpZ25JdGVtczogJ2luaGVyaXQnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdpbmhlcml0J1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBjb2xvcj1cInByaW1hcnlcImAuICovXG4gICAgcHJpbWFyeToge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5jb250cmFzdFRleHQsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5LmRhcmssXG4gICAgICAgIC8vIFJlc2V0IG9uIHRvdWNoIGRldmljZXMsIGl0IGRvZXNuJ3QgYWRkIHNwZWNpZmljaXR5XG4gICAgICAgICdAbWVkaWEgKGhvdmVyOiBub25lKSc6IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgY29sb3I9XCJzZWNvbmRhcnlcImAuICovXG4gICAgc2Vjb25kYXJ5OiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkuY29udHJhc3RUZXh0LFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkuZGFyayxcbiAgICAgICAgLy8gUmVzZXQgb24gdG91Y2ggZGV2aWNlcywgaXQgZG9lc24ndCBhZGQgc3BlY2lmaWNpdHlcbiAgICAgICAgJ0BtZWRpYSAoaG92ZXI6IG5vbmUpJzoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYHZhcmlhbnQ9XCJleHRlbmRlZFwiYC4gKi9cbiAgICBleHRlbmRlZDoge1xuICAgICAgYm9yZGVyUmFkaXVzOiA0OCAvIDIsXG4gICAgICBwYWRkaW5nOiAnMCAxNnB4JyxcbiAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICBtaW5IZWlnaHQ6ICdhdXRvJyxcbiAgICAgIG1pbldpZHRoOiA0OCxcbiAgICAgIGhlaWdodDogNDgsXG4gICAgICAnJiRzaXplU21hbGwnOiB7XG4gICAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgIHBhZGRpbmc6ICcwIDhweCcsXG4gICAgICAgIGJvcmRlclJhZGl1czogMzQgLyAyLFxuICAgICAgICBtaW5XaWR0aDogMzQsXG4gICAgICAgIGhlaWdodDogMzRcbiAgICAgIH0sXG4gICAgICAnJiRzaXplTWVkaXVtJzoge1xuICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICBwYWRkaW5nOiAnMCAxNnB4JyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiA0MCAvIDIsXG4gICAgICAgIG1pbldpZHRoOiA0MCxcbiAgICAgICAgaGVpZ2h0OiA0MFxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiBQc2V1ZG8tY2xhc3MgYXBwbGllZCB0byB0aGUgQnV0dG9uQmFzZSByb290IGVsZW1lbnQgaWYgdGhlIGJ1dHRvbiBpcyBrZXlib2FyZCBmb2N1c2VkLiAqL1xuICAgIGZvY3VzVmlzaWJsZToge30sXG5cbiAgICAvKiBQc2V1ZG8tY2xhc3MgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBkaXNhYmxlZD17dHJ1ZX1gLiAqL1xuICAgIGRpc2FibGVkOiB7fSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGNvbG9yPVwiaW5oZXJpdFwiYC4gKi9cbiAgICBjb2xvckluaGVyaXQ6IHtcbiAgICAgIGNvbG9yOiAnaW5oZXJpdCdcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgc2l6ZT1cInNtYWxsXCJgYC4gKi9cbiAgICBzaXplU21hbGw6IHtcbiAgICAgIHdpZHRoOiA0MCxcbiAgICAgIGhlaWdodDogNDBcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgc2l6ZT1cIm1lZGl1bVwiYGAuICovXG4gICAgc2l6ZU1lZGl1bToge1xuICAgICAgd2lkdGg6IDQ4LFxuICAgICAgaGVpZ2h0OiA0OFxuICAgIH1cbiAgfTtcbn07XG52YXIgRmFiID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gRmFiKHByb3BzLCByZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIF9wcm9wcyRjb2xvciA9IHByb3BzLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcHJvcHMkY29sb3IgPT09IHZvaWQgMCA/ICdkZWZhdWx0JyA6IF9wcm9wcyRjb2xvcixcbiAgICAgIF9wcm9wcyRjb21wb25lbnQgPSBwcm9wcy5jb21wb25lbnQsXG4gICAgICBjb21wb25lbnQgPSBfcHJvcHMkY29tcG9uZW50ID09PSB2b2lkIDAgPyAnYnV0dG9uJyA6IF9wcm9wcyRjb21wb25lbnQsXG4gICAgICBfcHJvcHMkZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIGRpc2FibGVkID0gX3Byb3BzJGRpc2FibGVkID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRkaXNhYmxlZCxcbiAgICAgIF9wcm9wcyRkaXNhYmxlRm9jdXNSaSA9IHByb3BzLmRpc2FibGVGb2N1c1JpcHBsZSxcbiAgICAgIGRpc2FibGVGb2N1c1JpcHBsZSA9IF9wcm9wcyRkaXNhYmxlRm9jdXNSaSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkZGlzYWJsZUZvY3VzUmksXG4gICAgICBmb2N1c1Zpc2libGVDbGFzc05hbWUgPSBwcm9wcy5mb2N1c1Zpc2libGVDbGFzc05hbWUsXG4gICAgICBfcHJvcHMkc2l6ZSA9IHByb3BzLnNpemUsXG4gICAgICBzaXplID0gX3Byb3BzJHNpemUgPT09IHZvaWQgMCA/ICdsYXJnZScgOiBfcHJvcHMkc2l6ZSxcbiAgICAgIF9wcm9wcyR2YXJpYW50ID0gcHJvcHMudmFyaWFudCxcbiAgICAgIHZhcmlhbnQgPSBfcHJvcHMkdmFyaWFudCA9PT0gdm9pZCAwID8gJ3JvdW5kJyA6IF9wcm9wcyR2YXJpYW50LFxuICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiY2xhc3Nlc1wiLCBcImNsYXNzTmFtZVwiLCBcImNvbG9yXCIsIFwiY29tcG9uZW50XCIsIFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlRm9jdXNSaXBwbGVcIiwgXCJmb2N1c1Zpc2libGVDbGFzc05hbWVcIiwgXCJzaXplXCIsIFwidmFyaWFudFwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbkJhc2UsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUsIHZhcmlhbnQgIT09IFwicm91bmRcIiAmJiBjbGFzc2VzLmV4dGVuZGVkLCBzaXplICE9PSAnbGFyZ2UnICYmIGNsYXNzZXNbXCJzaXplXCIuY29uY2F0KGNhcGl0YWxpemUoc2l6ZSkpXSwgZGlzYWJsZWQgJiYgY2xhc3Nlcy5kaXNhYmxlZCwge1xuICAgICAgJ3ByaW1hcnknOiBjbGFzc2VzLnByaW1hcnksXG4gICAgICAnc2Vjb25kYXJ5JzogY2xhc3Nlcy5zZWNvbmRhcnksXG4gICAgICAnaW5oZXJpdCc6IGNsYXNzZXMuY29sb3JJbmhlcml0XG4gICAgfVtjb2xvcl0pLFxuICAgIGNvbXBvbmVudDogY29tcG9uZW50LFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICBmb2N1c1JpcHBsZTogIWRpc2FibGVGb2N1c1JpcHBsZSxcbiAgICBmb2N1c1Zpc2libGVDbGFzc05hbWU6IGNsc3goY2xhc3Nlcy5mb2N1c1Zpc2libGUsIGZvY3VzVmlzaWJsZUNsYXNzTmFtZSksXG4gICAgcmVmOiByZWZcbiAgfSwgb3RoZXIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5sYWJlbFxuICB9LCBjaGlsZHJlbikpO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBGYWIucHJvcFR5cGVzID0ge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBXYXJuaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHwgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zIHxcbiAgLy8gfCAgICAgVG8gdXBkYXRlIHRoZW0gZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gXCJ5YXJuIHByb3B0eXBlc1wiICAgICB8XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGJ1dHRvbi5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXNcbiAgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqL1xuICAubm9kZS5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqIFNlZSBbQ1NTIEFQSV0oI2NzcykgYmVsb3cgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogVGhlIGNvbG9yIG9mIHRoZSBjb21wb25lbnQuIEl0IHN1cHBvcnRzIHRob3NlIHRoZW1lIGNvbG9ycyB0aGF0IG1ha2Ugc2Vuc2UgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgKi9cbiAgY29sb3I6IFByb3BUeXBlcy5vbmVPZihbJ2RlZmF1bHQnLCAnaW5oZXJpdCcsICdwcmltYXJ5JywgJ3NlY29uZGFyeSddKSxcblxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCB1c2VkIGZvciB0aGUgcm9vdCBub2RlLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKi9cbiAgY29tcG9uZW50OiBQcm9wVHlwZXNcbiAgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqL1xuICAuZWxlbWVudFR5cGUsXG5cbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGJ1dHRvbiB3aWxsIGJlIGRpc2FibGVkLlxuICAgKi9cbiAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSAga2V5Ym9hcmQgZm9jdXMgcmlwcGxlIHdpbGwgYmUgZGlzYWJsZWQuXG4gICAqL1xuICBkaXNhYmxlRm9jdXNSaXBwbGU6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSByaXBwbGUgZWZmZWN0IHdpbGwgYmUgZGlzYWJsZWQuXG4gICAqL1xuICBkaXNhYmxlUmlwcGxlOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgZm9jdXNWaXNpYmxlQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgVVJMIHRvIGxpbmsgdG8gd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqIElmIGRlZmluZWQsIGFuIGBhYCBlbGVtZW50IHdpbGwgYmUgdXNlZCBhcyB0aGUgcm9vdCBub2RlLlxuICAgKi9cbiAgaHJlZjogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogVGhlIHNpemUgb2YgdGhlIGJ1dHRvbi5cbiAgICogYHNtYWxsYCBpcyBlcXVpdmFsZW50IHRvIHRoZSBkZW5zZSBidXR0b24gc3R5bGluZy5cbiAgICovXG4gIHNpemU6IFByb3BUeXBlcy5vbmVPZihbJ2xhcmdlJywgJ21lZGl1bScsICdzbWFsbCddKSxcblxuICAvKipcbiAgICogVGhlIHZhcmlhbnQgdG8gdXNlLlxuICAgKi9cbiAgdmFyaWFudDogUHJvcFR5cGVzLm9uZU9mKFsnZXh0ZW5kZWQnLCAncm91bmQnXSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywge1xuICBuYW1lOiAnTXVpRmFiJ1xufSkoRmFiKTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgY2FwaXRhbGl6ZSBmcm9tICcuLi91dGlscy9jYXBpdGFsaXplJztcbmltcG9ydCB3aXRoU3R5bGVzIGZyb20gJy4uL3N0eWxlcy93aXRoU3R5bGVzJztcbmltcG9ydCB7IGVsZW1lbnRUeXBlQWNjZXB0aW5nUmVmIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3V0aWxzJztcbmltcG9ydCB1c2VJc0ZvY3VzVmlzaWJsZSBmcm9tICcuLi91dGlscy91c2VJc0ZvY3VzVmlzaWJsZSc7XG5pbXBvcnQgdXNlRm9ya1JlZiBmcm9tICcuLi91dGlscy91c2VGb3JrUmVmJztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJy4uL1R5cG9ncmFwaHknO1xuZXhwb3J0IHZhciBzdHlsZXMgPSB7XG4gIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQuICovXG4gIHJvb3Q6IHt9LFxuXG4gIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYHVuZGVybGluZT1cIm5vbmVcImAuICovXG4gIHVuZGVybGluZU5vbmU6IHtcbiAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnXG4gIH0sXG5cbiAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgdW5kZXJsaW5lPVwiaG92ZXJcImAuICovXG4gIHVuZGVybGluZUhvdmVyOiB7XG4gICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAnJjpob3Zlcic6IHtcbiAgICAgIHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lJ1xuICAgIH1cbiAgfSxcblxuICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGB1bmRlcmxpbmU9XCJhbHdheXNcImAuICovXG4gIHVuZGVybGluZUFsd2F5czoge1xuICAgIHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lJ1xuICB9LFxuICAvLyBTYW1lIHJlc2V0IGFzIEJ1dHRvbkJhc2Uucm9vdFxuXG4gIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGNvbXBvbmVudD1cImJ1dHRvblwiYC4gKi9cbiAgYnV0dG9uOiB7XG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgIC8vIFJlc2V0IGRlZmF1bHQgdmFsdWVcbiAgICAvLyBXZSBkaXNhYmxlIHRoZSBmb2N1cyByaW5nIGZvciBtb3VzZSwgdG91Y2ggYW5kIGtleWJvYXJkIHVzZXJzLlxuICAgIG91dGxpbmU6IDAsXG4gICAgYm9yZGVyOiAwLFxuICAgIG1hcmdpbjogMCxcbiAgICAvLyBSZW1vdmUgdGhlIG1hcmdpbiBpbiBTYWZhcmlcbiAgICBib3JkZXJSYWRpdXM6IDAsXG4gICAgcGFkZGluZzogMCxcbiAgICAvLyBSZW1vdmUgdGhlIHBhZGRpbmcgaW4gRmlyZWZveFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbiAgICAnLW1vei1hcHBlYXJhbmNlJzogJ25vbmUnLFxuICAgIC8vIFJlc2V0XG4gICAgJy13ZWJraXQtYXBwZWFyYW5jZSc6ICdub25lJyxcbiAgICAvLyBSZXNldFxuICAgICcmOjotbW96LWZvY3VzLWlubmVyJzoge1xuICAgICAgYm9yZGVyU3R5bGU6ICdub25lJyAvLyBSZW1vdmUgRmlyZWZveCBkb3R0ZWQgb3V0bGluZS5cblxuICAgIH0sXG4gICAgJyYkZm9jdXNWaXNpYmxlJzoge1xuICAgICAgb3V0bGluZTogJ2F1dG8nXG4gICAgfVxuICB9LFxuXG4gIC8qIFBzZXVkby1jbGFzcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgdGhlIGxpbmsgaXMga2V5Ym9hcmQgZm9jdXNlZC4gKi9cbiAgZm9jdXNWaXNpYmxlOiB7fVxufTtcbnZhciBMaW5rID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gTGluayhwcm9wcywgcmVmKSB7XG4gIHZhciBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIF9wcm9wcyRjb2xvciA9IHByb3BzLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcHJvcHMkY29sb3IgPT09IHZvaWQgMCA/ICdwcmltYXJ5JyA6IF9wcm9wcyRjb2xvcixcbiAgICAgIF9wcm9wcyRjb21wb25lbnQgPSBwcm9wcy5jb21wb25lbnQsXG4gICAgICBjb21wb25lbnQgPSBfcHJvcHMkY29tcG9uZW50ID09PSB2b2lkIDAgPyAnYScgOiBfcHJvcHMkY29tcG9uZW50LFxuICAgICAgb25CbHVyID0gcHJvcHMub25CbHVyLFxuICAgICAgb25Gb2N1cyA9IHByb3BzLm9uRm9jdXMsXG4gICAgICBUeXBvZ3JhcGh5Q2xhc3NlcyA9IHByb3BzLlR5cG9ncmFwaHlDbGFzc2VzLFxuICAgICAgX3Byb3BzJHVuZGVybGluZSA9IHByb3BzLnVuZGVybGluZSxcbiAgICAgIHVuZGVybGluZSA9IF9wcm9wcyR1bmRlcmxpbmUgPT09IHZvaWQgMCA/ICdob3ZlcicgOiBfcHJvcHMkdW5kZXJsaW5lLFxuICAgICAgX3Byb3BzJHZhcmlhbnQgPSBwcm9wcy52YXJpYW50LFxuICAgICAgdmFyaWFudCA9IF9wcm9wcyR2YXJpYW50ID09PSB2b2lkIDAgPyAnaW5oZXJpdCcgOiBfcHJvcHMkdmFyaWFudCxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJjbGFzc2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwiY29sb3JcIiwgXCJjb21wb25lbnRcIiwgXCJvbkJsdXJcIiwgXCJvbkZvY3VzXCIsIFwiVHlwb2dyYXBoeUNsYXNzZXNcIiwgXCJ1bmRlcmxpbmVcIiwgXCJ2YXJpYW50XCJdKTtcblxuICB2YXIgX3VzZUlzRm9jdXNWaXNpYmxlID0gdXNlSXNGb2N1c1Zpc2libGUoKSxcbiAgICAgIGlzRm9jdXNWaXNpYmxlID0gX3VzZUlzRm9jdXNWaXNpYmxlLmlzRm9jdXNWaXNpYmxlLFxuICAgICAgb25CbHVyVmlzaWJsZSA9IF91c2VJc0ZvY3VzVmlzaWJsZS5vbkJsdXJWaXNpYmxlLFxuICAgICAgZm9jdXNWaXNpYmxlUmVmID0gX3VzZUlzRm9jdXNWaXNpYmxlLnJlZjtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgICAgZm9jdXNWaXNpYmxlID0gX1JlYWN0JHVzZVN0YXRlWzBdLFxuICAgICAgc2V0Rm9jdXNWaXNpYmxlID0gX1JlYWN0JHVzZVN0YXRlWzFdO1xuXG4gIHZhciBoYW5kbGVyUmVmID0gdXNlRm9ya1JlZihyZWYsIGZvY3VzVmlzaWJsZVJlZik7XG5cbiAgdmFyIGhhbmRsZUJsdXIgPSBmdW5jdGlvbiBoYW5kbGVCbHVyKGV2ZW50KSB7XG4gICAgaWYgKGZvY3VzVmlzaWJsZSkge1xuICAgICAgb25CbHVyVmlzaWJsZSgpO1xuICAgICAgc2V0Rm9jdXNWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAob25CbHVyKSB7XG4gICAgICBvbkJsdXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiBoYW5kbGVGb2N1cyhldmVudCkge1xuICAgIGlmIChpc0ZvY3VzVmlzaWJsZShldmVudCkpIHtcbiAgICAgIHNldEZvY3VzVmlzaWJsZSh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAob25Gb2N1cykge1xuICAgICAgb25Gb2N1cyhldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3Nlc1tcInVuZGVybGluZVwiLmNvbmNhdChjYXBpdGFsaXplKHVuZGVybGluZSkpXSwgY2xhc3NOYW1lLCBmb2N1c1Zpc2libGUgJiYgY2xhc3Nlcy5mb2N1c1Zpc2libGUsIGNvbXBvbmVudCA9PT0gJ2J1dHRvbicgJiYgY2xhc3Nlcy5idXR0b24pLFxuICAgIGNsYXNzZXM6IFR5cG9ncmFwaHlDbGFzc2VzLFxuICAgIGNvbG9yOiBjb2xvcixcbiAgICBjb21wb25lbnQ6IGNvbXBvbmVudCxcbiAgICBvbkJsdXI6IGhhbmRsZUJsdXIsXG4gICAgb25Gb2N1czogaGFuZGxlRm9jdXMsXG4gICAgcmVmOiBoYW5kbGVyUmVmLFxuICAgIHZhcmlhbnQ6IHZhcmlhbnRcbiAgfSwgb3RoZXIpKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gTGluay5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgbGluay5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqIFNlZSBbQ1NTIEFQSV0oI2NzcykgYmVsb3cgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgY29sb3Igb2YgdGhlIGxpbmsuXG4gICAqL1xuICBjb2xvcjogUHJvcFR5cGVzLm9uZU9mKFsnaW5pdGlhbCcsICdpbmhlcml0JywgJ3ByaW1hcnknLCAnc2Vjb25kYXJ5JywgJ3RleHRQcmltYXJ5JywgJ3RleHRTZWNvbmRhcnknLCAnZXJyb3InXSksXG5cbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogZWxlbWVudFR5cGVBY2NlcHRpbmdSZWYsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uQmx1cjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRm9jdXM6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBgY2xhc3Nlc2AgcHJvcCBhcHBsaWVkIHRvIHRoZSBbYFR5cG9ncmFwaHlgXSgvYXBpL3R5cG9ncmFwaHkvKSBlbGVtZW50LlxuICAgKi9cbiAgVHlwb2dyYXBoeUNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZW4gdGhlIGxpbmsgc2hvdWxkIGhhdmUgYW4gdW5kZXJsaW5lLlxuICAgKi9cbiAgdW5kZXJsaW5lOiBQcm9wVHlwZXMub25lT2YoWydub25lJywgJ2hvdmVyJywgJ2Fsd2F5cyddKSxcblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgdGhlbWUgdHlwb2dyYXBoeSBzdHlsZXMuXG4gICAqL1xuICB2YXJpYW50OiBQcm9wVHlwZXMuc3RyaW5nXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aUxpbmsnXG59KShMaW5rKTsiLCJpbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgd2l0aFN0eWxlcyBmcm9tICcuLi9zdHlsZXMvd2l0aFN0eWxlcyc7XG5pbXBvcnQgVGFibGVDb250ZXh0IGZyb20gJy4vVGFibGVDb250ZXh0JztcbmV4cG9ydCB2YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudC4gKi9cbiAgICByb290OiB7XG4gICAgICBkaXNwbGF5OiAndGFibGUnLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGJvcmRlckNvbGxhcHNlOiAnY29sbGFwc2UnLFxuICAgICAgYm9yZGVyU3BhY2luZzogMCxcbiAgICAgICcmIGNhcHRpb24nOiBfZXh0ZW5kcyh7fSwgdGhlbWUudHlwb2dyYXBoeS5ib2R5Miwge1xuICAgICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnNlY29uZGFyeSxcbiAgICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICAgIGNhcHRpb25TaWRlOiAnYm90dG9tJ1xuICAgICAgfSlcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgc3RpY2t5SGVhZGVyPXt0cnVlfWAuICovXG4gICAgc3RpY2t5SGVhZGVyOiB7XG4gICAgICBib3JkZXJDb2xsYXBzZTogJ3NlcGFyYXRlJ1xuICAgIH1cbiAgfTtcbn07XG52YXIgZGVmYXVsdENvbXBvbmVudCA9ICd0YWJsZSc7XG52YXIgVGFibGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBUYWJsZShwcm9wcywgcmVmKSB7XG4gIHZhciBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIF9wcm9wcyRjb21wb25lbnQgPSBwcm9wcy5jb21wb25lbnQsXG4gICAgICBDb21wb25lbnQgPSBfcHJvcHMkY29tcG9uZW50ID09PSB2b2lkIDAgPyBkZWZhdWx0Q29tcG9uZW50IDogX3Byb3BzJGNvbXBvbmVudCxcbiAgICAgIF9wcm9wcyRwYWRkaW5nID0gcHJvcHMucGFkZGluZyxcbiAgICAgIHBhZGRpbmcgPSBfcHJvcHMkcGFkZGluZyA9PT0gdm9pZCAwID8gJ2RlZmF1bHQnIDogX3Byb3BzJHBhZGRpbmcsXG4gICAgICBfcHJvcHMkc2l6ZSA9IHByb3BzLnNpemUsXG4gICAgICBzaXplID0gX3Byb3BzJHNpemUgPT09IHZvaWQgMCA/ICdtZWRpdW0nIDogX3Byb3BzJHNpemUsXG4gICAgICBfcHJvcHMkc3RpY2t5SGVhZGVyID0gcHJvcHMuc3RpY2t5SGVhZGVyLFxuICAgICAgc3RpY2t5SGVhZGVyID0gX3Byb3BzJHN0aWNreUhlYWRlciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkc3RpY2t5SGVhZGVyLFxuICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImNsYXNzZXNcIiwgXCJjbGFzc05hbWVcIiwgXCJjb21wb25lbnRcIiwgXCJwYWRkaW5nXCIsIFwic2l6ZVwiLCBcInN0aWNreUhlYWRlclwiXSk7XG5cbiAgdmFyIHRhYmxlID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZGRpbmc6IHBhZGRpbmcsXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgc3RpY2t5SGVhZGVyOiBzdGlja3lIZWFkZXJcbiAgICB9O1xuICB9LCBbcGFkZGluZywgc2l6ZSwgc3RpY2t5SGVhZGVyXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogdGFibGVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBfZXh0ZW5kcyh7XG4gICAgcm9sZTogQ29tcG9uZW50ID09PSBkZWZhdWx0Q29tcG9uZW50ID8gbnVsbCA6ICd0YWJsZScsXG4gICAgcmVmOiByZWYsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lLCBzdGlja3lIZWFkZXIgJiYgY2xhc3Nlcy5zdGlja3lIZWFkZXIpXG4gIH0sIG90aGVyKSkpO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBUYWJsZS5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgdGFibGUsIG5vcm1hbGx5IGBUYWJsZUhlYWRgIGFuZCBgVGFibGVCb2R5YC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqIFNlZSBbQ1NTIEFQSV0oI2NzcykgYmVsb3cgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlc1xuICAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovXG4gIC5lbGVtZW50VHlwZSxcblxuICAvKipcbiAgICogQWxsb3dzIFRhYmxlQ2VsbHMgdG8gaW5oZXJpdCBwYWRkaW5nIG9mIHRoZSBUYWJsZS5cbiAgICovXG4gIHBhZGRpbmc6IFByb3BUeXBlcy5vbmVPZihbJ2RlZmF1bHQnLCAnY2hlY2tib3gnLCAnbm9uZSddKSxcblxuICAvKipcbiAgICogQWxsb3dzIFRhYmxlQ2VsbHMgdG8gaW5oZXJpdCBzaXplIG9mIHRoZSBUYWJsZS5cbiAgICovXG4gIHNpemU6IFByb3BUeXBlcy5vbmVPZihbJ3NtYWxsJywgJ21lZGl1bSddKSxcblxuICAvKipcbiAgICogU2V0IHRoZSBoZWFkZXIgc3RpY2t5LlxuICAgKlxuICAgKiDimqDvuI8gSXQgZG9lc24ndCB3b3JrIHdpdGggSUUgMTEuXG4gICAqL1xuICBzdGlja3lIZWFkZXI6IFByb3BUeXBlcy5ib29sXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aVRhYmxlJ1xufSkoVGFibGUpOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0Jztcbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuXG52YXIgVGFibGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCgpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBUYWJsZUNvbnRleHQuZGlzcGxheU5hbWUgPSAnVGFibGVDb250ZXh0Jztcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFibGVDb250ZXh0OyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0Jztcbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuXG52YXIgVGFibGVsdmwyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoKTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgVGFibGVsdmwyQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdUYWJsZWx2bDJDb250ZXh0Jztcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFibGVsdmwyQ29udGV4dDsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgd2l0aFN0eWxlcyBmcm9tICcuLi9zdHlsZXMvd2l0aFN0eWxlcyc7XG5pbXBvcnQgVGFibGVsdmwyQ29udGV4dCBmcm9tICcuLi9UYWJsZS9UYWJsZWx2bDJDb250ZXh0JztcbmV4cG9ydCB2YXIgc3R5bGVzID0ge1xuICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50LiAqL1xuICByb290OiB7XG4gICAgZGlzcGxheTogJ3RhYmxlLXJvdy1ncm91cCdcbiAgfVxufTtcbnZhciB0YWJsZWx2bDIgPSB7XG4gIHZhcmlhbnQ6ICdib2R5J1xufTtcbnZhciBkZWZhdWx0Q29tcG9uZW50ID0gJ3Rib2R5JztcbnZhciBUYWJsZUJvZHkgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBUYWJsZUJvZHkocHJvcHMsIHJlZikge1xuICB2YXIgY2xhc3NlcyA9IHByb3BzLmNsYXNzZXMsXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBfcHJvcHMkY29tcG9uZW50ID0gcHJvcHMuY29tcG9uZW50LFxuICAgICAgQ29tcG9uZW50ID0gX3Byb3BzJGNvbXBvbmVudCA9PT0gdm9pZCAwID8gZGVmYXVsdENvbXBvbmVudCA6IF9wcm9wcyRjb21wb25lbnQsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wiY2xhc3Nlc1wiLCBcImNsYXNzTmFtZVwiLCBcImNvbXBvbmVudFwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlbHZsMkNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogdGFibGVsdmwyXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe1xuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSksXG4gICAgcmVmOiByZWYsXG4gICAgcm9sZTogQ29tcG9uZW50ID09PSBkZWZhdWx0Q29tcG9uZW50ID8gbnVsbCA6ICdyb3dncm91cCdcbiAgfSwgb3RoZXIpKSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRhYmxlQm9keS5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBvZiB0aGUgY29tcG9uZW50LCBub3JtYWxseSBgVGFibGVSb3dgLlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBvciBleHRlbmQgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjb21wb25lbnQuXG4gICAqIFNlZSBbQ1NTIEFQSV0oI2NzcykgYmVsb3cgZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIHRoZSByb290IG5vZGUuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBjb21wb25lbnQ6IFByb3BUeXBlc1xuICAvKiBAdHlwZXNjcmlwdC10by1wcm9wdHlwZXMtaWdub3JlICovXG4gIC5lbGVtZW50VHlwZVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7XG4gIG5hbWU6ICdNdWlUYWJsZUJvZHknXG59KShUYWJsZUJvZHkpOyIsImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCB3aXRoU3R5bGVzIGZyb20gJy4uL3N0eWxlcy93aXRoU3R5bGVzJztcbmltcG9ydCBjYXBpdGFsaXplIGZyb20gJy4uL3V0aWxzL2NhcGl0YWxpemUnO1xuaW1wb3J0IHsgZGFya2VuLCBmYWRlLCBsaWdodGVuIH0gZnJvbSAnLi4vc3R5bGVzL2NvbG9yTWFuaXB1bGF0b3InO1xuaW1wb3J0IFRhYmxlQ29udGV4dCBmcm9tICcuLi9UYWJsZS9UYWJsZUNvbnRleHQnO1xuaW1wb3J0IFRhYmxlbHZsMkNvbnRleHQgZnJvbSAnLi4vVGFibGUvVGFibGVsdmwyQ29udGV4dCc7XG5leHBvcnQgdmFyIHN0eWxlcyA9IGZ1bmN0aW9uIHN0eWxlcyh0aGVtZSkge1xuICByZXR1cm4ge1xuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQuICovXG4gICAgcm9vdDogX2V4dGVuZHMoe30sIHRoZW1lLnR5cG9ncmFwaHkuYm9keTIsIHtcbiAgICAgIGRpc3BsYXk6ICd0YWJsZS1jZWxsJyxcbiAgICAgIHZlcnRpY2FsQWxpZ246ICdpbmhlcml0JyxcbiAgICAgIC8vIFdvcmthcm91bmQgZm9yIGEgcmVuZGVyaW5nIGJ1ZyB3aXRoIHNwYW5uZWQgY29sdW1ucyBpbiBDaHJvbWUgNjIuMC5cbiAgICAgIC8vIFJlbW92ZXMgdGhlIGFscGhhIChzZXRzIGl0IHRvIDEpLCBhbmQgbGlnaHRlbnMgb3IgZGFya2VucyB0aGUgdGhlbWUgY29sb3IuXG4gICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkXFxuICAgIFwiLmNvbmNhdCh0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyBsaWdodGVuKGZhZGUodGhlbWUucGFsZXR0ZS5kaXZpZGVyLCAxKSwgMC44OCkgOiBkYXJrZW4oZmFkZSh0aGVtZS5wYWxldHRlLmRpdmlkZXIsIDEpLCAwLjY4KSksXG4gICAgICB0ZXh0QWxpZ246ICdsZWZ0JyxcbiAgICAgIHBhZGRpbmc6IDE2XG4gICAgfSksXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGB2YXJpYW50PVwiaGVhZFwiYCBvciBgY29udGV4dC50YWJsZS5oZWFkYC4gKi9cbiAgICBoZWFkOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnksXG4gICAgICBsaW5lSGVpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LnB4VG9SZW0oMjQpLFxuICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5mb250V2VpZ2h0TWVkaXVtXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYHZhcmlhbnQ9XCJib2R5XCJgIG9yIGBjb250ZXh0LnRhYmxlLmJvZHlgLiAqL1xuICAgIGJvZHk6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQucHJpbWFyeVxuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGB2YXJpYW50PVwiZm9vdGVyXCJgIG9yIGBjb250ZXh0LnRhYmxlLmZvb3RlcmAuICovXG4gICAgZm9vdGVyOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnNlY29uZGFyeSxcbiAgICAgIGxpbmVIZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkucHhUb1JlbSgyMSksXG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDEyKVxuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBzaXplPVwic21hbGxcImAuICovXG4gICAgc2l6ZVNtYWxsOiB7XG4gICAgICBwYWRkaW5nOiAnNnB4IDI0cHggNnB4IDE2cHgnLFxuICAgICAgJyY6bGFzdC1jaGlsZCc6IHtcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAxNlxuICAgICAgfSxcbiAgICAgICcmJHBhZGRpbmdDaGVja2JveCc6IHtcbiAgICAgICAgd2lkdGg6IDI0LFxuICAgICAgICAvLyBwcmV2ZW50IHRoZSBjaGVja2JveCBjb2x1bW4gZnJvbSBncm93aW5nXG4gICAgICAgIHBhZGRpbmc6ICcwIDEycHggMCAxNnB4JyxcbiAgICAgICAgJyY6bGFzdC1jaGlsZCc6IHtcbiAgICAgICAgICBwYWRkaW5nTGVmdDogMTIsXG4gICAgICAgICAgcGFkZGluZ1JpZ2h0OiAxNlxuICAgICAgICB9LFxuICAgICAgICAnJiA+IConOiB7XG4gICAgICAgICAgcGFkZGluZzogMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYHBhZGRpbmc9XCJjaGVja2JveFwiYC4gKi9cbiAgICBwYWRkaW5nQ2hlY2tib3g6IHtcbiAgICAgIHdpZHRoOiA0OCxcbiAgICAgIC8vIHByZXZlbnQgdGhlIGNoZWNrYm94IGNvbHVtbiBmcm9tIGdyb3dpbmdcbiAgICAgIHBhZGRpbmc6ICcwIDAgMCA0cHgnLFxuICAgICAgJyY6bGFzdC1jaGlsZCc6IHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6IDAsXG4gICAgICAgIHBhZGRpbmdSaWdodDogNFxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBwYWRkaW5nPVwibm9uZVwiYC4gKi9cbiAgICBwYWRkaW5nTm9uZToge1xuICAgICAgcGFkZGluZzogMCxcbiAgICAgICcmOmxhc3QtY2hpbGQnOiB7XG4gICAgICAgIHBhZGRpbmc6IDBcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgYWxpZ249XCJsZWZ0XCJgLiAqL1xuICAgIGFsaWduTGVmdDoge1xuICAgICAgdGV4dEFsaWduOiAnbGVmdCdcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgYWxpZ249XCJjZW50ZXJcImAuICovXG4gICAgYWxpZ25DZW50ZXI6IHtcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICB9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiBgYWxpZ249XCJyaWdodFwiYC4gKi9cbiAgICBhbGlnblJpZ2h0OiB7XG4gICAgICB0ZXh0QWxpZ246ICdyaWdodCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGFsaWduPVwianVzdGlmeVwiYC4gKi9cbiAgICBhbGlnbkp1c3RpZnk6IHtcbiAgICAgIHRleHRBbGlnbjogJ2p1c3RpZnknXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGNvbnRleHQudGFibGUuc3RpY2t5SGVhZGVyPXt0cnVlfWAuICovXG4gICAgc3RpY2t5SGVhZGVyOiB7XG4gICAgICBwb3NpdGlvbjogJ3N0aWNreScsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgekluZGV4OiAyLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQuZGVmYXVsdFxuICAgIH1cbiAgfTtcbn07XG4vKipcbiAqIFRoZSBjb21wb25lbnQgcmVuZGVycyBhIGA8dGg+YCBlbGVtZW50IHdoZW4gdGhlIHBhcmVudCBjb250ZXh0IGlzIGEgaGVhZGVyXG4gKiBvciBvdGhlcndpc2UgYSBgPHRkPmAgZWxlbWVudC5cbiAqL1xuXG52YXIgVGFibGVDZWxsID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gVGFibGVDZWxsKHByb3BzLCByZWYpIHtcbiAgdmFyIF9wcm9wcyRhbGlnbiA9IHByb3BzLmFsaWduLFxuICAgICAgYWxpZ24gPSBfcHJvcHMkYWxpZ24gPT09IHZvaWQgMCA/ICdpbmhlcml0JyA6IF9wcm9wcyRhbGlnbixcbiAgICAgIGNsYXNzZXMgPSBwcm9wcy5jbGFzc2VzLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgY29tcG9uZW50ID0gcHJvcHMuY29tcG9uZW50LFxuICAgICAgcGFkZGluZ1Byb3AgPSBwcm9wcy5wYWRkaW5nLFxuICAgICAgc2NvcGVQcm9wID0gcHJvcHMuc2NvcGUsXG4gICAgICBzaXplUHJvcCA9IHByb3BzLnNpemUsXG4gICAgICBzb3J0RGlyZWN0aW9uID0gcHJvcHMuc29ydERpcmVjdGlvbixcbiAgICAgIHZhcmlhbnRQcm9wID0gcHJvcHMudmFyaWFudCxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJhbGlnblwiLCBcImNsYXNzZXNcIiwgXCJjbGFzc05hbWVcIiwgXCJjb21wb25lbnRcIiwgXCJwYWRkaW5nXCIsIFwic2NvcGVcIiwgXCJzaXplXCIsIFwic29ydERpcmVjdGlvblwiLCBcInZhcmlhbnRcIl0pO1xuXG4gIHZhciB0YWJsZSA9IFJlYWN0LnVzZUNvbnRleHQoVGFibGVDb250ZXh0KTtcbiAgdmFyIHRhYmxlbHZsMiA9IFJlYWN0LnVzZUNvbnRleHQoVGFibGVsdmwyQ29udGV4dCk7XG4gIHZhciBpc0hlYWRDZWxsID0gdGFibGVsdmwyICYmIHRhYmxlbHZsMi52YXJpYW50ID09PSAnaGVhZCc7XG4gIHZhciByb2xlO1xuICB2YXIgQ29tcG9uZW50O1xuXG4gIGlmIChjb21wb25lbnQpIHtcbiAgICBDb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgcm9sZSA9IGlzSGVhZENlbGwgPyAnY29sdW1uaGVhZGVyJyA6ICdjZWxsJztcbiAgfSBlbHNlIHtcbiAgICBDb21wb25lbnQgPSBpc0hlYWRDZWxsID8gJ3RoJyA6ICd0ZCc7XG4gIH1cblxuICB2YXIgc2NvcGUgPSBzY29wZVByb3A7XG5cbiAgaWYgKCFzY29wZSAmJiBpc0hlYWRDZWxsKSB7XG4gICAgc2NvcGUgPSAnY29sJztcbiAgfVxuXG4gIHZhciBwYWRkaW5nID0gcGFkZGluZ1Byb3AgfHwgKHRhYmxlICYmIHRhYmxlLnBhZGRpbmcgPyB0YWJsZS5wYWRkaW5nIDogJ2RlZmF1bHQnKTtcbiAgdmFyIHNpemUgPSBzaXplUHJvcCB8fCAodGFibGUgJiYgdGFibGUuc2l6ZSA/IHRhYmxlLnNpemUgOiAnbWVkaXVtJyk7XG4gIHZhciB2YXJpYW50ID0gdmFyaWFudFByb3AgfHwgdGFibGVsdmwyICYmIHRhYmxlbHZsMi52YXJpYW50O1xuICB2YXIgYXJpYVNvcnQgPSBudWxsO1xuXG4gIGlmIChzb3J0RGlyZWN0aW9uKSB7XG4gICAgYXJpYVNvcnQgPSBzb3J0RGlyZWN0aW9uID09PSAnYXNjJyA/ICdhc2NlbmRpbmcnIDogJ2Rlc2NlbmRpbmcnO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzZXNbdmFyaWFudF0sIGNsYXNzTmFtZSwgYWxpZ24gIT09ICdpbmhlcml0JyAmJiBjbGFzc2VzW1wiYWxpZ25cIi5jb25jYXQoY2FwaXRhbGl6ZShhbGlnbikpXSwgcGFkZGluZyAhPT0gJ2RlZmF1bHQnICYmIGNsYXNzZXNbXCJwYWRkaW5nXCIuY29uY2F0KGNhcGl0YWxpemUocGFkZGluZykpXSwgc2l6ZSAhPT0gJ21lZGl1bScgJiYgY2xhc3Nlc1tcInNpemVcIi5jb25jYXQoY2FwaXRhbGl6ZShzaXplKSldLCB2YXJpYW50ID09PSAnaGVhZCcgJiYgdGFibGUgJiYgdGFibGUuc3RpY2t5SGVhZGVyICYmIGNsYXNzZXMuc3RpY2t5SGVhZGVyKSxcbiAgICBcImFyaWEtc29ydFwiOiBhcmlhU29ydCxcbiAgICByb2xlOiByb2xlLFxuICAgIHNjb3BlOiBzY29wZVxuICB9LCBvdGhlcikpO1xufSk7XG5wcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBUYWJsZUNlbGwucHJvcFR5cGVzID0ge1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBXYXJuaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIHwgVGhlc2UgUHJvcFR5cGVzIGFyZSBnZW5lcmF0ZWQgZnJvbSB0aGUgVHlwZVNjcmlwdCB0eXBlIGRlZmluaXRpb25zIHxcbiAgLy8gfCAgICAgVG8gdXBkYXRlIHRoZW0gZWRpdCB0aGUgZC50cyBmaWxlIGFuZCBydW4gXCJ5YXJuIHByb3B0eXBlc1wiICAgICB8XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvKipcbiAgICogU2V0IHRoZSB0ZXh0LWFsaWduIG9uIHRoZSB0YWJsZSBjZWxsIGNvbnRlbnQuXG4gICAqXG4gICAqIE1vbmV0YXJ5IG9yIGdlbmVyYWxseSBudW1iZXIgZmllbGRzICoqc2hvdWxkIGJlIHJpZ2h0IGFsaWduZWQqKiBhcyB0aGF0IGFsbG93c1xuICAgKiB5b3UgdG8gYWRkIHRoZW0gdXAgcXVpY2tseSBpbiB5b3VyIGhlYWQgd2l0aG91dCBoYXZpbmcgdG8gd29ycnkgYWJvdXQgZGVjaW1hbHMuXG4gICAqL1xuICBhbGlnbjogUHJvcFR5cGVzLm9uZU9mKFsnY2VudGVyJywgJ2luaGVyaXQnLCAnanVzdGlmeScsICdsZWZ0JywgJ3JpZ2h0J10pLFxuXG4gIC8qKlxuICAgKiBUaGUgdGFibGUgY2VsbCBjb250ZW50cy5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKiBTZWUgW0NTUyBBUEldKCNjc3MpIGJlbG93IGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogUHJvcFR5cGVzXG4gIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi9cbiAgLmVsZW1lbnRUeXBlLFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwYWRkaW5nIGFwcGxpZWQgdG8gdGhlIGNlbGwuXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBUYWJsZSBwYXJlbnQgY29tcG9uZW50IHNldCB0aGUgdmFsdWUgKGBkZWZhdWx0YCkuXG4gICAqL1xuICBwYWRkaW5nOiBQcm9wVHlwZXMub25lT2YoWydjaGVja2JveCcsICdkZWZhdWx0JywgJ25vbmUnXSksXG5cbiAgLyoqXG4gICAqIFNldCBzY29wZSBhdHRyaWJ1dGUuXG4gICAqL1xuICBzY29wZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogU3BlY2lmeSB0aGUgc2l6ZSBvZiB0aGUgY2VsbC5cbiAgICogQnkgZGVmYXVsdCwgdGhlIFRhYmxlIHBhcmVudCBjb21wb25lbnQgc2V0IHRoZSB2YWx1ZSAoYG1lZGl1bWApLlxuICAgKi9cbiAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mKFsnbWVkaXVtJywgJ3NtYWxsJ10pLFxuXG4gIC8qKlxuICAgKiBTZXQgYXJpYS1zb3J0IGRpcmVjdGlvbi5cbiAgICovXG4gIHNvcnREaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbJ2FzYycsICdkZXNjJywgZmFsc2VdKSxcblxuICAvKipcbiAgICogU3BlY2lmeSB0aGUgY2VsbCB0eXBlLlxuICAgKiBCeSBkZWZhdWx0LCB0aGUgVGFibGVIZWFkLCBUYWJsZUJvZHkgb3IgVGFibGVGb290ZXIgcGFyZW50IGNvbXBvbmVudCBzZXQgdGhlIHZhbHVlLlxuICAgKi9cbiAgdmFyaWFudDogUHJvcFR5cGVzLm9uZU9mKFsnYm9keScsICdmb290ZXInLCAnaGVhZCddKVxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7XG4gIG5hbWU6ICdNdWlUYWJsZUNlbGwnXG59KShUYWJsZUNlbGwpOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCB3aXRoU3R5bGVzIGZyb20gJy4uL3N0eWxlcy93aXRoU3R5bGVzJztcbmltcG9ydCBUYWJsZWx2bDJDb250ZXh0IGZyb20gJy4uL1RhYmxlL1RhYmxlbHZsMkNvbnRleHQnO1xuZXhwb3J0IHZhciBzdHlsZXMgPSB7XG4gIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQuICovXG4gIHJvb3Q6IHtcbiAgICBkaXNwbGF5OiAndGFibGUtaGVhZGVyLWdyb3VwJ1xuICB9XG59O1xudmFyIHRhYmxlbHZsMiA9IHtcbiAgdmFyaWFudDogJ2hlYWQnXG59O1xudmFyIGRlZmF1bHRDb21wb25lbnQgPSAndGhlYWQnO1xudmFyIFRhYmxlSGVhZCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFRhYmxlSGVhZChwcm9wcywgcmVmKSB7XG4gIHZhciBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIF9wcm9wcyRjb21wb25lbnQgPSBwcm9wcy5jb21wb25lbnQsXG4gICAgICBDb21wb25lbnQgPSBfcHJvcHMkY29tcG9uZW50ID09PSB2b2lkIDAgPyBkZWZhdWx0Q29tcG9uZW50IDogX3Byb3BzJGNvbXBvbmVudCxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJjbGFzc2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwiY29tcG9uZW50XCJdKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVsdmwyQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB0YWJsZWx2bDJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICByZWY6IHJlZixcbiAgICByb2xlOiBDb21wb25lbnQgPT09IGRlZmF1bHRDb21wb25lbnQgPyBudWxsIDogJ3Jvd2dyb3VwJ1xuICB9LCBvdGhlcikpKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVGFibGVIZWFkLnByb3BUeXBlcyA9IHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBjb21wb25lbnQsIG5vcm1hbGx5IGBUYWJsZVJvd2AuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICogU2VlIFtDU1MgQVBJXSgjY3NzKSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogUHJvcFR5cGVzXG4gIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi9cbiAgLmVsZW1lbnRUeXBlXG59IDogdm9pZCAwO1xuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlcyhzdHlsZXMsIHtcbiAgbmFtZTogJ011aVRhYmxlSGVhZCdcbn0pKFRhYmxlSGVhZCk7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGNoYWluUHJvcFR5cGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3V0aWxzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHdpdGhTdHlsZXMgZnJvbSAnLi4vc3R5bGVzL3dpdGhTdHlsZXMnO1xuaW1wb3J0IElucHV0QmFzZSBmcm9tICcuLi9JbnB1dEJhc2UnO1xuaW1wb3J0IE1lbnVJdGVtIGZyb20gJy4uL01lbnVJdGVtJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi4vU2VsZWN0JztcbmltcG9ydCBUYWJsZUNlbGwgZnJvbSAnLi4vVGFibGVDZWxsJztcbmltcG9ydCBUb29sYmFyIGZyb20gJy4uL1Rvb2xiYXInO1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnLi4vVHlwb2dyYXBoeSc7XG5pbXBvcnQgVGFibGVQYWdpbmF0aW9uQWN0aW9ucyBmcm9tICcuL1RhYmxlUGFnaW5hdGlvbkFjdGlvbnMnO1xuaW1wb3J0IHVzZUlkIGZyb20gJy4uL3V0aWxzL3Vuc3RhYmxlX3VzZUlkJztcbmV4cG9ydCB2YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudC4gKi9cbiAgICByb290OiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnksXG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5weFRvUmVtKDE0KSxcbiAgICAgIG92ZXJmbG93OiAnYXV0bycsXG4gICAgICAvLyBJbmNyZWFzZSB0aGUgc3BlY2lmaWNpdHkgdG8gb3ZlcnJpZGUgVGFibGVDZWxsLlxuICAgICAgJyY6bGFzdC1jaGlsZCc6IHtcbiAgICAgICAgcGFkZGluZzogMFxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgVG9vbGJhciBjb21wb25lbnQuICovXG4gICAgdG9vbGJhcjoge1xuICAgICAgbWluSGVpZ2h0OiA1MixcbiAgICAgIHBhZGRpbmdSaWdodDogMlxuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgc3BhY2VyIGVsZW1lbnQuICovXG4gICAgc3BhY2VyOiB7XG4gICAgICBmbGV4OiAnMSAxIDEwMCUnXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSBjYXB0aW9uIFR5cG9ncmFwaHkgY29tcG9uZW50cyBpZiBgdmFyaWFudD1cImNhcHRpb25cImAuICovXG4gICAgY2FwdGlvbjoge1xuICAgICAgZmxleFNocmluazogMFxuICAgIH0sXG4gICAgLy8gVE9ETyB2NTogYC5zZWxlY3RSb290YCBzaG91bGQgYmUgbWVyZ2VkIHdpdGggYC5pbnB1dGBcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSBTZWxlY3QgY29tcG9uZW50IHJvb3QgZWxlbWVudC4gKi9cbiAgICBzZWxlY3RSb290OiB7XG4gICAgICBtYXJnaW5SaWdodDogMzIsXG4gICAgICBtYXJnaW5MZWZ0OiA4XG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSBTZWxlY3QgY29tcG9uZW50IGBzZWxlY3RgIGNsYXNzLiAqL1xuICAgIHNlbGVjdDoge1xuICAgICAgcGFkZGluZ0xlZnQ6IDgsXG4gICAgICBwYWRkaW5nUmlnaHQ6IDI0LFxuICAgICAgdGV4dEFsaWduOiAncmlnaHQnLFxuICAgICAgdGV4dEFsaWduTGFzdDogJ3JpZ2h0JyAvLyBBbGlnbiA8c2VsZWN0PiBvbiBDaHJvbWUuXG5cbiAgICB9LFxuICAgIC8vIFRPRE8gdjU6IHJlbW92ZVxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIFNlbGVjdCBjb21wb25lbnQgYGljb25gIGNsYXNzLiAqL1xuICAgIHNlbGVjdEljb246IHt9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIGBJbnB1dEJhc2VgIGNvbXBvbmVudC4gKi9cbiAgICBpbnB1dDoge1xuICAgICAgY29sb3I6ICdpbmhlcml0JyxcbiAgICAgIGZvbnRTaXplOiAnaW5oZXJpdCcsXG4gICAgICBmbGV4U2hyaW5rOiAwXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSBNZW51SXRlbSBjb21wb25lbnQuICovXG4gICAgbWVudUl0ZW06IHt9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIGludGVybmFsIGBUYWJsZVBhZ2luYXRpb25BY3Rpb25zYCBjb21wb25lbnQuICovXG4gICAgYWN0aW9uczoge1xuICAgICAgZmxleFNocmluazogMCxcbiAgICAgIG1hcmdpbkxlZnQ6IDIwXG4gICAgfVxuICB9O1xufTtcblxudmFyIGRlZmF1bHRMYWJlbERpc3BsYXllZFJvd3MgPSBmdW5jdGlvbiBkZWZhdWx0TGFiZWxEaXNwbGF5ZWRSb3dzKF9yZWYpIHtcbiAgdmFyIGZyb20gPSBfcmVmLmZyb20sXG4gICAgICB0byA9IF9yZWYudG8sXG4gICAgICBjb3VudCA9IF9yZWYuY291bnQ7XG4gIHJldHVybiBcIlwiLmNvbmNhdChmcm9tLCBcIi1cIikuY29uY2F0KHRvLCBcIiBvZiBcIikuY29uY2F0KGNvdW50ICE9PSAtMSA/IGNvdW50IDogXCJtb3JlIHRoYW4gXCIuY29uY2F0KHRvKSk7XG59O1xuXG52YXIgZGVmYXVsdFJvd3NQZXJQYWdlT3B0aW9ucyA9IFsxMCwgMjUsIDUwLCAxMDBdO1xuLyoqXG4gKiBBIGBUYWJsZUNlbGxgIGJhc2VkIGNvbXBvbmVudCBmb3IgcGxhY2luZyBpbnNpZGUgYFRhYmxlRm9vdGVyYCBmb3IgcGFnaW5hdGlvbi5cbiAqL1xuXG52YXIgVGFibGVQYWdpbmF0aW9uID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gVGFibGVQYWdpbmF0aW9uKHByb3BzLCByZWYpIHtcbiAgdmFyIF9wcm9wcyRBY3Rpb25zQ29tcG9uZSA9IHByb3BzLkFjdGlvbnNDb21wb25lbnQsXG4gICAgICBBY3Rpb25zQ29tcG9uZW50ID0gX3Byb3BzJEFjdGlvbnNDb21wb25lID09PSB2b2lkIDAgPyBUYWJsZVBhZ2luYXRpb25BY3Rpb25zIDogX3Byb3BzJEFjdGlvbnNDb21wb25lLFxuICAgICAgYmFja0ljb25CdXR0b25Qcm9wcyA9IHByb3BzLmJhY2tJY29uQnV0dG9uUHJvcHMsXG4gICAgICBfcHJvcHMkYmFja0ljb25CdXR0b24gPSBwcm9wcy5iYWNrSWNvbkJ1dHRvblRleHQsXG4gICAgICBiYWNrSWNvbkJ1dHRvblRleHQgPSBfcHJvcHMkYmFja0ljb25CdXR0b24gPT09IHZvaWQgMCA/ICdQcmV2aW91cyBwYWdlJyA6IF9wcm9wcyRiYWNrSWNvbkJ1dHRvbixcbiAgICAgIGNsYXNzZXMgPSBwcm9wcy5jbGFzc2VzLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgY29sU3BhblByb3AgPSBwcm9wcy5jb2xTcGFuLFxuICAgICAgX3Byb3BzJGNvbXBvbmVudCA9IHByb3BzLmNvbXBvbmVudCxcbiAgICAgIENvbXBvbmVudCA9IF9wcm9wcyRjb21wb25lbnQgPT09IHZvaWQgMCA/IFRhYmxlQ2VsbCA6IF9wcm9wcyRjb21wb25lbnQsXG4gICAgICBjb3VudCA9IHByb3BzLmNvdW50LFxuICAgICAgX3Byb3BzJGxhYmVsRGlzcGxheWVkID0gcHJvcHMubGFiZWxEaXNwbGF5ZWRSb3dzLFxuICAgICAgbGFiZWxEaXNwbGF5ZWRSb3dzID0gX3Byb3BzJGxhYmVsRGlzcGxheWVkID09PSB2b2lkIDAgPyBkZWZhdWx0TGFiZWxEaXNwbGF5ZWRSb3dzIDogX3Byb3BzJGxhYmVsRGlzcGxheWVkLFxuICAgICAgX3Byb3BzJGxhYmVsUm93c1BlclBhID0gcHJvcHMubGFiZWxSb3dzUGVyUGFnZSxcbiAgICAgIGxhYmVsUm93c1BlclBhZ2UgPSBfcHJvcHMkbGFiZWxSb3dzUGVyUGEgPT09IHZvaWQgMCA/ICdSb3dzIHBlciBwYWdlOicgOiBfcHJvcHMkbGFiZWxSb3dzUGVyUGEsXG4gICAgICBuZXh0SWNvbkJ1dHRvblByb3BzID0gcHJvcHMubmV4dEljb25CdXR0b25Qcm9wcyxcbiAgICAgIF9wcm9wcyRuZXh0SWNvbkJ1dHRvbiA9IHByb3BzLm5leHRJY29uQnV0dG9uVGV4dCxcbiAgICAgIG5leHRJY29uQnV0dG9uVGV4dCA9IF9wcm9wcyRuZXh0SWNvbkJ1dHRvbiA9PT0gdm9pZCAwID8gJ05leHQgcGFnZScgOiBfcHJvcHMkbmV4dEljb25CdXR0b24sXG4gICAgICBvbkNoYW5nZVBhZ2UgPSBwcm9wcy5vbkNoYW5nZVBhZ2UsXG4gICAgICBvbkNoYW5nZVJvd3NQZXJQYWdlID0gcHJvcHMub25DaGFuZ2VSb3dzUGVyUGFnZSxcbiAgICAgIHBhZ2UgPSBwcm9wcy5wYWdlLFxuICAgICAgcm93c1BlclBhZ2UgPSBwcm9wcy5yb3dzUGVyUGFnZSxcbiAgICAgIF9wcm9wcyRyb3dzUGVyUGFnZU9wdCA9IHByb3BzLnJvd3NQZXJQYWdlT3B0aW9ucyxcbiAgICAgIHJvd3NQZXJQYWdlT3B0aW9ucyA9IF9wcm9wcyRyb3dzUGVyUGFnZU9wdCA9PT0gdm9pZCAwID8gZGVmYXVsdFJvd3NQZXJQYWdlT3B0aW9ucyA6IF9wcm9wcyRyb3dzUGVyUGFnZU9wdCxcbiAgICAgIF9wcm9wcyRTZWxlY3RQcm9wcyA9IHByb3BzLlNlbGVjdFByb3BzLFxuICAgICAgU2VsZWN0UHJvcHMgPSBfcHJvcHMkU2VsZWN0UHJvcHMgPT09IHZvaWQgMCA/IHt9IDogX3Byb3BzJFNlbGVjdFByb3BzLFxuICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcIkFjdGlvbnNDb21wb25lbnRcIiwgXCJiYWNrSWNvbkJ1dHRvblByb3BzXCIsIFwiYmFja0ljb25CdXR0b25UZXh0XCIsIFwiY2xhc3Nlc1wiLCBcImNsYXNzTmFtZVwiLCBcImNvbFNwYW5cIiwgXCJjb21wb25lbnRcIiwgXCJjb3VudFwiLCBcImxhYmVsRGlzcGxheWVkUm93c1wiLCBcImxhYmVsUm93c1BlclBhZ2VcIiwgXCJuZXh0SWNvbkJ1dHRvblByb3BzXCIsIFwibmV4dEljb25CdXR0b25UZXh0XCIsIFwib25DaGFuZ2VQYWdlXCIsIFwib25DaGFuZ2VSb3dzUGVyUGFnZVwiLCBcInBhZ2VcIiwgXCJyb3dzUGVyUGFnZVwiLCBcInJvd3NQZXJQYWdlT3B0aW9uc1wiLCBcIlNlbGVjdFByb3BzXCJdKTtcblxuICB2YXIgY29sU3BhbjtcblxuICBpZiAoQ29tcG9uZW50ID09PSBUYWJsZUNlbGwgfHwgQ29tcG9uZW50ID09PSAndGQnKSB7XG4gICAgY29sU3BhbiA9IGNvbFNwYW5Qcm9wIHx8IDEwMDA7IC8vIGNvbC1zcGFuIG92ZXIgZXZlcnl0aGluZ1xuICB9XG5cbiAgdmFyIHNlbGVjdElkID0gdXNlSWQoKTtcbiAgdmFyIGxhYmVsSWQgPSB1c2VJZCgpO1xuICB2YXIgTWVudUl0ZW1Db21wb25lbnQgPSBTZWxlY3RQcm9wcy5uYXRpdmUgPyAnb3B0aW9uJyA6IE1lbnVJdGVtO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKSxcbiAgICBjb2xTcGFuOiBjb2xTcGFuLFxuICAgIHJlZjogcmVmXG4gIH0sIG90aGVyKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhciwge1xuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy50b29sYmFyXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuc3BhY2VyXG4gIH0pLCByb3dzUGVyUGFnZU9wdGlvbnMubGVuZ3RoID4gMSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgY29sb3I6IFwiaW5oZXJpdFwiLFxuICAgIHZhcmlhbnQ6IFwiYm9keTJcIixcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2FwdGlvbixcbiAgICBpZDogbGFiZWxJZFxuICB9LCBsYWJlbFJvd3NQZXJQYWdlKSwgcm93c1BlclBhZ2VPcHRpb25zLmxlbmd0aCA+IDEgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCBfZXh0ZW5kcyh7XG4gICAgY2xhc3Nlczoge1xuICAgICAgc2VsZWN0OiBjbGFzc2VzLnNlbGVjdCxcbiAgICAgIGljb246IGNsYXNzZXMuc2VsZWN0SWNvblxuICAgIH0sXG4gICAgaW5wdXQ6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElucHV0QmFzZSwge1xuICAgICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMuaW5wdXQsIGNsYXNzZXMuc2VsZWN0Um9vdClcbiAgICB9KSxcbiAgICB2YWx1ZTogcm93c1BlclBhZ2UsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlUm93c1BlclBhZ2UsXG4gICAgaWQ6IHNlbGVjdElkLFxuICAgIGxhYmVsSWQ6IGxhYmVsSWRcbiAgfSwgU2VsZWN0UHJvcHMpLCByb3dzUGVyUGFnZU9wdGlvbnMubWFwKGZ1bmN0aW9uIChyb3dzUGVyUGFnZU9wdGlvbikge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZW51SXRlbUNvbXBvbmVudCwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLm1lbnVJdGVtLFxuICAgICAga2V5OiByb3dzUGVyUGFnZU9wdGlvbi52YWx1ZSA/IHJvd3NQZXJQYWdlT3B0aW9uLnZhbHVlIDogcm93c1BlclBhZ2VPcHRpb24sXG4gICAgICB2YWx1ZTogcm93c1BlclBhZ2VPcHRpb24udmFsdWUgPyByb3dzUGVyUGFnZU9wdGlvbi52YWx1ZSA6IHJvd3NQZXJQYWdlT3B0aW9uXG4gICAgfSwgcm93c1BlclBhZ2VPcHRpb24ubGFiZWwgPyByb3dzUGVyUGFnZU9wdGlvbi5sYWJlbCA6IHJvd3NQZXJQYWdlT3B0aW9uKTtcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7XG4gICAgY29sb3I6IFwiaW5oZXJpdFwiLFxuICAgIHZhcmlhbnQ6IFwiYm9keTJcIixcbiAgICBjbGFzc05hbWU6IGNsYXNzZXMuY2FwdGlvblxuICB9LCBsYWJlbERpc3BsYXllZFJvd3Moe1xuICAgIGZyb206IGNvdW50ID09PSAwID8gMCA6IHBhZ2UgKiByb3dzUGVyUGFnZSArIDEsXG4gICAgdG86IGNvdW50ICE9PSAtMSA/IE1hdGgubWluKGNvdW50LCAocGFnZSArIDEpICogcm93c1BlclBhZ2UpIDogKHBhZ2UgKyAxKSAqIHJvd3NQZXJQYWdlLFxuICAgIGNvdW50OiBjb3VudCA9PT0gLTEgPyAtMSA6IGNvdW50LFxuICAgIHBhZ2U6IHBhZ2VcbiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBY3Rpb25zQ29tcG9uZW50LCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvbnMsXG4gICAgYmFja0ljb25CdXR0b25Qcm9wczogX2V4dGVuZHMoe1xuICAgICAgdGl0bGU6IGJhY2tJY29uQnV0dG9uVGV4dCxcbiAgICAgICdhcmlhLWxhYmVsJzogYmFja0ljb25CdXR0b25UZXh0XG4gICAgfSwgYmFja0ljb25CdXR0b25Qcm9wcyksXG4gICAgY291bnQ6IGNvdW50LFxuICAgIG5leHRJY29uQnV0dG9uUHJvcHM6IF9leHRlbmRzKHtcbiAgICAgIHRpdGxlOiBuZXh0SWNvbkJ1dHRvblRleHQsXG4gICAgICAnYXJpYS1sYWJlbCc6IG5leHRJY29uQnV0dG9uVGV4dFxuICAgIH0sIG5leHRJY29uQnV0dG9uUHJvcHMpLFxuICAgIG9uQ2hhbmdlUGFnZTogb25DaGFuZ2VQYWdlLFxuICAgIHBhZ2U6IHBhZ2UsXG4gICAgcm93c1BlclBhZ2U6IHJvd3NQZXJQYWdlXG4gIH0pKSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRhYmxlUGFnaW5hdGlvbi5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBUaGUgY29tcG9uZW50IHVzZWQgZm9yIGRpc3BsYXlpbmcgdGhlIGFjdGlvbnMuXG4gICAqIEVpdGhlciBhIHN0cmluZyB0byB1c2UgYSBIVE1MIGVsZW1lbnQgb3IgYSBjb21wb25lbnQuXG4gICAqL1xuICBBY3Rpb25zQ29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG5cbiAgLyoqXG4gICAqIFByb3BzIGFwcGxpZWQgdG8gdGhlIGJhY2sgYXJyb3cgW2BJY29uQnV0dG9uYF0oL2FwaS9pY29uLWJ1dHRvbi8pIGNvbXBvbmVudC5cbiAgICovXG4gIGJhY2tJY29uQnV0dG9uUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIFRleHQgbGFiZWwgZm9yIHRoZSBiYWNrIGFycm93IGljb24gYnV0dG9uLlxuICAgKlxuICAgKiBGb3IgbG9jYWxpemF0aW9uIHB1cnBvc2VzLCB5b3UgY2FuIHVzZSB0aGUgcHJvdmlkZWQgW3RyYW5zbGF0aW9uc10oL2d1aWRlcy9sb2NhbGl6YXRpb24vKS5cbiAgICovXG4gIGJhY2tJY29uQnV0dG9uVGV4dDogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKiBTZWUgW0NTUyBBUEldKCNjc3MpIGJlbG93IGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY29sU3BhbjogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKipcbiAgICogVGhlIGNvbXBvbmVudCB1c2VkIGZvciB0aGUgcm9vdCBub2RlLlxuICAgKiBFaXRoZXIgYSBzdHJpbmcgdG8gdXNlIGEgSFRNTCBlbGVtZW50IG9yIGEgY29tcG9uZW50LlxuICAgKi9cbiAgY29tcG9uZW50OiBQcm9wVHlwZXNcbiAgLyogQHR5cGVzY3JpcHQtdG8tcHJvcHR5cGVzLWlnbm9yZSAqL1xuICAuZWxlbWVudFR5cGUsXG5cbiAgLyoqXG4gICAqIFRoZSB0b3RhbCBudW1iZXIgb2Ygcm93cy5cbiAgICpcbiAgICogVG8gZW5hYmxlIHNlcnZlciBzaWRlIHBhZ2luYXRpb24gZm9yIGFuIHVua25vd24gbnVtYmVyIG9mIGl0ZW1zLCBwcm92aWRlIC0xLlxuICAgKi9cbiAgY291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogQ3VzdG9taXplIHRoZSBkaXNwbGF5ZWQgcm93cyBsYWJlbC4gSW52b2tlZCB3aXRoIGEgYHsgZnJvbSwgdG8sIGNvdW50LCBwYWdlIH1gXG4gICAqIG9iamVjdC5cbiAgICpcbiAgICogRm9yIGxvY2FsaXphdGlvbiBwdXJwb3NlcywgeW91IGNhbiB1c2UgdGhlIHByb3ZpZGVkIFt0cmFuc2xhdGlvbnNdKC9ndWlkZXMvbG9jYWxpemF0aW9uLykuXG4gICAqL1xuICBsYWJlbERpc3BsYXllZFJvd3M6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDdXN0b21pemUgdGhlIHJvd3MgcGVyIHBhZ2UgbGFiZWwuXG4gICAqXG4gICAqIEZvciBsb2NhbGl6YXRpb24gcHVycG9zZXMsIHlvdSBjYW4gdXNlIHRoZSBwcm92aWRlZCBbdHJhbnNsYXRpb25zXSgvZ3VpZGVzL2xvY2FsaXphdGlvbi8pLlxuICAgKi9cbiAgbGFiZWxSb3dzUGVyUGFnZTogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIFByb3BzIGFwcGxpZWQgdG8gdGhlIG5leHQgYXJyb3cgW2BJY29uQnV0dG9uYF0oL2FwaS9pY29uLWJ1dHRvbi8pIGVsZW1lbnQuXG4gICAqL1xuICBuZXh0SWNvbkJ1dHRvblByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBUZXh0IGxhYmVsIGZvciB0aGUgbmV4dCBhcnJvdyBpY29uIGJ1dHRvbi5cbiAgICpcbiAgICogRm9yIGxvY2FsaXphdGlvbiBwdXJwb3NlcywgeW91IGNhbiB1c2UgdGhlIHByb3ZpZGVkIFt0cmFuc2xhdGlvbnNdKC9ndWlkZXMvbG9jYWxpemF0aW9uLykuXG4gICAqL1xuICBuZXh0SWNvbkJ1dHRvblRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIHdoZW4gdGhlIHBhZ2UgaXMgY2hhbmdlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IFRoZSBldmVudCBzb3VyY2Ugb2YgdGhlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZSBUaGUgcGFnZSBzZWxlY3RlZC5cbiAgICovXG4gIG9uQ2hhbmdlUGFnZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgd2hlbiB0aGUgbnVtYmVyIG9mIHJvd3MgcGVyIHBhZ2UgaXMgY2hhbmdlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IFRoZSBldmVudCBzb3VyY2Ugb2YgdGhlIGNhbGxiYWNrLlxuICAgKi9cbiAgb25DaGFuZ2VSb3dzUGVyUGFnZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIFRoZSB6ZXJvLWJhc2VkIGluZGV4IG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAqL1xuICBwYWdlOiBjaGFpblByb3BUeXBlcyhQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsIGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjb3VudCA9IHByb3BzLmNvdW50LFxuICAgICAgICBwYWdlID0gcHJvcHMucGFnZSxcbiAgICAgICAgcm93c1BlclBhZ2UgPSBwcm9wcy5yb3dzUGVyUGFnZTtcblxuICAgIGlmIChjb3VudCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0UGFnZSA9IE1hdGgubWF4KDAsIE1hdGguY2VpbChjb3VudCAvIHJvd3NQZXJQYWdlKSAtIDEpO1xuXG4gICAgaWYgKHBhZ2UgPCAwIHx8IHBhZ2UgPiBuZXdMYXN0UGFnZSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignTWF0ZXJpYWwtVUk6IFRoZSBwYWdlIHByb3Agb2YgYSBUYWJsZVBhZ2luYXRpb24gaXMgb3V0IG9mIHJhbmdlICcgKyBcIigwIHRvIFwiLmNvbmNhdChuZXdMYXN0UGFnZSwgXCIsIGJ1dCBwYWdlIGlzIFwiKS5jb25jYXQocGFnZSwgXCIpLlwiKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIHJvd3MgcGVyIHBhZ2UuXG4gICAqL1xuICByb3dzUGVyUGFnZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBDdXN0b21pemVzIHRoZSBvcHRpb25zIG9mIHRoZSByb3dzIHBlciBwYWdlIHNlbGVjdCBmaWVsZC4gSWYgbGVzcyB0aGFuIHR3byBvcHRpb25zIGFyZVxuICAgKiBhdmFpbGFibGUsIG5vIHNlbGVjdCBmaWVsZCB3aWxsIGJlIGRpc3BsYXllZC5cbiAgICovXG4gIHJvd3NQZXJQYWdlT3B0aW9uczogUHJvcFR5cGVzLmFycmF5LFxuXG4gIC8qKlxuICAgKiBQcm9wcyBhcHBsaWVkIHRvIHRoZSByb3dzIHBlciBwYWdlIFtgU2VsZWN0YF0oL2FwaS9zZWxlY3QvKSBlbGVtZW50LlxuICAgKi9cbiAgU2VsZWN0UHJvcHM6IFByb3BUeXBlcy5vYmplY3Rcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywge1xuICBuYW1lOiAnTXVpVGFibGVQYWdpbmF0aW9uJ1xufSkoVGFibGVQYWdpbmF0aW9uKTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IEtleWJvYXJkQXJyb3dMZWZ0IGZyb20gJy4uL2ludGVybmFsL3N2Zy1pY29ucy9LZXlib2FyZEFycm93TGVmdCc7XG5pbXBvcnQgS2V5Ym9hcmRBcnJvd1JpZ2h0IGZyb20gJy4uL2ludGVybmFsL3N2Zy1pY29ucy9LZXlib2FyZEFycm93UmlnaHQnO1xuaW1wb3J0IHVzZVRoZW1lIGZyb20gJy4uL3N0eWxlcy91c2VUaGVtZSc7XG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICcuLi9JY29uQnV0dG9uJztcbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuXG52YXIgX3JlZiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkQXJyb3dSaWdodCwgbnVsbCk7XG5cbnZhciBfcmVmMiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEtleWJvYXJkQXJyb3dMZWZ0LCBudWxsKTtcblxudmFyIF9yZWYzID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoS2V5Ym9hcmRBcnJvd0xlZnQsIG51bGwpO1xuXG52YXIgX3JlZjQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChLZXlib2FyZEFycm93UmlnaHQsIG51bGwpO1xuXG52YXIgVGFibGVQYWdpbmF0aW9uQWN0aW9ucyA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFRhYmxlUGFnaW5hdGlvbkFjdGlvbnMocHJvcHMsIHJlZikge1xuICB2YXIgYmFja0ljb25CdXR0b25Qcm9wcyA9IHByb3BzLmJhY2tJY29uQnV0dG9uUHJvcHMsXG4gICAgICBjb3VudCA9IHByb3BzLmNvdW50LFxuICAgICAgbmV4dEljb25CdXR0b25Qcm9wcyA9IHByb3BzLm5leHRJY29uQnV0dG9uUHJvcHMsXG4gICAgICBvbkNoYW5nZVBhZ2UgPSBwcm9wcy5vbkNoYW5nZVBhZ2UsXG4gICAgICBwYWdlID0gcHJvcHMucGFnZSxcbiAgICAgIHJvd3NQZXJQYWdlID0gcHJvcHMucm93c1BlclBhZ2UsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wiYmFja0ljb25CdXR0b25Qcm9wc1wiLCBcImNvdW50XCIsIFwibmV4dEljb25CdXR0b25Qcm9wc1wiLCBcIm9uQ2hhbmdlUGFnZVwiLCBcInBhZ2VcIiwgXCJyb3dzUGVyUGFnZVwiXSk7XG5cbiAgdmFyIHRoZW1lID0gdXNlVGhlbWUoKTtcblxuICB2YXIgaGFuZGxlQmFja0J1dHRvbkNsaWNrID0gZnVuY3Rpb24gaGFuZGxlQmFja0J1dHRvbkNsaWNrKGV2ZW50KSB7XG4gICAgb25DaGFuZ2VQYWdlKGV2ZW50LCBwYWdlIC0gMSk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZU5leHRCdXR0b25DbGljayA9IGZ1bmN0aW9uIGhhbmRsZU5leHRCdXR0b25DbGljayhldmVudCkge1xuICAgIG9uQ2hhbmdlUGFnZShldmVudCwgcGFnZSArIDEpO1xuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWZcbiAgfSwgb3RoZXIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgb25DbGljazogaGFuZGxlQmFja0J1dHRvbkNsaWNrLFxuICAgIGRpc2FibGVkOiBwYWdlID09PSAwLFxuICAgIGNvbG9yOiBcImluaGVyaXRcIlxuICB9LCBiYWNrSWNvbkJ1dHRvblByb3BzKSwgdGhlbWUuZGlyZWN0aW9uID09PSAncnRsJyA/IF9yZWYgOiBfcmVmMiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIF9leHRlbmRzKHtcbiAgICBvbkNsaWNrOiBoYW5kbGVOZXh0QnV0dG9uQ2xpY2ssXG4gICAgZGlzYWJsZWQ6IGNvdW50ICE9PSAtMSA/IHBhZ2UgPj0gTWF0aC5jZWlsKGNvdW50IC8gcm93c1BlclBhZ2UpIC0gMSA6IGZhbHNlLFxuICAgIGNvbG9yOiBcImluaGVyaXRcIlxuICB9LCBuZXh0SWNvbkJ1dHRvblByb3BzKSwgdGhlbWUuZGlyZWN0aW9uID09PSAncnRsJyA/IF9yZWYzIDogX3JlZjQpKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVGFibGVQYWdpbmF0aW9uQWN0aW9ucy5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBQcm9wcyBhcHBsaWVkIHRvIHRoZSBiYWNrIGFycm93IFtgSWNvbkJ1dHRvbmBdKC9hcGkvaWNvbi1idXR0b24vKSBlbGVtZW50LlxuICAgKi9cbiAgYmFja0ljb25CdXR0b25Qcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogVGhlIHRvdGFsIG51bWJlciBvZiByb3dzLlxuICAgKi9cbiAgY291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogUHJvcHMgYXBwbGllZCB0byB0aGUgbmV4dCBhcnJvdyBbYEljb25CdXR0b25gXSgvYXBpL2ljb24tYnV0dG9uLykgZWxlbWVudC5cbiAgICovXG4gIG5leHRJY29uQnV0dG9uUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZpcmVkIHdoZW4gdGhlIHBhZ2UgaXMgY2hhbmdlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IFRoZSBldmVudCBzb3VyY2Ugb2YgdGhlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZSBUaGUgcGFnZSBzZWxlY3RlZC5cbiAgICovXG4gIG9uQ2hhbmdlUGFnZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogVGhlIHplcm8tYmFzZWQgaW5kZXggb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAgICovXG4gIHBhZ2U6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiByb3dzIHBlciBwYWdlLlxuICAgKi9cbiAgcm93c1BlclBhZ2U6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IFRhYmxlUGFnaW5hdGlvbkFjdGlvbnM7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHdpdGhTdHlsZXMgZnJvbSAnLi4vc3R5bGVzL3dpdGhTdHlsZXMnO1xuaW1wb3J0IFRhYmxlbHZsMkNvbnRleHQgZnJvbSAnLi4vVGFibGUvVGFibGVsdmwyQ29udGV4dCc7XG5pbXBvcnQgeyBmYWRlIH0gZnJvbSAnLi4vc3R5bGVzL2NvbG9yTWFuaXB1bGF0b3InO1xuZXhwb3J0IHZhciBzdHlsZXMgPSBmdW5jdGlvbiBzdHlsZXModGhlbWUpIHtcbiAgcmV0dXJuIHtcbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50LiAqL1xuICAgIHJvb3Q6IHtcbiAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICBkaXNwbGF5OiAndGFibGUtcm93JyxcbiAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLFxuICAgICAgLy8gV2UgZGlzYWJsZSB0aGUgZm9jdXMgcmluZyBmb3IgbW91c2UsIHRvdWNoIGFuZCBrZXlib2FyZCB1c2Vycy5cbiAgICAgIG91dGxpbmU6IDAsXG4gICAgICAnJiRob3Zlcjpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmFjdGlvbi5ob3ZlclxuICAgICAgfSxcbiAgICAgICcmJHNlbGVjdGVkLCAmJHNlbGVjdGVkOmhvdmVyJzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGZhZGUodGhlbWUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbiwgdGhlbWUucGFsZXR0ZS5hY3Rpb24uc2VsZWN0ZWRPcGFjaXR5KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKiBQc2V1ZG8tY2xhc3MgYXBwbGllZCB0byB0aGUgcm9vdCBlbGVtZW50IGlmIGBzZWxlY3RlZD17dHJ1ZX1gLiAqL1xuICAgIHNlbGVjdGVkOiB7fSxcblxuICAgIC8qIFBzZXVkby1jbGFzcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGhvdmVyPXt0cnVlfWAuICovXG4gICAgaG92ZXI6IHt9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiB0YWJsZSB2YXJpYW50PVwiaGVhZFwiLiAqL1xuICAgIGhlYWQ6IHt9LFxuXG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudCBpZiB0YWJsZSB2YXJpYW50PVwiZm9vdGVyXCIuICovXG4gICAgZm9vdGVyOiB7fVxuICB9O1xufTtcbnZhciBkZWZhdWx0Q29tcG9uZW50ID0gJ3RyJztcbi8qKlxuICogV2lsbCBhdXRvbWF0aWNhbGx5IHNldCBkeW5hbWljIHJvdyBoZWlnaHRcbiAqIGJhc2VkIG9uIHRoZSBtYXRlcmlhbCB0YWJsZSBlbGVtZW50IHBhcmVudCAoaGVhZCwgYm9keSwgZXRjKS5cbiAqL1xuXG52YXIgVGFibGVSb3cgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBUYWJsZVJvdyhwcm9wcywgcmVmKSB7XG4gIHZhciBjbGFzc2VzID0gcHJvcHMuY2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIF9wcm9wcyRjb21wb25lbnQgPSBwcm9wcy5jb21wb25lbnQsXG4gICAgICBDb21wb25lbnQgPSBfcHJvcHMkY29tcG9uZW50ID09PSB2b2lkIDAgPyBkZWZhdWx0Q29tcG9uZW50IDogX3Byb3BzJGNvbXBvbmVudCxcbiAgICAgIF9wcm9wcyRob3ZlciA9IHByb3BzLmhvdmVyLFxuICAgICAgaG92ZXIgPSBfcHJvcHMkaG92ZXIgPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGhvdmVyLFxuICAgICAgX3Byb3BzJHNlbGVjdGVkID0gcHJvcHMuc2VsZWN0ZWQsXG4gICAgICBzZWxlY3RlZCA9IF9wcm9wcyRzZWxlY3RlZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkc2VsZWN0ZWQsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wiY2xhc3Nlc1wiLCBcImNsYXNzTmFtZVwiLCBcImNvbXBvbmVudFwiLCBcImhvdmVyXCIsIFwic2VsZWN0ZWRcIl0pO1xuXG4gIHZhciB0YWJsZWx2bDIgPSBSZWFjdC51c2VDb250ZXh0KFRhYmxlbHZsMkNvbnRleHQpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgY2xhc3NOYW1lOiBjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lLCB0YWJsZWx2bDIgJiYge1xuICAgICAgJ2hlYWQnOiBjbGFzc2VzLmhlYWQsXG4gICAgICAnZm9vdGVyJzogY2xhc3Nlcy5mb290ZXJcbiAgICB9W3RhYmxlbHZsMi52YXJpYW50XSwgaG92ZXIgJiYgY2xhc3Nlcy5ob3Zlciwgc2VsZWN0ZWQgJiYgY2xhc3Nlcy5zZWxlY3RlZCksXG4gICAgcm9sZTogQ29tcG9uZW50ID09PSBkZWZhdWx0Q29tcG9uZW50ID8gbnVsbCA6ICdyb3cnXG4gIH0sIG90aGVyKSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRhYmxlUm93LnByb3BUeXBlcyA9IHtcbiAgLyoqXG4gICAqIFNob3VsZCBiZSB2YWxpZCA8dHI+IGNoaWxkcmVuIHN1Y2ggYXMgYFRhYmxlQ2VsbGAuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICogU2VlIFtDU1MgQVBJXSgjY3NzKSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFRoZSBjb21wb25lbnQgdXNlZCBmb3IgdGhlIHJvb3Qgbm9kZS5cbiAgICogRWl0aGVyIGEgc3RyaW5nIHRvIHVzZSBhIEhUTUwgZWxlbWVudCBvciBhIGNvbXBvbmVudC5cbiAgICovXG4gIGNvbXBvbmVudDogUHJvcFR5cGVzXG4gIC8qIEB0eXBlc2NyaXB0LXRvLXByb3B0eXBlcy1pZ25vcmUgKi9cbiAgLmVsZW1lbnRUeXBlLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSB0YWJsZSByb3cgd2lsbCBzaGFkZSBvbiBob3Zlci5cbiAgICovXG4gIGhvdmVyOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgdGFibGUgcm93IHdpbGwgaGF2ZSB0aGUgc2VsZWN0ZWQgc2hhZGluZy5cbiAgICovXG4gIHNlbGVjdGVkOiBQcm9wVHlwZXMuYm9vbFxufSA6IHZvaWQgMDtcbmV4cG9ydCBkZWZhdWx0IHdpdGhTdHlsZXMoc3R5bGVzLCB7XG4gIG5hbWU6ICdNdWlUYWJsZVJvdydcbn0pKFRhYmxlUm93KTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgQXJyb3dEb3dud2FyZEljb24gZnJvbSAnLi4vaW50ZXJuYWwvc3ZnLWljb25zL0Fycm93RG93bndhcmQnO1xuaW1wb3J0IHdpdGhTdHlsZXMgZnJvbSAnLi4vc3R5bGVzL3dpdGhTdHlsZXMnO1xuaW1wb3J0IEJ1dHRvbkJhc2UgZnJvbSAnLi4vQnV0dG9uQmFzZSc7XG5pbXBvcnQgY2FwaXRhbGl6ZSBmcm9tICcuLi91dGlscy9jYXBpdGFsaXplJztcbmV4cG9ydCB2YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKHRoZW1lKSB7XG4gIHJldHVybiB7XG4gICAgLyogU3R5bGVzIGFwcGxpZWQgdG8gdGhlIHJvb3QgZWxlbWVudC4gKi9cbiAgICByb290OiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ2luaGVyaXQnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAnJjpmb2N1cyc6IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5zZWNvbmRhcnlcbiAgICAgIH0sXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5zZWNvbmRhcnksXG4gICAgICAgICcmICRpY29uJzoge1xuICAgICAgICAgIG9wYWNpdHk6IDAuNVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgJyYkYWN0aXZlJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnksXG4gICAgICAgIC8vICYmIGluc3RlYWQgb2YgJiBpcyBhIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9jc3NpbmpzL2pzcy9pc3N1ZXMvMTA0NVxuICAgICAgICAnJiYgJGljb24nOiB7XG4gICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnNlY29uZGFyeVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qIFBzZXVkby1jbGFzcyBhcHBsaWVkIHRvIHRoZSByb290IGVsZW1lbnQgaWYgYGFjdGl2ZT17dHJ1ZX1gLiAqL1xuICAgIGFjdGl2ZToge30sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgaWNvbiBjb21wb25lbnQuICovXG4gICAgaWNvbjoge1xuICAgICAgZm9udFNpemU6IDE4LFxuICAgICAgbWFyZ2luUmlnaHQ6IDQsXG4gICAgICBtYXJnaW5MZWZ0OiA0LFxuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZShbJ29wYWNpdHknLCAndHJhbnNmb3JtJ10sIHtcbiAgICAgICAgZHVyYXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0ZXJcbiAgICAgIH0pLFxuICAgICAgdXNlclNlbGVjdDogJ25vbmUnXG4gICAgfSxcblxuICAgIC8qIFN0eWxlcyBhcHBsaWVkIHRvIHRoZSBpY29uIGNvbXBvbmVudCBpZiBgZGlyZWN0aW9uPVwiZGVzY1wiYC4gKi9cbiAgICBpY29uRGlyZWN0aW9uRGVzYzoge1xuICAgICAgdHJhbnNmb3JtOiAncm90YXRlKDBkZWcpJ1xuICAgIH0sXG5cbiAgICAvKiBTdHlsZXMgYXBwbGllZCB0byB0aGUgaWNvbiBjb21wb25lbnQgaWYgYGRpcmVjdGlvbj1cImFzY1wiYC4gKi9cbiAgICBpY29uRGlyZWN0aW9uQXNjOiB7XG4gICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoMTgwZGVnKSdcbiAgICB9XG4gIH07XG59O1xuLyoqXG4gKiBBIGJ1dHRvbiBiYXNlZCBsYWJlbCBmb3IgcGxhY2luZyBpbnNpZGUgYFRhYmxlQ2VsbGAgZm9yIGNvbHVtbiBzb3J0aW5nLlxuICovXG5cbnZhciBUYWJsZVNvcnRMYWJlbCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFRhYmxlU29ydExhYmVsKHByb3BzLCByZWYpIHtcbiAgdmFyIF9wcm9wcyRhY3RpdmUgPSBwcm9wcy5hY3RpdmUsXG4gICAgICBhY3RpdmUgPSBfcHJvcHMkYWN0aXZlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRhY3RpdmUsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgY2xhc3NlcyA9IHByb3BzLmNsYXNzZXMsXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBfcHJvcHMkZGlyZWN0aW9uID0gcHJvcHMuZGlyZWN0aW9uLFxuICAgICAgZGlyZWN0aW9uID0gX3Byb3BzJGRpcmVjdGlvbiA9PT0gdm9pZCAwID8gJ2FzYycgOiBfcHJvcHMkZGlyZWN0aW9uLFxuICAgICAgX3Byb3BzJGhpZGVTb3J0SWNvbiA9IHByb3BzLmhpZGVTb3J0SWNvbixcbiAgICAgIGhpZGVTb3J0SWNvbiA9IF9wcm9wcyRoaWRlU29ydEljb24gPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJGhpZGVTb3J0SWNvbixcbiAgICAgIF9wcm9wcyRJY29uQ29tcG9uZW50ID0gcHJvcHMuSWNvbkNvbXBvbmVudCxcbiAgICAgIEljb25Db21wb25lbnQgPSBfcHJvcHMkSWNvbkNvbXBvbmVudCA9PT0gdm9pZCAwID8gQXJyb3dEb3dud2FyZEljb24gOiBfcHJvcHMkSWNvbkNvbXBvbmVudCxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJhY3RpdmVcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzZXNcIiwgXCJjbGFzc05hbWVcIiwgXCJkaXJlY3Rpb25cIiwgXCJoaWRlU29ydEljb25cIiwgXCJJY29uQ29tcG9uZW50XCJdKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uQmFzZSwgX2V4dGVuZHMoe1xuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSwgYWN0aXZlICYmIGNsYXNzZXMuYWN0aXZlKSxcbiAgICBjb21wb25lbnQ6IFwic3BhblwiLFxuICAgIGRpc2FibGVSaXBwbGU6IHRydWUsXG4gICAgcmVmOiByZWZcbiAgfSwgb3RoZXIpLCBjaGlsZHJlbiwgaGlkZVNvcnRJY29uICYmICFhY3RpdmUgPyBudWxsIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkNvbXBvbmVudCwge1xuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLmljb24sIGNsYXNzZXNbXCJpY29uRGlyZWN0aW9uXCIuY29uY2F0KGNhcGl0YWxpemUoZGlyZWN0aW9uKSldKVxuICB9KSk7XG59KTtcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFRhYmxlU29ydExhYmVsLnByb3BUeXBlcyA9IHtcbiAgLyoqXG4gICAqIElmIGB0cnVlYCwgdGhlIGxhYmVsIHdpbGwgaGF2ZSB0aGUgYWN0aXZlIHN0eWxpbmcgKHNob3VsZCBiZSB0cnVlIGZvciB0aGUgc29ydGVkIGNvbHVtbikuXG4gICAqL1xuICBhY3RpdmU6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBMYWJlbCBjb250ZW50cywgdGhlIGFycm93IHdpbGwgYmUgYXBwZW5kZWQgYXV0b21hdGljYWxseS5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgKiBTZWUgW0NTUyBBUEldKCNjc3MpIGJlbG93IGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc29ydCBkaXJlY3Rpb24uXG4gICAqL1xuICBkaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbJ2FzYycsICdkZXNjJ10pLFxuXG4gIC8qKlxuICAgKiBIaWRlIHNvcnQgaWNvbiB3aGVuIGFjdGl2ZSBpcyBmYWxzZS5cbiAgICovXG4gIGhpZGVTb3J0SWNvbjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFNvcnQgaWNvbiB0byB1c2UuXG4gICAqL1xuICBJY29uQ29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudFR5cGVcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywge1xuICBuYW1lOiAnTXVpVGFibGVTb3J0TGFiZWwnXG59KShUYWJsZVNvcnRMYWJlbCk7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgeyByZWZUeXBlIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3V0aWxzJztcbmltcG9ydCB1c2VDb250cm9sbGVkIGZyb20gJy4uL3V0aWxzL3VzZUNvbnRyb2xsZWQnO1xuaW1wb3J0IHVzZUZvcm1Db250cm9sIGZyb20gJy4uL0Zvcm1Db250cm9sL3VzZUZvcm1Db250cm9sJztcbmltcG9ydCB3aXRoU3R5bGVzIGZyb20gJy4uL3N0eWxlcy93aXRoU3R5bGVzJztcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJy4uL0ljb25CdXR0b24nO1xuZXhwb3J0IHZhciBzdHlsZXMgPSB7XG4gIHJvb3Q6IHtcbiAgICBwYWRkaW5nOiA5XG4gIH0sXG4gIGNoZWNrZWQ6IHt9LFxuICBkaXNhYmxlZDoge30sXG4gIGlucHV0OiB7XG4gICAgY3Vyc29yOiAnaW5oZXJpdCcsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgb3BhY2l0eTogMCxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIG1hcmdpbjogMCxcbiAgICBwYWRkaW5nOiAwLFxuICAgIHpJbmRleDogMVxuICB9XG59O1xuLyoqXG4gKiBAaWdub3JlIC0gaW50ZXJuYWwgY29tcG9uZW50LlxuICovXG5cbnZhciBTd2l0Y2hCYXNlID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gU3dpdGNoQmFzZShwcm9wcywgcmVmKSB7XG4gIHZhciBhdXRvRm9jdXMgPSBwcm9wcy5hdXRvRm9jdXMsXG4gICAgICBjaGVja2VkUHJvcCA9IHByb3BzLmNoZWNrZWQsXG4gICAgICBjaGVja2VkSWNvbiA9IHByb3BzLmNoZWNrZWRJY29uLFxuICAgICAgY2xhc3NlcyA9IHByb3BzLmNsYXNzZXMsXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBkZWZhdWx0Q2hlY2tlZCA9IHByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgICAgZGlzYWJsZWRQcm9wID0gcHJvcHMuZGlzYWJsZWQsXG4gICAgICBpY29uID0gcHJvcHMuaWNvbixcbiAgICAgIGlkID0gcHJvcHMuaWQsXG4gICAgICBpbnB1dFByb3BzID0gcHJvcHMuaW5wdXRQcm9wcyxcbiAgICAgIGlucHV0UmVmID0gcHJvcHMuaW5wdXRSZWYsXG4gICAgICBuYW1lID0gcHJvcHMubmFtZSxcbiAgICAgIG9uQmx1ciA9IHByb3BzLm9uQmx1cixcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICBvbkZvY3VzID0gcHJvcHMub25Gb2N1cyxcbiAgICAgIHJlYWRPbmx5ID0gcHJvcHMucmVhZE9ubHksXG4gICAgICByZXF1aXJlZCA9IHByb3BzLnJlcXVpcmVkLFxuICAgICAgdGFiSW5kZXggPSBwcm9wcy50YWJJbmRleCxcbiAgICAgIHR5cGUgPSBwcm9wcy50eXBlLFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIG90aGVyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJhdXRvRm9jdXNcIiwgXCJjaGVja2VkXCIsIFwiY2hlY2tlZEljb25cIiwgXCJjbGFzc2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwiZGVmYXVsdENoZWNrZWRcIiwgXCJkaXNhYmxlZFwiLCBcImljb25cIiwgXCJpZFwiLCBcImlucHV0UHJvcHNcIiwgXCJpbnB1dFJlZlwiLCBcIm5hbWVcIiwgXCJvbkJsdXJcIiwgXCJvbkNoYW5nZVwiLCBcIm9uRm9jdXNcIiwgXCJyZWFkT25seVwiLCBcInJlcXVpcmVkXCIsIFwidGFiSW5kZXhcIiwgXCJ0eXBlXCIsIFwidmFsdWVcIl0pO1xuXG4gIHZhciBfdXNlQ29udHJvbGxlZCA9IHVzZUNvbnRyb2xsZWQoe1xuICAgIGNvbnRyb2xsZWQ6IGNoZWNrZWRQcm9wLFxuICAgIGRlZmF1bHQ6IEJvb2xlYW4oZGVmYXVsdENoZWNrZWQpLFxuICAgIG5hbWU6ICdTd2l0Y2hCYXNlJyxcbiAgICBzdGF0ZTogJ2NoZWNrZWQnXG4gIH0pLFxuICAgICAgX3VzZUNvbnRyb2xsZWQyID0gX3NsaWNlZFRvQXJyYXkoX3VzZUNvbnRyb2xsZWQsIDIpLFxuICAgICAgY2hlY2tlZCA9IF91c2VDb250cm9sbGVkMlswXSxcbiAgICAgIHNldENoZWNrZWRTdGF0ZSA9IF91c2VDb250cm9sbGVkMlsxXTtcblxuICB2YXIgbXVpRm9ybUNvbnRyb2wgPSB1c2VGb3JtQ29udHJvbCgpO1xuXG4gIHZhciBoYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIGhhbmRsZUZvY3VzKGV2ZW50KSB7XG4gICAgaWYgKG9uRm9jdXMpIHtcbiAgICAgIG9uRm9jdXMoZXZlbnQpO1xuICAgIH1cblxuICAgIGlmIChtdWlGb3JtQ29udHJvbCAmJiBtdWlGb3JtQ29udHJvbC5vbkZvY3VzKSB7XG4gICAgICBtdWlGb3JtQ29udHJvbC5vbkZvY3VzKGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGhhbmRsZUJsdXIgPSBmdW5jdGlvbiBoYW5kbGVCbHVyKGV2ZW50KSB7XG4gICAgaWYgKG9uQmx1cikge1xuICAgICAgb25CbHVyKGV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAobXVpRm9ybUNvbnRyb2wgJiYgbXVpRm9ybUNvbnRyb2wub25CbHVyKSB7XG4gICAgICBtdWlGb3JtQ29udHJvbC5vbkJsdXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGFuZGxlSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVJbnB1dENoYW5nZShldmVudCkge1xuICAgIHZhciBuZXdDaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgc2V0Q2hlY2tlZFN0YXRlKG5ld0NoZWNrZWQpO1xuXG4gICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAvLyBUT0RPIHY1OiByZW1vdmUgdGhlIHNlY29uZCBhcmd1bWVudC5cbiAgICAgIG9uQ2hhbmdlKGV2ZW50LCBuZXdDaGVja2VkKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGRpc2FibGVkID0gZGlzYWJsZWRQcm9wO1xuXG4gIGlmIChtdWlGb3JtQ29udHJvbCkge1xuICAgIGlmICh0eXBlb2YgZGlzYWJsZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkaXNhYmxlZCA9IG11aUZvcm1Db250cm9sLmRpc2FibGVkO1xuICAgIH1cbiAgfVxuXG4gIHZhciBoYXNMYWJlbEZvciA9IHR5cGUgPT09ICdjaGVja2JveCcgfHwgdHlwZSA9PT0gJ3JhZGlvJztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIF9leHRlbmRzKHtcbiAgICBjb21wb25lbnQ6IFwic3BhblwiLFxuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSwgY2hlY2tlZCAmJiBjbGFzc2VzLmNoZWNrZWQsIGRpc2FibGVkICYmIGNsYXNzZXMuZGlzYWJsZWQpLFxuICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICB0YWJJbmRleDogbnVsbCxcbiAgICByb2xlOiB1bmRlZmluZWQsXG4gICAgb25Gb2N1czogaGFuZGxlRm9jdXMsXG4gICAgb25CbHVyOiBoYW5kbGVCbHVyLFxuICAgIHJlZjogcmVmXG4gIH0sIG90aGVyKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBfZXh0ZW5kcyh7XG4gICAgYXV0b0ZvY3VzOiBhdXRvRm9jdXMsXG4gICAgY2hlY2tlZDogY2hlY2tlZFByb3AsXG4gICAgZGVmYXVsdENoZWNrZWQ6IGRlZmF1bHRDaGVja2VkLFxuICAgIGNsYXNzTmFtZTogY2xhc3Nlcy5pbnB1dCxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgaWQ6IGhhc0xhYmVsRm9yICYmIGlkLFxuICAgIG5hbWU6IG5hbWUsXG4gICAgb25DaGFuZ2U6IGhhbmRsZUlucHV0Q2hhbmdlLFxuICAgIHJlYWRPbmx5OiByZWFkT25seSxcbiAgICByZWY6IGlucHV0UmVmLFxuICAgIHJlcXVpcmVkOiByZXF1aXJlZCxcbiAgICB0YWJJbmRleDogdGFiSW5kZXgsXG4gICAgdHlwZTogdHlwZSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfSwgaW5wdXRQcm9wcykpLCBjaGVja2VkID8gY2hlY2tlZEljb24gOiBpY29uKTtcbn0pOyAvLyBOQjogSWYgY2hhbmdlZCwgcGxlYXNlIHVwZGF0ZSBDaGVja2JveCwgU3dpdGNoIGFuZCBSYWRpb1xuLy8gc28gdGhhdCB0aGUgQVBJIGRvY3VtZW50YXRpb24gaXMgdXBkYXRlZC5cblxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gU3dpdGNoQmFzZS5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBgaW5wdXRgIGVsZW1lbnQgd2lsbCBiZSBmb2N1c2VkIGR1cmluZyB0aGUgZmlyc3QgbW91bnQuXG4gICAqL1xuICBhdXRvRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSBjb21wb25lbnQgaXMgY2hlY2tlZC5cbiAgICovXG4gIGNoZWNrZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBUaGUgaWNvbiB0byBkaXNwbGF5IHdoZW4gdGhlIGNvbXBvbmVudCBpcyBjaGVja2VkLlxuICAgKi9cbiAgY2hlY2tlZEljb246IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICogU2VlIFtDU1MgQVBJXSgjY3NzKSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKi9cbiAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGRlZmF1bHRDaGVja2VkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgc3dpdGNoIHdpbGwgYmUgZGlzYWJsZWQuXG4gICAqL1xuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIFRoZSBpY29uIHRvIGRpc3BsYXkgd2hlbiB0aGUgY29tcG9uZW50IGlzIHVuY2hlY2tlZC5cbiAgICovXG4gIGljb246IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFRoZSBpZCBvZiB0aGUgYGlucHV0YCBlbGVtZW50LlxuICAgKi9cbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFtBdHRyaWJ1dGVzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvaW5wdXQjQXR0cmlidXRlcykgYXBwbGllZCB0byB0aGUgYGlucHV0YCBlbGVtZW50LlxuICAgKi9cbiAgaW5wdXRQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogUGFzcyBhIHJlZiB0byB0aGUgYGlucHV0YCBlbGVtZW50LlxuICAgKi9cbiAgaW5wdXRSZWY6IHJlZlR5cGUsXG5cbiAgLypcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgb25CbHVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZmlyZWQgd2hlbiB0aGUgc3RhdGUgaXMgY2hhbmdlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IFRoZSBldmVudCBzb3VyY2Ugb2YgdGhlIGNhbGxiYWNrLlxuICAgKiBZb3UgY2FuIHB1bGwgb3V0IHRoZSBuZXcgY2hlY2tlZCBzdGF0ZSBieSBhY2Nlc3NpbmcgYGV2ZW50LnRhcmdldC5jaGVja2VkYCAoYm9vbGVhbikuXG4gICAqL1xuICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIG9uRm9jdXM6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBJdCBwcmV2ZW50cyB0aGUgdXNlciBmcm9tIGNoYW5naW5nIHRoZSB2YWx1ZSBvZiB0aGUgZmllbGRcbiAgICogKG5vdCBmcm9tIGludGVyYWN0aW5nIHdpdGggdGhlIGZpZWxkKS5cbiAgICovXG4gIHJlYWRPbmx5OiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgYGlucHV0YCBlbGVtZW50IHdpbGwgYmUgcmVxdWlyZWQuXG4gICAqL1xuICByZXF1aXJlZDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHRhYkluZGV4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSksXG5cbiAgLyoqXG4gICAqIFRoZSBpbnB1dCBjb21wb25lbnQgcHJvcCBgdHlwZWAuXG4gICAqL1xuICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgY29tcG9uZW50LlxuICAgKi9cbiAgdmFsdWU6IFByb3BUeXBlcy5hbnlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcywge1xuICBuYW1lOiAnUHJpdmF0ZVN3aXRjaEJhc2UnXG59KShTd2l0Y2hCYXNlKTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3JlYXRlU3ZnSWNvbiBmcm9tICcuLi8uLi91dGlscy9jcmVhdGVTdmdJY29uJztcbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTdmdJY29uKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk0yMCAxMmwtMS40MS0xLjQxTDEzIDE2LjE3VjRoLTJ2MTIuMTdsLTUuNTgtNS41OUw0IDEybDggOCA4LTh6XCJcbn0pLCAnQXJyb3dEb3dud2FyZCcpOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVTdmdJY29uIGZyb20gJy4uLy4uL3V0aWxzL2NyZWF0ZVN2Z0ljb24nO1xuLyoqXG4gKiBAaWdub3JlIC0gaW50ZXJuYWwgY29tcG9uZW50LlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN2Z0ljb24oIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTE5IDNINWMtMS4xMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMTEgMCAyLS45IDItMlY1YzAtMS4xLS44OS0yLTItMnptLTkgMTRsLTUtNSAxLjQxLTEuNDFMMTAgMTQuMTdsNy41OS03LjU5TDE5IDhsLTkgOXpcIlxufSksICdDaGVja0JveCcpOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVTdmdJY29uIGZyb20gJy4uLy4uL3V0aWxzL2NyZWF0ZVN2Z0ljb24nO1xuLyoqXG4gKiBAaWdub3JlIC0gaW50ZXJuYWwgY29tcG9uZW50LlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN2Z0ljb24oIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTE5IDV2MTRINVY1aDE0bTAtMkg1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6XCJcbn0pLCAnQ2hlY2tCb3hPdXRsaW5lQmxhbmsnKTsiLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3JlYXRlU3ZnSWNvbiBmcm9tICcuLi8uLi91dGlscy9jcmVhdGVTdmdJY29uJztcbi8qKlxuICogQGlnbm9yZSAtIGludGVybmFsIGNvbXBvbmVudC5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTdmdJY29uKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk0xOSAzSDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnptLTIgMTBIN3YtMmgxMHYyelwiXG59KSwgJ0luZGV0ZXJtaW5hdGVDaGVja0JveCcpOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVTdmdJY29uIGZyb20gJy4uLy4uL3V0aWxzL2NyZWF0ZVN2Z0ljb24nO1xuLyoqXG4gKiBAaWdub3JlIC0gaW50ZXJuYWwgY29tcG9uZW50LlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN2Z0ljb24oIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTE1LjQxIDE2LjA5bC00LjU4LTQuNTkgNC41OC00LjU5TDE0IDUuNWwtNiA2IDYgNnpcIlxufSksICdLZXlib2FyZEFycm93TGVmdCcpOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVTdmdJY29uIGZyb20gJy4uLy4uL3V0aWxzL2NyZWF0ZVN2Z0ljb24nO1xuLyoqXG4gKiBAaWdub3JlIC0gaW50ZXJuYWwgY29tcG9uZW50LlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN2Z0ljb24oIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTguNTkgMTYuMzRsNC41OC00LjU5LTQuNTgtNC41OUwxMCA1Ljc1bDYgNi02IDZ6XCJcbn0pLCAnS2V5Ym9hcmRBcnJvd1JpZ2h0Jyk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmhleFRvUmdiID0gaGV4VG9SZ2I7XG5leHBvcnRzLnJnYlRvSGV4ID0gcmdiVG9IZXg7XG5leHBvcnRzLmhzbFRvUmdiID0gaHNsVG9SZ2I7XG5leHBvcnRzLmRlY29tcG9zZUNvbG9yID0gZGVjb21wb3NlQ29sb3I7XG5leHBvcnRzLnJlY29tcG9zZUNvbG9yID0gcmVjb21wb3NlQ29sb3I7XG5leHBvcnRzLmdldENvbnRyYXN0UmF0aW8gPSBnZXRDb250cmFzdFJhdGlvO1xuZXhwb3J0cy5nZXRMdW1pbmFuY2UgPSBnZXRMdW1pbmFuY2U7XG5leHBvcnRzLmVtcGhhc2l6ZSA9IGVtcGhhc2l6ZTtcbmV4cG9ydHMuZmFkZSA9IGZhZGU7XG5leHBvcnRzLmRhcmtlbiA9IGRhcmtlbjtcbmV4cG9ydHMubGlnaHRlbiA9IGxpZ2h0ZW47XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiQG1hdGVyaWFsLXVpL3V0aWxzXCIpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBudW1iZXIgd2hvc2UgdmFsdWUgaXMgbGltaXRlZCB0byB0aGUgZ2l2ZW4gcmFuZ2UuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSB2YWx1ZSB0byBiZSBjbGFtcGVkXG4gKiBAcGFyYW0ge251bWJlcn0gbWluIFRoZSBsb3dlciBib3VuZGFyeSBvZiB0aGUgb3V0cHV0IHJhbmdlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4IFRoZSB1cHBlciBib3VuZGFyeSBvZiB0aGUgb3V0cHV0IHJhbmdlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBBIG51bWJlciBpbiB0aGUgcmFuZ2UgW21pbiwgbWF4XVxuICovXG5mdW5jdGlvbiBjbGFtcCh2YWx1ZSkge1xuICB2YXIgbWluID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICB2YXIgbWF4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHZhbHVlIDwgbWluIHx8IHZhbHVlID4gbWF4KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiTWF0ZXJpYWwtVUk6IFRoZSB2YWx1ZSBwcm92aWRlZCBcIi5jb25jYXQodmFsdWUsIFwiIGlzIG91dCBvZiByYW5nZSBbXCIpLmNvbmNhdChtaW4sIFwiLCBcIikuY29uY2F0KG1heCwgXCJdLlwiKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG1pbiwgdmFsdWUpLCBtYXgpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGZyb20gQ1NTIGhleCBmb3JtYXQgdG8gQ1NTIHJnYiBmb3JtYXQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gSGV4IGNvbG9yLCBpLmUuICNubm4gb3IgI25ubm5ublxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgcmdiIGNvbG9yIHN0cmluZ1xuICovXG5cblxuZnVuY3Rpb24gaGV4VG9SZ2IoY29sb3IpIHtcbiAgY29sb3IgPSBjb2xvci5zdWJzdHIoMSk7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAoXCIuezEsXCIuY29uY2F0KGNvbG9yLmxlbmd0aCA+PSA2ID8gMiA6IDEsIFwifVwiKSwgJ2cnKTtcbiAgdmFyIGNvbG9ycyA9IGNvbG9yLm1hdGNoKHJlKTtcblxuICBpZiAoY29sb3JzICYmIGNvbG9yc1swXS5sZW5ndGggPT09IDEpIHtcbiAgICBjb2xvcnMgPSBjb2xvcnMubWFwKGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gbiArIG47XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gY29sb3JzID8gXCJyZ2JcIi5jb25jYXQoY29sb3JzLmxlbmd0aCA9PT0gNCA/ICdhJyA6ICcnLCBcIihcIikuY29uY2F0KGNvbG9ycy5tYXAoZnVuY3Rpb24gKG4sIGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4IDwgMyA/IHBhcnNlSW50KG4sIDE2KSA6IE1hdGgucm91bmQocGFyc2VJbnQobiwgMTYpIC8gMjU1ICogMTAwMCkgLyAxMDAwO1xuICB9KS5qb2luKCcsICcpLCBcIilcIikgOiAnJztcbn1cblxuZnVuY3Rpb24gaW50VG9IZXgoaW50KSB7XG4gIHZhciBoZXggPSBpbnQudG9TdHJpbmcoMTYpO1xuICByZXR1cm4gaGV4Lmxlbmd0aCA9PT0gMSA/IFwiMFwiLmNvbmNhdChoZXgpIDogaGV4O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGZyb20gQ1NTIHJnYiBmb3JtYXQgdG8gQ1NTIGhleCBmb3JtYXQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gUkdCIGNvbG9yLCBpLmUuIHJnYihuLCBuLCBuKVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgcmdiIGNvbG9yIHN0cmluZywgaS5lLiAjbm5ubm5uXG4gKi9cblxuXG5mdW5jdGlvbiByZ2JUb0hleChjb2xvcikge1xuICAvLyBJZGVtcG90ZW50XG4gIGlmIChjb2xvci5pbmRleE9mKCcjJykgPT09IDApIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICB2YXIgX2RlY29tcG9zZUNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpLFxuICAgICAgdmFsdWVzID0gX2RlY29tcG9zZUNvbG9yLnZhbHVlcztcblxuICByZXR1cm4gXCIjXCIuY29uY2F0KHZhbHVlcy5tYXAoZnVuY3Rpb24gKG4pIHtcbiAgICByZXR1cm4gaW50VG9IZXgobik7XG4gIH0pLmpvaW4oJycpKTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBmcm9tIGhzbCBmb3JtYXQgdG8gcmdiIGZvcm1hdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBIU0wgY29sb3IgdmFsdWVzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZ2IgY29sb3IgdmFsdWVzXG4gKi9cblxuXG5mdW5jdGlvbiBoc2xUb1JnYihjb2xvcikge1xuICBjb2xvciA9IGRlY29tcG9zZUNvbG9yKGNvbG9yKTtcbiAgdmFyIF9jb2xvciA9IGNvbG9yLFxuICAgICAgdmFsdWVzID0gX2NvbG9yLnZhbHVlcztcbiAgdmFyIGggPSB2YWx1ZXNbMF07XG4gIHZhciBzID0gdmFsdWVzWzFdIC8gMTAwO1xuICB2YXIgbCA9IHZhbHVlc1syXSAvIDEwMDtcbiAgdmFyIGEgPSBzICogTWF0aC5taW4obCwgMSAtIGwpO1xuXG4gIHZhciBmID0gZnVuY3Rpb24gZihuKSB7XG4gICAgdmFyIGsgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IChuICsgaCAvIDMwKSAlIDEyO1xuICAgIHJldHVybiBsIC0gYSAqIE1hdGgubWF4KE1hdGgubWluKGsgLSAzLCA5IC0gaywgMSksIC0xKTtcbiAgfTtcblxuICB2YXIgdHlwZSA9ICdyZ2InO1xuICB2YXIgcmdiID0gW01hdGgucm91bmQoZigwKSAqIDI1NSksIE1hdGgucm91bmQoZig4KSAqIDI1NSksIE1hdGgucm91bmQoZig0KSAqIDI1NSldO1xuXG4gIGlmIChjb2xvci50eXBlID09PSAnaHNsYScpIHtcbiAgICB0eXBlICs9ICdhJztcbiAgICByZ2IucHVzaCh2YWx1ZXNbM10pO1xuICB9XG5cbiAgcmV0dXJuIHJlY29tcG9zZUNvbG9yKHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIHZhbHVlczogcmdiXG4gIH0pO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSB0eXBlIGFuZCB2YWx1ZXMgb2YgYSBjb2xvci5cbiAqXG4gKiBOb3RlOiBEb2VzIG5vdCBzdXBwb3J0IHJnYiAlIHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIEEgTVVJIGNvbG9yIG9iamVjdDoge3R5cGU6IHN0cmluZywgdmFsdWVzOiBudW1iZXJbXX1cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlY29tcG9zZUNvbG9yKGNvbG9yKSB7XG4gIC8vIElkZW1wb3RlbnRcbiAgaWYgKGNvbG9yLnR5cGUpIHtcbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICBpZiAoY29sb3IuY2hhckF0KDApID09PSAnIycpIHtcbiAgICByZXR1cm4gZGVjb21wb3NlQ29sb3IoaGV4VG9SZ2IoY29sb3IpKTtcbiAgfVxuXG4gIHZhciBtYXJrZXIgPSBjb2xvci5pbmRleE9mKCcoJyk7XG4gIHZhciB0eXBlID0gY29sb3Iuc3Vic3RyaW5nKDAsIG1hcmtlcik7XG5cbiAgaWYgKFsncmdiJywgJ3JnYmEnLCAnaHNsJywgJ2hzbGEnXS5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBcIk1hdGVyaWFsLVVJOiBVbnN1cHBvcnRlZCBgXCIuY29uY2F0KGNvbG9yLCBcImAgY29sb3IuXFxuV2Ugc3VwcG9ydCB0aGUgZm9sbG93aW5nIGZvcm1hdHM6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKCkuXCIpIDogKDAsIF91dGlscy5mb3JtYXRNdWlFcnJvck1lc3NhZ2UpKDMsIGNvbG9yKSk7XG4gIH1cblxuICB2YXIgdmFsdWVzID0gY29sb3Iuc3Vic3RyaW5nKG1hcmtlciArIDEsIGNvbG9yLmxlbmd0aCAtIDEpLnNwbGl0KCcsJyk7XG4gIHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIHZhbHVlczogdmFsdWVzXG4gIH07XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY29sb3Igb2JqZWN0IHdpdGggdHlwZSBhbmQgdmFsdWVzIHRvIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb2xvciAtIERlY29tcG9zZWQgY29sb3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvci50eXBlIC0gT25lIG9mOiAncmdiJywgJ3JnYmEnLCAnaHNsJywgJ2hzbGEnXG4gKiBAcGFyYW0ge2FycmF5fSBjb2xvci52YWx1ZXMgLSBbbixuLG5dIG9yIFtuLG4sbixuXVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nXG4gKi9cblxuXG5mdW5jdGlvbiByZWNvbXBvc2VDb2xvcihjb2xvcikge1xuICB2YXIgdHlwZSA9IGNvbG9yLnR5cGU7XG4gIHZhciB2YWx1ZXMgPSBjb2xvci52YWx1ZXM7XG5cbiAgaWYgKHR5cGUuaW5kZXhPZigncmdiJykgIT09IC0xKSB7XG4gICAgLy8gT25seSBjb252ZXJ0IHRoZSBmaXJzdCAzIHZhbHVlcyB0byBpbnQgKGkuZS4gbm90IGFscGhhKVxuICAgIHZhbHVlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKG4sIGkpIHtcbiAgICAgIHJldHVybiBpIDwgMyA/IHBhcnNlSW50KG4sIDEwKSA6IG47XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZS5pbmRleE9mKCdoc2wnKSAhPT0gLTEpIHtcbiAgICB2YWx1ZXNbMV0gPSBcIlwiLmNvbmNhdCh2YWx1ZXNbMV0sIFwiJVwiKTtcbiAgICB2YWx1ZXNbMl0gPSBcIlwiLmNvbmNhdCh2YWx1ZXNbMl0sIFwiJVwiKTtcbiAgfVxuXG4gIHJldHVybiBcIlwiLmNvbmNhdCh0eXBlLCBcIihcIikuY29uY2F0KHZhbHVlcy5qb2luKCcsICcpLCBcIilcIik7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGNvbnRyYXN0IHJhdGlvIGJldHdlZW4gdHdvIGNvbG9ycy5cbiAqXG4gKiBGb3JtdWxhOiBodHRwczovL3d3dy53My5vcmcvVFIvV0NBRzIwLVRFQ0hTL0cxNy5odG1sI0cxNy10ZXN0c1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JlZ3JvdW5kIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmQgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBBIGNvbnRyYXN0IHJhdGlvIHZhbHVlIGluIHRoZSByYW5nZSAwIC0gMjEuXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRDb250cmFzdFJhdGlvKGZvcmVncm91bmQsIGJhY2tncm91bmQpIHtcbiAgdmFyIGx1bUEgPSBnZXRMdW1pbmFuY2UoZm9yZWdyb3VuZCk7XG4gIHZhciBsdW1CID0gZ2V0THVtaW5hbmNlKGJhY2tncm91bmQpO1xuICByZXR1cm4gKE1hdGgubWF4KGx1bUEsIGx1bUIpICsgMC4wNSkgLyAoTWF0aC5taW4obHVtQSwgbHVtQikgKyAwLjA1KTtcbn1cbi8qKlxuICogVGhlIHJlbGF0aXZlIGJyaWdodG5lc3Mgb2YgYW55IHBvaW50IGluIGEgY29sb3Igc3BhY2UsXG4gKiBub3JtYWxpemVkIHRvIDAgZm9yIGRhcmtlc3QgYmxhY2sgYW5kIDEgZm9yIGxpZ2h0ZXN0IHdoaXRlLlxuICpcbiAqIEZvcm11bGE6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9XQ0FHMjAtVEVDSFMvRzE3Lmh0bWwjRzE3LXRlc3RzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHJldHVybnMge251bWJlcn0gVGhlIHJlbGF0aXZlIGJyaWdodG5lc3Mgb2YgdGhlIGNvbG9yIGluIHRoZSByYW5nZSAwIC0gMVxuICovXG5cblxuZnVuY3Rpb24gZ2V0THVtaW5hbmNlKGNvbG9yKSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICB2YXIgcmdiID0gY29sb3IudHlwZSA9PT0gJ2hzbCcgPyBkZWNvbXBvc2VDb2xvcihoc2xUb1JnYihjb2xvcikpLnZhbHVlcyA6IGNvbG9yLnZhbHVlcztcbiAgcmdiID0gcmdiLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgdmFsIC89IDI1NTsgLy8gbm9ybWFsaXplZFxuXG4gICAgcmV0dXJuIHZhbCA8PSAwLjAzOTI4ID8gdmFsIC8gMTIuOTIgOiBNYXRoLnBvdygodmFsICsgMC4wNTUpIC8gMS4wNTUsIDIuNCk7XG4gIH0pOyAvLyBUcnVuY2F0ZSBhdCAzIGRpZ2l0c1xuXG4gIHJldHVybiBOdW1iZXIoKDAuMjEyNiAqIHJnYlswXSArIDAuNzE1MiAqIHJnYlsxXSArIDAuMDcyMiAqIHJnYlsyXSkudG9GaXhlZCgzKSk7XG59XG4vKipcbiAqIERhcmtlbiBvciBsaWdodGVuIGEgY29sb3IsIGRlcGVuZGluZyBvbiBpdHMgbHVtaW5hbmNlLlxuICogTGlnaHQgY29sb3JzIGFyZSBkYXJrZW5lZCwgZGFyayBjb2xvcnMgYXJlIGxpZ2h0ZW5lZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcGFyYW0ge251bWJlcn0gY29lZmZpY2llbnQ9MC4xNSAtIG11bHRpcGxpZXIgaW4gdGhlIHJhbmdlIDAgLSAxXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIENTUyBjb2xvciBzdHJpbmcuIEhleCBpbnB1dCB2YWx1ZXMgYXJlIHJldHVybmVkIGFzIHJnYlxuICovXG5cblxuZnVuY3Rpb24gZW1waGFzaXplKGNvbG9yKSB7XG4gIHZhciBjb2VmZmljaWVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMC4xNTtcbiAgcmV0dXJuIGdldEx1bWluYW5jZShjb2xvcikgPiAwLjUgPyBkYXJrZW4oY29sb3IsIGNvZWZmaWNpZW50KSA6IGxpZ2h0ZW4oY29sb3IsIGNvZWZmaWNpZW50KTtcbn1cbi8qKlxuICogU2V0IHRoZSBhYnNvbHV0ZSB0cmFuc3BhcmVuY3kgb2YgYSBjb2xvci5cbiAqIEFueSBleGlzdGluZyBhbHBoYSB2YWx1ZXMgYXJlIG92ZXJ3cml0dGVuLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciAtIENTUyBjb2xvciwgaS5lLiBvbmUgb2Y6ICNubm4sICNubm5ubm4sIHJnYigpLCByZ2JhKCksIGhzbCgpLCBoc2xhKClcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHZhbHVlIHRvIHNldCB0aGUgYWxwaGEgY2hhbm5lbCB0byBpbiB0aGUgcmFuZ2UgMCAtMVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nLiBIZXggaW5wdXQgdmFsdWVzIGFyZSByZXR1cm5lZCBhcyByZ2JcbiAqL1xuXG5cbmZ1bmN0aW9uIGZhZGUoY29sb3IsIHZhbHVlKSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICB2YWx1ZSA9IGNsYW1wKHZhbHVlKTtcblxuICBpZiAoY29sb3IudHlwZSA9PT0gJ3JnYicgfHwgY29sb3IudHlwZSA9PT0gJ2hzbCcpIHtcbiAgICBjb2xvci50eXBlICs9ICdhJztcbiAgfVxuXG4gIGNvbG9yLnZhbHVlc1szXSA9IHZhbHVlO1xuICByZXR1cm4gcmVjb21wb3NlQ29sb3IoY29sb3IpO1xufVxuLyoqXG4gKiBEYXJrZW5zIGEgY29sb3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbG9yIC0gQ1NTIGNvbG9yLCBpLmUuIG9uZSBvZjogI25ubiwgI25ubm5ubiwgcmdiKCksIHJnYmEoKSwgaHNsKCksIGhzbGEoKVxuICogQHBhcmFtIHtudW1iZXJ9IGNvZWZmaWNpZW50IC0gbXVsdGlwbGllciBpbiB0aGUgcmFuZ2UgMCAtIDFcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgQ1NTIGNvbG9yIHN0cmluZy4gSGV4IGlucHV0IHZhbHVlcyBhcmUgcmV0dXJuZWQgYXMgcmdiXG4gKi9cblxuXG5mdW5jdGlvbiBkYXJrZW4oY29sb3IsIGNvZWZmaWNpZW50KSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICBjb2VmZmljaWVudCA9IGNsYW1wKGNvZWZmaWNpZW50KTtcblxuICBpZiAoY29sb3IudHlwZS5pbmRleE9mKCdoc2wnKSAhPT0gLTEpIHtcbiAgICBjb2xvci52YWx1ZXNbMl0gKj0gMSAtIGNvZWZmaWNpZW50O1xuICB9IGVsc2UgaWYgKGNvbG9yLnR5cGUuaW5kZXhPZigncmdiJykgIT09IC0xKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpICs9IDEpIHtcbiAgICAgIGNvbG9yLnZhbHVlc1tpXSAqPSAxIC0gY29lZmZpY2llbnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlY29tcG9zZUNvbG9yKGNvbG9yKTtcbn1cbi8qKlxuICogTGlnaHRlbnMgYSBjb2xvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29sb3IgLSBDU1MgY29sb3IsIGkuZS4gb25lIG9mOiAjbm5uLCAjbm5ubm5uLCByZ2IoKSwgcmdiYSgpLCBoc2woKSwgaHNsYSgpXG4gKiBAcGFyYW0ge251bWJlcn0gY29lZmZpY2llbnQgLSBtdWx0aXBsaWVyIGluIHRoZSByYW5nZSAwIC0gMVxuICogQHJldHVybnMge3N0cmluZ30gQSBDU1MgY29sb3Igc3RyaW5nLiBIZXggaW5wdXQgdmFsdWVzIGFyZSByZXR1cm5lZCBhcyByZ2JcbiAqL1xuXG5cbmZ1bmN0aW9uIGxpZ2h0ZW4oY29sb3IsIGNvZWZmaWNpZW50KSB7XG4gIGNvbG9yID0gZGVjb21wb3NlQ29sb3IoY29sb3IpO1xuICBjb2VmZmljaWVudCA9IGNsYW1wKGNvZWZmaWNpZW50KTtcblxuICBpZiAoY29sb3IudHlwZS5pbmRleE9mKCdoc2wnKSAhPT0gLTEpIHtcbiAgICBjb2xvci52YWx1ZXNbMl0gKz0gKDEwMCAtIGNvbG9yLnZhbHVlc1syXSkgKiBjb2VmZmljaWVudDtcbiAgfSBlbHNlIGlmIChjb2xvci50eXBlLmluZGV4T2YoJ3JnYicpICE9PSAtMSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7XG4gICAgICBjb2xvci52YWx1ZXNbaV0gKz0gKDI1NSAtIGNvbG9yLnZhbHVlc1tpXSkgKiBjb2VmZmljaWVudDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVjb21wb3NlQ29sb3IoY29sb3IpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9jcmVhdGVTdmdJY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9jcmVhdGVTdmdJY29uXCIpKTtcblxudmFyIF9kZWZhdWx0ID0gKDAsIF9jcmVhdGVTdmdJY29uLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk0xOSAxM2gtNnY2aC0ydi02SDV2LTJoNlY1aDJ2Nmg2djJ6XCJcbn0pLCAnQWRkJyk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9jcmVhdGVTdmdJY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9jcmVhdGVTdmdJY29uXCIpKTtcblxudmFyIF9kZWZhdWx0ID0gKDAsIF9jcmVhdGVTdmdJY29uLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0tMiAxNWwtNS01IDEuNDEtMS40MUwxMCAxNC4xN2w3LjU5LTcuNTlMMTkgOGwtOSA5elwiXG59KSwgJ0NoZWNrQ2lyY2xlJyk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9jcmVhdGVTdmdJY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9jcmVhdGVTdmdJY29uXCIpKTtcblxudmFyIF9kZWZhdWx0ID0gKDAsIF9jcmVhdGVTdmdJY29uLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk0xNS40MSA3LjQxTDE0IDZsLTYgNiA2IDYgMS40MS0xLjQxTDEwLjgzIDEyelwiXG59KSwgJ0NoZXZyb25MZWZ0Jyk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9jcmVhdGVTdmdJY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9jcmVhdGVTdmdJY29uXCIpKTtcblxudmFyIF9kZWZhdWx0ID0gKDAsIF9jcmVhdGVTdmdJY29uLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk0xMCA2TDguNTkgNy40MSAxMy4xNyAxMmwtNC41OCA0LjU5TDEwIDE4bDYtNnpcIlxufSksICdDaGV2cm9uUmlnaHQnKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnpcIlxufSksICdDbG9zZScpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfY3JlYXRlU3ZnSWNvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXRpbHMvY3JlYXRlU3ZnSWNvblwiKSk7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlU3ZnSWNvbi5kZWZhdWx0KSggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgZDogXCJNNiAxOWMwIDEuMS45IDIgMiAyaDhjMS4xIDAgMi0uOSAyLTJWN0g2djEyek0xOSA0aC0zLjVsLTEtMWgtNWwtMSAxSDV2MmgxNFY0elwiXG59KSwgJ0RlbGV0ZScpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfY3JlYXRlU3ZnSWNvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXRpbHMvY3JlYXRlU3ZnSWNvblwiKSk7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlU3ZnSWNvbi5kZWZhdWx0KSggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgZDogXCJNMTEgMTVoMnYyaC0yem0wLThoMnY2aC0yem0uOTktNUM2LjQ3IDIgMiA2LjQ4IDIgMTJzNC40NyAxMCA5Ljk5IDEwQzE3LjUyIDIyIDIyIDE3LjUyIDIyIDEyUzE3LjUyIDIgMTEuOTkgMnpNMTIgMjBjLTQuNDIgMC04LTMuNTgtOC04czMuNTgtOCA4LTggOCAzLjU4IDggOC0zLjU4IDgtOCA4elwiXG59KSwgJ0Vycm9yT3V0bGluZScpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfY3JlYXRlU3ZnSWNvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXRpbHMvY3JlYXRlU3ZnSWNvblwiKSk7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlU3ZnSWNvbi5kZWZhdWx0KSggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgZDogXCJNMTkgOWgtNFYzSDl2Nkg1bDcgNyA3LTd6TTUgMTh2MmgxNHYtMkg1elwiXG59KSwgJ0dldEFwcCcpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfY3JlYXRlU3ZnSWNvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXRpbHMvY3JlYXRlU3ZnSWNvblwiKSk7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlU3ZnSWNvbi5kZWZhdWx0KSggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiY2lyY2xlXCIsIHtcbiAgY3g6IFwiN1wiLFxuICBjeTogXCI2XCIsXG4gIHI6IFwiMlwiXG59KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgZDogXCJNMTEuMTUgMTJjLS4zMS0uMjItLjU5LS40Ni0uODItLjcybC0xLjQtMS41NWMtLjE5LS4yMS0uNDMtLjM4LS42OS0uNS0uMjktLjE0LS42Mi0uMjMtLjk2LS4yM2gtLjAzQzYuMDEgOSA1IDEwLjAxIDUgMTEuMjVWMTJIMnY4YzAgMS4xLjkgMiAyIDJoMTZjMS4xIDAgMi0uOSAyLTJ2LThIMTEuMTV6TTcgMjBINXYtNmgydjZ6bTQgMEg5di02aDJ2NnptNCAwaC0ydi02aDJ2NnptNCAwaC0ydi02aDJ2NnptLS4zNS0xNC4xNGwtLjA3LS4wN2MtLjU3LS42Mi0uODItMS40MS0uNjctMi4yTDE4IDNoLTEuODlsLS4wNi40M2MtLjIgMS4zNi4yNyAyLjcxIDEuMyAzLjcybC4wNy4wNmMuNTcuNjIuODIgMS40MS42NyAyLjJsLS4xMS41OWgxLjkxbC4wNi0uNDNjLjIxLTEuMzYtLjI3LTIuNzEtMS4zLTMuNzF6bS00IDBsLS4wNy0uMDdjLS41Ny0uNjItLjgyLTEuNDEtLjY3LTIuMkwxNCAzaC0xLjg5bC0uMDYuNDNjLS4yIDEuMzYuMjcgMi43MSAxLjMgMy43MmwuMDcuMDZjLjU3LjYyLjgyIDEuNDEuNjcgMi4ybC0uMTEuNTloMS45MWwuMDYtLjQzYy4yMS0xLjM2LS4yNy0yLjcxLTEuMy0zLjcxelwiXG59KSksICdIb3RUdWInKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTE5IDNINC45OWMtMS4xMSAwLTEuOTguODktMS45OCAyTDMgMTljMCAxLjEuODggMiAxLjk5IDJIMTljMS4xIDAgMi0uOSAyLTJWNWMwLTEuMTEtLjktMi0yLTJ6bTAgMTJoLTRjMCAxLjY2LTEuMzUgMy0zIDNzLTMtMS4zNC0zLTNINC45OVY1SDE5djEwelwiXG59KSwgJ0luYm94Jyk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9jcmVhdGVTdmdJY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9jcmVhdGVTdmdJY29uXCIpKTtcblxudmFyIF9kZWZhdWx0ID0gKDAsIF9jcmVhdGVTdmdJY29uLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk0xOCA4aC0xVjZjMC0yLjc2LTIuMjQtNS01LTVTNyAzLjI0IDcgNnYySDZjLTEuMSAwLTIgLjktMiAydjEwYzAgMS4xLjkgMiAyIDJoMTJjMS4xIDAgMi0uOSAyLTJWMTBjMC0xLjEtLjktMi0yLTJ6bS02IDljLTEuMSAwLTItLjktMi0ycy45LTIgMi0yIDIgLjkgMiAyLS45IDItMiAyem0zLjEtOUg4LjlWNmMwLTEuNzEgMS4zOS0zLjEgMy4xLTMuMSAxLjcxIDAgMy4xIDEuMzkgMy4xIDMuMXYyelwiXG59KSwgJ0xvY2snKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTEzIDNoLTJ2MTBoMlYzem00LjgzIDIuMTdsLTEuNDIgMS40MkMxNy45OSA3Ljg2IDE5IDkuODEgMTkgMTJjMCAzLjg3LTMuMTMgNy03IDdzLTctMy4xMy03LTdjMC0yLjE5IDEuMDEtNC4xNCAyLjU4LTUuNDJMNi4xNyA1LjE3QzQuMjMgNi44MiAzIDkuMjYgMyAxMmMwIDQuOTcgNC4wMyA5IDkgOXM5LTQuMDMgOS05YzAtMi43NC0xLjIzLTUuMTgtMy4xNy02LjgzelwiXG59KSwgJ1Bvd2VyU2V0dGluZ3NOZXcnKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiLyoqXG4gKiBXQVJOSU5HOiBEb24ndCBpbXBvcnQgdGhpcyBkaXJlY3RseS5cbiAqIFVzZSBgTXVpRXJyb3JgIGZyb20gYEBtYXRlcmlhbC11aS91dGlscy9tYWNyb3MvTXVpRXJyb3IubWFjcm9gIGluc3RlYWQuXG4gKiBAcGFyYW0ge251bWJlcn0gY29kZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRNdWlFcnJvck1lc3NhZ2UoY29kZSkge1xuICAvLyBBcHBseSBiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXRlbXBsYXRlLWxpdGVyYWxzIGluIGxvb3NlIG1vZGVcbiAgLy8gbG9vc2UgbW9kZSBpcyBzYWZlIGlmZiB3ZSdyZSBjb25jYXRlbmF0aW5nIHByaW1pdGl2ZXNcbiAgLy8gc2VlIGh0dHBzOi8vYmFiZWxqcy5pby9kb2NzL2VuL2JhYmVsLXBsdWdpbi10cmFuc2Zvcm0tdGVtcGxhdGUtbGl0ZXJhbHMjbG9vc2VcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItdGVtcGxhdGUgKi9cbiAgdmFyIHVybCA9ICdodHRwczovL21hdGVyaWFsLXVpLmNvbS9wcm9kdWN0aW9uLWVycm9yLz9jb2RlPScgKyBjb2RlO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgLy8gcmVzdCBwYXJhbXMgb3Zlci10cmFuc3BpbGUgZm9yIHRoaXMgY2FzZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICB1cmwgKz0gJyZhcmdzW109JyArIGVuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbaV0pO1xuICB9XG5cbiAgcmV0dXJuICdNaW5pZmllZCBNYXRlcmlhbC1VSSBlcnJvciAjJyArIGNvZGUgKyAnOyB2aXNpdCAnICsgdXJsICsgJyBmb3IgdGhlIGZ1bGwgbWVzc2FnZS4nO1xuICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci10ZW1wbGF0ZSAqL1xufSIsIi8qKiBAbGljZW5zZSBNYXRlcmlhbC1VSSB2NC4xMS4yXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbmV4cG9ydCB7IGRlZmF1bHQgYXMgY2hhaW5Qcm9wVHlwZXMgfSBmcm9tICcuL2NoYWluUHJvcFR5cGVzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZGVlcG1lcmdlIH0gZnJvbSAnLi9kZWVwbWVyZ2UnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlbGVtZW50QWNjZXB0aW5nUmVmIH0gZnJvbSAnLi9lbGVtZW50QWNjZXB0aW5nUmVmJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZWxlbWVudFR5cGVBY2NlcHRpbmdSZWYgfSBmcm9tICcuL2VsZW1lbnRUeXBlQWNjZXB0aW5nUmVmJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgZXhhY3RQcm9wIH0gZnJvbSAnLi9leGFjdFByb3AnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBmb3JtYXRNdWlFcnJvck1lc3NhZ2UgfSBmcm9tICcuL2Zvcm1hdE11aUVycm9yTWVzc2FnZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGdldERpc3BsYXlOYW1lIH0gZnJvbSAnLi9nZXREaXNwbGF5TmFtZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEhUTUxFbGVtZW50VHlwZSB9IGZyb20gJy4vSFRNTEVsZW1lbnRUeXBlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcG9ueWZpbGxHbG9iYWwgfSBmcm9tICcuL3BvbnlmaWxsR2xvYmFsJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcmVmVHlwZSB9IGZyb20gJy4vcmVmVHlwZSc7IiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG5leHBvcnQgZGVmYXVsdCB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGggPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpOyIsImltcG9ydCB7IFRBU0tfQ0FOQ0VMLCBURVJNSU5BVEUsIFNBR0FfTE9DQVRJT04sIFNBR0FfQUNUSU9OLCBJTywgU0VMRl9DQU5DRUxMQVRJT04gfSBmcm9tICdAcmVkdXgtc2FnYS9zeW1ib2xzJztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCB7IGFycmF5LCBub3RVbmRlZiwgcGF0dGVybiwgbXVsdGljYXN0LCBjaGFubmVsLCB1bmRlZiwgZWZmZWN0LCB0YXNrLCBmdW5jLCBidWZmZXIsIHN0cmluZywgb2JqZWN0IH0gZnJvbSAnQHJlZHV4LXNhZ2EvaXMnO1xuaW1wb3J0IGRlbGF5UCBmcm9tICdAcmVkdXgtc2FnYS9kZWxheS1wJztcblxudmFyIGtvbnN0ID0gZnVuY3Rpb24ga29uc3Qodikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB2O1xuICB9O1xufTtcbnZhciBrVHJ1ZSA9XG4vKiNfX1BVUkVfXyovXG5rb25zdCh0cnVlKTtcblxudmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgbm9vcCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgbmV3IFByb3h5KG5vb3AsIHtcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgIHRocm93IGludGVybmFsRXJyKCdUaGVyZSB3YXMgYW4gYXR0ZW1wdCB0byBhc3NpZ24gYSBwcm9wZXJ0eSB0byBpbnRlcm5hbCBgbm9vcGAgZnVuY3Rpb24uJyk7XG4gICAgfVxuICB9KTtcbn1cbnZhciBpZGVudGl0eSA9IGZ1bmN0aW9uIGlkZW50aXR5KHYpIHtcbiAgcmV0dXJuIHY7XG59O1xudmFyIGhhc1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbic7XG52YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9IGhhc1N5bWJvbCAmJiBTeW1ib2wuYXN5bmNJdGVyYXRvciA/IFN5bWJvbC5hc3luY0l0ZXJhdG9yIDogJ0BAYXN5bmNJdGVyYXRvcic7XG5mdW5jdGlvbiBjaGVjayh2YWx1ZSwgcHJlZGljYXRlLCBlcnJvcikge1xuICBpZiAoIXByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICB9XG59XG52YXIgYXNzaWduV2l0aFN5bWJvbHMgPSBmdW5jdGlvbiBhc3NpZ25XaXRoU3ltYm9scyh0YXJnZXQsIHNvdXJjZSkge1xuICBfZXh0ZW5kcyh0YXJnZXQsIHNvdXJjZSk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgdGFyZ2V0W3NdID0gc291cmNlW3NdO1xuICAgIH0pO1xuICB9XG59O1xudmFyIGZsYXRNYXAgPSBmdW5jdGlvbiBmbGF0TWFwKG1hcHBlciwgYXJyKSB7XG4gIHZhciBfcmVmO1xuXG4gIHJldHVybiAoX3JlZiA9IFtdKS5jb25jYXQuYXBwbHkoX3JlZiwgYXJyLm1hcChtYXBwZXIpKTtcbn07XG5mdW5jdGlvbiByZW1vdmUoYXJyYXksIGl0ZW0pIHtcbiAgdmFyIGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcblxuICBpZiAoaW5kZXggPj0gMCkge1xuICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn1cbmZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGZuKCk7XG4gIH07XG59XG5cbnZhciBrVGhyb3cgPSBmdW5jdGlvbiBrVGhyb3coZXJyKSB7XG4gIHRocm93IGVycjtcbn07XG5cbnZhciBrUmV0dXJuID0gZnVuY3Rpb24ga1JldHVybih2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBkb25lOiB0cnVlXG4gIH07XG59O1xuXG5mdW5jdGlvbiBtYWtlSXRlcmF0b3IobmV4dCwgdGhybywgbmFtZSkge1xuICBpZiAodGhybyA9PT0gdm9pZCAwKSB7XG4gICAgdGhybyA9IGtUaHJvdztcbiAgfVxuXG4gIGlmIChuYW1lID09PSB2b2lkIDApIHtcbiAgICBuYW1lID0gJ2l0ZXJhdG9yJztcbiAgfVxuXG4gIHZhciBpdGVyYXRvciA9IHtcbiAgICBtZXRhOiB7XG4gICAgICBuYW1lOiBuYW1lXG4gICAgfSxcbiAgICBuZXh0OiBuZXh0LFxuICAgIHRocm93OiB0aHJvLFxuICAgIHJldHVybjoga1JldHVybixcbiAgICBpc1NhZ2FJdGVyYXRvcjogdHJ1ZVxuICB9O1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJykge1xuICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3I7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBpdGVyYXRvcjtcbn1cbmZ1bmN0aW9uIGxvZ0Vycm9yKGVycm9yLCBfcmVmMikge1xuICB2YXIgc2FnYVN0YWNrID0gX3JlZjIuc2FnYVN0YWNrO1xuXG4gIC8qZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSovXG4gIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICBjb25zb2xlLmVycm9yKHNhZ2FTdGFjayk7XG59XG52YXIgaW50ZXJuYWxFcnIgPSBmdW5jdGlvbiBpbnRlcm5hbEVycihlcnIpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcihcIlxcbiAgcmVkdXgtc2FnYTogRXJyb3IgY2hlY2tpbmcgaG9va3MgZGV0ZWN0ZWQgYW4gaW5jb25zaXN0ZW50IHN0YXRlLiBUaGlzIGlzIGxpa2VseSBhIGJ1Z1xcbiAgaW4gcmVkdXgtc2FnYSBjb2RlIGFuZCBub3QgeW91cnMuIFRoYW5rcyBmb3IgcmVwb3J0aW5nIHRoaXMgaW4gdGhlIHByb2plY3QncyBnaXRodWIgcmVwby5cXG4gIEVycm9yOiBcIiArIGVyciArIFwiXFxuXCIpO1xufTtcbnZhciBjcmVhdGVTZXRDb250ZXh0V2FybmluZyA9IGZ1bmN0aW9uIGNyZWF0ZVNldENvbnRleHRXYXJuaW5nKGN0eCwgcHJvcHMpIHtcbiAgcmV0dXJuIChjdHggPyBjdHggKyAnLicgOiAnJykgKyBcInNldENvbnRleHQocHJvcHMpOiBhcmd1bWVudCBcIiArIHByb3BzICsgXCIgaXMgbm90IGEgcGxhaW4gb2JqZWN0XCI7XG59O1xudmFyIEZST1pFTl9BQ1RJT05fRVJST1IgPSBcIllvdSBjYW4ndCBwdXQgKGEuay5hLiBkaXNwYXRjaCBmcm9tIHNhZ2EpIGZyb3plbiBhY3Rpb25zLlxcbldlIGhhdmUgdG8gZGVmaW5lIGEgc3BlY2lhbCBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiB0aG9zZSBhY3Rpb25zIGZvciBzY2hlZHVsaW5nIHB1cnBvc2VzLlxcbk90aGVyd2lzZSB5b3Ugd291bGRuJ3QgYmUgYWJsZSB0byBjb21tdW5pY2F0ZSBwcm9wZXJseSBiZXR3ZWVuIHNhZ2FzICYgb3RoZXIgc3Vic2NyaWJlcnMgKGFjdGlvbiBvcmRlcmluZyB3b3VsZCBiZWNvbWUgZmFyIGxlc3MgcHJlZGljdGFibGUpLlxcbklmIHlvdSBhcmUgdXNpbmcgcmVkdXggYW5kIHlvdSBjYXJlIGFib3V0IHRoaXMgYmVoYXZpb3VyIChmcm96ZW4gYWN0aW9ucyksXFxudGhlbiB5b3UgbWlnaHQgd2FudCB0byBzd2l0Y2ggdG8gZnJlZXppbmcgYWN0aW9ucyBpbiBhIG1pZGRsZXdhcmUgcmF0aGVyIHRoYW4gaW4gYWN0aW9uIGNyZWF0b3IuXFxuRXhhbXBsZSBpbXBsZW1lbnRhdGlvbjpcXG5cXG5jb25zdCBmcmVlemVBY3Rpb25zID0gc3RvcmUgPT4gbmV4dCA9PiBhY3Rpb24gPT4gbmV4dChPYmplY3QuZnJlZXplKGFjdGlvbikpXFxuXCI7IC8vIGNyZWF0ZXMgZW1wdHksIGJ1dCBub3QtaG9sZXkgYXJyYXlcblxudmFyIGNyZWF0ZUVtcHR5QXJyYXkgPSBmdW5jdGlvbiBjcmVhdGVFbXB0eUFycmF5KG4pIHtcbiAgcmV0dXJuIEFycmF5LmFwcGx5KG51bGwsIG5ldyBBcnJheShuKSk7XG59O1xudmFyIHdyYXBTYWdhRGlzcGF0Y2ggPSBmdW5jdGlvbiB3cmFwU2FnYURpc3BhdGNoKGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNoZWNrKGFjdGlvbiwgZnVuY3Rpb24gKGFjKSB7XG4gICAgICAgIHJldHVybiAhT2JqZWN0LmlzRnJvemVuKGFjKTtcbiAgICAgIH0sIEZST1pFTl9BQ1RJT05fRVJST1IpO1xuICAgIH1cblxuICAgIHJldHVybiBkaXNwYXRjaChPYmplY3QuZGVmaW5lUHJvcGVydHkoYWN0aW9uLCBTQUdBX0FDVElPTiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KSk7XG4gIH07XG59O1xudmFyIHNob3VsZFRlcm1pbmF0ZSA9IGZ1bmN0aW9uIHNob3VsZFRlcm1pbmF0ZShyZXMpIHtcbiAgcmV0dXJuIHJlcyA9PT0gVEVSTUlOQVRFO1xufTtcbnZhciBzaG91bGRDYW5jZWwgPSBmdW5jdGlvbiBzaG91bGRDYW5jZWwocmVzKSB7XG4gIHJldHVybiByZXMgPT09IFRBU0tfQ0FOQ0VMO1xufTtcbnZhciBzaG91bGRDb21wbGV0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBsZXRlKHJlcykge1xuICByZXR1cm4gc2hvdWxkVGVybWluYXRlKHJlcykgfHwgc2hvdWxkQ2FuY2VsKHJlcyk7XG59O1xuZnVuY3Rpb24gY3JlYXRlQWxsU3R5bGVDaGlsZENhbGxiYWNrcyhzaGFwZSwgcGFyZW50Q2FsbGJhY2spIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzaGFwZSk7XG4gIHZhciB0b3RhbENvdW50ID0ga2V5cy5sZW5ndGg7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjaGVjayh0b3RhbENvdW50LCBmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMgPiAwO1xuICAgIH0sICdjcmVhdGVBbGxTdHlsZUNoaWxkQ2FsbGJhY2tzOiBnZXQgYW4gZW1wdHkgYXJyYXkgb3Igb2JqZWN0Jyk7XG4gIH1cblxuICB2YXIgY29tcGxldGVkQ291bnQgPSAwO1xuICB2YXIgY29tcGxldGVkO1xuICB2YXIgcmVzdWx0cyA9IGFycmF5KHNoYXBlKSA/IGNyZWF0ZUVtcHR5QXJyYXkodG90YWxDb3VudCkgOiB7fTtcbiAgdmFyIGNoaWxkQ2FsbGJhY2tzID0ge307XG5cbiAgZnVuY3Rpb24gY2hlY2tFbmQoKSB7XG4gICAgaWYgKGNvbXBsZXRlZENvdW50ID09PSB0b3RhbENvdW50KSB7XG4gICAgICBjb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgcGFyZW50Q2FsbGJhY2socmVzdWx0cyk7XG4gICAgfVxuICB9XG5cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgY2hDYkF0S2V5ID0gZnVuY3Rpb24gY2hDYkF0S2V5KHJlcywgaXNFcnIpIHtcbiAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNFcnIgfHwgc2hvdWxkQ29tcGxldGUocmVzKSkge1xuICAgICAgICBwYXJlbnRDYWxsYmFjay5jYW5jZWwoKTtcbiAgICAgICAgcGFyZW50Q2FsbGJhY2socmVzLCBpc0Vycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRzW2tleV0gPSByZXM7XG4gICAgICAgIGNvbXBsZXRlZENvdW50Kys7XG4gICAgICAgIGNoZWNrRW5kKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNoQ2JBdEtleS5jYW5jZWwgPSBub29wO1xuICAgIGNoaWxkQ2FsbGJhY2tzW2tleV0gPSBjaENiQXRLZXk7XG4gIH0pO1xuXG4gIHBhcmVudENhbGxiYWNrLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWNvbXBsZXRlZCkge1xuICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBjaGlsZENhbGxiYWNrc1trZXldLmNhbmNlbCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBjaGlsZENhbGxiYWNrcztcbn1cbmZ1bmN0aW9uIGdldE1ldGFJbmZvKGZuKSB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogZm4ubmFtZSB8fCAnYW5vbnltb3VzJyxcbiAgICBsb2NhdGlvbjogZ2V0TG9jYXRpb24oZm4pXG4gIH07XG59XG5mdW5jdGlvbiBnZXRMb2NhdGlvbihpbnN0cnVtZW50ZWQpIHtcbiAgcmV0dXJuIGluc3RydW1lbnRlZFtTQUdBX0xPQ0FUSU9OXTtcbn1cblxudmFyIEJVRkZFUl9PVkVSRkxPVyA9IFwiQ2hhbm5lbCdzIEJ1ZmZlciBvdmVyZmxvdyFcIjtcbnZhciBPTl9PVkVSRkxPV19USFJPVyA9IDE7XG52YXIgT05fT1ZFUkZMT1dfRFJPUCA9IDI7XG52YXIgT05fT1ZFUkZMT1dfU0xJREUgPSAzO1xudmFyIE9OX09WRVJGTE9XX0VYUEFORCA9IDQ7XG52YXIgemVyb0J1ZmZlciA9IHtcbiAgaXNFbXB0eToga1RydWUsXG4gIHB1dDogbm9vcCxcbiAgdGFrZTogbm9vcFxufTtcblxuZnVuY3Rpb24gcmluZ0J1ZmZlcihsaW1pdCwgb3ZlcmZsb3dBY3Rpb24pIHtcbiAgaWYgKGxpbWl0ID09PSB2b2lkIDApIHtcbiAgICBsaW1pdCA9IDEwO1xuICB9XG5cbiAgdmFyIGFyciA9IG5ldyBBcnJheShsaW1pdCk7XG4gIHZhciBsZW5ndGggPSAwO1xuICB2YXIgcHVzaEluZGV4ID0gMDtcbiAgdmFyIHBvcEluZGV4ID0gMDtcblxuICB2YXIgcHVzaCA9IGZ1bmN0aW9uIHB1c2goaXQpIHtcbiAgICBhcnJbcHVzaEluZGV4XSA9IGl0O1xuICAgIHB1c2hJbmRleCA9IChwdXNoSW5kZXggKyAxKSAlIGxpbWl0O1xuICAgIGxlbmd0aCsrO1xuICB9O1xuXG4gIHZhciB0YWtlID0gZnVuY3Rpb24gdGFrZSgpIHtcbiAgICBpZiAobGVuZ3RoICE9IDApIHtcbiAgICAgIHZhciBpdCA9IGFycltwb3BJbmRleF07XG4gICAgICBhcnJbcG9wSW5kZXhdID0gbnVsbDtcbiAgICAgIGxlbmd0aC0tO1xuICAgICAgcG9wSW5kZXggPSAocG9wSW5kZXggKyAxKSAlIGxpbWl0O1xuICAgICAgcmV0dXJuIGl0O1xuICAgIH1cbiAgfTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgIHdoaWxlIChsZW5ndGgpIHtcbiAgICAgIGl0ZW1zLnB1c2godGFrZSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlbXM7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpc0VtcHR5OiBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgICAgcmV0dXJuIGxlbmd0aCA9PSAwO1xuICAgIH0sXG4gICAgcHV0OiBmdW5jdGlvbiBwdXQoaXQpIHtcbiAgICAgIGlmIChsZW5ndGggPCBsaW1pdCkge1xuICAgICAgICBwdXNoKGl0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkb3VibGVkTGltaXQ7XG5cbiAgICAgICAgc3dpdGNoIChvdmVyZmxvd0FjdGlvbikge1xuICAgICAgICAgIGNhc2UgT05fT1ZFUkZMT1dfVEhST1c6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQlVGRkVSX09WRVJGTE9XKTtcblxuICAgICAgICAgIGNhc2UgT05fT1ZFUkZMT1dfU0xJREU6XG4gICAgICAgICAgICBhcnJbcHVzaEluZGV4XSA9IGl0O1xuICAgICAgICAgICAgcHVzaEluZGV4ID0gKHB1c2hJbmRleCArIDEpICUgbGltaXQ7XG4gICAgICAgICAgICBwb3BJbmRleCA9IHB1c2hJbmRleDtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBPTl9PVkVSRkxPV19FWFBBTkQ6XG4gICAgICAgICAgICBkb3VibGVkTGltaXQgPSAyICogbGltaXQ7XG4gICAgICAgICAgICBhcnIgPSBmbHVzaCgpO1xuICAgICAgICAgICAgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICAgICAgICAgIHB1c2hJbmRleCA9IGFyci5sZW5ndGg7XG4gICAgICAgICAgICBwb3BJbmRleCA9IDA7XG4gICAgICAgICAgICBhcnIubGVuZ3RoID0gZG91YmxlZExpbWl0O1xuICAgICAgICAgICAgbGltaXQgPSBkb3VibGVkTGltaXQ7XG4gICAgICAgICAgICBwdXNoKGl0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDogLy8gRFJPUFxuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHRha2U6IHRha2UsXG4gICAgZmx1c2g6IGZsdXNoXG4gIH07XG59XG5cbnZhciBub25lID0gZnVuY3Rpb24gbm9uZSgpIHtcbiAgcmV0dXJuIHplcm9CdWZmZXI7XG59O1xudmFyIGZpeGVkID0gZnVuY3Rpb24gZml4ZWQobGltaXQpIHtcbiAgcmV0dXJuIHJpbmdCdWZmZXIobGltaXQsIE9OX09WRVJGTE9XX1RIUk9XKTtcbn07XG52YXIgZHJvcHBpbmcgPSBmdW5jdGlvbiBkcm9wcGluZyhsaW1pdCkge1xuICByZXR1cm4gcmluZ0J1ZmZlcihsaW1pdCwgT05fT1ZFUkZMT1dfRFJPUCk7XG59O1xudmFyIHNsaWRpbmcgPSBmdW5jdGlvbiBzbGlkaW5nKGxpbWl0KSB7XG4gIHJldHVybiByaW5nQnVmZmVyKGxpbWl0LCBPTl9PVkVSRkxPV19TTElERSk7XG59O1xudmFyIGV4cGFuZGluZyA9IGZ1bmN0aW9uIGV4cGFuZGluZyhpbml0aWFsU2l6ZSkge1xuICByZXR1cm4gcmluZ0J1ZmZlcihpbml0aWFsU2l6ZSwgT05fT1ZFUkZMT1dfRVhQQU5EKTtcbn07XG5cbnZhciBidWZmZXJzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIG5vbmU6IG5vbmUsXG4gIGZpeGVkOiBmaXhlZCxcbiAgZHJvcHBpbmc6IGRyb3BwaW5nLFxuICBzbGlkaW5nOiBzbGlkaW5nLFxuICBleHBhbmRpbmc6IGV4cGFuZGluZ1xufSk7XG5cbnZhciBUQUtFID0gJ1RBS0UnO1xudmFyIFBVVCA9ICdQVVQnO1xudmFyIEFMTCA9ICdBTEwnO1xudmFyIFJBQ0UgPSAnUkFDRSc7XG52YXIgQ0FMTCA9ICdDQUxMJztcbnZhciBDUFMgPSAnQ1BTJztcbnZhciBGT1JLID0gJ0ZPUksnO1xudmFyIEpPSU4gPSAnSk9JTic7XG52YXIgQ0FOQ0VMID0gJ0NBTkNFTCc7XG52YXIgU0VMRUNUID0gJ1NFTEVDVCc7XG52YXIgQUNUSU9OX0NIQU5ORUwgPSAnQUNUSU9OX0NIQU5ORUwnO1xudmFyIENBTkNFTExFRCA9ICdDQU5DRUxMRUQnO1xudmFyIEZMVVNIID0gJ0ZMVVNIJztcbnZhciBHRVRfQ09OVEVYVCA9ICdHRVRfQ09OVEVYVCc7XG52YXIgU0VUX0NPTlRFWFQgPSAnU0VUX0NPTlRFWFQnO1xuXG52YXIgZWZmZWN0VHlwZXMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgVEFLRTogVEFLRSxcbiAgUFVUOiBQVVQsXG4gIEFMTDogQUxMLFxuICBSQUNFOiBSQUNFLFxuICBDQUxMOiBDQUxMLFxuICBDUFM6IENQUyxcbiAgRk9SSzogRk9SSyxcbiAgSk9JTjogSk9JTixcbiAgQ0FOQ0VMOiBDQU5DRUwsXG4gIFNFTEVDVDogU0VMRUNULFxuICBBQ1RJT05fQ0hBTk5FTDogQUNUSU9OX0NIQU5ORUwsXG4gIENBTkNFTExFRDogQ0FOQ0VMTEVELFxuICBGTFVTSDogRkxVU0gsXG4gIEdFVF9DT05URVhUOiBHRVRfQ09OVEVYVCxcbiAgU0VUX0NPTlRFWFQ6IFNFVF9DT05URVhUXG59KTtcblxudmFyIFRFU1RfSElOVCA9ICdcXG4oSElOVDogaWYgeW91IGFyZSBnZXR0aW5nIHRoZXNlIGVycm9ycyBpbiB0ZXN0cywgY29uc2lkZXIgdXNpbmcgY3JlYXRlTW9ja1Rhc2sgZnJvbSBAcmVkdXgtc2FnYS90ZXN0aW5nLXV0aWxzKSc7XG5cbnZhciBtYWtlRWZmZWN0ID0gZnVuY3Rpb24gbWFrZUVmZmVjdCh0eXBlLCBwYXlsb2FkKSB7XG4gIHZhciBfcmVmO1xuXG4gIHJldHVybiBfcmVmID0ge30sIF9yZWZbSU9dID0gdHJ1ZSwgX3JlZi5jb21iaW5hdG9yID0gZmFsc2UsIF9yZWYudHlwZSA9IHR5cGUsIF9yZWYucGF5bG9hZCA9IHBheWxvYWQsIF9yZWY7XG59O1xuXG52YXIgaXNGb3JrRWZmZWN0ID0gZnVuY3Rpb24gaXNGb3JrRWZmZWN0KGVmZikge1xuICByZXR1cm4gZWZmZWN0KGVmZikgJiYgZWZmLnR5cGUgPT09IEZPUks7XG59O1xuXG52YXIgZGV0YWNoID0gZnVuY3Rpb24gZGV0YWNoKGVmZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNoZWNrKGVmZiwgaXNGb3JrRWZmZWN0LCAnZGV0YWNoKGVmZik6IGFyZ3VtZW50IG11c3QgYmUgYSBmb3JrIGVmZmVjdCcpO1xuICB9XG5cbiAgcmV0dXJuIG1ha2VFZmZlY3QoRk9SSywgX2V4dGVuZHMoe30sIGVmZi5wYXlsb2FkLCB7XG4gICAgZGV0YWNoZWQ6IHRydWVcbiAgfSkpO1xufTtcbmZ1bmN0aW9uIHRha2UocGF0dGVybk9yQ2hhbm5lbCwgbXVsdGljYXN0UGF0dGVybikge1xuICBpZiAocGF0dGVybk9yQ2hhbm5lbCA9PT0gdm9pZCAwKSB7XG4gICAgcGF0dGVybk9yQ2hhbm5lbCA9ICcqJztcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBjaGVjayhhcmd1bWVudHNbMF0sIG5vdFVuZGVmLCAndGFrZShwYXR0ZXJuT3JDaGFubmVsKTogcGF0dGVybk9yQ2hhbm5lbCBpcyB1bmRlZmluZWQnKTtcbiAgfVxuXG4gIGlmIChwYXR0ZXJuKHBhdHRlcm5PckNoYW5uZWwpKSB7XG4gICAgcmV0dXJuIG1ha2VFZmZlY3QoVEFLRSwge1xuICAgICAgcGF0dGVybjogcGF0dGVybk9yQ2hhbm5lbFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKG11bHRpY2FzdChwYXR0ZXJuT3JDaGFubmVsKSAmJiBub3RVbmRlZihtdWx0aWNhc3RQYXR0ZXJuKSAmJiBwYXR0ZXJuKG11bHRpY2FzdFBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIG1ha2VFZmZlY3QoVEFLRSwge1xuICAgICAgY2hhbm5lbDogcGF0dGVybk9yQ2hhbm5lbCxcbiAgICAgIHBhdHRlcm46IG11bHRpY2FzdFBhdHRlcm5cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChjaGFubmVsKHBhdHRlcm5PckNoYW5uZWwpKSB7XG4gICAgcmV0dXJuIG1ha2VFZmZlY3QoVEFLRSwge1xuICAgICAgY2hhbm5lbDogcGF0dGVybk9yQ2hhbm5lbFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0YWtlKHBhdHRlcm5PckNoYW5uZWwpOiBhcmd1bWVudCBcIiArIHBhdHRlcm5PckNoYW5uZWwgKyBcIiBpcyBub3QgdmFsaWQgY2hhbm5lbCBvciBhIHZhbGlkIHBhdHRlcm5cIik7XG4gIH1cbn1cbnZhciB0YWtlTWF5YmUgPSBmdW5jdGlvbiB0YWtlTWF5YmUoKSB7XG4gIHZhciBlZmYgPSB0YWtlLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgZWZmLnBheWxvYWQubWF5YmUgPSB0cnVlO1xuICByZXR1cm4gZWZmO1xufTtcbmZ1bmN0aW9uIHB1dChjaGFubmVsJDEsIGFjdGlvbikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgY2hlY2soY2hhbm5lbCQxLCBub3RVbmRlZiwgJ3B1dChjaGFubmVsLCBhY3Rpb24pOiBhcmd1bWVudCBjaGFubmVsIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgY2hlY2soY2hhbm5lbCQxLCBjaGFubmVsLCBcInB1dChjaGFubmVsLCBhY3Rpb24pOiBhcmd1bWVudCBcIiArIGNoYW5uZWwkMSArIFwiIGlzIG5vdCBhIHZhbGlkIGNoYW5uZWxcIik7XG4gICAgICBjaGVjayhhY3Rpb24sIG5vdFVuZGVmLCAncHV0KGNoYW5uZWwsIGFjdGlvbik6IGFyZ3VtZW50IGFjdGlvbiBpcyB1bmRlZmluZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2soY2hhbm5lbCQxLCBub3RVbmRlZiwgJ3B1dChhY3Rpb24pOiBhcmd1bWVudCBhY3Rpb24gaXMgdW5kZWZpbmVkJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHVuZGVmKGFjdGlvbikpIHtcbiAgICBhY3Rpb24gPSBjaGFubmVsJDE7IC8vIGB1bmRlZmluZWRgIGluc3RlYWQgb2YgYG51bGxgIHRvIG1ha2UgZGVmYXVsdCBwYXJhbWV0ZXIgd29ya1xuXG4gICAgY2hhbm5lbCQxID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIG1ha2VFZmZlY3QoUFVULCB7XG4gICAgY2hhbm5lbDogY2hhbm5lbCQxLFxuICAgIGFjdGlvbjogYWN0aW9uXG4gIH0pO1xufVxudmFyIHB1dFJlc29sdmUgPSBmdW5jdGlvbiBwdXRSZXNvbHZlKCkge1xuICB2YXIgZWZmID0gcHV0LmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgZWZmLnBheWxvYWQucmVzb2x2ZSA9IHRydWU7XG4gIHJldHVybiBlZmY7XG59O1xuZnVuY3Rpb24gYWxsKGVmZmVjdHMpIHtcbiAgdmFyIGVmZiA9IG1ha2VFZmZlY3QoQUxMLCBlZmZlY3RzKTtcbiAgZWZmLmNvbWJpbmF0b3IgPSB0cnVlO1xuICByZXR1cm4gZWZmO1xufVxuZnVuY3Rpb24gcmFjZShlZmZlY3RzKSB7XG4gIHZhciBlZmYgPSBtYWtlRWZmZWN0KFJBQ0UsIGVmZmVjdHMpO1xuICBlZmYuY29tYmluYXRvciA9IHRydWU7XG4gIHJldHVybiBlZmY7XG59IC8vIHRoaXMgbWF0Y2ggZ2V0Rm5DYWxsRGVzY3JpcHRvciBsb2dpY1xuXG52YXIgdmFsaWRhdGVGbkRlc2NyaXB0b3IgPSBmdW5jdGlvbiB2YWxpZGF0ZUZuRGVzY3JpcHRvcihlZmZlY3ROYW1lLCBmbkRlc2NyaXB0b3IpIHtcbiAgY2hlY2soZm5EZXNjcmlwdG9yLCBub3RVbmRlZiwgZWZmZWN0TmFtZSArIFwiOiBhcmd1bWVudCBmbiBpcyB1bmRlZmluZWQgb3IgbnVsbFwiKTtcblxuICBpZiAoZnVuYyhmbkRlc2NyaXB0b3IpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNvbnRleHQgPSBudWxsO1xuICB2YXIgZm47XG5cbiAgaWYgKGFycmF5KGZuRGVzY3JpcHRvcikpIHtcbiAgICBjb250ZXh0ID0gZm5EZXNjcmlwdG9yWzBdO1xuICAgIGZuID0gZm5EZXNjcmlwdG9yWzFdO1xuICAgIGNoZWNrKGZuLCBub3RVbmRlZiwgZWZmZWN0TmFtZSArIFwiOiBhcmd1bWVudCBvZiB0eXBlIFtjb250ZXh0LCBmbl0gaGFzIHVuZGVmaW5lZCBvciBudWxsIGBmbmBcIik7XG4gIH0gZWxzZSBpZiAob2JqZWN0KGZuRGVzY3JpcHRvcikpIHtcbiAgICBjb250ZXh0ID0gZm5EZXNjcmlwdG9yLmNvbnRleHQ7XG4gICAgZm4gPSBmbkRlc2NyaXB0b3IuZm47XG4gICAgY2hlY2soZm4sIG5vdFVuZGVmLCBlZmZlY3ROYW1lICsgXCI6IGFyZ3VtZW50IG9mIHR5cGUge2NvbnRleHQsIGZufSBoYXMgdW5kZWZpbmVkIG9yIG51bGwgYGZuYFwiKTtcbiAgfSBlbHNlIHtcbiAgICBjaGVjayhmbkRlc2NyaXB0b3IsIGZ1bmMsIGVmZmVjdE5hbWUgKyBcIjogYXJndW1lbnQgZm4gaXMgbm90IGZ1bmN0aW9uXCIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb250ZXh0ICYmIHN0cmluZyhmbikpIHtcbiAgICBjaGVjayhjb250ZXh0W2ZuXSwgZnVuYywgZWZmZWN0TmFtZSArIFwiOiBjb250ZXh0IGFyZ3VtZW50cyBoYXMgbm8gc3VjaCBtZXRob2QgLSBcXFwiXCIgKyBmbiArIFwiXFxcIlwiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjaGVjayhmbiwgZnVuYywgZWZmZWN0TmFtZSArIFwiOiB1bnBhY2tlZCBmbiBhcmd1bWVudCAoZnJvbSBbY29udGV4dCwgZm5dIG9yIHtjb250ZXh0LCBmbn0pIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO1xufTtcblxuZnVuY3Rpb24gZ2V0Rm5DYWxsRGVzY3JpcHRvcihmbkRlc2NyaXB0b3IsIGFyZ3MpIHtcbiAgdmFyIGNvbnRleHQgPSBudWxsO1xuICB2YXIgZm47XG5cbiAgaWYgKGZ1bmMoZm5EZXNjcmlwdG9yKSkge1xuICAgIGZuID0gZm5EZXNjcmlwdG9yO1xuICB9IGVsc2Uge1xuICAgIGlmIChhcnJheShmbkRlc2NyaXB0b3IpKSB7XG4gICAgICBjb250ZXh0ID0gZm5EZXNjcmlwdG9yWzBdO1xuICAgICAgZm4gPSBmbkRlc2NyaXB0b3JbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQgPSBmbkRlc2NyaXB0b3IuY29udGV4dDtcbiAgICAgIGZuID0gZm5EZXNjcmlwdG9yLmZuO1xuICAgIH1cblxuICAgIGlmIChjb250ZXh0ICYmIHN0cmluZyhmbikgJiYgZnVuYyhjb250ZXh0W2ZuXSkpIHtcbiAgICAgIGZuID0gY29udGV4dFtmbl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgIGZuOiBmbixcbiAgICBhcmdzOiBhcmdzXG4gIH07XG59XG5cbnZhciBpc05vdERlbGF5RWZmZWN0ID0gZnVuY3Rpb24gaXNOb3REZWxheUVmZmVjdChmbikge1xuICByZXR1cm4gZm4gIT09IGRlbGF5O1xufTtcblxuZnVuY3Rpb24gY2FsbChmbkRlc2NyaXB0b3IpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgYXJnMCA9IHR5cGVvZiBhcmdzWzBdID09PSAnbnVtYmVyJyA/IGFyZ3NbMF0gOiAnbXMnO1xuICAgIGNoZWNrKGZuRGVzY3JpcHRvciwgaXNOb3REZWxheUVmZmVjdCwgXCJpbnN0ZWFkIG9mIHdyaXRpbmcgYHlpZWxkIGNhbGwoZGVsYXksIFwiICsgYXJnMCArIFwiKWAgd2hlcmUgZGVsYXkgaXMgYW4gZWZmZWN0IGZyb20gYHJlZHV4LXNhZ2EvZWZmZWN0c2AgeW91IHNob3VsZCB3cml0ZSBgeWllbGQgZGVsYXkoXCIgKyBhcmcwICsgXCIpYFwiKTtcbiAgICB2YWxpZGF0ZUZuRGVzY3JpcHRvcignY2FsbCcsIGZuRGVzY3JpcHRvcik7XG4gIH1cblxuICByZXR1cm4gbWFrZUVmZmVjdChDQUxMLCBnZXRGbkNhbGxEZXNjcmlwdG9yKGZuRGVzY3JpcHRvciwgYXJncykpO1xufVxuZnVuY3Rpb24gYXBwbHkoY29udGV4dCwgZm4sIGFyZ3MpIHtcbiAgaWYgKGFyZ3MgPT09IHZvaWQgMCkge1xuICAgIGFyZ3MgPSBbXTtcbiAgfVxuXG4gIHZhciBmbkRlc2NyaXB0b3IgPSBbY29udGV4dCwgZm5dO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFsaWRhdGVGbkRlc2NyaXB0b3IoJ2FwcGx5JywgZm5EZXNjcmlwdG9yKTtcbiAgfVxuXG4gIHJldHVybiBtYWtlRWZmZWN0KENBTEwsIGdldEZuQ2FsbERlc2NyaXB0b3IoW2NvbnRleHQsIGZuXSwgYXJncykpO1xufVxuZnVuY3Rpb24gY3BzKGZuRGVzY3JpcHRvcikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhbGlkYXRlRm5EZXNjcmlwdG9yKCdjcHMnLCBmbkRlc2NyaXB0b3IpO1xuICB9XG5cbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICB9XG5cbiAgcmV0dXJuIG1ha2VFZmZlY3QoQ1BTLCBnZXRGbkNhbGxEZXNjcmlwdG9yKGZuRGVzY3JpcHRvciwgYXJncykpO1xufVxuZnVuY3Rpb24gZm9yayhmbkRlc2NyaXB0b3IpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YWxpZGF0ZUZuRGVzY3JpcHRvcignZm9yaycsIGZuRGVzY3JpcHRvcik7XG4gICAgY2hlY2soZm5EZXNjcmlwdG9yLCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gIWVmZmVjdChhcmcpO1xuICAgIH0sICdmb3JrOiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhbiBlZmZlY3QnKTtcbiAgfVxuXG4gIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyA+IDEgPyBfbGVuMyAtIDEgOiAwKSwgX2tleTMgPSAxOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgYXJnc1tfa2V5MyAtIDFdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgfVxuXG4gIHJldHVybiBtYWtlRWZmZWN0KEZPUkssIGdldEZuQ2FsbERlc2NyaXB0b3IoZm5EZXNjcmlwdG9yLCBhcmdzKSk7XG59XG5mdW5jdGlvbiBzcGF3bihmbkRlc2NyaXB0b3IpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YWxpZGF0ZUZuRGVzY3JpcHRvcignc3Bhd24nLCBmbkRlc2NyaXB0b3IpO1xuICB9XG5cbiAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40ID4gMSA/IF9sZW40IC0gMSA6IDApLCBfa2V5NCA9IDE7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICB9XG5cbiAgcmV0dXJuIGRldGFjaChmb3JrLmFwcGx5KHZvaWQgMCwgW2ZuRGVzY3JpcHRvcl0uY29uY2F0KGFyZ3MpKSk7XG59XG5mdW5jdGlvbiBqb2luKHRhc2tPclRhc2tzKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pvaW4oLi4udGFza3MpIGlzIG5vdCBzdXBwb3J0ZWQgYW55IG1vcmUuIFBsZWFzZSB1c2Ugam9pbihbLi4udGFza3NdKSB0byBqb2luIG11bHRpcGxlIHRhc2tzLicpO1xuICAgIH1cblxuICAgIGlmIChhcnJheSh0YXNrT3JUYXNrcykpIHtcbiAgICAgIHRhc2tPclRhc2tzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgY2hlY2sodCwgdGFzaywgXCJqb2luKFsuLi50YXNrc10pOiBhcmd1bWVudCBcIiArIHQgKyBcIiBpcyBub3QgYSB2YWxpZCBUYXNrIG9iamVjdCBcIiArIFRFU1RfSElOVCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2sodGFza09yVGFza3MsIHRhc2ssIFwiam9pbih0YXNrKTogYXJndW1lbnQgXCIgKyB0YXNrT3JUYXNrcyArIFwiIGlzIG5vdCBhIHZhbGlkIFRhc2sgb2JqZWN0IFwiICsgVEVTVF9ISU5UKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWFrZUVmZmVjdChKT0lOLCB0YXNrT3JUYXNrcyk7XG59XG5mdW5jdGlvbiBjYW5jZWwodGFza09yVGFza3MpIHtcbiAgaWYgKHRhc2tPclRhc2tzID09PSB2b2lkIDApIHtcbiAgICB0YXNrT3JUYXNrcyA9IFNFTEZfQ0FOQ0VMTEFUSU9OO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsKC4uLnRhc2tzKSBpcyBub3Qgc3VwcG9ydGVkIGFueSBtb3JlLiBQbGVhc2UgdXNlIGNhbmNlbChbLi4udGFza3NdKSB0byBjYW5jZWwgbXVsdGlwbGUgdGFza3MuJyk7XG4gICAgfVxuXG4gICAgaWYgKGFycmF5KHRhc2tPclRhc2tzKSkge1xuICAgICAgdGFza09yVGFza3MuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgICBjaGVjayh0LCB0YXNrLCBcImNhbmNlbChbLi4udGFza3NdKTogYXJndW1lbnQgXCIgKyB0ICsgXCIgaXMgbm90IGEgdmFsaWQgVGFzayBvYmplY3QgXCIgKyBURVNUX0hJTlQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0YXNrT3JUYXNrcyAhPT0gU0VMRl9DQU5DRUxMQVRJT04gJiYgbm90VW5kZWYodGFza09yVGFza3MpKSB7XG4gICAgICBjaGVjayh0YXNrT3JUYXNrcywgdGFzaywgXCJjYW5jZWwodGFzayk6IGFyZ3VtZW50IFwiICsgdGFza09yVGFza3MgKyBcIiBpcyBub3QgYSB2YWxpZCBUYXNrIG9iamVjdCBcIiArIFRFU1RfSElOVCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1ha2VFZmZlY3QoQ0FOQ0VMLCB0YXNrT3JUYXNrcyk7XG59XG5mdW5jdGlvbiBzZWxlY3Qoc2VsZWN0b3IpIHtcbiAgaWYgKHNlbGVjdG9yID09PSB2b2lkIDApIHtcbiAgICBzZWxlY3RvciA9IGlkZW50aXR5O1xuICB9XG5cbiAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41ID4gMSA/IF9sZW41IC0gMSA6IDApLCBfa2V5NSA9IDE7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICBhcmdzW19rZXk1IC0gMV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGNoZWNrKGFyZ3VtZW50c1swXSwgbm90VW5kZWYsICdzZWxlY3Qoc2VsZWN0b3IsIFsuLi5dKTogYXJndW1lbnQgc2VsZWN0b3IgaXMgdW5kZWZpbmVkJyk7XG4gICAgY2hlY2soc2VsZWN0b3IsIGZ1bmMsIFwic2VsZWN0KHNlbGVjdG9yLCBbLi4uXSk6IGFyZ3VtZW50IFwiICsgc2VsZWN0b3IgKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHJldHVybiBtYWtlRWZmZWN0KFNFTEVDVCwge1xuICAgIHNlbGVjdG9yOiBzZWxlY3RvcixcbiAgICBhcmdzOiBhcmdzXG4gIH0pO1xufVxuLyoqXG4gIGNoYW5uZWwocGF0dGVybiwgW2J1ZmZlcl0pICAgID0+IGNyZWF0ZXMgYSBwcm94eSBjaGFubmVsIGZvciBzdG9yZSBhY3Rpb25zXG4qKi9cblxuZnVuY3Rpb24gYWN0aW9uQ2hhbm5lbChwYXR0ZXJuJDEsIGJ1ZmZlciQxKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY2hlY2socGF0dGVybiQxLCBwYXR0ZXJuLCAnYWN0aW9uQ2hhbm5lbChwYXR0ZXJuLC4uLik6IGFyZ3VtZW50IHBhdHRlcm4gaXMgbm90IHZhbGlkJyk7XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNoZWNrKGJ1ZmZlciQxLCBub3RVbmRlZiwgJ2FjdGlvbkNoYW5uZWwocGF0dGVybiwgYnVmZmVyKTogYXJndW1lbnQgYnVmZmVyIGlzIHVuZGVmaW5lZCcpO1xuICAgICAgY2hlY2soYnVmZmVyJDEsIGJ1ZmZlciwgXCJhY3Rpb25DaGFubmVsKHBhdHRlcm4sIGJ1ZmZlcik6IGFyZ3VtZW50IFwiICsgYnVmZmVyJDEgKyBcIiBpcyBub3QgYSB2YWxpZCBidWZmZXJcIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1ha2VFZmZlY3QoQUNUSU9OX0NIQU5ORUwsIHtcbiAgICBwYXR0ZXJuOiBwYXR0ZXJuJDEsXG4gICAgYnVmZmVyOiBidWZmZXIkMVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNhbmNlbGxlZCgpIHtcbiAgcmV0dXJuIG1ha2VFZmZlY3QoQ0FOQ0VMTEVELCB7fSk7XG59XG5mdW5jdGlvbiBmbHVzaChjaGFubmVsJDEpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjaGVjayhjaGFubmVsJDEsIGNoYW5uZWwsIFwiZmx1c2goY2hhbm5lbCk6IGFyZ3VtZW50IFwiICsgY2hhbm5lbCQxICsgXCIgaXMgbm90IHZhbGlkIGNoYW5uZWxcIik7XG4gIH1cblxuICByZXR1cm4gbWFrZUVmZmVjdChGTFVTSCwgY2hhbm5lbCQxKTtcbn1cbmZ1bmN0aW9uIGdldENvbnRleHQocHJvcCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNoZWNrKHByb3AsIHN0cmluZywgXCJnZXRDb250ZXh0KHByb3ApOiBhcmd1bWVudCBcIiArIHByb3AgKyBcIiBpcyBub3QgYSBzdHJpbmdcIik7XG4gIH1cblxuICByZXR1cm4gbWFrZUVmZmVjdChHRVRfQ09OVEVYVCwgcHJvcCk7XG59XG5mdW5jdGlvbiBzZXRDb250ZXh0KHByb3BzKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY2hlY2socHJvcHMsIG9iamVjdCwgY3JlYXRlU2V0Q29udGV4dFdhcm5pbmcobnVsbCwgcHJvcHMpKTtcbiAgfVxuXG4gIHJldHVybiBtYWtlRWZmZWN0KFNFVF9DT05URVhULCBwcm9wcyk7XG59XG52YXIgZGVsYXkgPVxuLyojX19QVVJFX18qL1xuY2FsbC5iaW5kKG51bGwsIGRlbGF5UCk7XG5cbmV4cG9ydCB7IGFwcGx5IGFzICQsIEFMTCBhcyBBLCBsb2dFcnJvciBhcyBCLCBDQUxMIGFzIEMsIHdyYXBTYWdhRGlzcGF0Y2ggYXMgRCwgaWRlbnRpdHkgYXMgRSwgRk9SSyBhcyBGLCBHRVRfQ09OVEVYVCBhcyBHLCBidWZmZXJzIGFzIEgsIGRldGFjaCBhcyBJLCBKT0lOIGFzIEosIHRha2UgYXMgSywgZm9yayBhcyBMLCBjYW5jZWwgYXMgTSwgY2FsbCBhcyBOLCBhY3Rpb25DaGFubmVsIGFzIE8sIFBVVCBhcyBQLCBzbGlkaW5nIGFzIFEsIFJBQ0UgYXMgUiwgU0VMRUNUIGFzIFMsIFRBS0UgYXMgVCwgZGVsYXkgYXMgVSwgcmFjZSBhcyBWLCBlZmZlY3RUeXBlcyBhcyBXLCB0YWtlTWF5YmUgYXMgWCwgcHV0IGFzIFksIHB1dFJlc29sdmUgYXMgWiwgYWxsIGFzIF8sIENQUyBhcyBhLCBjcHMgYXMgYTAsIHNwYXduIGFzIGExLCBqb2luIGFzIGEyLCBzZWxlY3QgYXMgYTMsIGNhbmNlbGxlZCBhcyBhNCwgZmx1c2ggYXMgYTUsIGdldENvbnRleHQgYXMgYTYsIHNldENvbnRleHQgYXMgYTcsIENBTkNFTCBhcyBiLCBjaGVjayBhcyBjLCBBQ1RJT05fQ0hBTk5FTCBhcyBkLCBleHBhbmRpbmcgYXMgZSwgQ0FOQ0VMTEVEIGFzIGYsIEZMVVNIIGFzIGcsIFNFVF9DT05URVhUIGFzIGgsIGludGVybmFsRXJyIGFzIGksIGdldE1ldGFJbmZvIGFzIGosIGtUcnVlIGFzIGssIGNyZWF0ZUFsbFN0eWxlQ2hpbGRDYWxsYmFja3MgYXMgbCwgY3JlYXRlRW1wdHlBcnJheSBhcyBtLCBub25lIGFzIG4sIG9uY2UgYXMgbywgYXNzaWduV2l0aFN5bWJvbHMgYXMgcCwgbWFrZUl0ZXJhdG9yIGFzIHEsIHJlbW92ZSBhcyByLCBzaG91bGRDb21wbGV0ZSBhcyBzLCBub29wIGFzIHQsIGZsYXRNYXAgYXMgdSwgZ2V0TG9jYXRpb24gYXMgdiwgY3JlYXRlU2V0Q29udGV4dFdhcm5pbmcgYXMgdywgYXN5bmNJdGVyYXRvclN5bWJvbCBhcyB4LCBzaG91bGRDYW5jZWwgYXMgeSwgc2hvdWxkVGVybWluYXRlIGFzIHogfTtcbiIsImltcG9ydCB7IENIQU5ORUxfRU5EX1RZUEUsIE1VTFRJQ0FTVCwgTUFUQ0gsIFNBR0FfQUNUSU9OLCBDQU5DRUwsIFNFTEZfQ0FOQ0VMTEFUSU9OLCBURVJNSU5BVEUsIFRBU0ssIFRBU0tfQ0FOQ0VMLCBJTyB9IGZyb20gJ0ByZWR1eC1zYWdhL3N5bWJvbHMnO1xuZXhwb3J0IHsgQ0FOQ0VMLCBTQUdBX0xPQ0FUSU9OIH0gZnJvbSAnQHJlZHV4LXNhZ2Evc3ltYm9scyc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSc7XG5pbXBvcnQgeyBzdHJpbmcgYXMgc3RyaW5nJDEsIGFycmF5IGFzIGFycmF5JDEsIHN0cmluZ2FibGVGdW5jLCBmdW5jLCBzeW1ib2wgYXMgc3ltYm9sJDEsIGJ1ZmZlciwgbm90VW5kZWYsIHByb21pc2UsIGl0ZXJhdG9yLCB1bmRlZiwgb2JqZWN0LCBjaGFubmVsIGFzIGNoYW5uZWwkMSB9IGZyb20gJ0ByZWR1eC1zYWdhL2lzJztcbmltcG9ydCB7IGsgYXMga1RydWUsIGUgYXMgZXhwYW5kaW5nLCBjIGFzIGNoZWNrLCBvIGFzIG9uY2UsIHIgYXMgcmVtb3ZlLCBuIGFzIG5vbmUsIGkgYXMgaW50ZXJuYWxFcnIsIFQgYXMgVEFLRSwgUCBhcyBQVVQsIEEgYXMgQUxMLCBSIGFzIFJBQ0UsIEMgYXMgQ0FMTCwgYSBhcyBDUFMsIEYgYXMgRk9SSywgSiBhcyBKT0lOLCBiIGFzIENBTkNFTCQxLCBTIGFzIFNFTEVDVCwgZCBhcyBBQ1RJT05fQ0hBTk5FTCwgZiBhcyBDQU5DRUxMRUQkMSwgZyBhcyBGTFVTSCwgRyBhcyBHRVRfQ09OVEVYVCwgaCBhcyBTRVRfQ09OVEVYVCwgaiBhcyBnZXRNZXRhSW5mbywgbCBhcyBjcmVhdGVBbGxTdHlsZUNoaWxkQ2FsbGJhY2tzLCBtIGFzIGNyZWF0ZUVtcHR5QXJyYXksIHAgYXMgYXNzaWduV2l0aFN5bWJvbHMsIHEgYXMgbWFrZUl0ZXJhdG9yLCBzIGFzIHNob3VsZENvbXBsZXRlLCB0IGFzIG5vb3AsIHUgYXMgZmxhdE1hcCwgdiBhcyBnZXRMb2NhdGlvbiwgdyBhcyBjcmVhdGVTZXRDb250ZXh0V2FybmluZywgeCBhcyBhc3luY0l0ZXJhdG9yU3ltYm9sLCB5IGFzIHNob3VsZENhbmNlbCwgeiBhcyBzaG91bGRUZXJtaW5hdGUsIEIgYXMgbG9nRXJyb3IsIEQgYXMgd3JhcFNhZ2FEaXNwYXRjaCwgRSBhcyBpZGVudGl0eSB9IGZyb20gJy4vaW8tNmRlMTU2ZjMuanMnO1xuZXhwb3J0IHsgSCBhcyBidWZmZXJzLCBJIGFzIGRldGFjaCB9IGZyb20gJy4vaW8tNmRlMTU2ZjMuanMnO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCBkZWZlcnJlZCBmcm9tICdAcmVkdXgtc2FnYS9kZWZlcnJlZCc7XG5pbXBvcnQgJ0ByZWR1eC1zYWdhL2RlbGF5LXAnO1xuXG52YXIgcXVldWUgPSBbXTtcbi8qKlxuICBWYXJpYWJsZSB0byBob2xkIGEgY291bnRpbmcgc2VtYXBob3JlXG4gIC0gSW5jcmVtZW50aW5nIGFkZHMgYSBsb2NrIGFuZCBwdXRzIHRoZSBzY2hlZHVsZXIgaW4gYSBgc3VzcGVuZGVkYCBzdGF0ZSAoaWYgaXQncyBub3RcbiAgICBhbHJlYWR5IHN1c3BlbmRlZClcbiAgLSBEZWNyZW1lbnRpbmcgcmVsZWFzZXMgYSBsb2NrLiBaZXJvIGxvY2tzIHB1dHMgdGhlIHNjaGVkdWxlciBpbiBhIGByZWxlYXNlZGAgc3RhdGUuIFRoaXNcbiAgICB0cmlnZ2VycyBmbHVzaGluZyB0aGUgcXVldWVkIHRhc2tzLlxuKiovXG5cbnZhciBzZW1hcGhvcmUgPSAwO1xuLyoqXG4gIEV4ZWN1dGVzIGEgdGFzayAnYXRvbWljYWxseScuIFRhc2tzIHNjaGVkdWxlZCBkdXJpbmcgdGhpcyBleGVjdXRpb24gd2lsbCBiZSBxdWV1ZWRcbiAgYW5kIGZsdXNoZWQgYWZ0ZXIgdGhpcyB0YXNrIGhhcyBmaW5pc2hlZCAoYXNzdW1pbmcgdGhlIHNjaGVkdWxlciBlbmR1cCBpbiBhIHJlbGVhc2VkXG4gIHN0YXRlKS5cbioqL1xuXG5mdW5jdGlvbiBleGVjKHRhc2spIHtcbiAgdHJ5IHtcbiAgICBzdXNwZW5kKCk7XG4gICAgdGFzaygpO1xuICB9IGZpbmFsbHkge1xuICAgIHJlbGVhc2UoKTtcbiAgfVxufVxuLyoqXG4gIEV4ZWN1dGVzIG9yIHF1ZXVlcyBhIHRhc2sgZGVwZW5kaW5nIG9uIHRoZSBzdGF0ZSBvZiB0aGUgc2NoZWR1bGVyIChgc3VzcGVuZGVkYCBvciBgcmVsZWFzZWRgKVxuKiovXG5cblxuZnVuY3Rpb24gYXNhcCh0YXNrKSB7XG4gIHF1ZXVlLnB1c2godGFzayk7XG5cbiAgaWYgKCFzZW1hcGhvcmUpIHtcbiAgICBzdXNwZW5kKCk7XG4gICAgZmx1c2goKTtcbiAgfVxufVxuLyoqXG4gKiBQdXRzIHRoZSBzY2hlZHVsZXIgaW4gYSBgc3VzcGVuZGVkYCBzdGF0ZSBhbmQgZXhlY3V0ZXMgYSB0YXNrIGltbWVkaWF0ZWx5LlxuICovXG5cbmZ1bmN0aW9uIGltbWVkaWF0ZWx5KHRhc2spIHtcbiAgdHJ5IHtcbiAgICBzdXNwZW5kKCk7XG4gICAgcmV0dXJuIHRhc2soKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBmbHVzaCgpO1xuICB9XG59XG4vKipcbiAgUHV0cyB0aGUgc2NoZWR1bGVyIGluIGEgYHN1c3BlbmRlZGAgc3RhdGUuIFNjaGVkdWxlZCB0YXNrcyB3aWxsIGJlIHF1ZXVlZCB1bnRpbCB0aGVcbiAgc2NoZWR1bGVyIGlzIHJlbGVhc2VkLlxuKiovXG5cbmZ1bmN0aW9uIHN1c3BlbmQoKSB7XG4gIHNlbWFwaG9yZSsrO1xufVxuLyoqXG4gIFB1dHMgdGhlIHNjaGVkdWxlciBpbiBhIGByZWxlYXNlZGAgc3RhdGUuXG4qKi9cblxuXG5mdW5jdGlvbiByZWxlYXNlKCkge1xuICBzZW1hcGhvcmUtLTtcbn1cbi8qKlxuICBSZWxlYXNlcyB0aGUgY3VycmVudCBsb2NrLiBFeGVjdXRlcyBhbGwgcXVldWVkIHRhc2tzIGlmIHRoZSBzY2hlZHVsZXIgaXMgaW4gdGhlIHJlbGVhc2VkIHN0YXRlLlxuKiovXG5cblxuZnVuY3Rpb24gZmx1c2goKSB7XG4gIHJlbGVhc2UoKTtcbiAgdmFyIHRhc2s7XG5cbiAgd2hpbGUgKCFzZW1hcGhvcmUgJiYgKHRhc2sgPSBxdWV1ZS5zaGlmdCgpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZXhlYyh0YXNrKTtcbiAgfVxufVxuXG52YXIgYXJyYXkgPSBmdW5jdGlvbiBhcnJheShwYXR0ZXJucykge1xuICByZXR1cm4gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgcmV0dXJuIHBhdHRlcm5zLnNvbWUoZnVuY3Rpb24gKHApIHtcbiAgICAgIHJldHVybiBtYXRjaGVyKHApKGlucHV0KTtcbiAgICB9KTtcbiAgfTtcbn07XG52YXIgcHJlZGljYXRlID0gZnVuY3Rpb24gcHJlZGljYXRlKF9wcmVkaWNhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHJldHVybiBfcHJlZGljYXRlKGlucHV0KTtcbiAgfTtcbn07XG52YXIgc3RyaW5nID0gZnVuY3Rpb24gc3RyaW5nKHBhdHRlcm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dC50eXBlID09PSBTdHJpbmcocGF0dGVybik7XG4gIH07XG59O1xudmFyIHN5bWJvbCA9IGZ1bmN0aW9uIHN5bWJvbChwYXR0ZXJuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQudHlwZSA9PT0gcGF0dGVybjtcbiAgfTtcbn07XG52YXIgd2lsZGNhcmQgPSBmdW5jdGlvbiB3aWxkY2FyZCgpIHtcbiAgcmV0dXJuIGtUcnVlO1xufTtcbmZ1bmN0aW9uIG1hdGNoZXIocGF0dGVybikge1xuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgdmFyIG1hdGNoZXJDcmVhdG9yID0gcGF0dGVybiA9PT0gJyonID8gd2lsZGNhcmQgOiBzdHJpbmckMShwYXR0ZXJuKSA/IHN0cmluZyA6IGFycmF5JDEocGF0dGVybikgPyBhcnJheSA6IHN0cmluZ2FibGVGdW5jKHBhdHRlcm4pID8gc3RyaW5nIDogZnVuYyhwYXR0ZXJuKSA/IHByZWRpY2F0ZSA6IHN5bWJvbCQxKHBhdHRlcm4pID8gc3ltYm9sIDogbnVsbDtcblxuICBpZiAobWF0Y2hlckNyZWF0b3IgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBhdHRlcm46IFwiICsgcGF0dGVybik7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlckNyZWF0b3IocGF0dGVybik7XG59XG5cbnZhciBFTkQgPSB7XG4gIHR5cGU6IENIQU5ORUxfRU5EX1RZUEVcbn07XG52YXIgaXNFbmQgPSBmdW5jdGlvbiBpc0VuZChhKSB7XG4gIHJldHVybiBhICYmIGEudHlwZSA9PT0gQ0hBTk5FTF9FTkRfVFlQRTtcbn07XG52YXIgQ0xPU0VEX0NIQU5ORUxfV0lUSF9UQUtFUlMgPSAnQ2Fubm90IGhhdmUgYSBjbG9zZWQgY2hhbm5lbCB3aXRoIHBlbmRpbmcgdGFrZXJzJztcbnZhciBJTlZBTElEX0JVRkZFUiA9ICdpbnZhbGlkIGJ1ZmZlciBwYXNzZWQgdG8gY2hhbm5lbCBmYWN0b3J5IGZ1bmN0aW9uJztcbnZhciBVTkRFRklORURfSU5QVVRfRVJST1IgPSBcIlNhZ2Egb3IgY2hhbm5lbCB3YXMgcHJvdmlkZWQgd2l0aCBhbiB1bmRlZmluZWQgYWN0aW9uXFxuSGludHM6XFxuICAtIGNoZWNrIHRoYXQgeW91ciBBY3Rpb24gQ3JlYXRvciByZXR1cm5zIGEgbm9uLXVuZGVmaW5lZCB2YWx1ZVxcbiAgLSBpZiB0aGUgU2FnYSB3YXMgc3RhcnRlZCB1c2luZyBydW5TYWdhLCBjaGVjayB0aGF0IHlvdXIgc3Vic2NyaWJlIHNvdXJjZSBwcm92aWRlcyB0aGUgYWN0aW9uIHRvIGl0cyBsaXN0ZW5lcnNcIjtcbmZ1bmN0aW9uIGNoYW5uZWwoYnVmZmVyJDEpIHtcbiAgaWYgKGJ1ZmZlciQxID09PSB2b2lkIDApIHtcbiAgICBidWZmZXIkMSA9IGV4cGFuZGluZygpO1xuICB9XG5cbiAgdmFyIGNsb3NlZCA9IGZhbHNlO1xuICB2YXIgdGFrZXJzID0gW107XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjaGVjayhidWZmZXIkMSwgYnVmZmVyLCBJTlZBTElEX0JVRkZFUik7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0ZvcmJpZGRlblN0YXRlcygpIHtcbiAgICBpZiAoY2xvc2VkICYmIHRha2Vycy5sZW5ndGgpIHtcbiAgICAgIHRocm93IGludGVybmFsRXJyKENMT1NFRF9DSEFOTkVMX1dJVEhfVEFLRVJTKTtcbiAgICB9XG5cbiAgICBpZiAodGFrZXJzLmxlbmd0aCAmJiAhYnVmZmVyJDEuaXNFbXB0eSgpKSB7XG4gICAgICB0aHJvdyBpbnRlcm5hbEVycignQ2Fubm90IGhhdmUgcGVuZGluZyB0YWtlcnMgd2l0aCBub24gZW1wdHkgYnVmZmVyJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHV0KGlucHV0KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNoZWNrRm9yYmlkZGVuU3RhdGVzKCk7XG4gICAgICBjaGVjayhpbnB1dCwgbm90VW5kZWYsIFVOREVGSU5FRF9JTlBVVF9FUlJPUik7XG4gICAgfVxuXG4gICAgaWYgKGNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0YWtlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gYnVmZmVyJDEucHV0KGlucHV0KTtcbiAgICB9XG5cbiAgICB2YXIgY2IgPSB0YWtlcnMuc2hpZnQoKTtcbiAgICBjYihpbnB1dCk7XG4gIH1cblxuICBmdW5jdGlvbiB0YWtlKGNiKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNoZWNrRm9yYmlkZGVuU3RhdGVzKCk7XG4gICAgICBjaGVjayhjYiwgZnVuYywgXCJjaGFubmVsLnRha2UncyBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgaWYgKGNsb3NlZCAmJiBidWZmZXIkMS5pc0VtcHR5KCkpIHtcbiAgICAgIGNiKEVORCk7XG4gICAgfSBlbHNlIGlmICghYnVmZmVyJDEuaXNFbXB0eSgpKSB7XG4gICAgICBjYihidWZmZXIkMS50YWtlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWtlcnMucHVzaChjYik7XG5cbiAgICAgIGNiLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlKHRha2VycywgY2IpO1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaChjYikge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjaGVja0ZvcmJpZGRlblN0YXRlcygpO1xuICAgICAgY2hlY2soY2IsIGZ1bmMsIFwiY2hhbm5lbC5mbHVzaCcgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIGlmIChjbG9zZWQgJiYgYnVmZmVyJDEuaXNFbXB0eSgpKSB7XG4gICAgICBjYihFTkQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNiKGJ1ZmZlciQxLmZsdXNoKCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNoZWNrRm9yYmlkZGVuU3RhdGVzKCk7XG4gICAgfVxuXG4gICAgaWYgKGNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNsb3NlZCA9IHRydWU7XG4gICAgdmFyIGFyciA9IHRha2VycztcbiAgICB0YWtlcnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciB0YWtlciA9IGFycltpXTtcbiAgICAgIHRha2VyKEVORCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0YWtlOiB0YWtlLFxuICAgIHB1dDogcHV0LFxuICAgIGZsdXNoOiBmbHVzaCxcbiAgICBjbG9zZTogY2xvc2VcbiAgfTtcbn1cbmZ1bmN0aW9uIGV2ZW50Q2hhbm5lbChzdWJzY3JpYmUsIGJ1ZmZlcikge1xuICBpZiAoYnVmZmVyID09PSB2b2lkIDApIHtcbiAgICBidWZmZXIgPSBub25lKCk7XG4gIH1cblxuICB2YXIgY2xvc2VkID0gZmFsc2U7XG4gIHZhciB1bnN1YnNjcmliZTtcbiAgdmFyIGNoYW4gPSBjaGFubmVsKGJ1ZmZlcik7XG5cbiAgdmFyIGNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgaWYgKGNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNsb3NlZCA9IHRydWU7XG5cbiAgICBpZiAoZnVuYyh1bnN1YnNjcmliZSkpIHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgfVxuXG4gICAgY2hhbi5jbG9zZSgpO1xuICB9O1xuXG4gIHVuc3Vic2NyaWJlID0gc3Vic2NyaWJlKGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIGlmIChpc0VuZChpbnB1dCkpIHtcbiAgICAgIGNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2hhbi5wdXQoaW5wdXQpO1xuICB9KTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNoZWNrKHVuc3Vic2NyaWJlLCBmdW5jLCAnaW4gZXZlbnRDaGFubmVsOiBzdWJzY3JpYmUgc2hvdWxkIHJldHVybiBhIGZ1bmN0aW9uIHRvIHVuc3Vic2NyaWJlJyk7XG4gIH1cblxuICB1bnN1YnNjcmliZSA9IG9uY2UodW5zdWJzY3JpYmUpO1xuXG4gIGlmIChjbG9zZWQpIHtcbiAgICB1bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0YWtlOiBjaGFuLnRha2UsXG4gICAgZmx1c2g6IGNoYW4uZmx1c2gsXG4gICAgY2xvc2U6IGNsb3NlXG4gIH07XG59XG5mdW5jdGlvbiBtdWx0aWNhc3RDaGFubmVsKCkge1xuICB2YXIgX3JlZjtcblxuICB2YXIgY2xvc2VkID0gZmFsc2U7XG4gIHZhciBjdXJyZW50VGFrZXJzID0gW107XG4gIHZhciBuZXh0VGFrZXJzID0gY3VycmVudFRha2VycztcblxuICBmdW5jdGlvbiBjaGVja0ZvcmJpZGRlblN0YXRlcygpIHtcbiAgICBpZiAoY2xvc2VkICYmIG5leHRUYWtlcnMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBpbnRlcm5hbEVycihDTE9TRURfQ0hBTk5FTF9XSVRIX1RBS0VSUyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGVuc3VyZUNhbk11dGF0ZU5leHRUYWtlcnMgPSBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0VGFrZXJzKCkge1xuICAgIGlmIChuZXh0VGFrZXJzICE9PSBjdXJyZW50VGFrZXJzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbmV4dFRha2VycyA9IGN1cnJlbnRUYWtlcnMuc2xpY2UoKTtcbiAgfTtcblxuICB2YXIgY2xvc2UgPSBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY2hlY2tGb3JiaWRkZW5TdGF0ZXMoKTtcbiAgICB9XG5cbiAgICBjbG9zZWQgPSB0cnVlO1xuICAgIHZhciB0YWtlcnMgPSBjdXJyZW50VGFrZXJzID0gbmV4dFRha2VycztcbiAgICBuZXh0VGFrZXJzID0gW107XG4gICAgdGFrZXJzLmZvckVhY2goZnVuY3Rpb24gKHRha2VyKSB7XG4gICAgICB0YWtlcihFTkQpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBfcmVmID0ge30sIF9yZWZbTVVMVElDQVNUXSA9IHRydWUsIF9yZWYucHV0ID0gZnVuY3Rpb24gcHV0KGlucHV0KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNoZWNrRm9yYmlkZGVuU3RhdGVzKCk7XG4gICAgICBjaGVjayhpbnB1dCwgbm90VW5kZWYsIFVOREVGSU5FRF9JTlBVVF9FUlJPUik7XG4gICAgfVxuXG4gICAgaWYgKGNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0VuZChpbnB1dCkpIHtcbiAgICAgIGNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRha2VycyA9IGN1cnJlbnRUYWtlcnMgPSBuZXh0VGFrZXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRha2Vycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIHRha2VyID0gdGFrZXJzW2ldO1xuXG4gICAgICBpZiAodGFrZXJbTUFUQ0hdKGlucHV0KSkge1xuICAgICAgICB0YWtlci5jYW5jZWwoKTtcbiAgICAgICAgdGFrZXIoaW5wdXQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX3JlZi50YWtlID0gZnVuY3Rpb24gdGFrZShjYiwgbWF0Y2hlcikge1xuICAgIGlmIChtYXRjaGVyID09PSB2b2lkIDApIHtcbiAgICAgIG1hdGNoZXIgPSB3aWxkY2FyZDtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY2hlY2tGb3JiaWRkZW5TdGF0ZXMoKTtcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VkKSB7XG4gICAgICBjYihFTkQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNiW01BVENIXSA9IG1hdGNoZXI7XG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dFRha2VycygpO1xuICAgIG5leHRUYWtlcnMucHVzaChjYik7XG4gICAgY2IuY2FuY2VsID0gb25jZShmdW5jdGlvbiAoKSB7XG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0VGFrZXJzKCk7XG4gICAgICByZW1vdmUobmV4dFRha2VycywgY2IpO1xuICAgIH0pO1xuICB9LCBfcmVmLmNsb3NlID0gY2xvc2UsIF9yZWY7XG59XG5mdW5jdGlvbiBzdGRDaGFubmVsKCkge1xuICB2YXIgY2hhbiA9IG11bHRpY2FzdENoYW5uZWwoKTtcbiAgdmFyIHB1dCA9IGNoYW4ucHV0O1xuXG4gIGNoYW4ucHV0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgaWYgKGlucHV0W1NBR0FfQUNUSU9OXSkge1xuICAgICAgcHV0KGlucHV0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgIHB1dChpbnB1dCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIGNoYW47XG59XG5cbnZhciBSVU5OSU5HID0gMDtcbnZhciBDQU5DRUxMRUQgPSAxO1xudmFyIEFCT1JURUQgPSAyO1xudmFyIERPTkUgPSAzO1xuXG5mdW5jdGlvbiByZXNvbHZlUHJvbWlzZShwcm9taXNlLCBjYikge1xuICB2YXIgY2FuY2VsUHJvbWlzZSA9IHByb21pc2VbQ0FOQ0VMXTtcblxuICBpZiAoZnVuYyhjYW5jZWxQcm9taXNlKSkge1xuICAgIGNiLmNhbmNlbCA9IGNhbmNlbFByb21pc2U7XG4gIH1cblxuICBwcm9taXNlLnRoZW4oY2IsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgIGNiKGVycm9yLCB0cnVlKTtcbiAgfSk7XG59XG5cbnZhciBjdXJyZW50ID0gMDtcbnZhciBuZXh0U2FnYUlkID0gKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICsrY3VycmVudDtcbn0pO1xuXG52YXIgX2VmZmVjdFJ1bm5lck1hcDtcblxuZnVuY3Rpb24gZ2V0SXRlcmF0b3JNZXRhSW5mbyhpdGVyYXRvciwgZm4pIHtcbiAgaWYgKGl0ZXJhdG9yLmlzU2FnYUl0ZXJhdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGl0ZXJhdG9yLm1ldGEubmFtZVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gZ2V0TWV0YUluZm8oZm4pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUYXNrSXRlcmF0b3IoX3JlZikge1xuICB2YXIgY29udGV4dCA9IF9yZWYuY29udGV4dCxcbiAgICAgIGZuID0gX3JlZi5mbixcbiAgICAgIGFyZ3MgPSBfcmVmLmFyZ3M7XG5cbiAgLy8gY2F0Y2ggc3luY2hyb25vdXMgZmFpbHVyZXM7IHNlZSAjMTUyIGFuZCAjNDQxXG4gIHRyeSB7XG4gICAgdmFyIHJlc3VsdCA9IGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpOyAvLyBpLmUuIGEgZ2VuZXJhdG9yIGZ1bmN0aW9uIHJldHVybnMgYW4gaXRlcmF0b3JcblxuICAgIGlmIChpdGVyYXRvcihyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHZhciByZXNvbHZlZCA9IGZhbHNlO1xuXG4gICAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KGFyZykge1xuICAgICAgaWYgKCFyZXNvbHZlZCkge1xuICAgICAgICByZXNvbHZlZCA9IHRydWU7IC8vIE9ubHkgcHJvbWlzZXMgcmV0dXJuZWQgZnJvbSBmb3JrIHdpbGwgYmUgaW50ZXJwcmV0ZWQuIFNlZSAjMTU3M1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsdWU6IHJlc3VsdCxcbiAgICAgICAgICBkb25lOiAhcHJvbWlzZShyZXN1bHQpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZhbHVlOiBhcmcsXG4gICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gbWFrZUl0ZXJhdG9yKG5leHQpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBkbyBub3QgYnViYmxlIHVwIHN5bmNocm9ub3VzIGZhaWx1cmVzIGZvciBkZXRhY2hlZCBmb3Jrc1xuICAgIC8vIGluc3RlYWQgY3JlYXRlIGEgZmFpbGVkIHRhc2suIFNlZSAjMTUyIGFuZCAjNDQxXG4gICAgcmV0dXJuIG1ha2VJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcnVuUHV0RWZmZWN0KGVudiwgX3JlZjIsIGNiKSB7XG4gIHZhciBjaGFubmVsID0gX3JlZjIuY2hhbm5lbCxcbiAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbixcbiAgICAgIHJlc29sdmUgPSBfcmVmMi5yZXNvbHZlO1xuXG4gIC8qKlxuICAgU2NoZWR1bGUgdGhlIHB1dCBpbiBjYXNlIGFub3RoZXIgc2FnYSBpcyBob2xkaW5nIGEgbG9jay5cbiAgIFRoZSBwdXQgd2lsbCBiZSBleGVjdXRlZCBhdG9taWNhbGx5LiBpZSBuZXN0ZWQgcHV0cyB3aWxsIGV4ZWN1dGUgYWZ0ZXJcbiAgIHRoaXMgcHV0IGhhcyB0ZXJtaW5hdGVkLlxuICAgKiovXG4gIGFzYXAoZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQ7XG5cbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gKGNoYW5uZWwgPyBjaGFubmVsLnB1dCA6IGVudi5kaXNwYXRjaCkoYWN0aW9uKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY2IoZXJyb3IsIHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChyZXNvbHZlICYmIHByb21pc2UocmVzdWx0KSkge1xuICAgICAgcmVzb2x2ZVByb21pc2UocmVzdWx0LCBjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNiKHJlc3VsdCk7XG4gICAgfVxuICB9KTsgLy8gUHV0IGVmZmVjdHMgYXJlIG5vbiBjYW5jZWxsYWJsZXNcbn1cblxuZnVuY3Rpb24gcnVuVGFrZUVmZmVjdChlbnYsIF9yZWYzLCBjYikge1xuICB2YXIgX3JlZjMkY2hhbm5lbCA9IF9yZWYzLmNoYW5uZWwsXG4gICAgICBjaGFubmVsID0gX3JlZjMkY2hhbm5lbCA9PT0gdm9pZCAwID8gZW52LmNoYW5uZWwgOiBfcmVmMyRjaGFubmVsLFxuICAgICAgcGF0dGVybiA9IF9yZWYzLnBhdHRlcm4sXG4gICAgICBtYXliZSA9IF9yZWYzLm1heWJlO1xuXG4gIHZhciB0YWtlQ2IgPSBmdW5jdGlvbiB0YWtlQ2IoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgY2IoaW5wdXQsIHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0VuZChpbnB1dCkgJiYgIW1heWJlKSB7XG4gICAgICBjYihURVJNSU5BVEUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNiKGlucHV0KTtcbiAgfTtcblxuICB0cnkge1xuICAgIGNoYW5uZWwudGFrZSh0YWtlQ2IsIG5vdFVuZGVmKHBhdHRlcm4pID8gbWF0Y2hlcihwYXR0ZXJuKSA6IG51bGwpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjYihlcnIsIHRydWUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNiLmNhbmNlbCA9IHRha2VDYi5jYW5jZWw7XG59XG5cbmZ1bmN0aW9uIHJ1bkNhbGxFZmZlY3QoZW52LCBfcmVmNCwgY2IsIF9yZWY1KSB7XG4gIHZhciBjb250ZXh0ID0gX3JlZjQuY29udGV4dCxcbiAgICAgIGZuID0gX3JlZjQuZm4sXG4gICAgICBhcmdzID0gX3JlZjQuYXJncztcbiAgdmFyIHRhc2sgPSBfcmVmNS50YXNrO1xuXG4gIC8vIGNhdGNoIHN5bmNocm9ub3VzIGZhaWx1cmVzOyBzZWUgIzE1MlxuICB0cnkge1xuICAgIHZhciByZXN1bHQgPSBmbi5hcHBseShjb250ZXh0LCBhcmdzKTtcblxuICAgIGlmIChwcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgIHJlc29sdmVQcm9taXNlKHJlc3VsdCwgY2IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpdGVyYXRvcihyZXN1bHQpKSB7XG4gICAgICAvLyByZXNvbHZlIGl0ZXJhdG9yXG4gICAgICBwcm9jKGVudiwgcmVzdWx0LCB0YXNrLmNvbnRleHQsIGN1cnJlbnQsIGdldE1ldGFJbmZvKGZuKSxcbiAgICAgIC8qIGlzUm9vdCAqL1xuICAgICAgZmFsc2UsIGNiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYihyZXN1bHQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNiKGVycm9yLCB0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBydW5DUFNFZmZlY3QoZW52LCBfcmVmNiwgY2IpIHtcbiAgdmFyIGNvbnRleHQgPSBfcmVmNi5jb250ZXh0LFxuICAgICAgZm4gPSBfcmVmNi5mbixcbiAgICAgIGFyZ3MgPSBfcmVmNi5hcmdzO1xuXG4gIC8vIENQUyAoaWUgbm9kZSBzdHlsZSBmdW5jdGlvbnMpIGNhbiBkZWZpbmUgdGhlaXIgb3duIGNhbmNlbGxhdGlvbiBsb2dpY1xuICAvLyBieSBzZXR0aW5nIGNhbmNlbCBmaWVsZCBvbiB0aGUgY2JcbiAgLy8gY2F0Y2ggc3luY2hyb25vdXMgZmFpbHVyZXM7IHNlZSAjMTUyXG4gIHRyeSB7XG4gICAgdmFyIGNwc0NiID0gZnVuY3Rpb24gY3BzQ2IoZXJyLCByZXMpIHtcbiAgICAgIGlmICh1bmRlZihlcnIpKSB7XG4gICAgICAgIGNiKHJlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYihlcnIsIHRydWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmbi5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChjcHNDYikpO1xuXG4gICAgaWYgKGNwc0NiLmNhbmNlbCkge1xuICAgICAgY2IuY2FuY2VsID0gY3BzQ2IuY2FuY2VsO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjYihlcnJvciwgdHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcnVuRm9ya0VmZmVjdChlbnYsIF9yZWY3LCBjYiwgX3JlZjgpIHtcbiAgdmFyIGNvbnRleHQgPSBfcmVmNy5jb250ZXh0LFxuICAgICAgZm4gPSBfcmVmNy5mbixcbiAgICAgIGFyZ3MgPSBfcmVmNy5hcmdzLFxuICAgICAgZGV0YWNoZWQgPSBfcmVmNy5kZXRhY2hlZDtcbiAgdmFyIHBhcmVudCA9IF9yZWY4LnRhc2s7XG4gIHZhciB0YXNrSXRlcmF0b3IgPSBjcmVhdGVUYXNrSXRlcmF0b3Ioe1xuICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgZm46IGZuLFxuICAgIGFyZ3M6IGFyZ3NcbiAgfSk7XG4gIHZhciBtZXRhID0gZ2V0SXRlcmF0b3JNZXRhSW5mbyh0YXNrSXRlcmF0b3IsIGZuKTtcbiAgaW1tZWRpYXRlbHkoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGlsZCA9IHByb2MoZW52LCB0YXNrSXRlcmF0b3IsIHBhcmVudC5jb250ZXh0LCBjdXJyZW50LCBtZXRhLCBkZXRhY2hlZCwgdW5kZWZpbmVkKTtcblxuICAgIGlmIChkZXRhY2hlZCkge1xuICAgICAgY2IoY2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY2hpbGQuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgcGFyZW50LnF1ZXVlLmFkZFRhc2soY2hpbGQpO1xuICAgICAgICBjYihjaGlsZCk7XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkLmlzQWJvcnRlZCgpKSB7XG4gICAgICAgIHBhcmVudC5xdWV1ZS5hYm9ydChjaGlsZC5lcnJvcigpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pOyAvLyBGb3JrIGVmZmVjdHMgYXJlIG5vbiBjYW5jZWxsYWJsZXNcbn1cblxuZnVuY3Rpb24gcnVuSm9pbkVmZmVjdChlbnYsIHRhc2tPclRhc2tzLCBjYiwgX3JlZjkpIHtcbiAgdmFyIHRhc2sgPSBfcmVmOS50YXNrO1xuXG4gIHZhciBqb2luU2luZ2xlVGFzayA9IGZ1bmN0aW9uIGpvaW5TaW5nbGVUYXNrKHRhc2tUb0pvaW4sIGNiKSB7XG4gICAgaWYgKHRhc2tUb0pvaW4uaXNSdW5uaW5nKCkpIHtcbiAgICAgIHZhciBqb2luZXIgPSB7XG4gICAgICAgIHRhc2s6IHRhc2ssXG4gICAgICAgIGNiOiBjYlxuICAgICAgfTtcblxuICAgICAgY2IuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGFza1RvSm9pbi5pc1J1bm5pbmcoKSkgcmVtb3ZlKHRhc2tUb0pvaW4uam9pbmVycywgam9pbmVyKTtcbiAgICAgIH07XG5cbiAgICAgIHRhc2tUb0pvaW4uam9pbmVycy5wdXNoKGpvaW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0YXNrVG9Kb2luLmlzQWJvcnRlZCgpKSB7XG4gICAgICAgIGNiKHRhc2tUb0pvaW4uZXJyb3IoKSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYih0YXNrVG9Kb2luLnJlc3VsdCgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgaWYgKGFycmF5JDEodGFza09yVGFza3MpKSB7XG4gICAgaWYgKHRhc2tPclRhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2IoW10pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjaGlsZENhbGxiYWNrcyA9IGNyZWF0ZUFsbFN0eWxlQ2hpbGRDYWxsYmFja3ModGFza09yVGFza3MsIGNiKTtcbiAgICB0YXNrT3JUYXNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0LCBpKSB7XG4gICAgICBqb2luU2luZ2xlVGFzayh0LCBjaGlsZENhbGxiYWNrc1tpXSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgam9pblNpbmdsZVRhc2sodGFza09yVGFza3MsIGNiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYW5jZWxTaW5nbGVUYXNrKHRhc2tUb0NhbmNlbCkge1xuICBpZiAodGFza1RvQ2FuY2VsLmlzUnVubmluZygpKSB7XG4gICAgdGFza1RvQ2FuY2VsLmNhbmNlbCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJ1bkNhbmNlbEVmZmVjdChlbnYsIHRhc2tPclRhc2tzLCBjYiwgX3JlZjEwKSB7XG4gIHZhciB0YXNrID0gX3JlZjEwLnRhc2s7XG5cbiAgaWYgKHRhc2tPclRhc2tzID09PSBTRUxGX0NBTkNFTExBVElPTikge1xuICAgIGNhbmNlbFNpbmdsZVRhc2sodGFzayk7XG4gIH0gZWxzZSBpZiAoYXJyYXkkMSh0YXNrT3JUYXNrcykpIHtcbiAgICB0YXNrT3JUYXNrcy5mb3JFYWNoKGNhbmNlbFNpbmdsZVRhc2spO1xuICB9IGVsc2Uge1xuICAgIGNhbmNlbFNpbmdsZVRhc2sodGFza09yVGFza3MpO1xuICB9XG5cbiAgY2IoKTsgLy8gY2FuY2VsIGVmZmVjdHMgYXJlIG5vbiBjYW5jZWxsYWJsZXNcbn1cblxuZnVuY3Rpb24gcnVuQWxsRWZmZWN0KGVudiwgZWZmZWN0cywgY2IsIF9yZWYxMSkge1xuICB2YXIgZGlnZXN0RWZmZWN0ID0gX3JlZjExLmRpZ2VzdEVmZmVjdDtcbiAgdmFyIGVmZmVjdElkID0gY3VycmVudDtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhlZmZlY3RzKTtcblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBjYihhcnJheSQxKGVmZmVjdHMpID8gW10gOiB7fSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNoaWxkQ2FsbGJhY2tzID0gY3JlYXRlQWxsU3R5bGVDaGlsZENhbGxiYWNrcyhlZmZlY3RzLCBjYik7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZGlnZXN0RWZmZWN0KGVmZmVjdHNba2V5XSwgZWZmZWN0SWQsIGNoaWxkQ2FsbGJhY2tzW2tleV0sIGtleSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBydW5SYWNlRWZmZWN0KGVudiwgZWZmZWN0cywgY2IsIF9yZWYxMikge1xuICB2YXIgZGlnZXN0RWZmZWN0ID0gX3JlZjEyLmRpZ2VzdEVmZmVjdDtcbiAgdmFyIGVmZmVjdElkID0gY3VycmVudDtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhlZmZlY3RzKTtcbiAgdmFyIHJlc3BvbnNlID0gYXJyYXkkMShlZmZlY3RzKSA/IGNyZWF0ZUVtcHR5QXJyYXkoa2V5cy5sZW5ndGgpIDoge307XG4gIHZhciBjaGlsZENicyA9IHt9O1xuICB2YXIgY29tcGxldGVkID0gZmFsc2U7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGNoQ2JBdEtleSA9IGZ1bmN0aW9uIGNoQ2JBdEtleShyZXMsIGlzRXJyKSB7XG4gICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRXJyIHx8IHNob3VsZENvbXBsZXRlKHJlcykpIHtcbiAgICAgICAgLy8gUmFjZSBBdXRvIGNhbmNlbGxhdGlvblxuICAgICAgICBjYi5jYW5jZWwoKTtcbiAgICAgICAgY2IocmVzLCBpc0Vycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYi5jYW5jZWwoKTtcbiAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgcmVzcG9uc2Vba2V5XSA9IHJlcztcbiAgICAgICAgY2IocmVzcG9uc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjaENiQXRLZXkuY2FuY2VsID0gbm9vcDtcbiAgICBjaGlsZENic1trZXldID0gY2hDYkF0S2V5O1xuICB9KTtcblxuICBjYi5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gcHJldmVudHMgdW5uZWNlc3NhcnkgY2FuY2VsbGF0aW9uXG4gICAgaWYgKCFjb21wbGV0ZWQpIHtcbiAgICAgIGNvbXBsZXRlZCA9IHRydWU7XG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gY2hpbGRDYnNba2V5XS5jYW5jZWwoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkaWdlc3RFZmZlY3QoZWZmZWN0c1trZXldLCBlZmZlY3RJZCwgY2hpbGRDYnNba2V5XSwga2V5KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJ1blNlbGVjdEVmZmVjdChlbnYsIF9yZWYxMywgY2IpIHtcbiAgdmFyIHNlbGVjdG9yID0gX3JlZjEzLnNlbGVjdG9yLFxuICAgICAgYXJncyA9IF9yZWYxMy5hcmdzO1xuXG4gIHRyeSB7XG4gICAgdmFyIHN0YXRlID0gc2VsZWN0b3IuYXBwbHkodm9pZCAwLCBbZW52LmdldFN0YXRlKCldLmNvbmNhdChhcmdzKSk7XG4gICAgY2Ioc3RhdGUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNiKGVycm9yLCB0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBydW5DaGFubmVsRWZmZWN0KGVudiwgX3JlZjE0LCBjYikge1xuICB2YXIgcGF0dGVybiA9IF9yZWYxNC5wYXR0ZXJuLFxuICAgICAgYnVmZmVyID0gX3JlZjE0LmJ1ZmZlcjtcbiAgdmFyIGNoYW4gPSBjaGFubmVsKGJ1ZmZlcik7XG4gIHZhciBtYXRjaCA9IG1hdGNoZXIocGF0dGVybik7XG5cbiAgdmFyIHRha2VyID0gZnVuY3Rpb24gdGFrZXIoYWN0aW9uKSB7XG4gICAgaWYgKCFpc0VuZChhY3Rpb24pKSB7XG4gICAgICBlbnYuY2hhbm5lbC50YWtlKHRha2VyLCBtYXRjaCk7XG4gICAgfVxuXG4gICAgY2hhbi5wdXQoYWN0aW9uKTtcbiAgfTtcblxuICB2YXIgY2xvc2UgPSBjaGFuLmNsb3NlO1xuXG4gIGNoYW4uY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGFrZXIuY2FuY2VsKCk7XG4gICAgY2xvc2UoKTtcbiAgfTtcblxuICBlbnYuY2hhbm5lbC50YWtlKHRha2VyLCBtYXRjaCk7XG4gIGNiKGNoYW4pO1xufVxuXG5mdW5jdGlvbiBydW5DYW5jZWxsZWRFZmZlY3QoZW52LCBkYXRhLCBjYiwgX3JlZjE1KSB7XG4gIHZhciB0YXNrID0gX3JlZjE1LnRhc2s7XG4gIGNiKHRhc2suaXNDYW5jZWxsZWQoKSk7XG59XG5cbmZ1bmN0aW9uIHJ1bkZsdXNoRWZmZWN0KGVudiwgY2hhbm5lbCwgY2IpIHtcbiAgY2hhbm5lbC5mbHVzaChjYik7XG59XG5cbmZ1bmN0aW9uIHJ1bkdldENvbnRleHRFZmZlY3QoZW52LCBwcm9wLCBjYiwgX3JlZjE2KSB7XG4gIHZhciB0YXNrID0gX3JlZjE2LnRhc2s7XG4gIGNiKHRhc2suY29udGV4dFtwcm9wXSk7XG59XG5cbmZ1bmN0aW9uIHJ1blNldENvbnRleHRFZmZlY3QoZW52LCBwcm9wcywgY2IsIF9yZWYxNykge1xuICB2YXIgdGFzayA9IF9yZWYxNy50YXNrO1xuICBhc3NpZ25XaXRoU3ltYm9scyh0YXNrLmNvbnRleHQsIHByb3BzKTtcbiAgY2IoKTtcbn1cblxudmFyIGVmZmVjdFJ1bm5lck1hcCA9IChfZWZmZWN0UnVubmVyTWFwID0ge30sIF9lZmZlY3RSdW5uZXJNYXBbVEFLRV0gPSBydW5UYWtlRWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW1BVVF0gPSBydW5QdXRFZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXBbQUxMXSA9IHJ1bkFsbEVmZmVjdCwgX2VmZmVjdFJ1bm5lck1hcFtSQUNFXSA9IHJ1blJhY2VFZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXBbQ0FMTF0gPSBydW5DYWxsRWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW0NQU10gPSBydW5DUFNFZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXBbRk9SS10gPSBydW5Gb3JrRWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW0pPSU5dID0gcnVuSm9pbkVmZmVjdCwgX2VmZmVjdFJ1bm5lck1hcFtDQU5DRUwkMV0gPSBydW5DYW5jZWxFZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXBbU0VMRUNUXSA9IHJ1blNlbGVjdEVmZmVjdCwgX2VmZmVjdFJ1bm5lck1hcFtBQ1RJT05fQ0hBTk5FTF0gPSBydW5DaGFubmVsRWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW0NBTkNFTExFRCQxXSA9IHJ1bkNhbmNlbGxlZEVmZmVjdCwgX2VmZmVjdFJ1bm5lck1hcFtGTFVTSF0gPSBydW5GbHVzaEVmZmVjdCwgX2VmZmVjdFJ1bm5lck1hcFtHRVRfQ09OVEVYVF0gPSBydW5HZXRDb250ZXh0RWZmZWN0LCBfZWZmZWN0UnVubmVyTWFwW1NFVF9DT05URVhUXSA9IHJ1blNldENvbnRleHRFZmZlY3QsIF9lZmZlY3RSdW5uZXJNYXApO1xuXG4vKipcbiBVc2VkIHRvIHRyYWNrIGEgcGFyZW50IHRhc2sgYW5kIGl0cyBmb3Jrc1xuIEluIHRoZSBmb3JrIG1vZGVsLCBmb3JrZWQgdGFza3MgYXJlIGF0dGFjaGVkIGJ5IGRlZmF1bHQgdG8gdGhlaXIgcGFyZW50XG4gV2UgbW9kZWwgdGhpcyB1c2luZyB0aGUgY29uY2VwdCBvZiBQYXJlbnQgdGFzayAmJiBtYWluIFRhc2tcbiBtYWluIHRhc2sgaXMgdGhlIG1haW4gZmxvdyBvZiB0aGUgY3VycmVudCBHZW5lcmF0b3IsIHRoZSBwYXJlbnQgdGFza3MgaXMgdGhlXG4gYWdncmVnYXRpb24gb2YgdGhlIG1haW4gdGFza3MgKyBhbGwgaXRzIGZvcmtlZCB0YXNrcy5cbiBUaHVzIHRoZSB3aG9sZSBtb2RlbCByZXByZXNlbnRzIGFuIGV4ZWN1dGlvbiB0cmVlIHdpdGggbXVsdGlwbGUgYnJhbmNoZXMgKHZzIHRoZVxuIGxpbmVhciBleGVjdXRpb24gdHJlZSBpbiBzZXF1ZW50aWFsIChub24gcGFyYWxsZWwpIHByb2dyYW1taW5nKVxuXG4gQSBwYXJlbnQgdGFza3MgaGFzIHRoZSBmb2xsb3dpbmcgc2VtYW50aWNzXG4gLSBJdCBjb21wbGV0ZXMgaWYgYWxsIGl0cyBmb3JrcyBlaXRoZXIgY29tcGxldGUgb3IgYWxsIGNhbmNlbGxlZFxuIC0gSWYgaXQncyBjYW5jZWxsZWQsIGFsbCBmb3JrcyBhcmUgY2FuY2VsbGVkIGFzIHdlbGxcbiAtIEl0IGFib3J0cyBpZiBhbnkgdW5jYXVnaHQgZXJyb3IgYnViYmxlcyB1cCBmcm9tIGZvcmtzXG4gLSBJZiBpdCBjb21wbGV0ZXMsIHRoZSByZXR1cm4gdmFsdWUgaXMgdGhlIG9uZSByZXR1cm5lZCBieSB0aGUgbWFpbiB0YXNrXG4gKiovXG5cbmZ1bmN0aW9uIGZvcmtRdWV1ZShtYWluVGFzaywgb25BYm9ydCwgY29udCkge1xuICB2YXIgdGFza3MgPSBbXTtcbiAgdmFyIHJlc3VsdDtcbiAgdmFyIGNvbXBsZXRlZCA9IGZhbHNlO1xuICBhZGRUYXNrKG1haW5UYXNrKTtcblxuICB2YXIgZ2V0VGFza3MgPSBmdW5jdGlvbiBnZXRUYXNrcygpIHtcbiAgICByZXR1cm4gdGFza3M7XG4gIH07XG5cbiAgZnVuY3Rpb24gYWJvcnQoZXJyKSB7XG4gICAgb25BYm9ydCgpO1xuICAgIGNhbmNlbEFsbCgpO1xuICAgIGNvbnQoZXJyLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFRhc2sodGFzaykge1xuICAgIHRhc2tzLnB1c2godGFzayk7XG5cbiAgICB0YXNrLmNvbnQgPSBmdW5jdGlvbiAocmVzLCBpc0Vycikge1xuICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlbW92ZSh0YXNrcywgdGFzayk7XG4gICAgICB0YXNrLmNvbnQgPSBub29wO1xuXG4gICAgICBpZiAoaXNFcnIpIHtcbiAgICAgICAgYWJvcnQocmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0YXNrID09PSBtYWluVGFzaykge1xuICAgICAgICAgIHJlc3VsdCA9IHJlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICBjb250KHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsQWxsKCkge1xuICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb21wbGV0ZWQgPSB0cnVlO1xuICAgIHRhc2tzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcbiAgICAgIHQuY29udCA9IG5vb3A7XG4gICAgICB0LmNhbmNlbCgpO1xuICAgIH0pO1xuICAgIHRhc2tzID0gW107XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFkZFRhc2s6IGFkZFRhc2ssXG4gICAgY2FuY2VsQWxsOiBjYW5jZWxBbGwsXG4gICAgYWJvcnQ6IGFib3J0LFxuICAgIGdldFRhc2tzOiBnZXRUYXNrc1xuICB9O1xufVxuXG4vLyB0aGVyZSBjYW4gYmUgb25seSBhIHNpbmdsZSBzYWdhIGVycm9yIGNyZWF0ZWQgYXQgYW55IGdpdmVuIG1vbWVudFxuXG5mdW5jdGlvbiBmb3JtYXRMb2NhdGlvbihmaWxlTmFtZSwgbGluZU51bWJlcikge1xuICByZXR1cm4gZmlsZU5hbWUgKyBcIj9cIiArIGxpbmVOdW1iZXI7XG59XG5cbmZ1bmN0aW9uIGVmZmVjdExvY2F0aW9uQXNTdHJpbmcoZWZmZWN0KSB7XG4gIHZhciBsb2NhdGlvbiA9IGdldExvY2F0aW9uKGVmZmVjdCk7XG5cbiAgaWYgKGxvY2F0aW9uKSB7XG4gICAgdmFyIGNvZGUgPSBsb2NhdGlvbi5jb2RlLFxuICAgICAgICBmaWxlTmFtZSA9IGxvY2F0aW9uLmZpbGVOYW1lLFxuICAgICAgICBsaW5lTnVtYmVyID0gbG9jYXRpb24ubGluZU51bWJlcjtcbiAgICB2YXIgc291cmNlID0gY29kZSArIFwiICBcIiArIGZvcm1hdExvY2F0aW9uKGZpbGVOYW1lLCBsaW5lTnVtYmVyKTtcbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBzYWdhTG9jYXRpb25Bc1N0cmluZyhzYWdhTWV0YSkge1xuICB2YXIgbmFtZSA9IHNhZ2FNZXRhLm5hbWUsXG4gICAgICBsb2NhdGlvbiA9IHNhZ2FNZXRhLmxvY2F0aW9uO1xuXG4gIGlmIChsb2NhdGlvbikge1xuICAgIHJldHVybiBuYW1lICsgXCIgIFwiICsgZm9ybWF0TG9jYXRpb24obG9jYXRpb24uZmlsZU5hbWUsIGxvY2F0aW9uLmxpbmVOdW1iZXIpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWU7XG59XG5cbmZ1bmN0aW9uIGNhbmNlbGxlZFRhc2tzQXNTdHJpbmcoc2FnYVN0YWNrKSB7XG4gIHZhciBjYW5jZWxsZWRUYXNrcyA9IGZsYXRNYXAoZnVuY3Rpb24gKGkpIHtcbiAgICByZXR1cm4gaS5jYW5jZWxsZWRUYXNrcztcbiAgfSwgc2FnYVN0YWNrKTtcblxuICBpZiAoIWNhbmNlbGxlZFRhc2tzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHJldHVybiBbJ1Rhc2tzIGNhbmNlbGxlZCBkdWUgdG8gZXJyb3I6J10uY29uY2F0KGNhbmNlbGxlZFRhc2tzKS5qb2luKCdcXG4nKTtcbn1cblxudmFyIGNyYXNoZWRFZmZlY3QgPSBudWxsO1xudmFyIHNhZ2FTdGFjayA9IFtdO1xudmFyIGFkZFNhZ2FGcmFtZSA9IGZ1bmN0aW9uIGFkZFNhZ2FGcmFtZShmcmFtZSkge1xuICBmcmFtZS5jcmFzaGVkRWZmZWN0ID0gY3Jhc2hlZEVmZmVjdDtcbiAgc2FnYVN0YWNrLnB1c2goZnJhbWUpO1xufTtcbnZhciBjbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICBjcmFzaGVkRWZmZWN0ID0gbnVsbDtcbiAgc2FnYVN0YWNrLmxlbmd0aCA9IDA7XG59OyAvLyB0aGlzIHNldHMgY3Jhc2hlZCBlZmZlY3QgZm9yIHRoZSBzb29uLXRvLWJlLXJlcG9ydGVkIHNhZ2EgZnJhbWVcbi8vIHRoaXMgc2xpZ2h0bHkgc3RyZWF0Y2hlcyB0aGUgc2luZ2xldG9uIG5hdHVyZSBvZiB0aGlzIG1vZHVsZSBpbnRvIHdyb25nIGRpcmVjdGlvblxuLy8gYXMgaXQncyBldmVuIGxlc3Mgb2J2aW91cyB3aGF0J3MgdGhlIGRhdGEgZmxvdyBoZXJlLCBidXQgaXQgaXMgd2hhdCBpdCBpcyBmb3Igbm93XG5cbnZhciBzZXRDcmFzaGVkRWZmZWN0ID0gZnVuY3Rpb24gc2V0Q3Jhc2hlZEVmZmVjdChlZmZlY3QpIHtcbiAgY3Jhc2hlZEVmZmVjdCA9IGVmZmVjdDtcbn07XG4vKipcbiAgQHJldHVybnMge3N0cmluZ31cblxuICBAZXhhbXBsZVxuICBUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gdGFzayBlcnJvckluUHV0U2FnYSB7cGF0aFRvRmlsZX1cbiAgd2hlbiBleGVjdXRpbmcgZWZmZWN0IHB1dCh7dHlwZTogJ1JFRFVDRVJfQUNUSU9OX0VSUk9SX0lOX1BVVCd9KSB7cGF0aFRvRmlsZX1cbiAgICAgIGNyZWF0ZWQgYnkgZmV0Y2hTYWdhIHtwYXRoVG9GaWxlfVxuICAgICAgY3JlYXRlZCBieSByb290U2FnYSB7cGF0aFRvRmlsZX1cbiovXG5cbnZhciB0b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICB2YXIgZmlyc3RTYWdhID0gc2FnYVN0YWNrWzBdLFxuICAgICAgb3RoZXJTYWdhcyA9IHNhZ2FTdGFjay5zbGljZSgxKTtcbiAgdmFyIGNyYXNoZWRFZmZlY3RMb2NhdGlvbiA9IGZpcnN0U2FnYS5jcmFzaGVkRWZmZWN0ID8gZWZmZWN0TG9jYXRpb25Bc1N0cmluZyhmaXJzdFNhZ2EuY3Jhc2hlZEVmZmVjdCkgOiBudWxsO1xuICB2YXIgZXJyb3JNZXNzYWdlID0gXCJUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gdGFzayBcIiArIHNhZ2FMb2NhdGlvbkFzU3RyaW5nKGZpcnN0U2FnYS5tZXRhKSArIChjcmFzaGVkRWZmZWN0TG9jYXRpb24gPyBcIiBcXG4gd2hlbiBleGVjdXRpbmcgZWZmZWN0IFwiICsgY3Jhc2hlZEVmZmVjdExvY2F0aW9uIDogJycpO1xuICByZXR1cm4gW2Vycm9yTWVzc2FnZV0uY29uY2F0KG90aGVyU2FnYXMubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgcmV0dXJuIFwiICAgIGNyZWF0ZWQgYnkgXCIgKyBzYWdhTG9jYXRpb25Bc1N0cmluZyhzLm1ldGEpO1xuICB9KSwgW2NhbmNlbGxlZFRhc2tzQXNTdHJpbmcoc2FnYVN0YWNrKV0pLmpvaW4oJ1xcbicpO1xufTtcblxuZnVuY3Rpb24gbmV3VGFzayhlbnYsIG1haW5UYXNrLCBwYXJlbnRDb250ZXh0LCBwYXJlbnRFZmZlY3RJZCwgbWV0YSwgaXNSb290LCBjb250KSB7XG4gIHZhciBfdGFzaztcblxuICBpZiAoY29udCA9PT0gdm9pZCAwKSB7XG4gICAgY29udCA9IG5vb3A7XG4gIH1cblxuICB2YXIgc3RhdHVzID0gUlVOTklORztcbiAgdmFyIHRhc2tSZXN1bHQ7XG4gIHZhciB0YXNrRXJyb3I7XG4gIHZhciBkZWZlcnJlZEVuZCA9IG51bGw7XG4gIHZhciBjYW5jZWxsZWREdWVUb0Vycm9yVGFza3MgPSBbXTtcbiAgdmFyIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKHBhcmVudENvbnRleHQpO1xuICB2YXIgcXVldWUgPSBmb3JrUXVldWUobWFpblRhc2ssIGZ1bmN0aW9uIG9uQWJvcnQoKSB7XG4gICAgY2FuY2VsbGVkRHVlVG9FcnJvclRhc2tzLnB1c2guYXBwbHkoY2FuY2VsbGVkRHVlVG9FcnJvclRhc2tzLCBxdWV1ZS5nZXRUYXNrcygpLm1hcChmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIHQubWV0YS5uYW1lO1xuICAgIH0pKTtcbiAgfSwgZW5kKTtcbiAgLyoqXG4gICBUaGlzIG1heSBiZSBjYWxsZWQgYnkgYSBwYXJlbnQgZ2VuZXJhdG9yIHRvIHRyaWdnZXIvcHJvcGFnYXRlIGNhbmNlbGxhdGlvblxuICAgY2FuY2VsIGFsbCBwZW5kaW5nIHRhc2tzIChpbmNsdWRpbmcgdGhlIG1haW4gdGFzayksIHRoZW4gZW5kIHRoZSBjdXJyZW50IHRhc2suXG4gICAgQ2FuY2VsbGF0aW9uIHByb3BhZ2F0ZXMgZG93biB0byB0aGUgd2hvbGUgZXhlY3V0aW9uIHRyZWUgaGVsZCBieSB0aGlzIFBhcmVudCB0YXNrXG4gICBJdCdzIGFsc28gcHJvcGFnYXRlZCB0byBhbGwgam9pbmVycyBvZiB0aGlzIHRhc2sgYW5kIHRoZWlyIGV4ZWN1dGlvbiB0cmVlL2pvaW5lcnNcbiAgICBDYW5jZWxsYXRpb24gaXMgbm9vcCBmb3IgdGVybWluYXRlZC9DYW5jZWxsZWQgdGFza3MgdGFza3NcbiAgICoqL1xuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAoc3RhdHVzID09PSBSVU5OSU5HKSB7XG4gICAgICAvLyBTZXR0aW5nIHN0YXR1cyB0byBDQU5DRUxMRUQgZG9lcyBub3QgbmVjZXNzYXJpbHkgbWVhbiB0aGF0IHRoZSB0YXNrL2l0ZXJhdG9ycyBhcmUgc3RvcHBlZFxuICAgICAgLy8gZWZmZWN0cyBpbiB0aGUgaXRlcmF0b3IncyBmaW5hbGx5IGJsb2NrIHdpbGwgc3RpbGwgYmUgZXhlY3V0ZWRcbiAgICAgIHN0YXR1cyA9IENBTkNFTExFRDtcbiAgICAgIHF1ZXVlLmNhbmNlbEFsbCgpOyAvLyBFbmRpbmcgd2l0aCBhIFRBU0tfQ0FOQ0VMIHdpbGwgcHJvcGFnYXRlIHRoZSBDYW5jZWxsYXRpb24gdG8gYWxsIGpvaW5lcnNcblxuICAgICAgZW5kKFRBU0tfQ0FOQ0VMLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW5kKHJlc3VsdCwgaXNFcnIpIHtcbiAgICBpZiAoIWlzRXJyKSB7XG4gICAgICAvLyBUaGUgc3RhdHVzIGhlcmUgbWF5IGJlIFJVTk5JTkcgb3IgQ0FOQ0VMTEVEXG4gICAgICAvLyBJZiB0aGUgc3RhdHVzIGlzIENBTkNFTExFRCwgdGhlbiB3ZSBkbyBub3QgbmVlZCB0byBjaGFuZ2UgaXQgaGVyZVxuICAgICAgaWYgKHJlc3VsdCA9PT0gVEFTS19DQU5DRUwpIHtcbiAgICAgICAgc3RhdHVzID0gQ0FOQ0VMTEVEO1xuICAgICAgfSBlbHNlIGlmIChzdGF0dXMgIT09IENBTkNFTExFRCkge1xuICAgICAgICBzdGF0dXMgPSBET05FO1xuICAgICAgfVxuXG4gICAgICB0YXNrUmVzdWx0ID0gcmVzdWx0O1xuICAgICAgZGVmZXJyZWRFbmQgJiYgZGVmZXJyZWRFbmQucmVzb2x2ZShyZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0dXMgPSBBQk9SVEVEO1xuICAgICAgYWRkU2FnYUZyYW1lKHtcbiAgICAgICAgbWV0YTogbWV0YSxcbiAgICAgICAgY2FuY2VsbGVkVGFza3M6IGNhbmNlbGxlZER1ZVRvRXJyb3JUYXNrc1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0YXNrLmlzUm9vdCkge1xuICAgICAgICB2YXIgc2FnYVN0YWNrID0gdG9TdHJpbmcoKTsgLy8gd2UndmUgZHVtcGVkIHRoZSBzYWdhIHN0YWNrIHRvIHN0cmluZyBhbmQgYXJlIHBhc3NpbmcgaXQgdG8gdXNlcidzIGNvZGVcbiAgICAgICAgLy8gd2Uga25vdyB0aGF0IGl0IHdvbid0IGJlIG5lZWRlZCBhbnltb3JlIGFuZCB3ZSBuZWVkIHRvIGNsZWFyIGl0XG5cbiAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgZW52Lm9uRXJyb3IocmVzdWx0LCB7XG4gICAgICAgICAgc2FnYVN0YWNrOiBzYWdhU3RhY2tcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRhc2tFcnJvciA9IHJlc3VsdDtcbiAgICAgIGRlZmVycmVkRW5kICYmIGRlZmVycmVkRW5kLnJlamVjdChyZXN1bHQpO1xuICAgIH1cblxuICAgIHRhc2suY29udChyZXN1bHQsIGlzRXJyKTtcbiAgICB0YXNrLmpvaW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoam9pbmVyKSB7XG4gICAgICBqb2luZXIuY2IocmVzdWx0LCBpc0Vycik7XG4gICAgfSk7XG4gICAgdGFzay5qb2luZXJzID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldENvbnRleHQocHJvcHMpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY2hlY2socHJvcHMsIG9iamVjdCwgY3JlYXRlU2V0Q29udGV4dFdhcm5pbmcoJ3Rhc2snLCBwcm9wcykpO1xuICAgIH1cblxuICAgIGFzc2lnbldpdGhTeW1ib2xzKGNvbnRleHQsIHByb3BzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvUHJvbWlzZSgpIHtcbiAgICBpZiAoZGVmZXJyZWRFbmQpIHtcbiAgICAgIHJldHVybiBkZWZlcnJlZEVuZC5wcm9taXNlO1xuICAgIH1cblxuICAgIGRlZmVycmVkRW5kID0gZGVmZXJyZWQoKTtcblxuICAgIGlmIChzdGF0dXMgPT09IEFCT1JURUQpIHtcbiAgICAgIGRlZmVycmVkRW5kLnJlamVjdCh0YXNrRXJyb3IpO1xuICAgIH0gZWxzZSBpZiAoc3RhdHVzICE9PSBSVU5OSU5HKSB7XG4gICAgICBkZWZlcnJlZEVuZC5yZXNvbHZlKHRhc2tSZXN1bHQpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZlcnJlZEVuZC5wcm9taXNlO1xuICB9XG5cbiAgdmFyIHRhc2sgPSAoX3Rhc2sgPSB7fSwgX3Rhc2tbVEFTS10gPSB0cnVlLCBfdGFzay5pZCA9IHBhcmVudEVmZmVjdElkLCBfdGFzay5tZXRhID0gbWV0YSwgX3Rhc2suaXNSb290ID0gaXNSb290LCBfdGFzay5jb250ZXh0ID0gY29udGV4dCwgX3Rhc2suam9pbmVycyA9IFtdLCBfdGFzay5xdWV1ZSA9IHF1ZXVlLCBfdGFzay5jYW5jZWwgPSBjYW5jZWwsIF90YXNrLmNvbnQgPSBjb250LCBfdGFzay5lbmQgPSBlbmQsIF90YXNrLnNldENvbnRleHQgPSBzZXRDb250ZXh0LCBfdGFzay50b1Byb21pc2UgPSB0b1Byb21pc2UsIF90YXNrLmlzUnVubmluZyA9IGZ1bmN0aW9uIGlzUnVubmluZygpIHtcbiAgICByZXR1cm4gc3RhdHVzID09PSBSVU5OSU5HO1xuICB9LCBfdGFzay5pc0NhbmNlbGxlZCA9IGZ1bmN0aW9uIGlzQ2FuY2VsbGVkKCkge1xuICAgIHJldHVybiBzdGF0dXMgPT09IENBTkNFTExFRCB8fCBzdGF0dXMgPT09IFJVTk5JTkcgJiYgbWFpblRhc2suc3RhdHVzID09PSBDQU5DRUxMRUQ7XG4gIH0sIF90YXNrLmlzQWJvcnRlZCA9IGZ1bmN0aW9uIGlzQWJvcnRlZCgpIHtcbiAgICByZXR1cm4gc3RhdHVzID09PSBBQk9SVEVEO1xuICB9LCBfdGFzay5yZXN1bHQgPSBmdW5jdGlvbiByZXN1bHQoKSB7XG4gICAgcmV0dXJuIHRhc2tSZXN1bHQ7XG4gIH0sIF90YXNrLmVycm9yID0gZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgcmV0dXJuIHRhc2tFcnJvcjtcbiAgfSwgX3Rhc2spO1xuICByZXR1cm4gdGFzaztcbn1cblxuZnVuY3Rpb24gcHJvYyhlbnYsIGl0ZXJhdG9yJDEsIHBhcmVudENvbnRleHQsIHBhcmVudEVmZmVjdElkLCBtZXRhLCBpc1Jvb3QsIGNvbnQpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaXRlcmF0b3IkMVthc3luY0l0ZXJhdG9yU3ltYm9sXSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInJlZHV4LXNhZ2EgZG9lc24ndCBzdXBwb3J0IGFzeW5jIGdlbmVyYXRvcnMsIHBsZWFzZSB1c2Ugb25seSByZWd1bGFyIG9uZXNcIik7XG4gIH1cblxuICB2YXIgZmluYWxSdW5FZmZlY3QgPSBlbnYuZmluYWxpemVSdW5FZmZlY3QocnVuRWZmZWN0KTtcbiAgLyoqXG4gICAgVHJhY2tzIHRoZSBjdXJyZW50IGVmZmVjdCBjYW5jZWxsYXRpb25cbiAgICBFYWNoIHRpbWUgdGhlIGdlbmVyYXRvciBwcm9ncmVzc2VzLiBjYWxsaW5nIHJ1bkVmZmVjdCB3aWxsIHNldCBhIG5ldyB2YWx1ZVxuICAgIG9uIGl0LiBJdCBhbGxvd3MgcHJvcGFnYXRpbmcgY2FuY2VsbGF0aW9uIHRvIGNoaWxkIGVmZmVjdHNcbiAgKiovXG5cbiAgbmV4dC5jYW5jZWwgPSBub29wO1xuICAvKiogQ3JlYXRlcyBhIG1haW4gdGFzayB0byB0cmFjayB0aGUgbWFpbiBmbG93ICovXG5cbiAgdmFyIG1haW5UYXNrID0ge1xuICAgIG1ldGE6IG1ldGEsXG4gICAgY2FuY2VsOiBjYW5jZWxNYWluLFxuICAgIHN0YXR1czogUlVOTklOR1xuICB9O1xuICAvKipcbiAgIENyZWF0ZXMgYSBuZXcgdGFzayBkZXNjcmlwdG9yIGZvciB0aGlzIGdlbmVyYXRvci5cbiAgIEEgdGFzayBpcyB0aGUgYWdncmVnYXRpb24gb2YgaXQncyBtYWluVGFzayBhbmQgYWxsIGl0J3MgZm9ya2VkIHRhc2tzLlxuICAgKiovXG5cbiAgdmFyIHRhc2sgPSBuZXdUYXNrKGVudiwgbWFpblRhc2ssIHBhcmVudENvbnRleHQsIHBhcmVudEVmZmVjdElkLCBtZXRhLCBpc1Jvb3QsIGNvbnQpO1xuICB2YXIgZXhlY3V0aW5nQ29udGV4dCA9IHtcbiAgICB0YXNrOiB0YXNrLFxuICAgIGRpZ2VzdEVmZmVjdDogZGlnZXN0RWZmZWN0XG4gIH07XG4gIC8qKlxuICAgIGNhbmNlbGxhdGlvbiBvZiB0aGUgbWFpbiB0YXNrLiBXZSdsbCBzaW1wbHkgcmVzdW1lIHRoZSBHZW5lcmF0b3Igd2l0aCBhIFRBU0tfQ0FOQ0VMXG4gICoqL1xuXG4gIGZ1bmN0aW9uIGNhbmNlbE1haW4oKSB7XG4gICAgaWYgKG1haW5UYXNrLnN0YXR1cyA9PT0gUlVOTklORykge1xuICAgICAgbWFpblRhc2suc3RhdHVzID0gQ0FOQ0VMTEVEO1xuICAgICAgbmV4dChUQVNLX0NBTkNFTCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgIGF0dGFjaGVzIGNhbmNlbGxhdGlvbiBsb2dpYyB0byB0aGlzIHRhc2sncyBjb250aW51YXRpb25cbiAgICB0aGlzIHdpbGwgcGVybWl0IGNhbmNlbGxhdGlvbiB0byBwcm9wYWdhdGUgZG93biB0aGUgY2FsbCBjaGFpblxuICAqKi9cblxuXG4gIGlmIChjb250KSB7XG4gICAgY29udC5jYW5jZWwgPSB0YXNrLmNhbmNlbDtcbiAgfSAvLyBraWNrcyB1cCB0aGUgZ2VuZXJhdG9yXG5cblxuICBuZXh0KCk7IC8vIHRoZW4gcmV0dXJuIHRoZSB0YXNrIGRlc2NyaXB0b3IgdG8gdGhlIGNhbGxlclxuXG4gIHJldHVybiB0YXNrO1xuICAvKipcbiAgICogVGhpcyBpcyB0aGUgZ2VuZXJhdG9yIGRyaXZlclxuICAgKiBJdCdzIGEgcmVjdXJzaXZlIGFzeW5jL2NvbnRpbnVhdGlvbiBmdW5jdGlvbiB3aGljaCBjYWxscyBpdHNlbGZcbiAgICogdW50aWwgdGhlIGdlbmVyYXRvciB0ZXJtaW5hdGVzIG9yIHRocm93c1xuICAgKiBAcGFyYW0ge2ludGVybmFsIGNvbW1hbmRzKFRBU0tfQ0FOQ0VMIHwgVEVSTUlOQVRFKSB8IGFueX0gYXJnIC0gdmFsdWUsIGdlbmVyYXRvciB3aWxsIGJlIHJlc3VtZWQgd2l0aC5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc0VyciAtIHRoZSBmbGFnIHNob3dzIGlmIGVmZmVjdCBmaW5pc2hlZCB3aXRoIGFuIGVycm9yXG4gICAqXG4gICAqIHJlY2VpdmVzIGVpdGhlciAoY29tbWFuZCB8IGVmZmVjdCByZXN1bHQsIGZhbHNlKSBvciAoYW55IHRocm93biB0aGluZywgdHJ1ZSlcbiAgICovXG5cbiAgZnVuY3Rpb24gbmV4dChhcmcsIGlzRXJyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGlmIChpc0Vycikge1xuICAgICAgICByZXN1bHQgPSBpdGVyYXRvciQxLnRocm93KGFyZyk7IC8vIHVzZXIgaGFuZGxlZCB0aGUgZXJyb3IsIHdlIGNhbiBjbGVhciBib29ra2VwdCB2YWx1ZXNcblxuICAgICAgICBjbGVhcigpO1xuICAgICAgfSBlbHNlIGlmIChzaG91bGRDYW5jZWwoYXJnKSkge1xuICAgICAgICAvKipcbiAgICAgICAgICBnZXR0aW5nIFRBU0tfQ0FOQ0VMIGF1dG9tYXRpY2FsbHkgY2FuY2VscyB0aGUgbWFpbiB0YXNrXG4gICAgICAgICAgV2UgY2FuIGdldCB0aGlzIHZhbHVlIGhlcmVcbiAgICAgICAgICAgLSBCeSBjYW5jZWxsaW5nIHRoZSBwYXJlbnQgdGFzayBtYW51YWxseVxuICAgICAgICAgIC0gQnkgam9pbmluZyBhIENhbmNlbGxlZCB0YXNrXG4gICAgICAgICoqL1xuICAgICAgICBtYWluVGFzay5zdGF0dXMgPSBDQU5DRUxMRUQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgIENhbmNlbHMgdGhlIGN1cnJlbnQgZWZmZWN0OyB0aGlzIHdpbGwgcHJvcGFnYXRlIHRoZSBjYW5jZWxsYXRpb24gZG93biB0byBhbnkgY2FsbGVkIHRhc2tzXG4gICAgICAgICoqL1xuXG4gICAgICAgIG5leHQuY2FuY2VsKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgIElmIHRoaXMgR2VuZXJhdG9yIGhhcyBhIGByZXR1cm5gIG1ldGhvZCB0aGVuIGludm9rZXMgaXRcbiAgICAgICAgICBUaGlzIHdpbGwganVtcCB0byB0aGUgZmluYWxseSBibG9ja1xuICAgICAgICAqKi9cblxuICAgICAgICByZXN1bHQgPSBmdW5jKGl0ZXJhdG9yJDEucmV0dXJuKSA/IGl0ZXJhdG9yJDEucmV0dXJuKFRBU0tfQ0FOQ0VMKSA6IHtcbiAgICAgICAgICBkb25lOiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiBUQVNLX0NBTkNFTFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChzaG91bGRUZXJtaW5hdGUoYXJnKSkge1xuICAgICAgICAvLyBXZSBnZXQgVEVSTUlOQVRFIGZsYWcsIGkuZS4gYnkgdGFraW5nIGZyb20gYSBjaGFubmVsIHRoYXQgZW5kZWQgdXNpbmcgYHRha2VgIChhbmQgbm90IGB0YWtlbWAgdXNlZCB0byB0cmFwIEVuZCBvZiBjaGFubmVscylcbiAgICAgICAgcmVzdWx0ID0gZnVuYyhpdGVyYXRvciQxLnJldHVybikgPyBpdGVyYXRvciQxLnJldHVybigpIDoge1xuICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yJDEubmV4dChhcmcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJlc3VsdC5kb25lKSB7XG4gICAgICAgIGRpZ2VzdEVmZmVjdChyZXN1bHQudmFsdWUsIHBhcmVudEVmZmVjdElkLCBuZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgIFRoaXMgR2VuZXJhdG9yIGhhcyBlbmRlZCwgdGVybWluYXRlIHRoZSBtYWluIHRhc2sgYW5kIG5vdGlmeSB0aGUgZm9yayBxdWV1ZVxuICAgICAgICAqKi9cbiAgICAgICAgaWYgKG1haW5UYXNrLnN0YXR1cyAhPT0gQ0FOQ0VMTEVEKSB7XG4gICAgICAgICAgbWFpblRhc2suc3RhdHVzID0gRE9ORTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1haW5UYXNrLmNvbnQocmVzdWx0LnZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKG1haW5UYXNrLnN0YXR1cyA9PT0gQ0FOQ0VMTEVEKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuXG4gICAgICBtYWluVGFzay5zdGF0dXMgPSBBQk9SVEVEO1xuICAgICAgbWFpblRhc2suY29udChlcnJvciwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcnVuRWZmZWN0KGVmZmVjdCwgZWZmZWN0SWQsIGN1cnJDYikge1xuICAgIC8qKlxuICAgICAgZWFjaCBlZmZlY3QgcnVubmVyIG11c3QgYXR0YWNoIGl0cyBvd24gbG9naWMgb2YgY2FuY2VsbGF0aW9uIHRvIHRoZSBwcm92aWRlZCBjYWxsYmFja1xuICAgICAgaXQgYWxsb3dzIHRoaXMgZ2VuZXJhdG9yIHRvIHByb3BhZ2F0ZSBjYW5jZWxsYXRpb24gZG93bndhcmQuXG4gICAgICAgQVRURU5USU9OISBlZmZlY3QgcnVubmVycyBtdXN0IHNldHVwIHRoZSBjYW5jZWwgbG9naWMgYnkgc2V0dGluZyBjYi5jYW5jZWwgPSBbY2FuY2VsTWV0aG9kXVxuICAgICAgQW5kIHRoZSBzZXR1cCBtdXN0IG9jY3VyIGJlZm9yZSBjYWxsaW5nIHRoZSBjYWxsYmFja1xuICAgICAgIFRoaXMgaXMgYSBzb3J0IG9mIGludmVyc2lvbiBvZiBjb250cm9sOiBjYWxsZWQgYXN5bmMgZnVuY3Rpb25zIGFyZSByZXNwb25zaWJsZVxuICAgICAgb2YgY29tcGxldGluZyB0aGUgZmxvdyBieSBjYWxsaW5nIHRoZSBwcm92aWRlZCBjb250aW51YXRpb247IHdoaWxlIGNhbGxlciBmdW5jdGlvbnNcbiAgICAgIGFyZSByZXNwb25zaWJsZSBmb3IgYWJvcnRpbmcgdGhlIGN1cnJlbnQgZmxvdyBieSBjYWxsaW5nIHRoZSBhdHRhY2hlZCBjYW5jZWwgZnVuY3Rpb25cbiAgICAgICBMaWJyYXJ5IHVzZXJzIGNhbiBhdHRhY2ggdGhlaXIgb3duIGNhbmNlbGxhdGlvbiBsb2dpYyB0byBwcm9taXNlcyBieSBkZWZpbmluZyBhXG4gICAgICBwcm9taXNlW0NBTkNFTF0gbWV0aG9kIGluIHRoZWlyIHJldHVybmVkIHByb21pc2VzXG4gICAgICBBVFRFTlRJT04hIGNhbGxpbmcgY2FuY2VsIG11c3QgaGF2ZSBubyBlZmZlY3Qgb24gYW4gYWxyZWFkeSBjb21wbGV0ZWQgb3IgY2FuY2VsbGVkIGVmZmVjdFxuICAgICoqL1xuICAgIGlmIChwcm9taXNlKGVmZmVjdCkpIHtcbiAgICAgIHJlc29sdmVQcm9taXNlKGVmZmVjdCwgY3VyckNiKTtcbiAgICB9IGVsc2UgaWYgKGl0ZXJhdG9yKGVmZmVjdCkpIHtcbiAgICAgIC8vIHJlc29sdmUgaXRlcmF0b3JcbiAgICAgIHByb2MoZW52LCBlZmZlY3QsIHRhc2suY29udGV4dCwgZWZmZWN0SWQsIG1ldGEsXG4gICAgICAvKiBpc1Jvb3QgKi9cbiAgICAgIGZhbHNlLCBjdXJyQ2IpO1xuICAgIH0gZWxzZSBpZiAoZWZmZWN0ICYmIGVmZmVjdFtJT10pIHtcbiAgICAgIHZhciBlZmZlY3RSdW5uZXIgPSBlZmZlY3RSdW5uZXJNYXBbZWZmZWN0LnR5cGVdO1xuICAgICAgZWZmZWN0UnVubmVyKGVudiwgZWZmZWN0LnBheWxvYWQsIGN1cnJDYiwgZXhlY3V0aW5nQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgcmV0dXJuZWQgYXMgaXNcbiAgICAgIGN1cnJDYihlZmZlY3QpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpZ2VzdEVmZmVjdChlZmZlY3QsIHBhcmVudEVmZmVjdElkLCBjYiwgbGFiZWwpIHtcbiAgICBpZiAobGFiZWwgPT09IHZvaWQgMCkge1xuICAgICAgbGFiZWwgPSAnJztcbiAgICB9XG5cbiAgICB2YXIgZWZmZWN0SWQgPSBuZXh0U2FnYUlkKCk7XG4gICAgZW52LnNhZ2FNb25pdG9yICYmIGVudi5zYWdhTW9uaXRvci5lZmZlY3RUcmlnZ2VyZWQoe1xuICAgICAgZWZmZWN0SWQ6IGVmZmVjdElkLFxuICAgICAgcGFyZW50RWZmZWN0SWQ6IHBhcmVudEVmZmVjdElkLFxuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgZWZmZWN0OiBlZmZlY3RcbiAgICB9KTtcbiAgICAvKipcbiAgICAgIGNvbXBsZXRpb24gY2FsbGJhY2sgYW5kIGNhbmNlbCBjYWxsYmFjayBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlXG4gICAgICBXZSBjYW4ndCBjYW5jZWwgYW4gYWxyZWFkeSBjb21wbGV0ZWQgZWZmZWN0XG4gICAgICBBbmQgV2UgY2FuJ3QgY29tcGxldGUgYW4gYWxyZWFkeSBjYW5jZWxsZWQgZWZmZWN0SWRcbiAgICAqKi9cblxuICAgIHZhciBlZmZlY3RTZXR0bGVkOyAvLyBDb21wbGV0aW9uIGNhbGxiYWNrIHBhc3NlZCB0byB0aGUgYXBwcm9wcmlhdGUgZWZmZWN0IHJ1bm5lclxuXG4gICAgZnVuY3Rpb24gY3VyckNiKHJlcywgaXNFcnIpIHtcbiAgICAgIGlmIChlZmZlY3RTZXR0bGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZWZmZWN0U2V0dGxlZCA9IHRydWU7XG4gICAgICBjYi5jYW5jZWwgPSBub29wOyAvLyBkZWZlbnNpdmUgbWVhc3VyZVxuXG4gICAgICBpZiAoZW52LnNhZ2FNb25pdG9yKSB7XG4gICAgICAgIGlmIChpc0Vycikge1xuICAgICAgICAgIGVudi5zYWdhTW9uaXRvci5lZmZlY3RSZWplY3RlZChlZmZlY3RJZCwgcmVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbnYuc2FnYU1vbml0b3IuZWZmZWN0UmVzb2x2ZWQoZWZmZWN0SWQsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzRXJyKSB7XG4gICAgICAgIHNldENyYXNoZWRFZmZlY3QoZWZmZWN0KTtcbiAgICAgIH1cblxuICAgICAgY2IocmVzLCBpc0Vycik7XG4gICAgfSAvLyB0cmFja3MgZG93biB0aGUgY3VycmVudCBjYW5jZWxcblxuXG4gICAgY3VyckNiLmNhbmNlbCA9IG5vb3A7IC8vIHNldHVwIGNhbmNlbGxhdGlvbiBsb2dpYyBvbiB0aGUgcGFyZW50IGNiXG5cbiAgICBjYi5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBwcmV2ZW50cyBjYW5jZWxsaW5nIGFuIGFscmVhZHkgY29tcGxldGVkIGVmZmVjdFxuICAgICAgaWYgKGVmZmVjdFNldHRsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlZmZlY3RTZXR0bGVkID0gdHJ1ZTtcbiAgICAgIGN1cnJDYi5jYW5jZWwoKTsgLy8gcHJvcGFnYXRlcyBjYW5jZWwgZG93bndhcmRcblxuICAgICAgY3VyckNiLmNhbmNlbCA9IG5vb3A7IC8vIGRlZmVuc2l2ZSBtZWFzdXJlXG5cbiAgICAgIGVudi5zYWdhTW9uaXRvciAmJiBlbnYuc2FnYU1vbml0b3IuZWZmZWN0Q2FuY2VsbGVkKGVmZmVjdElkKTtcbiAgICB9O1xuXG4gICAgZmluYWxSdW5FZmZlY3QoZWZmZWN0LCBlZmZlY3RJZCwgY3VyckNiKTtcbiAgfVxufVxuXG52YXIgUlVOX1NBR0FfU0lHTkFUVVJFID0gJ3J1blNhZ2Eob3B0aW9ucywgc2FnYSwgLi4uYXJncyknO1xudmFyIE5PTl9HRU5FUkFUT1JfRVJSID0gUlVOX1NBR0FfU0lHTkFUVVJFICsgXCI6IHNhZ2EgYXJndW1lbnQgbXVzdCBiZSBhIEdlbmVyYXRvciBmdW5jdGlvbiFcIjtcbmZ1bmN0aW9uIHJ1blNhZ2EoX3JlZiwgc2FnYSkge1xuICB2YXIgX3JlZiRjaGFubmVsID0gX3JlZi5jaGFubmVsLFxuICAgICAgY2hhbm5lbCA9IF9yZWYkY2hhbm5lbCA9PT0gdm9pZCAwID8gc3RkQ2hhbm5lbCgpIDogX3JlZiRjaGFubmVsLFxuICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLFxuICAgICAgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlLFxuICAgICAgX3JlZiRjb250ZXh0ID0gX3JlZi5jb250ZXh0LFxuICAgICAgY29udGV4dCA9IF9yZWYkY29udGV4dCA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGNvbnRleHQsXG4gICAgICBzYWdhTW9uaXRvciA9IF9yZWYuc2FnYU1vbml0b3IsXG4gICAgICBlZmZlY3RNaWRkbGV3YXJlcyA9IF9yZWYuZWZmZWN0TWlkZGxld2FyZXMsXG4gICAgICBfcmVmJG9uRXJyb3IgPSBfcmVmLm9uRXJyb3IsXG4gICAgICBvbkVycm9yID0gX3JlZiRvbkVycm9yID09PSB2b2lkIDAgPyBsb2dFcnJvciA6IF9yZWYkb25FcnJvcjtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNoZWNrKHNhZ2EsIGZ1bmMsIE5PTl9HRU5FUkFUT1JfRVJSKTtcbiAgfVxuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBpdGVyYXRvciQxID0gc2FnYS5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY2hlY2soaXRlcmF0b3IkMSwgaXRlcmF0b3IsIE5PTl9HRU5FUkFUT1JfRVJSKTtcbiAgfVxuXG4gIHZhciBlZmZlY3RJZCA9IG5leHRTYWdhSWQoKTtcblxuICBpZiAoc2FnYU1vbml0b3IpIHtcbiAgICAvLyBtb25pdG9ycyBhcmUgZXhwZWN0ZWQgdG8gaGF2ZSBhIGNlcnRhaW4gaW50ZXJmYWNlLCBsZXQncyBmaWxsLWluIGFueSBtaXNzaW5nIG9uZXNcbiAgICBzYWdhTW9uaXRvci5yb290U2FnYVN0YXJ0ZWQgPSBzYWdhTW9uaXRvci5yb290U2FnYVN0YXJ0ZWQgfHwgbm9vcDtcbiAgICBzYWdhTW9uaXRvci5lZmZlY3RUcmlnZ2VyZWQgPSBzYWdhTW9uaXRvci5lZmZlY3RUcmlnZ2VyZWQgfHwgbm9vcDtcbiAgICBzYWdhTW9uaXRvci5lZmZlY3RSZXNvbHZlZCA9IHNhZ2FNb25pdG9yLmVmZmVjdFJlc29sdmVkIHx8IG5vb3A7XG4gICAgc2FnYU1vbml0b3IuZWZmZWN0UmVqZWN0ZWQgPSBzYWdhTW9uaXRvci5lZmZlY3RSZWplY3RlZCB8fCBub29wO1xuICAgIHNhZ2FNb25pdG9yLmVmZmVjdENhbmNlbGxlZCA9IHNhZ2FNb25pdG9yLmVmZmVjdENhbmNlbGxlZCB8fCBub29wO1xuICAgIHNhZ2FNb25pdG9yLmFjdGlvbkRpc3BhdGNoZWQgPSBzYWdhTW9uaXRvci5hY3Rpb25EaXNwYXRjaGVkIHx8IG5vb3A7XG4gICAgc2FnYU1vbml0b3Iucm9vdFNhZ2FTdGFydGVkKHtcbiAgICAgIGVmZmVjdElkOiBlZmZlY3RJZCxcbiAgICAgIHNhZ2E6IHNhZ2EsXG4gICAgICBhcmdzOiBhcmdzXG4gICAgfSk7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChub3RVbmRlZihkaXNwYXRjaCkpIHtcbiAgICAgIGNoZWNrKGRpc3BhdGNoLCBmdW5jLCAnZGlzcGF0Y2ggbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKG5vdFVuZGVmKGdldFN0YXRlKSkge1xuICAgICAgY2hlY2soZ2V0U3RhdGUsIGZ1bmMsICdnZXRTdGF0ZSBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBpZiAobm90VW5kZWYoZWZmZWN0TWlkZGxld2FyZXMpKSB7XG4gICAgICB2YXIgTUlERExFV0FSRV9UWVBFX0VSUk9SID0gJ2VmZmVjdE1pZGRsZXdhcmVzIG11c3QgYmUgYW4gYXJyYXkgb2YgZnVuY3Rpb25zJztcbiAgICAgIGNoZWNrKGVmZmVjdE1pZGRsZXdhcmVzLCBhcnJheSQxLCBNSURETEVXQVJFX1RZUEVfRVJST1IpO1xuICAgICAgZWZmZWN0TWlkZGxld2FyZXMuZm9yRWFjaChmdW5jdGlvbiAoZWZmZWN0TWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gY2hlY2soZWZmZWN0TWlkZGxld2FyZSwgZnVuYywgTUlERExFV0FSRV9UWVBFX0VSUk9SKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoZWNrKG9uRXJyb3IsIGZ1bmMsICdvbkVycm9yIHBhc3NlZCB0byB0aGUgcmVkdXgtc2FnYSBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgfVxuXG4gIHZhciBmaW5hbGl6ZVJ1bkVmZmVjdDtcblxuICBpZiAoZWZmZWN0TWlkZGxld2FyZXMpIHtcbiAgICB2YXIgbWlkZGxld2FyZSA9IGNvbXBvc2UuYXBwbHkodm9pZCAwLCBlZmZlY3RNaWRkbGV3YXJlcyk7XG5cbiAgICBmaW5hbGl6ZVJ1bkVmZmVjdCA9IGZ1bmN0aW9uIGZpbmFsaXplUnVuRWZmZWN0KHJ1bkVmZmVjdCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlZmZlY3QsIGVmZmVjdElkLCBjdXJyQ2IpIHtcbiAgICAgICAgdmFyIHBsYWluUnVuRWZmZWN0ID0gZnVuY3Rpb24gcGxhaW5SdW5FZmZlY3QoZWZmKSB7XG4gICAgICAgICAgcmV0dXJuIHJ1bkVmZmVjdChlZmYsIGVmZmVjdElkLCBjdXJyQ2IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKHBsYWluUnVuRWZmZWN0KShlZmZlY3QpO1xuICAgICAgfTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGZpbmFsaXplUnVuRWZmZWN0ID0gaWRlbnRpdHk7XG4gIH1cblxuICB2YXIgZW52ID0ge1xuICAgIGNoYW5uZWw6IGNoYW5uZWwsXG4gICAgZGlzcGF0Y2g6IHdyYXBTYWdhRGlzcGF0Y2goZGlzcGF0Y2gpLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICBzYWdhTW9uaXRvcjogc2FnYU1vbml0b3IsXG4gICAgb25FcnJvcjogb25FcnJvcixcbiAgICBmaW5hbGl6ZVJ1bkVmZmVjdDogZmluYWxpemVSdW5FZmZlY3RcbiAgfTtcbiAgcmV0dXJuIGltbWVkaWF0ZWx5KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGFzayA9IHByb2MoZW52LCBpdGVyYXRvciQxLCBjb250ZXh0LCBlZmZlY3RJZCwgZ2V0TWV0YUluZm8oc2FnYSksXG4gICAgLyogaXNSb290ICovXG4gICAgdHJ1ZSwgdW5kZWZpbmVkKTtcblxuICAgIGlmIChzYWdhTW9uaXRvcikge1xuICAgICAgc2FnYU1vbml0b3IuZWZmZWN0UmVzb2x2ZWQoZWZmZWN0SWQsIHRhc2spO1xuICAgIH1cblxuICAgIHJldHVybiB0YXNrO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2FnYU1pZGRsZXdhcmVGYWN0b3J5KF90ZW1wKSB7XG4gIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICBfcmVmJGNvbnRleHQgPSBfcmVmLmNvbnRleHQsXG4gICAgICBjb250ZXh0ID0gX3JlZiRjb250ZXh0ID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkY29udGV4dCxcbiAgICAgIF9yZWYkY2hhbm5lbCA9IF9yZWYuY2hhbm5lbCxcbiAgICAgIGNoYW5uZWwgPSBfcmVmJGNoYW5uZWwgPT09IHZvaWQgMCA/IHN0ZENoYW5uZWwoKSA6IF9yZWYkY2hhbm5lbCxcbiAgICAgIHNhZ2FNb25pdG9yID0gX3JlZi5zYWdhTW9uaXRvcixcbiAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbXCJjb250ZXh0XCIsIFwiY2hhbm5lbFwiLCBcInNhZ2FNb25pdG9yXCJdKTtcblxuICB2YXIgYm91bmRSdW5TYWdhO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgY2hlY2soY2hhbm5lbCwgY2hhbm5lbCQxLCAnb3B0aW9ucy5jaGFubmVsIHBhc3NlZCB0byB0aGUgU2FnYSBtaWRkbGV3YXJlIGlzIG5vdCBhIGNoYW5uZWwnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNhZ2FNaWRkbGV3YXJlKF9yZWYyKSB7XG4gICAgdmFyIGdldFN0YXRlID0gX3JlZjIuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2g7XG4gICAgYm91bmRSdW5TYWdhID0gcnVuU2FnYS5iaW5kKG51bGwsIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgY2hhbm5lbDogY2hhbm5lbCxcbiAgICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICAgIHNhZ2FNb25pdG9yOiBzYWdhTW9uaXRvclxuICAgIH0pKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIGlmIChzYWdhTW9uaXRvciAmJiBzYWdhTW9uaXRvci5hY3Rpb25EaXNwYXRjaGVkKSB7XG4gICAgICAgICAgc2FnYU1vbml0b3IuYWN0aW9uRGlzcGF0Y2hlZChhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IG5leHQoYWN0aW9uKTsgLy8gaGl0IHJlZHVjZXJzXG5cbiAgICAgICAgY2hhbm5lbC5wdXQoYWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIHNhZ2FNaWRkbGV3YXJlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhYm91bmRSdW5TYWdhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JlZm9yZSBydW5uaW5nIGEgU2FnYSwgeW91IG11c3QgbW91bnQgdGhlIFNhZ2EgbWlkZGxld2FyZSBvbiB0aGUgU3RvcmUgdXNpbmcgYXBwbHlNaWRkbGV3YXJlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJvdW5kUnVuU2FnYS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgc2FnYU1pZGRsZXdhcmUuc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjaGVjayhwcm9wcywgb2JqZWN0LCBjcmVhdGVTZXRDb250ZXh0V2FybmluZygnc2FnYU1pZGRsZXdhcmUnLCBwcm9wcykpO1xuICAgIH1cblxuICAgIGFzc2lnbldpdGhTeW1ib2xzKGNvbnRleHQsIHByb3BzKTtcbiAgfTtcblxuICByZXR1cm4gc2FnYU1pZGRsZXdhcmU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNhZ2FNaWRkbGV3YXJlRmFjdG9yeTtcbmV4cG9ydCB7IEVORCwgY2hhbm5lbCwgZXZlbnRDaGFubmVsLCBpc0VuZCwgbXVsdGljYXN0Q2hhbm5lbCwgcnVuU2FnYSwgc3RkQ2hhbm5lbCB9O1xuIiwiaW1wb3J0ICdAcmVkdXgtc2FnYS9zeW1ib2xzJztcbmltcG9ydCAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgeyBjaGFubmVsLCBzdHJpbmdhYmxlRnVuYywgZnVuYywgbm90VW5kZWYgfSBmcm9tICdAcmVkdXgtc2FnYS9pcyc7XG5pbXBvcnQgeyBxIGFzIG1ha2VJdGVyYXRvciwgSyBhcyB0YWtlLCBMIGFzIGZvcmssIE0gYXMgY2FuY2VsLCBOIGFzIGNhbGwsIE8gYXMgYWN0aW9uQ2hhbm5lbCwgUSBhcyBzbGlkaW5nLCBVIGFzIGRlbGF5LCBWIGFzIHJhY2UsIGMgYXMgY2hlY2sgfSBmcm9tICcuL2lvLTZkZTE1NmYzLmpzJztcbmV4cG9ydCB7IE8gYXMgYWN0aW9uQ2hhbm5lbCwgXyBhcyBhbGwsICQgYXMgYXBwbHksIE4gYXMgY2FsbCwgTSBhcyBjYW5jZWwsIGE0IGFzIGNhbmNlbGxlZCwgYTAgYXMgY3BzLCBVIGFzIGRlbGF5LCBXIGFzIGVmZmVjdFR5cGVzLCBhNSBhcyBmbHVzaCwgTCBhcyBmb3JrLCBhNiBhcyBnZXRDb250ZXh0LCBhMiBhcyBqb2luLCBZIGFzIHB1dCwgWiBhcyBwdXRSZXNvbHZlLCBWIGFzIHJhY2UsIGEzIGFzIHNlbGVjdCwgYTcgYXMgc2V0Q29udGV4dCwgYTEgYXMgc3Bhd24sIEsgYXMgdGFrZSwgWCBhcyB0YWtlTWF5YmUgfSBmcm9tICcuL2lvLTZkZTE1NmYzLmpzJztcbmltcG9ydCAnQHJlZHV4LXNhZ2EvZGVsYXktcCc7XG5cbnZhciBkb25lID0gZnVuY3Rpb24gZG9uZSh2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGRvbmU6IHRydWUsXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG59O1xuXG52YXIgcUVuZCA9IHt9O1xuZnVuY3Rpb24gc2FmZU5hbWUocGF0dGVybk9yQ2hhbm5lbCkge1xuICBpZiAoY2hhbm5lbChwYXR0ZXJuT3JDaGFubmVsKSkge1xuICAgIHJldHVybiAnY2hhbm5lbCc7XG4gIH1cblxuICBpZiAoc3RyaW5nYWJsZUZ1bmMocGF0dGVybk9yQ2hhbm5lbCkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHBhdHRlcm5PckNoYW5uZWwpO1xuICB9XG5cbiAgaWYgKGZ1bmMocGF0dGVybk9yQ2hhbm5lbCkpIHtcbiAgICByZXR1cm4gcGF0dGVybk9yQ2hhbm5lbC5uYW1lO1xuICB9XG5cbiAgcmV0dXJuIFN0cmluZyhwYXR0ZXJuT3JDaGFubmVsKTtcbn1cbmZ1bmN0aW9uIGZzbUl0ZXJhdG9yKGZzbSwgc3RhcnRTdGF0ZSwgbmFtZSkge1xuICB2YXIgc3RhdGVVcGRhdGVyLFxuICAgICAgZXJyb3JTdGF0ZSxcbiAgICAgIGVmZmVjdCxcbiAgICAgIG5leHRTdGF0ZSA9IHN0YXJ0U3RhdGU7XG5cbiAgZnVuY3Rpb24gbmV4dChhcmcsIGVycm9yKSB7XG4gICAgaWYgKG5leHRTdGF0ZSA9PT0gcUVuZCkge1xuICAgICAgcmV0dXJuIGRvbmUoYXJnKTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3IgJiYgIWVycm9yU3RhdGUpIHtcbiAgICAgIG5leHRTdGF0ZSA9IHFFbmQ7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGVVcGRhdGVyICYmIHN0YXRlVXBkYXRlcihhcmcpO1xuICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IGVycm9yID8gZnNtW2Vycm9yU3RhdGVdKGVycm9yKSA6IGZzbVtuZXh0U3RhdGVdKCk7XG4gICAgICBuZXh0U3RhdGUgPSBjdXJyZW50U3RhdGUubmV4dFN0YXRlO1xuICAgICAgZWZmZWN0ID0gY3VycmVudFN0YXRlLmVmZmVjdDtcbiAgICAgIHN0YXRlVXBkYXRlciA9IGN1cnJlbnRTdGF0ZS5zdGF0ZVVwZGF0ZXI7XG4gICAgICBlcnJvclN0YXRlID0gY3VycmVudFN0YXRlLmVycm9yU3RhdGU7XG4gICAgICByZXR1cm4gbmV4dFN0YXRlID09PSBxRW5kID8gZG9uZShhcmcpIDogZWZmZWN0O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtYWtlSXRlcmF0b3IobmV4dCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgcmV0dXJuIG5leHQobnVsbCwgZXJyb3IpO1xuICB9LCBuYW1lKTtcbn1cblxuZnVuY3Rpb24gdGFrZUV2ZXJ5KHBhdHRlcm5PckNoYW5uZWwsIHdvcmtlcikge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgeVRha2UgPSB7XG4gICAgZG9uZTogZmFsc2UsXG4gICAgdmFsdWU6IHRha2UocGF0dGVybk9yQ2hhbm5lbClcbiAgfTtcblxuICB2YXIgeUZvcmsgPSBmdW5jdGlvbiB5Rm9yayhhYykge1xuICAgIHJldHVybiB7XG4gICAgICBkb25lOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBmb3JrLmFwcGx5KHZvaWQgMCwgW3dvcmtlcl0uY29uY2F0KGFyZ3MsIFthY10pKVxuICAgIH07XG4gIH07XG5cbiAgdmFyIGFjdGlvbixcbiAgICAgIHNldEFjdGlvbiA9IGZ1bmN0aW9uIHNldEFjdGlvbihhYykge1xuICAgIHJldHVybiBhY3Rpb24gPSBhYztcbiAgfTtcblxuICByZXR1cm4gZnNtSXRlcmF0b3Ioe1xuICAgIHExOiBmdW5jdGlvbiBxMSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHRTdGF0ZTogJ3EyJyxcbiAgICAgICAgZWZmZWN0OiB5VGFrZSxcbiAgICAgICAgc3RhdGVVcGRhdGVyOiBzZXRBY3Rpb25cbiAgICAgIH07XG4gICAgfSxcbiAgICBxMjogZnVuY3Rpb24gcTIoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0U3RhdGU6ICdxMScsXG4gICAgICAgIGVmZmVjdDogeUZvcmsoYWN0aW9uKVxuICAgICAgfTtcbiAgICB9XG4gIH0sICdxMScsIFwidGFrZUV2ZXJ5KFwiICsgc2FmZU5hbWUocGF0dGVybk9yQ2hhbm5lbCkgKyBcIiwgXCIgKyB3b3JrZXIubmFtZSArIFwiKVwiKTtcbn1cblxuZnVuY3Rpb24gdGFrZUxhdGVzdChwYXR0ZXJuT3JDaGFubmVsLCB3b3JrZXIpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIHlUYWtlID0ge1xuICAgIGRvbmU6IGZhbHNlLFxuICAgIHZhbHVlOiB0YWtlKHBhdHRlcm5PckNoYW5uZWwpXG4gIH07XG5cbiAgdmFyIHlGb3JrID0gZnVuY3Rpb24geUZvcmsoYWMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZG9uZTogZmFsc2UsXG4gICAgICB2YWx1ZTogZm9yay5hcHBseSh2b2lkIDAsIFt3b3JrZXJdLmNvbmNhdChhcmdzLCBbYWNdKSlcbiAgICB9O1xuICB9O1xuXG4gIHZhciB5Q2FuY2VsID0gZnVuY3Rpb24geUNhbmNlbCh0YXNrKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgdmFsdWU6IGNhbmNlbCh0YXNrKVxuICAgIH07XG4gIH07XG5cbiAgdmFyIHRhc2ssIGFjdGlvbjtcblxuICB2YXIgc2V0VGFzayA9IGZ1bmN0aW9uIHNldFRhc2sodCkge1xuICAgIHJldHVybiB0YXNrID0gdDtcbiAgfTtcblxuICB2YXIgc2V0QWN0aW9uID0gZnVuY3Rpb24gc2V0QWN0aW9uKGFjKSB7XG4gICAgcmV0dXJuIGFjdGlvbiA9IGFjO1xuICB9O1xuXG4gIHJldHVybiBmc21JdGVyYXRvcih7XG4gICAgcTE6IGZ1bmN0aW9uIHExKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dFN0YXRlOiAncTInLFxuICAgICAgICBlZmZlY3Q6IHlUYWtlLFxuICAgICAgICBzdGF0ZVVwZGF0ZXI6IHNldEFjdGlvblxuICAgICAgfTtcbiAgICB9LFxuICAgIHEyOiBmdW5jdGlvbiBxMigpIHtcbiAgICAgIHJldHVybiB0YXNrID8ge1xuICAgICAgICBuZXh0U3RhdGU6ICdxMycsXG4gICAgICAgIGVmZmVjdDogeUNhbmNlbCh0YXNrKVxuICAgICAgfSA6IHtcbiAgICAgICAgbmV4dFN0YXRlOiAncTEnLFxuICAgICAgICBlZmZlY3Q6IHlGb3JrKGFjdGlvbiksXG4gICAgICAgIHN0YXRlVXBkYXRlcjogc2V0VGFza1xuICAgICAgfTtcbiAgICB9LFxuICAgIHEzOiBmdW5jdGlvbiBxMygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHRTdGF0ZTogJ3ExJyxcbiAgICAgICAgZWZmZWN0OiB5Rm9yayhhY3Rpb24pLFxuICAgICAgICBzdGF0ZVVwZGF0ZXI6IHNldFRhc2tcbiAgICAgIH07XG4gICAgfVxuICB9LCAncTEnLCBcInRha2VMYXRlc3QoXCIgKyBzYWZlTmFtZShwYXR0ZXJuT3JDaGFubmVsKSArIFwiLCBcIiArIHdvcmtlci5uYW1lICsgXCIpXCIpO1xufVxuXG5mdW5jdGlvbiB0YWtlTGVhZGluZyhwYXR0ZXJuT3JDaGFubmVsLCB3b3JrZXIpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIHlUYWtlID0ge1xuICAgIGRvbmU6IGZhbHNlLFxuICAgIHZhbHVlOiB0YWtlKHBhdHRlcm5PckNoYW5uZWwpXG4gIH07XG5cbiAgdmFyIHlDYWxsID0gZnVuY3Rpb24geUNhbGwoYWMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZG9uZTogZmFsc2UsXG4gICAgICB2YWx1ZTogY2FsbC5hcHBseSh2b2lkIDAsIFt3b3JrZXJdLmNvbmNhdChhcmdzLCBbYWNdKSlcbiAgICB9O1xuICB9O1xuXG4gIHZhciBhY3Rpb247XG5cbiAgdmFyIHNldEFjdGlvbiA9IGZ1bmN0aW9uIHNldEFjdGlvbihhYykge1xuICAgIHJldHVybiBhY3Rpb24gPSBhYztcbiAgfTtcblxuICByZXR1cm4gZnNtSXRlcmF0b3Ioe1xuICAgIHExOiBmdW5jdGlvbiBxMSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHRTdGF0ZTogJ3EyJyxcbiAgICAgICAgZWZmZWN0OiB5VGFrZSxcbiAgICAgICAgc3RhdGVVcGRhdGVyOiBzZXRBY3Rpb25cbiAgICAgIH07XG4gICAgfSxcbiAgICBxMjogZnVuY3Rpb24gcTIoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0U3RhdGU6ICdxMScsXG4gICAgICAgIGVmZmVjdDogeUNhbGwoYWN0aW9uKVxuICAgICAgfTtcbiAgICB9XG4gIH0sICdxMScsIFwidGFrZUxlYWRpbmcoXCIgKyBzYWZlTmFtZShwYXR0ZXJuT3JDaGFubmVsKSArIFwiLCBcIiArIHdvcmtlci5uYW1lICsgXCIpXCIpO1xufVxuXG5mdW5jdGlvbiB0aHJvdHRsZShkZWxheUxlbmd0aCwgcGF0dGVybiwgd29ya2VyKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAzID8gX2xlbiAtIDMgOiAwKSwgX2tleSA9IDM7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXkgLSAzXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBhY3Rpb24sIGNoYW5uZWw7XG4gIHZhciB5QWN0aW9uQ2hhbm5lbCA9IHtcbiAgICBkb25lOiBmYWxzZSxcbiAgICB2YWx1ZTogYWN0aW9uQ2hhbm5lbChwYXR0ZXJuLCBzbGlkaW5nKDEpKVxuICB9O1xuXG4gIHZhciB5VGFrZSA9IGZ1bmN0aW9uIHlUYWtlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBkb25lOiBmYWxzZSxcbiAgICAgIHZhbHVlOiB0YWtlKGNoYW5uZWwpXG4gICAgfTtcbiAgfTtcblxuICB2YXIgeUZvcmsgPSBmdW5jdGlvbiB5Rm9yayhhYykge1xuICAgIHJldHVybiB7XG4gICAgICBkb25lOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBmb3JrLmFwcGx5KHZvaWQgMCwgW3dvcmtlcl0uY29uY2F0KGFyZ3MsIFthY10pKVxuICAgIH07XG4gIH07XG5cbiAgdmFyIHlEZWxheSA9IHtcbiAgICBkb25lOiBmYWxzZSxcbiAgICB2YWx1ZTogZGVsYXkoZGVsYXlMZW5ndGgpXG4gIH07XG5cbiAgdmFyIHNldEFjdGlvbiA9IGZ1bmN0aW9uIHNldEFjdGlvbihhYykge1xuICAgIHJldHVybiBhY3Rpb24gPSBhYztcbiAgfTtcblxuICB2YXIgc2V0Q2hhbm5lbCA9IGZ1bmN0aW9uIHNldENoYW5uZWwoY2gpIHtcbiAgICByZXR1cm4gY2hhbm5lbCA9IGNoO1xuICB9O1xuXG4gIHJldHVybiBmc21JdGVyYXRvcih7XG4gICAgcTE6IGZ1bmN0aW9uIHExKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dFN0YXRlOiAncTInLFxuICAgICAgICBlZmZlY3Q6IHlBY3Rpb25DaGFubmVsLFxuICAgICAgICBzdGF0ZVVwZGF0ZXI6IHNldENoYW5uZWxcbiAgICAgIH07XG4gICAgfSxcbiAgICBxMjogZnVuY3Rpb24gcTIoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0U3RhdGU6ICdxMycsXG4gICAgICAgIGVmZmVjdDogeVRha2UoKSxcbiAgICAgICAgc3RhdGVVcGRhdGVyOiBzZXRBY3Rpb25cbiAgICAgIH07XG4gICAgfSxcbiAgICBxMzogZnVuY3Rpb24gcTMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0U3RhdGU6ICdxNCcsXG4gICAgICAgIGVmZmVjdDogeUZvcmsoYWN0aW9uKVxuICAgICAgfTtcbiAgICB9LFxuICAgIHE0OiBmdW5jdGlvbiBxNCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHRTdGF0ZTogJ3EyJyxcbiAgICAgICAgZWZmZWN0OiB5RGVsYXlcbiAgICAgIH07XG4gICAgfVxuICB9LCAncTEnLCBcInRocm90dGxlKFwiICsgc2FmZU5hbWUocGF0dGVybikgKyBcIiwgXCIgKyB3b3JrZXIubmFtZSArIFwiKVwiKTtcbn1cblxuZnVuY3Rpb24gcmV0cnkobWF4VHJpZXMsIGRlbGF5TGVuZ3RoLCBmbikge1xuICB2YXIgY291bnRlciA9IG1heFRyaWVzO1xuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAzID8gX2xlbiAtIDMgOiAwKSwgX2tleSA9IDM7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXkgLSAzXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciB5Q2FsbCA9IHtcbiAgICBkb25lOiBmYWxzZSxcbiAgICB2YWx1ZTogY2FsbC5hcHBseSh2b2lkIDAsIFtmbl0uY29uY2F0KGFyZ3MpKVxuICB9O1xuICB2YXIgeURlbGF5ID0ge1xuICAgIGRvbmU6IGZhbHNlLFxuICAgIHZhbHVlOiBkZWxheShkZWxheUxlbmd0aClcbiAgfTtcbiAgcmV0dXJuIGZzbUl0ZXJhdG9yKHtcbiAgICBxMTogZnVuY3Rpb24gcTEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0U3RhdGU6ICdxMicsXG4gICAgICAgIGVmZmVjdDogeUNhbGwsXG4gICAgICAgIGVycm9yU3RhdGU6ICdxMTAnXG4gICAgICB9O1xuICAgIH0sXG4gICAgcTI6IGZ1bmN0aW9uIHEyKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dFN0YXRlOiBxRW5kXG4gICAgICB9O1xuICAgIH0sXG4gICAgcTEwOiBmdW5jdGlvbiBxMTAoZXJyb3IpIHtcbiAgICAgIGNvdW50ZXIgLT0gMTtcblxuICAgICAgaWYgKGNvdW50ZXIgPD0gMCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dFN0YXRlOiAncTEnLFxuICAgICAgICBlZmZlY3Q6IHlEZWxheVxuICAgICAgfTtcbiAgICB9XG4gIH0sICdxMScsIFwicmV0cnkoXCIgKyBmbi5uYW1lICsgXCIpXCIpO1xufVxuXG5mdW5jdGlvbiBkZWJvdW5jZUhlbHBlcihkZWxheUxlbmd0aCwgcGF0dGVybk9yQ2hhbm5lbCwgd29ya2VyKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAzID8gX2xlbiAtIDMgOiAwKSwgX2tleSA9IDM7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXkgLSAzXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBhY3Rpb24sIHJhY2VPdXRwdXQ7XG4gIHZhciB5VGFrZSA9IHtcbiAgICBkb25lOiBmYWxzZSxcbiAgICB2YWx1ZTogdGFrZShwYXR0ZXJuT3JDaGFubmVsKVxuICB9O1xuICB2YXIgeVJhY2UgPSB7XG4gICAgZG9uZTogZmFsc2UsXG4gICAgdmFsdWU6IHJhY2Uoe1xuICAgICAgYWN0aW9uOiB0YWtlKHBhdHRlcm5PckNoYW5uZWwpLFxuICAgICAgZGVib3VuY2U6IGRlbGF5KGRlbGF5TGVuZ3RoKVxuICAgIH0pXG4gIH07XG5cbiAgdmFyIHlGb3JrID0gZnVuY3Rpb24geUZvcmsoYWMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZG9uZTogZmFsc2UsXG4gICAgICB2YWx1ZTogZm9yay5hcHBseSh2b2lkIDAsIFt3b3JrZXJdLmNvbmNhdChhcmdzLCBbYWNdKSlcbiAgICB9O1xuICB9O1xuXG4gIHZhciB5Tm9vcCA9IGZ1bmN0aW9uIHlOb29wKHZhbHVlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbiAgfTtcblxuICB2YXIgc2V0QWN0aW9uID0gZnVuY3Rpb24gc2V0QWN0aW9uKGFjKSB7XG4gICAgcmV0dXJuIGFjdGlvbiA9IGFjO1xuICB9O1xuXG4gIHZhciBzZXRSYWNlT3V0cHV0ID0gZnVuY3Rpb24gc2V0UmFjZU91dHB1dChybykge1xuICAgIHJldHVybiByYWNlT3V0cHV0ID0gcm87XG4gIH07XG5cbiAgcmV0dXJuIGZzbUl0ZXJhdG9yKHtcbiAgICBxMTogZnVuY3Rpb24gcTEoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0U3RhdGU6ICdxMicsXG4gICAgICAgIGVmZmVjdDogeVRha2UsXG4gICAgICAgIHN0YXRlVXBkYXRlcjogc2V0QWN0aW9uXG4gICAgICB9O1xuICAgIH0sXG4gICAgcTI6IGZ1bmN0aW9uIHEyKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dFN0YXRlOiAncTMnLFxuICAgICAgICBlZmZlY3Q6IHlSYWNlLFxuICAgICAgICBzdGF0ZVVwZGF0ZXI6IHNldFJhY2VPdXRwdXRcbiAgICAgIH07XG4gICAgfSxcbiAgICBxMzogZnVuY3Rpb24gcTMoKSB7XG4gICAgICByZXR1cm4gcmFjZU91dHB1dC5kZWJvdW5jZSA/IHtcbiAgICAgICAgbmV4dFN0YXRlOiAncTEnLFxuICAgICAgICBlZmZlY3Q6IHlGb3JrKGFjdGlvbilcbiAgICAgIH0gOiB7XG4gICAgICAgIG5leHRTdGF0ZTogJ3EyJyxcbiAgICAgICAgZWZmZWN0OiB5Tm9vcChyYWNlT3V0cHV0LmFjdGlvbiksXG4gICAgICAgIHN0YXRlVXBkYXRlcjogc2V0QWN0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgfSwgJ3ExJywgXCJkZWJvdW5jZShcIiArIHNhZmVOYW1lKHBhdHRlcm5PckNoYW5uZWwpICsgXCIsIFwiICsgd29ya2VyLm5hbWUgKyBcIilcIik7XG59XG5cbnZhciB2YWxpZGF0ZVRha2VFZmZlY3QgPSBmdW5jdGlvbiB2YWxpZGF0ZVRha2VFZmZlY3QoZm4sIHBhdHRlcm5PckNoYW5uZWwsIHdvcmtlcikge1xuICBjaGVjayhwYXR0ZXJuT3JDaGFubmVsLCBub3RVbmRlZiwgZm4ubmFtZSArIFwiIHJlcXVpcmVzIGEgcGF0dGVybiBvciBjaGFubmVsXCIpO1xuICBjaGVjayh3b3JrZXIsIG5vdFVuZGVmLCBmbi5uYW1lICsgXCIgcmVxdWlyZXMgYSBzYWdhIHBhcmFtZXRlclwiKTtcbn07XG5cbmZ1bmN0aW9uIHRha2VFdmVyeSQxKHBhdHRlcm5PckNoYW5uZWwsIHdvcmtlcikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhbGlkYXRlVGFrZUVmZmVjdCh0YWtlRXZlcnkkMSwgcGF0dGVybk9yQ2hhbm5lbCwgd29ya2VyKTtcbiAgfVxuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmb3JrLmFwcGx5KHZvaWQgMCwgW3Rha2VFdmVyeSwgcGF0dGVybk9yQ2hhbm5lbCwgd29ya2VyXS5jb25jYXQoYXJncykpO1xufVxuZnVuY3Rpb24gdGFrZUxhdGVzdCQxKHBhdHRlcm5PckNoYW5uZWwsIHdvcmtlcikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhbGlkYXRlVGFrZUVmZmVjdCh0YWtlTGF0ZXN0JDEsIHBhdHRlcm5PckNoYW5uZWwsIHdvcmtlcik7XG4gIH1cblxuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGFyZ3NbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICByZXR1cm4gZm9yay5hcHBseSh2b2lkIDAsIFt0YWtlTGF0ZXN0LCBwYXR0ZXJuT3JDaGFubmVsLCB3b3JrZXJdLmNvbmNhdChhcmdzKSk7XG59XG5mdW5jdGlvbiB0YWtlTGVhZGluZyQxKHBhdHRlcm5PckNoYW5uZWwsIHdvcmtlcikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhbGlkYXRlVGFrZUVmZmVjdCh0YWtlTGVhZGluZyQxLCBwYXR0ZXJuT3JDaGFubmVsLCB3b3JrZXIpO1xuICB9XG5cbiAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zID4gMiA/IF9sZW4zIC0gMiA6IDApLCBfa2V5MyA9IDI7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICBhcmdzW19rZXkzIC0gMl0gPSBhcmd1bWVudHNbX2tleTNdO1xuICB9XG5cbiAgcmV0dXJuIGZvcmsuYXBwbHkodm9pZCAwLCBbdGFrZUxlYWRpbmcsIHBhdHRlcm5PckNoYW5uZWwsIHdvcmtlcl0uY29uY2F0KGFyZ3MpKTtcbn1cbmZ1bmN0aW9uIHRocm90dGxlJDEobXMsIHBhdHRlcm4sIHdvcmtlcikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNoZWNrKHBhdHRlcm4sIG5vdFVuZGVmLCAndGhyb3R0bGUgcmVxdWlyZXMgYSBwYXR0ZXJuJyk7XG4gICAgY2hlY2sod29ya2VyLCBub3RVbmRlZiwgJ3Rocm90dGxlIHJlcXVpcmVzIGEgc2FnYSBwYXJhbWV0ZXInKTtcbiAgfVxuXG4gIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCA+IDMgPyBfbGVuNCAtIDMgOiAwKSwgX2tleTQgPSAzOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgYXJnc1tfa2V5NCAtIDNdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgfVxuXG4gIHJldHVybiBmb3JrLmFwcGx5KHZvaWQgMCwgW3Rocm90dGxlLCBtcywgcGF0dGVybiwgd29ya2VyXS5jb25jYXQoYXJncykpO1xufVxuZnVuY3Rpb24gcmV0cnkkMShtYXhUcmllcywgZGVsYXlMZW5ndGgsIHdvcmtlcikge1xuICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjUgPiAzID8gX2xlbjUgLSAzIDogMCksIF9rZXk1ID0gMzsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgIGFyZ3NbX2tleTUgLSAzXSA9IGFyZ3VtZW50c1tfa2V5NV07XG4gIH1cblxuICByZXR1cm4gY2FsbC5hcHBseSh2b2lkIDAsIFtyZXRyeSwgbWF4VHJpZXMsIGRlbGF5TGVuZ3RoLCB3b3JrZXJdLmNvbmNhdChhcmdzKSk7XG59XG5mdW5jdGlvbiBkZWJvdW5jZShkZWxheUxlbmd0aCwgcGF0dGVybiwgd29ya2VyKSB7XG4gIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNiA+IDMgPyBfbGVuNiAtIDMgOiAwKSwgX2tleTYgPSAzOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgYXJnc1tfa2V5NiAtIDNdID0gYXJndW1lbnRzW19rZXk2XTtcbiAgfVxuXG4gIHJldHVybiBmb3JrLmFwcGx5KHZvaWQgMCwgW2RlYm91bmNlSGVscGVyLCBkZWxheUxlbmd0aCwgcGF0dGVybiwgd29ya2VyXS5jb25jYXQoYXJncykpO1xufVxuXG5leHBvcnQgeyBkZWJvdW5jZSwgcmV0cnkkMSBhcyByZXRyeSwgdGFrZUV2ZXJ5JDEgYXMgdGFrZUV2ZXJ5LCB0YWtlTGF0ZXN0JDEgYXMgdGFrZUxhdGVzdCwgdGFrZUxlYWRpbmckMSBhcyB0YWtlTGVhZGluZywgdGhyb3R0bGUkMSBhcyB0aHJvdHRsZSB9O1xuIiwiZnVuY3Rpb24gZGVmZXJyZWQoKSB7XG4gIHZhciBkZWYgPSB7fTtcbiAgZGVmLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZGVmLnJlc29sdmUgPSByZXNvbHZlO1xuICAgIGRlZi5yZWplY3QgPSByZWplY3Q7XG4gIH0pO1xuICByZXR1cm4gZGVmO1xufVxuZnVuY3Rpb24gYXJyYXlPZkRlZmVycmVkKGxlbmd0aCkge1xuICB2YXIgYXJyID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFyci5wdXNoKGRlZmVycmVkKCkpO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVmZXJyZWQ7XG5leHBvcnQgeyBhcnJheU9mRGVmZXJyZWQgfTtcbiIsImltcG9ydCB7IENBTkNFTCB9IGZyb20gJ0ByZWR1eC1zYWdhL3N5bWJvbHMnO1xuXG5mdW5jdGlvbiBkZWxheVAobXMsIHZhbCkge1xuICBpZiAodmFsID09PSB2b2lkIDApIHtcbiAgICB2YWwgPSB0cnVlO1xuICB9XG5cbiAgdmFyIHRpbWVvdXRJZDtcbiAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMsIHZhbCk7XG4gIH0pO1xuXG4gIHByb21pc2VbQ0FOQ0VMXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgfTtcblxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVsYXlQO1xuIiwiaW1wb3J0IHsgVEFTSywgU0FHQV9BQ1RJT04sIE1VTFRJQ0FTVCwgSU8gfSBmcm9tICdAcmVkdXgtc2FnYS9zeW1ib2xzJztcblxudmFyIHVuZGVmID0gZnVuY3Rpb24gdW5kZWYodikge1xuICByZXR1cm4gdiA9PT0gbnVsbCB8fCB2ID09PSB1bmRlZmluZWQ7XG59O1xudmFyIG5vdFVuZGVmID0gZnVuY3Rpb24gbm90VW5kZWYodikge1xuICByZXR1cm4gdiAhPT0gbnVsbCAmJiB2ICE9PSB1bmRlZmluZWQ7XG59O1xudmFyIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKGYpIHtcbiAgcmV0dXJuIHR5cGVvZiBmID09PSAnZnVuY3Rpb24nO1xufTtcbnZhciBudW1iZXIgPSBmdW5jdGlvbiBudW1iZXIobikge1xuICByZXR1cm4gdHlwZW9mIG4gPT09ICdudW1iZXInO1xufTtcbnZhciBzdHJpbmcgPSBmdW5jdGlvbiBzdHJpbmcocykge1xuICByZXR1cm4gdHlwZW9mIHMgPT09ICdzdHJpbmcnO1xufTtcbnZhciBhcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgb2JqZWN0ID0gZnVuY3Rpb24gb2JqZWN0KG9iaikge1xuICByZXR1cm4gb2JqICYmICFhcnJheShvYmopICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnO1xufTtcbnZhciBwcm9taXNlID0gZnVuY3Rpb24gcHJvbWlzZShwKSB7XG4gIHJldHVybiBwICYmIGZ1bmMocC50aGVuKTtcbn07XG52YXIgaXRlcmF0b3IgPSBmdW5jdGlvbiBpdGVyYXRvcihpdCkge1xuICByZXR1cm4gaXQgJiYgZnVuYyhpdC5uZXh0KSAmJiBmdW5jKGl0LnRocm93KTtcbn07XG52YXIgaXRlcmFibGUgPSBmdW5jdGlvbiBpdGVyYWJsZShpdCkge1xuICByZXR1cm4gaXQgJiYgZnVuYyhTeW1ib2wpID8gZnVuYyhpdFtTeW1ib2wuaXRlcmF0b3JdKSA6IGFycmF5KGl0KTtcbn07XG52YXIgdGFzayA9IGZ1bmN0aW9uIHRhc2sodCkge1xuICByZXR1cm4gdCAmJiB0W1RBU0tdO1xufTtcbnZhciBzYWdhQWN0aW9uID0gZnVuY3Rpb24gc2FnYUFjdGlvbihhKSB7XG4gIHJldHVybiBCb29sZWFuKGEgJiYgYVtTQUdBX0FDVElPTl0pO1xufTtcbnZhciBvYnNlcnZhYmxlID0gZnVuY3Rpb24gb2JzZXJ2YWJsZShvYikge1xuICByZXR1cm4gb2IgJiYgZnVuYyhvYi5zdWJzY3JpYmUpO1xufTtcbnZhciBidWZmZXIgPSBmdW5jdGlvbiBidWZmZXIoYnVmKSB7XG4gIHJldHVybiBidWYgJiYgZnVuYyhidWYuaXNFbXB0eSkgJiYgZnVuYyhidWYudGFrZSkgJiYgZnVuYyhidWYucHV0KTtcbn07XG52YXIgcGF0dGVybiA9IGZ1bmN0aW9uIHBhdHRlcm4ocGF0KSB7XG4gIHJldHVybiBwYXQgJiYgKHN0cmluZyhwYXQpIHx8IHN5bWJvbChwYXQpIHx8IGZ1bmMocGF0KSB8fCBhcnJheShwYXQpICYmIHBhdC5ldmVyeShwYXR0ZXJuKSk7XG59O1xudmFyIGNoYW5uZWwgPSBmdW5jdGlvbiBjaGFubmVsKGNoKSB7XG4gIHJldHVybiBjaCAmJiBmdW5jKGNoLnRha2UpICYmIGZ1bmMoY2guY2xvc2UpO1xufTtcbnZhciBzdHJpbmdhYmxlRnVuYyA9IGZ1bmN0aW9uIHN0cmluZ2FibGVGdW5jKGYpIHtcbiAgcmV0dXJuIGZ1bmMoZikgJiYgZi5oYXNPd25Qcm9wZXJ0eSgndG9TdHJpbmcnKTtcbn07XG52YXIgc3ltYm9sID0gZnVuY3Rpb24gc3ltYm9sKHN5bSkge1xuICByZXR1cm4gQm9vbGVhbihzeW0pICYmIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgc3ltLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgc3ltICE9PSBTeW1ib2wucHJvdG90eXBlO1xufTtcbnZhciBtdWx0aWNhc3QgPSBmdW5jdGlvbiBtdWx0aWNhc3QoY2gpIHtcbiAgcmV0dXJuIGNoYW5uZWwoY2gpICYmIGNoW01VTFRJQ0FTVF07XG59O1xudmFyIGVmZmVjdCA9IGZ1bmN0aW9uIGVmZmVjdChlZmYpIHtcbiAgcmV0dXJuIGVmZiAmJiBlZmZbSU9dO1xufTtcblxuZXhwb3J0IHsgYXJyYXksIGJ1ZmZlciwgY2hhbm5lbCwgZWZmZWN0LCBmdW5jLCBpdGVyYWJsZSwgaXRlcmF0b3IsIG11bHRpY2FzdCwgbm90VW5kZWYsIG51bWJlciwgb2JqZWN0LCBvYnNlcnZhYmxlLCBwYXR0ZXJuLCBwcm9taXNlLCBzYWdhQWN0aW9uLCBzdHJpbmcsIHN0cmluZ2FibGVGdW5jLCBzeW1ib2wsIHRhc2ssIHVuZGVmIH07XG4iLCJ2YXIgY3JlYXRlU3ltYm9sID0gZnVuY3Rpb24gY3JlYXRlU3ltYm9sKG5hbWUpIHtcbiAgcmV0dXJuIFwiQEByZWR1eC1zYWdhL1wiICsgbmFtZTtcbn07XG5cbnZhciBDQU5DRUwgPVxuLyojX19QVVJFX18qL1xuY3JlYXRlU3ltYm9sKCdDQU5DRUxfUFJPTUlTRScpO1xudmFyIENIQU5ORUxfRU5EX1RZUEUgPVxuLyojX19QVVJFX18qL1xuY3JlYXRlU3ltYm9sKCdDSEFOTkVMX0VORCcpO1xudmFyIElPID1cbi8qI19fUFVSRV9fKi9cbmNyZWF0ZVN5bWJvbCgnSU8nKTtcbnZhciBNQVRDSCA9XG4vKiNfX1BVUkVfXyovXG5jcmVhdGVTeW1ib2woJ01BVENIJyk7XG52YXIgTVVMVElDQVNUID1cbi8qI19fUFVSRV9fKi9cbmNyZWF0ZVN5bWJvbCgnTVVMVElDQVNUJyk7XG52YXIgU0FHQV9BQ1RJT04gPVxuLyojX19QVVJFX18qL1xuY3JlYXRlU3ltYm9sKCdTQUdBX0FDVElPTicpO1xudmFyIFNFTEZfQ0FOQ0VMTEFUSU9OID1cbi8qI19fUFVSRV9fKi9cbmNyZWF0ZVN5bWJvbCgnU0VMRl9DQU5DRUxMQVRJT04nKTtcbnZhciBUQVNLID1cbi8qI19fUFVSRV9fKi9cbmNyZWF0ZVN5bWJvbCgnVEFTSycpO1xudmFyIFRBU0tfQ0FOQ0VMID1cbi8qI19fUFVSRV9fKi9cbmNyZWF0ZVN5bWJvbCgnVEFTS19DQU5DRUwnKTtcbnZhciBURVJNSU5BVEUgPVxuLyojX19QVVJFX18qL1xuY3JlYXRlU3ltYm9sKCdURVJNSU5BVEUnKTtcbnZhciBTQUdBX0xPQ0FUSU9OID1cbi8qI19fUFVSRV9fKi9cbmNyZWF0ZVN5bWJvbCgnTE9DQVRJT04nKTtcblxuZXhwb3J0IHsgQ0FOQ0VMLCBDSEFOTkVMX0VORF9UWVBFLCBJTywgTUFUQ0gsIE1VTFRJQ0FTVCwgU0FHQV9BQ1RJT04sIFNBR0FfTE9DQVRJT04sIFNFTEZfQ0FOQ0VMTEFUSU9OLCBUQVNLLCBUQVNLX0NBTkNFTCwgVEVSTUlOQVRFIH07XG4iLCIvKiBqc2hpbnQgbm9kZTp0cnVlICovXG4gICd1c2Ugc3RyaWN0JztcblxuICBtb2R1bGUuZXhwb3J0cyA9IFwiXFxuXCI7XG4gICIsIi8qIGpzaGludCBub2RlOnRydWUgKi9cbid1c2Ugc3RyaWN0JztcblxuLy8gRXNjYXBlIHRoZSB0ZXh0RGVsaW1pdGVycyBjb250YWluZWQgaW4gdGhlIGZpZWxkXG4vKihodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDE4MClcbiAgIDcuICBJZiBkb3VibGUtcXVvdGVzIGFyZSB1c2VkIHRvIGVuY2xvc2UgZmllbGRzLCB0aGVuIGEgZG91YmxlLXF1b3RlXG4gICBhcHBlYXJpbmcgaW5zaWRlIGEgZmllbGQgbXVzdCBiZSBlc2NhcGVkIGJ5IHByZWNlZGluZyBpdCB3aXRoXG4gICBhbm90aGVyIGRvdWJsZSBxdW90ZS5cbiAgIEZvciBleGFtcGxlOiBcImFhYVwiLFwiYlwiXCJiYlwiLFwiY2NjXCJcbiovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXNjYXBlZERlbGltaXRlcnModGV4dERlbGltaXRlciwgcm93RGVsaW1pdGVyLCBmb3JjZVRleHREZWxpbWl0ZXIpIHtcbiAgdmFyIGVuZE9mTGluZSA9ICdcXG4nO1xuXG4gIGlmICh0eXBlb2YgdGV4dERlbGltaXRlciAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHBhcmFtIFwidGV4dERlbGltaXRlclwiLCBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByb3dEZWxpbWl0ZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBwYXJhbSBcInJvd0RlbGltaXRlclwiLCBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICB9XG5cbiAgdmFyIHRleHREZWxpbWl0ZXJSZWdleCA9IG5ldyBSZWdFeHAoXCJcXFxcXCIgKyB0ZXh0RGVsaW1pdGVyLCAnZycpO1xuICB2YXIgZXNjYXBlZERlbGltaXRlciA9IHRleHREZWxpbWl0ZXIgKyB0ZXh0RGVsaW1pdGVyO1xuXG4gIHZhciBlbmNsb3NpbmdDb25kaXRpb24gPSB0ZXh0RGVsaW1pdGVyID09PSAnXCInID8gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLmluZGV4T2Yocm93RGVsaW1pdGVyKSA+PSAwIHx8IHZhbHVlLmluZGV4T2YoZW5kT2ZMaW5lKSA+PSAwIHx8IHZhbHVlLmluZGV4T2YoJ1wiJykgPj0gMDtcbiAgfSA6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKHJvd0RlbGltaXRlcikgPj0gMCB8fCB2YWx1ZS5pbmRleE9mKGVuZE9mTGluZSkgPj0gMDtcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKGZvcmNlVGV4dERlbGltaXRlcikgdmFsdWUgPSBcIlwiICsgdmFsdWU7XG5cbiAgICBpZiAoIXZhbHVlLnJlcGxhY2UpIHJldHVybiB2YWx1ZTtcbiAgICAvLyBFc2NhcGUgdGhlIHRleHREZWxpbWl0ZXJzIGNvbnRhaW5lZCBpbiB0aGUgZmllbGRcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UodGV4dERlbGltaXRlclJlZ2V4LCBlc2NhcGVkRGVsaW1pdGVyKTtcblxuICAgIC8vIEVzY2FwZSB0aGUgd2hvbGUgZmllbGQgaWYgaXQgY29udGFpbnMgYSByb3dEZWxpbWl0ZXIgb3IgYSBsaW5lYnJlYWsgb3IgZG91YmxlIHF1b3RlXG4gICAgaWYgKGZvcmNlVGV4dERlbGltaXRlciB8fCBlbmNsb3NpbmdDb25kaXRpb24odmFsdWUpKSB7XG4gICAgICB2YWx1ZSA9IHRleHREZWxpbWl0ZXIgKyB2YWx1ZSArIHRleHREZWxpbWl0ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzLmlzRnVuY3Rpb24gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICB2YXIgZ2V0VHlwZSA9IHt9O1xuICAgIHJldHVybiBmbiAmJiBnZXRUeXBlLnRvU3RyaW5nLmNhbGwoZm4pID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxubW9kdWxlLmV4cG9ydHMuaXNBcnJheSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpO1xufTtcblxubW9kdWxlLmV4cG9ydHMuaXNPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE9iamVjdDtcbn07XG5cbm1vZHVsZS5leHBvcnRzLmlzU3RyaW5nID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJztcbn07XG5cbm1vZHVsZS5leHBvcnRzLmlzTnVtYmVyID0gZnVuY3Rpb24gKG51bSkge1xuICAgIHJldHVybiB0eXBlb2YgbnVtID09PSAnbnVtYmVyJztcbn07XG5cbm1vZHVsZS5leHBvcnRzLmlzQm9vbGVhbiA9IGZ1bmN0aW9uIChib29sKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBib29sID09PSAnYm9vbGVhbic7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5pc0RhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgIHJldHVybiBkYXRlIGluc3RhbmNlb2YgRGF0ZTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRU9MID0gcmVxdWlyZSgnLi9lb2wnKTtcbnZhciBoZWxwZXIgPSByZXF1aXJlKCcuL2hlbHBlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGpvaW5Sb3dzKHJvd3MsIGpvaW4pIHtcbiAgaWYgKCFyb3dzIHx8ICFoZWxwZXIuaXNBcnJheShyb3dzKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcGFyYW1zIFwicm93c1wiIGZvciBqb2luUm93cy4nICsgJyBNdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZy4nKTtcbiAgfVxuICAvL01lcmdlIGFsbCByb3dzIGluIGEgc2luZ2xlIG91dHB1dCB3aXRoIHRoZSBjb3JyZWN0IEVuZCBvZiBMaW5lIHN0cmluZ1xuICB2YXIgciA9IHJvd3Muam9pbihqb2luIHx8IEVPTCB8fCAnXFxuJyk7XG4gIHJldHVybiByO1xufTsiLCIvKiBqc2hpbnQgbm9kZTp0cnVlICovXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgU3RyZWFtID0gZnVuY3Rpb24gKF9UcmFuc2Zvcm0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJqc29uZXhwb3J0IGNhbGxlZCB3aXRob3V0IHRoaXJkIGFyZ3VtZW50IGFzIGEgY2FsbGJhY2sgYW5kIGlzIHJlcXVpcmVkXCIpXG4gIH1cblxuICBtb2R1bGUuZXhwb3J0cyA9IFN0cmVhbTtcbiAgIiwiLyoganNoaW50IG5vZGU6dHJ1ZSAqL1xuJ3VzZSBzdHJpY3QnO1xuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG4vL2NvbnN0IF8gPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG5cbnZhciBQYXJzZXIgPSByZXF1aXJlKCcuL3BhcnNlci9jc3YnKTtcbnZhciBTdHJlYW0gPSByZXF1aXJlKCcuL2NvcmUvc3RyZWFtJyk7XG52YXIgaGVscGVyID0gcmVxdWlyZSgnLi9jb3JlL2hlbHBlcicpO1xuXG4vKipcbiAqIE1haW4gZnVuY3Rpb24gdGhhdCBjb252ZXJ0cyBqc29uIHRvIGNzdlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBqc29uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayhlcnIsIGNzdikgLSBDYWxsYmFjayBmdW5jdGlvblxuICogICAgICBpZiBlcnJvciwgcmV0dXJuaW5nIGVycm9yIGluIGNhbGwgYmFjay5cbiAqICAgICAgaWYgY3N2IGlzIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LCByZXR1cm5pbmcgY3N2IG91dHB1dCB0byBjYWxsYmFjay5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoanNvbiwgdXNlck9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIGlmIChoZWxwZXIuaXNGdW5jdGlvbih1c2VyT3B0aW9ucykpIHtcbiAgICBjYWxsYmFjayA9IHVzZXJPcHRpb25zO1xuICAgIHVzZXJPcHRpb25zID0ge307XG4gIH1cbiAgdXNlck9wdGlvbnMgPSAhY2FsbGJhY2sgPyBqc29uIDogdXNlck9wdGlvbnM7XG4gIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKHVzZXJPcHRpb25zKTtcbiAgaWYgKCFjYWxsYmFjayB8fCAhaGVscGVyLmlzRnVuY3Rpb24oY2FsbGJhY2spKSByZXR1cm4gbmV3IFN0cmVhbShwYXJzZXIpO1xuICBwYXJzZXIucGFyc2UoanNvbiwgY2FsbGJhY2spO1xufTsiLCIvKiBqc2hpbnQgbm9kZTp0cnVlICovXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgRU9MID0gcmVxdWlyZSgnLi4vY29yZS9lb2wnKTtcbnZhciBqb2luUm93cyA9IHJlcXVpcmUoJy4uL2NvcmUvam9pbi1yb3dzJyk7XG52YXIgSGFuZGxlciA9IHJlcXVpcmUoJy4vaGFuZGxlcicpO1xudmFyIGhlbHBlciA9IHJlcXVpcmUoJy4uL2NvcmUvaGVscGVyJyk7XG5cbnZhciBQYXJzZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBhcnNlcihvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnNlcik7XG5cbiAgICB0aGlzLl9vcHRpb25zID0gdGhpcy5fcGFyc2VPcHRpb25zKG9wdGlvbnMpIHx8IHt9O1xuICAgIHRoaXMuX2hhbmRsZXIgPSBuZXcgSGFuZGxlcih0aGlzLl9vcHRpb25zKTtcbiAgICB0aGlzLl9oZWFkZXJzID0gdGhpcy5fb3B0aW9ucy5oZWFkZXJzIHx8IFtdO1xuICAgIHRoaXMuX2VzY2FwZSA9IHJlcXVpcmUoJy4uL2NvcmUvZXNjYXBlLWRlbGltaXRlcnMnKSh0aGlzLl9vcHRpb25zLnRleHREZWxpbWl0ZXIsIHRoaXMuX29wdGlvbnMucm93RGVsaW1pdGVyLCB0aGlzLl9vcHRpb25zLmZvcmNlVGV4dERlbGltaXRlcik7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgQ1NWIGZpbGUgd2l0aCBvcHRpb25hbCBoZWFkZXJzIGJhc2VkIG9uIHRoZSBwYXNzZWQgSlNPTixcbiAgICogd2l0aCBjYW4gYmUgYW4gT2JqZWN0IG9yIEFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0ganNvblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkb25lKGVycixjc3YpIC0gQ2FsbGJhY2sgZnVuY3Rpb25cbiAgICogICAgICBpZiBlcnJvciwgcmV0dXJuaW5nIGVycm9yIGluIGNhbGwgYmFjay5cbiAgICogICAgICBpZiBjc3YgaXMgY3JlYXRlZCBzdWNjZXNzZnVsbHksIHJldHVybmluZyBjc3Ygb3V0cHV0IHRvIGNhbGxiYWNrLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhQYXJzZXIsIFt7XG4gICAga2V5OiAncGFyc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZShqc29uLCBkb25lLCBzdHJlYW0pIHtcbiAgICAgIGlmIChoZWxwZXIuaXNBcnJheShqc29uKSkgcmV0dXJuIGRvbmUobnVsbCwgdGhpcy5fcGFyc2VBcnJheShqc29uLCBzdHJlYW0pKTtlbHNlIGlmIChoZWxwZXIuaXNPYmplY3QoanNvbikpIHJldHVybiBkb25lKG51bGwsIHRoaXMuX3BhcnNlT2JqZWN0KGpzb24pKTtcbiAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcignVW5hYmxlIHRvIHBhcnNlIHRoZSBKU09OIG9iamVjdCwgaXRzIG5vdCBhbiBBcnJheSBvciBPYmplY3QuJykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19jaGVja1Jvd3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2hlY2tSb3dzKHJvd3MpIHtcbiAgICAgIHZhciBsYXN0Um93ID0gbnVsbDtcbiAgICAgIHZhciBmaW5hbFJvd3MgPSBbXTtcbiAgICAgIHZhciBmaWxsR2FwcyA9IGZ1bmN0aW9uIGZpbGxHYXBzKGNvbCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGNvbCA9PT0gJycgfHwgY29sID09PSB1bmRlZmluZWQgPyBsYXN0Um93W2luZGV4XSA6IGNvbDtcbiAgICAgIH07XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gcm93c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgcm93ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICB2YXIgbWlzc2luZyA9IHRoaXMuX2hlYWRlcnMubGVuZ3RoIC0gcm93Lmxlbmd0aDtcbiAgICAgICAgICBpZiAobWlzc2luZyA+IDApIHJvdyA9IHJvdy5jb25jYXQoQXJyYXkobWlzc2luZykuam9pbihcIi5cIikuc3BsaXQoXCIuXCIpKTtcbiAgICAgICAgICBpZiAobGFzdFJvdyAmJiB0aGlzLl9vcHRpb25zLmZpbGxHYXBzKSByb3cgPSByb3cubWFwKGZpbGxHYXBzKTtcbiAgICAgICAgICBmaW5hbFJvd3MucHVzaChyb3cuam9pbih0aGlzLl9vcHRpb25zLnJvd0RlbGltaXRlcikpO1xuICAgICAgICAgIGxhc3RSb3cgPSByb3c7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmluYWxSb3dzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19wYXJzZUFycmF5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3BhcnNlQXJyYXkoanNvbiwgc3RyZWFtKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLl9oZWFkZXJzID0gdGhpcy5faGVhZGVycyB8fCBbXTtcbiAgICAgIHZhciBmaWxlUm93cyA9IFtdO1xuICAgICAgdmFyIG91dHB1dEZpbGUgPSB2b2lkIDA7XG4gICAgICB2YXIgZmlsbFJvd3MgPSB2b2lkIDA7XG5cbiAgICAgIHZhciBnZXRIZWFkZXJJbmRleCA9IGZ1bmN0aW9uIGdldEhlYWRlckluZGV4KGhlYWRlcikge1xuICAgICAgICB2YXIgaW5kZXggPSBzZWxmLl9oZWFkZXJzLmluZGV4T2YoaGVhZGVyKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHNlbGYuX2hlYWRlcnMucHVzaChoZWFkZXIpO1xuICAgICAgICAgIGluZGV4ID0gc2VsZi5faGVhZGVycy5pbmRleE9mKGhlYWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfTtcblxuICAgICAgLy9HZW5lcmF0ZSB0aGUgY3N2IG91dHB1dFxuICAgICAgZmlsbFJvd3MgPSBmdW5jdGlvbiBmaWxsUm93cyhyZXN1bHQpIHtcbiAgICAgICAgdmFyIHJvd3MgPSBbXTtcbiAgICAgICAgdmFyIGZpbGxBbmRQdXNoID0gZnVuY3Rpb24gZmlsbEFuZFB1c2gocm93KSB7XG4gICAgICAgICAgcmV0dXJuIHJvd3MucHVzaChyb3cubWFwKGZ1bmN0aW9uIChjb2wpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2wgfHwgJyc7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBhcnJheSB3aXRoIGVtcHR5IHN0cmluZ3MgdG8gaGFuZGxlICd1bnBvcHVsYXInIGhlYWRlcnNcbiAgICAgICAgdmFyIG5ld1JvdyA9IGZ1bmN0aW9uIG5ld1JvdygpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFycmF5KHNlbGYuX2hlYWRlcnMubGVuZ3RoKS5maWxsKG51bGwpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZW1wdHlSb3dJbmRleEJ5SGVhZGVyID0ge307XG4gICAgICAgIHZhciBjdXJyZW50Um93ID0gbmV3Um93KCk7XG4gICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSByZXN1bHRbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgZWxlbWVudEhlYWRlckluZGV4ID0gZ2V0SGVhZGVySW5kZXgoZWxlbWVudC5pdGVtKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Um93W2VsZW1lbnRIZWFkZXJJbmRleF0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGZpbGxBbmRQdXNoKGN1cnJlbnRSb3cpO1xuICAgICAgICAgICAgICBjdXJyZW50Um93ID0gbmV3Um93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbXB0eVJvd0luZGV4QnlIZWFkZXJbZWxlbWVudEhlYWRlckluZGV4XSA9IGVtcHR5Um93SW5kZXhCeUhlYWRlcltlbGVtZW50SGVhZGVySW5kZXhdIHx8IDA7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlcmUgaXNudCBhIGVtcHR5IHJvdyBmb3IgdGhpcyBoZWFkZXJcbiAgICAgICAgICAgIGlmIChlbXB0eVJvd0luZGV4QnlIZWFkZXJbZWxlbWVudEhlYWRlckluZGV4XSA8IHJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJvd3NbZW1wdHlSb3dJbmRleEJ5SGVhZGVyW2VsZW1lbnRIZWFkZXJJbmRleF1dW2VsZW1lbnRIZWFkZXJJbmRleF0gPSBzZWxmLl9lc2NhcGUoZWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICAgIGVtcHR5Um93SW5kZXhCeUhlYWRlcltlbGVtZW50SGVhZGVySW5kZXhdICs9IDE7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFJvd1tlbGVtZW50SGVhZGVySW5kZXhdID0gc2VsZi5fZXNjYXBlKGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgZW1wdHlSb3dJbmRleEJ5SGVhZGVyW2VsZW1lbnRIZWFkZXJJbmRleF0gKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gcHVzaCBsYXN0IHJvd1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudFJvdy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZmlsbEFuZFB1c2goY3VycmVudFJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgZmlsZVJvd3MgPSBmaWxlUm93cy5jb25jYXQoc2VsZi5fY2hlY2tSb3dzKHJvd3MpKTtcbiAgICAgIH07XG4gICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IGpzb25bU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgIC8vQ2FsbCBjaGVja1R5cGUgdG8gbGlzdCBhbGwgaXRlbXMgaW5zaWRlIHRoaXMgb2JqZWN0XG4gICAgICAgICAgLy9JdGVtcyBhcmUgcmV0dXJuZWQgYXMgYSBvYmplY3Qge2l0ZW06ICdQcm9wIFZhbHVlLCBJdGVtIE5hbWUnLCB2YWx1ZTogJ1Byb3AgRGF0YSBWYWx1ZSd9XG4gICAgICAgICAgdmFyIGl0ZW1SZXN1bHQgPSBzZWxmLl9oYW5kbGVyLmNoZWNrKGl0ZW0sIHNlbGYuX29wdGlvbnMubWFpblBhdGhJdGVtLCBpdGVtLCBqc29uKTtcbiAgICAgICAgICBmaWxsUm93cyhpdGVtUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXN0cmVhbSAmJiBzZWxmLl9vcHRpb25zLmluY2x1ZGVIZWFkZXJzKSB7XG4gICAgICAgIC8vQWRkIHRoZSBoZWFkZXJzIHRvIHRoZSBmaXJzdCBsaW5lXG4gICAgICAgIGZpbGVSb3dzLnVuc2hpZnQodGhpcy5oZWFkZXJzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGpvaW5Sb3dzKGZpbGVSb3dzLCBzZWxmLl9vcHRpb25zLmVuZE9mTGluZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3BhcnNlT2JqZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3BhcnNlT2JqZWN0KGpzb24pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBmaWxlUm93cyA9IFtdO1xuICAgICAgdmFyIHBhcnNlUmVzdWx0ID0gW107XG4gICAgICB2YXIgb3V0cHV0RmlsZSA9IHZvaWQgMDtcbiAgICAgIHZhciBmaWxsUm93cyA9IHZvaWQgMDtcbiAgICAgIHZhciBob3Jpem9udGFsUm93cyA9IFtbXSwgW11dO1xuXG4gICAgICBmaWxsUm93cyA9IGZ1bmN0aW9uIGZpbGxSb3dzKHJlc3VsdCkge1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWUgPyByZXN1bHQudmFsdWUudG9TdHJpbmcoKSA6IHNlbGYuX29wdGlvbnMudW5kZWZpbmVkU3RyaW5nO1xuICAgICAgICB2YWx1ZSA9IHNlbGYuX2VzY2FwZSh2YWx1ZSk7XG5cbiAgICAgICAgLy9UeXBlIGhlYWRlcjt2YWx1ZVxuICAgICAgICBpZiAoc2VsZi5fb3B0aW9ucy52ZXJ0aWNhbE91dHB1dCkge1xuICAgICAgICAgIHZhciByb3cgPSBbcmVzdWx0Lml0ZW0sIHZhbHVlXTtcbiAgICAgICAgICBmaWxlUm93cy5wdXNoKHJvdy5qb2luKHNlbGYuX29wdGlvbnMucm93RGVsaW1pdGVyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaG9yaXpvbnRhbFJvd3NbMF0ucHVzaChyZXN1bHQuaXRlbSk7XG4gICAgICAgICAgaG9yaXpvbnRhbFJvd3NbMV0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGpzb24pIHtcbiAgICAgICAgdmFyIHByZWZpeCA9IFwiXCI7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm1haW5QYXRoSXRlbSkgcHJlZml4ID0gdGhpcy5fb3B0aW9ucy5tYWluUGF0aEl0ZW0gKyB0aGlzLl9vcHRpb25zLmhlYWRlclBhdGhTdHJpbmc7XG4gICAgICAgIHBhcnNlUmVzdWx0ID0gdGhpcy5faGFuZGxlci5jaGVjayhqc29uW3Byb3BdLCBwcmVmaXggKyBwcm9wLCBwcm9wLCBqc29uKTtcblxuICAgICAgICBwYXJzZVJlc3VsdC5mb3JFYWNoKGZpbGxSb3dzKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5fb3B0aW9ucy52ZXJ0aWNhbE91dHB1dCkge1xuICAgICAgICBmaWxlUm93cy5wdXNoKGhvcml6b250YWxSb3dzWzBdLmpvaW4odGhpcy5fb3B0aW9ucy5yb3dEZWxpbWl0ZXIpKTtcbiAgICAgICAgZmlsZVJvd3MucHVzaChob3Jpem9udGFsUm93c1sxXS5qb2luKHRoaXMuX29wdGlvbnMucm93RGVsaW1pdGVyKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gam9pblJvd3MoZmlsZVJvd3MsIHRoaXMuX29wdGlvbnMuZW5kT2ZMaW5lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyB0aGUgZGVmYXVsdCBvcHRpb25zIHdpdGggdGhlIGN1c3RvbSB1c2VyIG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T3B0aW9uc30gdXNlck9wdGlvbnNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3BhcnNlT3B0aW9ucycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wYXJzZU9wdGlvbnModXNlck9wdGlvbnMpIHtcbiAgICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgaGVhZGVyczogW10sIC8vICAgICAgICAgICAgICBBcnJheVxuICAgICAgICByZW5hbWU6IFtdLCAvLyAgICAgICAgICAgICAgIEFycmF5XG4gICAgICAgIGhlYWRlclBhdGhTdHJpbmc6ICcuJywgLy8gICAgU3RyaW5nXG4gICAgICAgIHJvd0RlbGltaXRlcjogJywnLCAvLyAgICAgICAgU3RyaW5nXG4gICAgICAgIHRleHREZWxpbWl0ZXI6ICdcIicsIC8vICAgICAgIFN0cmluZ1xuICAgICAgICBhcnJheVBhdGhTdHJpbmc6ICc7JywgLy8gICAgIFN0cmluZ1xuICAgICAgICB1bmRlZmluZWRTdHJpbmc6ICcnLCAvLyAgICAgIFN0cmluZ1xuICAgICAgICBlbmRPZkxpbmU6IEVPTCB8fCAnXFxuJywgLy8gICBTdHJpbmdcbiAgICAgICAgbWFpblBhdGhJdGVtOiBudWxsLCAvLyAgICAgICBTdHJpbmdcbiAgICAgICAgYm9vbGVhblRydWVTdHJpbmc6IG51bGwsIC8vICBTdHJpbmdcbiAgICAgICAgYm9vbGVhbkZhbHNlU3RyaW5nOiBudWxsLCAvLyBTdHJpbmdcbiAgICAgICAgaW5jbHVkZUhlYWRlcnM6IHRydWUsIC8vICAgICBCb29sZWFuXG4gICAgICAgIGZpbGxHYXBzOiBmYWxzZSwgLy8gICAgICAgICAgQm9vbGVhblxuICAgICAgICB2ZXJ0aWNhbE91dHB1dDogdHJ1ZSwgLy8gICAgIEJvb2xlYW5cbiAgICAgICAgZm9yY2VUZXh0RGVsaW1pdGVyOiBmYWxzZSwgLy9Cb29sZWFuXG4gICAgICAgIC8vSGFuZGxlcnNcbiAgICAgICAgaGFuZGxlU3RyaW5nOiB1bmRlZmluZWQsIC8vICBGdW5jdGlvblxuICAgICAgICBoYW5kbGVOdW1iZXI6IHVuZGVmaW5lZCwgLy8gIEZ1bmN0aW9uXG4gICAgICAgIGhhbmRsZUJvb2xlYW46IHVuZGVmaW5lZCwgLy8gRnVuY3Rpb25cbiAgICAgICAgaGFuZGxlRGF0ZTogdW5kZWZpbmVkIC8vICAgIEZ1bmN0aW9uXG4gICAgICB9O1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCB1c2VyT3B0aW9ucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGVhZGVycycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgaGVhZGVycyA9IHRoaXMuX2hlYWRlcnM7XG5cbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLnJlbmFtZSAmJiB0aGlzLl9vcHRpb25zLnJlbmFtZS5sZW5ndGggPiAwKSBoZWFkZXJzID0gaGVhZGVycy5tYXAoZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgICByZXR1cm4gX3RoaXMuX29wdGlvbnMucmVuYW1lW190aGlzLl9vcHRpb25zLmhlYWRlcnMuaW5kZXhPZihoZWFkZXIpXSB8fCBoZWFkZXI7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuX29wdGlvbnMuZm9yY2VUZXh0RGVsaW1pdGVyKSB7XG4gICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLm1hcChmdW5jdGlvbiAoaGVhZGVyKSB7XG4gICAgICAgICAgcmV0dXJuICcnICsgX3RoaXMuX29wdGlvbnMudGV4dERlbGltaXRlciArIGhlYWRlciArIF90aGlzLl9vcHRpb25zLnRleHREZWxpbWl0ZXI7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5tYXBIZWFkZXJzKSBoZWFkZXJzID0gaGVhZGVycy5tYXAodGhpcy5fb3B0aW9ucy5tYXBIZWFkZXJzKTtcblxuICAgICAgcmV0dXJuIGhlYWRlcnMuam9pbih0aGlzLl9vcHRpb25zLnJvd0RlbGltaXRlcik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBhcnNlcjtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYXJzZXI7IiwiLyoganNoaW50IG5vZGU6dHJ1ZSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBoZWxwZXIgPSByZXF1aXJlKCcuLi9jb3JlL2hlbHBlcicpO1xuXG52YXIgSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSGFuZGxlcihvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhhbmRsZXIpO1xuXG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAvL2FuIG9iamVjdCBvZiB7dHlwZU5hbWU6KHZhbHVlLGluZGV4LHBhcmVudCk9PmFueX1cbiAgICB0aGlzLl9vcHRpb25zLnR5cGVIYW5kbGVycyA9IHRoaXMuX29wdGlvbnMudHlwZUhhbmRsZXJzIHx8IHt9O1xuXG4gICAgLy9kZXByZWNhdGVkIG9wdGlvbnNcbiAgICB0aGlzLl9vcHRpb25zLmhhbmRsZVN0cmluZyA9IHRoaXMuX29wdGlvbnMuaGFuZGxlU3RyaW5nID8gd2FybkRlcE9wKCdoYW5kbGVTdHJpbmcnLCB0aGlzLl9vcHRpb25zLmhhbmRsZVN0cmluZykgOiB0aGlzLl9oYW5kbGVTdHJpbmc7XG4gICAgdGhpcy5fb3B0aW9ucy5oYW5kbGVOdW1iZXIgPSB0aGlzLl9vcHRpb25zLmhhbmRsZU51bWJlciA/IHdhcm5EZXBPcCgnaGFuZGxlTnVtYmVyJywgdGhpcy5fb3B0aW9ucy5oYW5kbGVOdW1iZXIpIDogdGhpcy5faGFuZGxlTnVtYmVyO1xuICAgIHRoaXMuX29wdGlvbnMuaGFuZGxlQm9vbGVhbiA9IHRoaXMuX29wdGlvbnMuaGFuZGxlQm9vbGVhbiA/IHdhcm5EZXBPcCgnaGFuZGxlQm9vbGVhbicsIHRoaXMuX29wdGlvbnMuaGFuZGxlQm9vbGVhbikgOiB0aGlzLl9oYW5kbGVCb29sZWFuO1xuICAgIHRoaXMuX29wdGlvbnMuaGFuZGxlRGF0ZSA9IHRoaXMuX29wdGlvbnMuaGFuZGxlRGF0ZSA/IHdhcm5EZXBPcCgnaGFuZGxlRGF0ZScsIHRoaXMuX29wdGlvbnMuaGFuZGxlRGF0ZSkgOiB0aGlzLl9oYW5kbGVEYXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHJlc3VsdHMgbmVlZGluZyBtYXBwaW5nIHRvIGFsdGVybmF0ZSB2YWx1ZVxuICAgKlxuICAgKiBAcmV0dXJucyBbe2l0ZW0sIHZhbHVlfV0gcmVzdWx0XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEhhbmRsZXIsIFt7XG4gICAga2V5OiAnX3NldEhlYWRlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0SGVhZGVycyhyZXN1bHQsIGl0ZW0pIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmICghaXRlbSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIHJldHVybiByZXN1bHQubWFwKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuaXRlbSA9IGVsZW1lbnQuaXRlbSA/IGl0ZW0gKyBzZWxmLl9vcHRpb25zLmhlYWRlclBhdGhTdHJpbmcgKyBlbGVtZW50Lml0ZW0gOiBpdGVtO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Nhc3RWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhc3RWYWx1ZShlbGVtZW50LCBpdGVtLCBpbmRleCwgcGFyZW50KSB7XG4gICAgICAvL2Nhc3QgYnkgbWF0Y2hpbmcgY29uc3RydWN0b3JcbiAgICAgIHZhciB0eXBlcyA9IHRoaXMuX29wdGlvbnMudHlwZUhhbmRsZXJzO1xuICAgICAgZm9yICh2YXIgdHlwZSBpbiB0eXBlcykge1xuICAgICAgICBpZiAoaXNJbnN0YW5jZU9mVHlwZU5hbWUoZWxlbWVudCwgdHlwZSkpIHtcbiAgICAgICAgICBlbGVtZW50ID0gdHlwZXNbdHlwZV0uY2FsbCh0eXBlcywgZWxlbWVudCwgaW5kZXgsIHBhcmVudCk7XG4gICAgICAgICAgYnJlYWs7IC8vZmlyc3QgbWF0Y2ggd2UgbW92ZSBvblxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NoZWNrQ29tcGxleCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrQ29tcGxleChlbGVtZW50LCBpdGVtKSB7XG4gICAgICAvL0NoZWNrIGlmIGVsZW1lbnQgaXMgYSBEYXRlXG4gICAgICBpZiAoaGVscGVyLmlzRGF0ZShlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLl9vcHRpb25zLmhhbmRsZURhdGUoZWxlbWVudCwgaXRlbSlcbiAgICAgICAgfV07XG4gICAgICB9XG4gICAgICAvL0NoZWNrIGlmIGVsZW1lbnQgaXMgYW4gQXJyYXlcbiAgICAgIGVsc2UgaWYgKGhlbHBlci5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdEFycmF5ID0gdGhpcy5faGFuZGxlQXJyYXkoZWxlbWVudCwgaXRlbSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3NldEhlYWRlcnMocmVzdWx0QXJyYXksIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIC8vQ2hlY2sgaWYgZWxlbWVudCBpcyBhIE9iamVjdFxuICAgICAgICBlbHNlIGlmIChoZWxwZXIuaXNPYmplY3QoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRPYmplY3QgPSB0aGlzLl9oYW5kbGVPYmplY3QoZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0SGVhZGVycyhyZXN1bHRPYmplY3QsIGl0ZW0pO1xuICAgICAgICAgIH1cblxuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgIHZhbHVlOiAnJ1xuICAgICAgfV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhlIGVsZW1lbnQgdHlwZSBvZiB0aGUgZWxlbWVudCBjYWxsIHRoZSBjb3JyZWN0IGhhbmRsZSBmdW5jdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgRWxlbWVudCB0aGF0IHdpbGwgYmUgY2hlY2tlZFxuICAgICAqIEBwYXJhbSBpdGVtIFVzZWQgdG8gbWFrZSB0aGUgaGVhZGVycy9wYXRoIGJyZWFkY3J1bWJcbiAgICAgKiBAcmV0dXJucyBbe2l0ZW0sIHZhbHVlfV0gcmVzdWx0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NoZWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2soZWxlbWVudCwgaXRlbSwgaW5kZXgsIHBhcmVudCkge1xuICAgICAgZWxlbWVudCA9IHRoaXMuY2FzdFZhbHVlKGVsZW1lbnQsIGl0ZW0sIGluZGV4LCBwYXJlbnQpO1xuXG4gICAgICAvL3RyeSBzaW1wbGUgdmFsdWUgYnkgaGlnaGllciBwZXJmb3JtYW5jZSBzd2l0Y2hcbiAgICAgIHN3aXRjaCAodHlwZW9mIGVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGVsZW1lbnQpKSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuX29wdGlvbnMuaGFuZGxlU3RyaW5nKGVsZW1lbnQsIGl0ZW0pXG4gICAgICAgICAgfV07XG5cbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5fb3B0aW9ucy5oYW5kbGVOdW1iZXIoZWxlbWVudCwgaXRlbSlcbiAgICAgICAgICB9XTtcblxuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5fb3B0aW9ucy5oYW5kbGVCb29sZWFuLmJpbmQodGhpcykoZWxlbWVudCwgaXRlbSlcbiAgICAgICAgICB9XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY2hlY2tDb21wbGV4KGVsZW1lbnQsIGl0ZW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbGwgT2JqZWN0c1xuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuICAgICAqIEByZXR1cm5zIFt7aXRlbSwgdmFsdWV9XSByZXN1bHRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZU9iamVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVPYmplY3Qob2JqKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAvL0xvb2sgZXZlcnkgb2JqZWN0IHByb3BzXG4gICAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICB2YXIgcHJvcERhdGEgPSBvYmpbcHJvcF07XG4gICAgICAgIC8vQ2hlY2sgdGhlIHByb3BEYXRhIHR5cGVcbiAgICAgICAgdmFyIHJlc3VsdENoZWNrVHlwZSA9IHRoaXMuY2hlY2socHJvcERhdGEsIHByb3AsIHByb3AsIG9iaik7XG4gICAgICAgIC8vQXBwZW5kIHRvIHJlc3VsdHMgYWthIG1lcmdlIHJlc3VsdHMgYWthIGFycmF5LWFwcGVuZC1hcnJheVxuICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHJlc3VsdENoZWNrVHlwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbGwgQXJyYXlzLCBtZXJnZXMgYXJyYXlzIHdpdGggcHJpbWl0aXZlIHR5cGVzIGluIGEgc2luZ2xlIHZhbHVlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICAgICAqIEByZXR1cm5zIFt7aXRlbSwgdmFsdWV9XSByZXN1bHRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZUFycmF5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUFycmF5KGFycmF5KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB2YXIgZmlyc3RFbGVtZW50V2l0aG91dEl0ZW07XG4gICAgICBmb3IgKHZhciBhSW5kZXggPSAwOyBhSW5kZXggPCBhcnJheS5sZW5ndGg7ICsrYUluZGV4KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gYXJyYXlbYUluZGV4XTtcbiAgICAgICAgLy9DaGVjayB0aGUgcHJvcERhdGEgdHlwZVxuICAgICAgICB2YXIgcmVzdWx0Q2hlY2tUeXBlID0gc2VsZi5jaGVjayhlbGVtZW50LCBudWxsLCBhSW5kZXgsIGFycmF5KTtcbiAgICAgICAgLy9DaGVjayBmb3IgcmVzdWx0cyB3aXRob3V0IGl0ZW5zLCBtZXJnZSBhbGwgaXRlbnMgd2l0aCB0aGUgZmlyc3Qgb2NjdXJyZW5jZVxuICAgICAgICBpZiAocmVzdWx0Q2hlY2tUeXBlLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgICAgIHZhciBmaXJzdFJlc3VsdCA9IHJlc3VsdENoZWNrVHlwZVswXTtcbiAgICAgICAgaWYgKCFmaXJzdFJlc3VsdC5pdGVtICYmIGZpcnN0RWxlbWVudFdpdGhvdXRJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmaXJzdEVsZW1lbnRXaXRob3V0SXRlbS52YWx1ZSArPSBzZWxmLl9vcHRpb25zLmFycmF5UGF0aFN0cmluZyArIGZpcnN0UmVzdWx0LnZhbHVlO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdENoZWNrVHlwZS5sZW5ndGggPiAwICYmICFmaXJzdFJlc3VsdC5pdGVtICYmIGZpcnN0RWxlbWVudFdpdGhvdXRJdGVtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmaXJzdEVsZW1lbnRXaXRob3V0SXRlbSA9IGZpcnN0UmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vQXBwZW5kIHRvIHJlc3VsdHNcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChyZXN1bHRDaGVja1R5cGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFsbCBCb29sZWFuIHZhcmlhYmxlcywgY2FuIGJlIHJlcGxhY2VkIHdpdGggb3B0aW9ucy5oYW5kbGVCb29sZWFuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXN1bHRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZUJvb2xlYW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlQm9vbGVhbihib29sZWFuKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgLy9DaGVjayBmb3IgYm9vb2xlYW4gb3B0aW9uc1xuICAgICAgaWYgKGJvb2xlYW4pIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5fb3B0aW9ucy5ib29sZWFuVHJ1ZVN0cmluZyB8fCAndHJ1ZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLl9vcHRpb25zLmJvb2xlYW5GYWxzZVN0cmluZyB8fCAnZmFsc2UnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFsbCBTdHJpbmcgdmFyaWFibGVzLCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBvcHRpb25zLmhhbmRsZVN0cmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZ1xuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZ1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfaGFuZGxlU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVN0cmluZyhzdHJpbmcpIHtcbiAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbGwgTnVtYmVyIHZhcmlhYmxlcywgY2FuIGJlIHJlcGxhY2VkIHdpdGggb3B0aW9ucy5oYW5kbGVOdW1iZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBudW1iZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZU51bWJlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVOdW1iZXIobnVtYmVyKSB7XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYWxsIERhdGUgdmFyaWFibGVzLCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBvcHRpb25zLmhhbmRsZURhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RGF0ZX0gbnVtYmVyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gcmVzdWx0XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19oYW5kbGVEYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZURhdGUoZGF0ZSkge1xuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhhbmRsZXI7XG59KCk7XG5cbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlcjtcblxuZnVuY3Rpb24gd2FybkRlcE9wKG9wdGlvbk5hbWUsIGJhY2tPdXQpIHtcbiAgY29uc29sZS53YXJuKFwiW2pzb25leHBvcnRdOiBvcHRpb24gXCIgKyBvcHRpb25OYW1lICsgXCIgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIG9wdGlvbi50eXBlSGFuZGxlcnNcIik7XG4gIHJldHVybiBiYWNrT3V0O1xufVxuXG52YXIgZ2xvYmFsU2NvcGUgPSB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogd2luZG93O1xuZnVuY3Rpb24gaXNJbnN0YW5jZU9mVHlwZU5hbWUoZWxlbWVudCwgdHlwZU5hbWUpIHtcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBnbG9iYWxTY29wZVt0eXBlTmFtZV0pIHtcbiAgICByZXR1cm4gdHJ1ZTsgLy9CdWZmZXIgYW5kIGNvbXBsZXggb2JqZWN0c1xuICB9XG5cbiAgLy9saXRlcmFscyBpbiBqYXZhc2NyaXB0IGNhbm5vdCBiZSBjaGVja2VkIGJ5IGluc3RhbmNlIG9mXG4gIHN3aXRjaCAodHlwZW9mIGVsZW1lbnQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGVsZW1lbnQpKSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB0eXBlTmFtZSA9PT0gXCJTdHJpbmdcIjtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB0eXBlTmFtZSA9PT0gXCJCb29sZWFuXCI7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiB0eXBlTmFtZSA9PT0gXCJOdW1iZXJcIjtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn0iLCJ2YXIgYmFzZUFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYmFzZUFzc2lnblZhbHVlJyksXG4gICAgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduTWVyZ2VWYWx1ZTtcbiIsInZhciBTZXRDYWNoZSA9IHJlcXVpcmUoJy4vX1NldENhY2hlJyksXG4gICAgYXJyYXlJbmNsdWRlcyA9IHJlcXVpcmUoJy4vX2FycmF5SW5jbHVkZXMnKSxcbiAgICBhcnJheUluY2x1ZGVzV2l0aCA9IHJlcXVpcmUoJy4vX2FycmF5SW5jbHVkZXNXaXRoJyksXG4gICAgYXJyYXlNYXAgPSByZXF1aXJlKCcuL19hcnJheU1hcCcpLFxuICAgIGJhc2VVbmFyeSA9IHJlcXVpcmUoJy4vX2Jhc2VVbmFyeScpLFxuICAgIGNhY2hlSGFzID0gcmVxdWlyZSgnLi9fY2FjaGVIYXMnKTtcblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gKiBmb3IgZXhjbHVkaW5nIG11bHRpcGxlIGFycmF5cyBvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gW10sXG4gICAgICB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gIGlmICghbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBpZiAoaXRlcmF0ZWUpIHtcbiAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICB9XG4gIGlmIChjb21wYXJhdG9yKSB7XG4gICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICB9XG4gIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgfVxuICBvdXRlcjpcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPT0gbnVsbCA/IHZhbHVlIDogaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgdmFyIHZhbHVlc0luZGV4ID0gdmFsdWVzTGVuZ3RoO1xuICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgaWYgKHZhbHVlc1t2YWx1ZXNJbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWluY2x1ZGVzKHZhbHVlcywgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZURpZmZlcmVuY2U7XG4iLCJ2YXIgY3JlYXRlQmFzZUZvciA9IHJlcXVpcmUoJy4vX2NyZWF0ZUJhc2VGb3InKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbnZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VGb3I7XG4iLCJ2YXIgU3RhY2sgPSByZXF1aXJlKCcuL19TdGFjaycpLFxuICAgIGFzc2lnbk1lcmdlVmFsdWUgPSByZXF1aXJlKCcuL19hc3NpZ25NZXJnZVZhbHVlJyksXG4gICAgYmFzZUZvciA9IHJlcXVpcmUoJy4vX2Jhc2VGb3InKSxcbiAgICBiYXNlTWVyZ2VEZWVwID0gcmVxdWlyZSgnLi9fYmFzZU1lcmdlRGVlcCcpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGtleXNJbiA9IHJlcXVpcmUoJy4va2V5c0luJyksXG4gICAgc2FmZUdldCA9IHJlcXVpcmUoJy4vX3NhZmVHZXQnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICogIGNvdW50ZXJwYXJ0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBiYXNlTWVyZ2UsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICB9XG4gICAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9LCBrZXlzSW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VNZXJnZTtcbiIsInZhciBhc3NpZ25NZXJnZVZhbHVlID0gcmVxdWlyZSgnLi9fYXNzaWduTWVyZ2VWYWx1ZScpLFxuICAgIGNsb25lQnVmZmVyID0gcmVxdWlyZSgnLi9fY2xvbmVCdWZmZXInKSxcbiAgICBjbG9uZVR5cGVkQXJyYXkgPSByZXF1aXJlKCcuL19jbG9uZVR5cGVkQXJyYXknKSxcbiAgICBjb3B5QXJyYXkgPSByZXF1aXJlKCcuL19jb3B5QXJyYXknKSxcbiAgICBpbml0Q2xvbmVPYmplY3QgPSByZXF1aXJlKCcuL19pbml0Q2xvbmVPYmplY3QnKSxcbiAgICBpc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vaXNBcmd1bWVudHMnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNBcnJheUxpa2VPYmplY3QgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlT2JqZWN0JyksXG4gICAgaXNCdWZmZXIgPSByZXF1aXJlKCcuL2lzQnVmZmVyJyksXG4gICAgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJy4vaXNGdW5jdGlvbicpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzUGxhaW5PYmplY3QgPSByZXF1aXJlKCcuL2lzUGxhaW5PYmplY3QnKSxcbiAgICBpc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL2lzVHlwZWRBcnJheScpLFxuICAgIHNhZmVHZXQgPSByZXF1aXJlKCcuL19zYWZlR2V0JyksXG4gICAgdG9QbGFpbk9iamVjdCA9IHJlcXVpcmUoJy4vdG9QbGFpbk9iamVjdCcpO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIG1lcmdlcyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBtZXJnZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIG1lcmdlLlxuICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAqICBjb3VudGVycGFydHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIG1lcmdlRnVuYywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICBzcmNWYWx1ZSA9IHNhZmVHZXQoc291cmNlLCBrZXkpLFxuICAgICAgc3RhY2tlZCA9IHN0YWNrLmdldChzcmNWYWx1ZSk7XG5cbiAgaWYgKHN0YWNrZWQpIHtcbiAgICBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCBzdGFja2VkKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgID8gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICA6IHVuZGVmaW5lZDtcblxuICB2YXIgaXNDb21tb24gPSBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gIGlmIChpc0NvbW1vbikge1xuICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgaXNCdWZmZXIoc3JjVmFsdWUpLFxuICAgICAgICBpc1R5cGVkID0gIWlzQXJyICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHNyY1ZhbHVlKTtcblxuICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgaWYgKGlzQXJyIHx8IGlzQnVmZiB8fCBpc1R5cGVkKSB7XG4gICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc0J1ZmYpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgbmV3VmFsdWUgPSBjbG9uZUJ1ZmZlcihzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNyY1ZhbHVlKSB8fCBpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpIHtcbiAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICBpZiAoaXNBcmd1bWVudHMob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gdG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICghaXNPYmplY3Qob2JqVmFsdWUpIHx8IGlzRnVuY3Rpb24ob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gaW5pdENsb25lT2JqZWN0KHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoaXNDb21tb24pIHtcbiAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gIH1cbiAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VNZXJnZURlZXA7XG4iLCJ2YXIgVWludDhBcnJheSA9IHJlcXVpcmUoJy4vX1VpbnQ4QXJyYXknKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lQXJyYXlCdWZmZXI7XG4iLCJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gIGlmIChpc0RlZXApIHtcbiAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbG9uZUJ1ZmZlcjtcbiIsInZhciBjbG9uZUFycmF5QnVmZmVyID0gcmVxdWlyZSgnLi9fY2xvbmVBcnJheUJ1ZmZlcicpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lVHlwZWRBcnJheTtcbiIsInZhciBhc3NpZ25WYWx1ZSA9IHJlcXVpcmUoJy4vX2Fzc2lnblZhbHVlJyksXG4gICAgYmFzZUFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYmFzZUFzc2lnblZhbHVlJyk7XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvcHlPYmplY3Q7XG4iLCJ2YXIgYmFzZVJlc3QgPSByZXF1aXJlKCcuL19iYXNlUmVzdCcpLFxuICAgIGlzSXRlcmF0ZWVDYWxsID0gcmVxdWlyZSgnLi9faXNJdGVyYXRlZUNhbGwnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICBsZW5ndGggPSAxO1xuICAgIH1cbiAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBc3NpZ25lcjtcbiIsIi8qKlxuICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUJhc2VGb3I7XG4iLCJ2YXIgYmFzZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX2Jhc2VDcmVhdGUnKSxcbiAgICBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc1Byb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2lzUHJvdG90eXBlJyk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAqL1xuZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgOiB7fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbml0Q2xvbmVPYmplY3Q7XG4iLCJ2YXIgZXEgPSByZXF1aXJlKCcuL2VxJyksXG4gICAgaXNBcnJheUxpa2UgPSByZXF1aXJlKCcuL2lzQXJyYXlMaWtlJyksXG4gICAgaXNJbmRleCA9IHJlcXVpcmUoJy4vX2lzSW5kZXgnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICkge1xuICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSXRlcmF0ZWVDYWxsO1xuIiwiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICBpZiAoa2V5ID09PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gb2JqZWN0W2tleV07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2FmZUdldDtcbiIsInZhciBiYXNlUmVzdCA9IHJlcXVpcmUoJy4vX2Jhc2VSZXN0JyksXG4gICAgZXEgPSByZXF1aXJlKCcuL2VxJyksXG4gICAgaXNJdGVyYXRlZUNhbGwgPSByZXF1aXJlKCcuL19pc0l0ZXJhdGVlQ2FsbCcpLFxuICAgIGtleXNJbiA9IHJlcXVpcmUoJy4va2V5c0luJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICogb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllcyB0aGF0XG4gKiByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAc2VlIF8uZGVmYXVsdHNEZWVwXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAqL1xudmFyIGRlZmF1bHRzID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gIHZhciBpbmRleCA9IC0xO1xuICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICBsZW5ndGggPSAxO1xuICB9XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgdmFyIHByb3BzSW5kZXggPSAtMTtcbiAgICB2YXIgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgIHZhciBrZXkgPSBwcm9wc1twcm9wc0luZGV4XTtcbiAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIChlcSh2YWx1ZSwgb2JqZWN0UHJvdG9ba2V5XSkgJiYgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiIsInZhciBiYXNlRGlmZmVyZW5jZSA9IHJlcXVpcmUoJy4vX2Jhc2VEaWZmZXJlbmNlJyksXG4gICAgYmFzZUZsYXR0ZW4gPSByZXF1aXJlKCcuL19iYXNlRmxhdHRlbicpLFxuICAgIGJhc2VSZXN0ID0gcmVxdWlyZSgnLi9fYmFzZVJlc3QnKSxcbiAgICBpc0FycmF5TGlrZU9iamVjdCA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2VPYmplY3QnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICpcbiAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEFycmF5XG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICogLy8gPT4gWzFdXG4gKi9cbnZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpXG4gICAgOiBbXTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRpZmZlcmVuY2U7XG4iLCJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcbiIsInZhciBiYXNlTWVyZ2UgPSByZXF1aXJlKCcuL19iYXNlTWVyZ2UnKSxcbiAgICBjcmVhdGVBc3NpZ25lciA9IHJlcXVpcmUoJy4vX2NyZWF0ZUFzc2lnbmVyJyk7XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IG1lcmdlcyBvd24gYW5kXG4gKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gKiBza2lwcGVkIGlmIGEgZGVzdGluYXRpb24gdmFsdWUgZXhpc3RzLiBBcnJheSBhbmQgcGxhaW4gb2JqZWN0IHByb3BlcnRpZXNcbiAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAqIHNvdXJjZXMgb3ZlcndyaXRlIHByb3BlcnR5IGFzc2lnbm1lbnRzIG9mIHByZXZpb3VzIHNvdXJjZXMuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjUuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0ge1xuICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICogfTtcbiAqXG4gKiB2YXIgb3RoZXIgPSB7XG4gKiAgICdhJzogW3sgJ2MnOiAzIH0sIHsgJ2UnOiA1IH1dXG4gKiB9O1xuICpcbiAqIF8ubWVyZ2Uob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gKi9cbnZhciBtZXJnZSA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCkge1xuICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1lcmdlO1xuIiwidmFyIGNvcHlPYmplY3QgPSByZXF1aXJlKCcuL19jb3B5T2JqZWN0JyksXG4gICAga2V5c0luID0gcmVxdWlyZSgnLi9rZXlzSW4nKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gKi9cbmZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvUGxhaW5PYmplY3Q7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgc3RyaWN0VXJpRW5jb2RlID0gcmVxdWlyZSgnc3RyaWN0LXVyaS1lbmNvZGUnKTtcbnZhciBvYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgZGVjb2RlQ29tcG9uZW50ID0gcmVxdWlyZSgnZGVjb2RlLXVyaS1jb21wb25lbnQnKTtcblxuZnVuY3Rpb24gZW5jb2RlckZvckFycmF5Rm9ybWF0KG9wdHMpIHtcblx0c3dpdGNoIChvcHRzLmFycmF5Rm9ybWF0KSB7XG5cdFx0Y2FzZSAnaW5kZXgnOlxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlLCBpbmRleCkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IG51bGwgPyBbXG5cdFx0XHRcdFx0ZW5jb2RlKGtleSwgb3B0cyksXG5cdFx0XHRcdFx0J1snLFxuXHRcdFx0XHRcdGluZGV4LFxuXHRcdFx0XHRcdCddJ1xuXHRcdFx0XHRdLmpvaW4oJycpIDogW1xuXHRcdFx0XHRcdGVuY29kZShrZXksIG9wdHMpLFxuXHRcdFx0XHRcdCdbJyxcblx0XHRcdFx0XHRlbmNvZGUoaW5kZXgsIG9wdHMpLFxuXHRcdFx0XHRcdCddPScsXG5cdFx0XHRcdFx0ZW5jb2RlKHZhbHVlLCBvcHRzKVxuXHRcdFx0XHRdLmpvaW4oJycpO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2JyYWNrZXQnOlxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IGVuY29kZShrZXksIG9wdHMpIDogW1xuXHRcdFx0XHRcdGVuY29kZShrZXksIG9wdHMpLFxuXHRcdFx0XHRcdCdbXT0nLFxuXHRcdFx0XHRcdGVuY29kZSh2YWx1ZSwgb3B0cylcblx0XHRcdFx0XS5qb2luKCcnKTtcblx0XHRcdH07XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IGVuY29kZShrZXksIG9wdHMpIDogW1xuXHRcdFx0XHRcdGVuY29kZShrZXksIG9wdHMpLFxuXHRcdFx0XHRcdCc9Jyxcblx0XHRcdFx0XHRlbmNvZGUodmFsdWUsIG9wdHMpXG5cdFx0XHRcdF0uam9pbignJyk7XG5cdFx0XHR9O1xuXHR9XG59XG5cbmZ1bmN0aW9uIHBhcnNlckZvckFycmF5Rm9ybWF0KG9wdHMpIHtcblx0dmFyIHJlc3VsdDtcblxuXHRzd2l0Y2ggKG9wdHMuYXJyYXlGb3JtYXQpIHtcblx0XHRjYXNlICdpbmRleCc6XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUsIGFjY3VtdWxhdG9yKSB7XG5cdFx0XHRcdHJlc3VsdCA9IC9cXFsoXFxkKilcXF0kLy5leGVjKGtleSk7XG5cblx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoL1xcW1xcZCpcXF0kLywgJycpO1xuXG5cdFx0XHRcdGlmICghcmVzdWx0KSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChhY2N1bXVsYXRvcltrZXldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0ge307XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhY2N1bXVsYXRvcltrZXldW3Jlc3VsdFsxXV0gPSB2YWx1ZTtcblx0XHRcdH07XG5cblx0XHRjYXNlICdicmFja2V0Jzpcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpIHtcblx0XHRcdFx0cmVzdWx0ID0gLyhcXFtcXF0pJC8uZXhlYyhrZXkpO1xuXHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvXFxbXFxdJC8sICcnKTtcblxuXHRcdFx0XHRpZiAoIXJlc3VsdCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH0gZWxzZSBpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IFt2YWx1ZV07XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IFtdLmNvbmNhdChhY2N1bXVsYXRvcltrZXldLCB2YWx1ZSk7XG5cdFx0XHR9O1xuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpIHtcblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gW10uY29uY2F0KGFjY3VtdWxhdG9yW2tleV0sIHZhbHVlKTtcblx0XHRcdH07XG5cdH1cbn1cblxuZnVuY3Rpb24gZW5jb2RlKHZhbHVlLCBvcHRzKSB7XG5cdGlmIChvcHRzLmVuY29kZSkge1xuXHRcdHJldHVybiBvcHRzLnN0cmljdCA/IHN0cmljdFVyaUVuY29kZSh2YWx1ZSkgOiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuXHR9XG5cblx0cmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBrZXlzU29ydGVyKGlucHV0KSB7XG5cdGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuXHRcdHJldHVybiBpbnB1dC5zb3J0KCk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnb2JqZWN0Jykge1xuXHRcdHJldHVybiBrZXlzU29ydGVyKE9iamVjdC5rZXlzKGlucHV0KSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuXHRcdFx0cmV0dXJuIE51bWJlcihhKSAtIE51bWJlcihiKTtcblx0XHR9KS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cmV0dXJuIGlucHV0W2tleV07XG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4gaW5wdXQ7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3Qoc3RyKSB7XG5cdHZhciBxdWVyeVN0YXJ0ID0gc3RyLmluZGV4T2YoJz8nKTtcblx0aWYgKHF1ZXJ5U3RhcnQgPT09IC0xKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cdHJldHVybiBzdHIuc2xpY2UocXVlcnlTdGFydCArIDEpO1xufVxuXG5mdW5jdGlvbiBwYXJzZShzdHIsIG9wdHMpIHtcblx0b3B0cyA9IG9iamVjdEFzc2lnbih7YXJyYXlGb3JtYXQ6ICdub25lJ30sIG9wdHMpO1xuXG5cdHZhciBmb3JtYXR0ZXIgPSBwYXJzZXJGb3JBcnJheUZvcm1hdChvcHRzKTtcblxuXHQvLyBDcmVhdGUgYW4gb2JqZWN0IHdpdGggbm8gcHJvdG90eXBlXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvcXVlcnktc3RyaW5nL2lzc3Vlcy80N1xuXHR2YXIgcmV0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuXHRpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gcmV0O1xuXHR9XG5cblx0c3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKC9eWz8jJl0vLCAnJyk7XG5cblx0aWYgKCFzdHIpIHtcblx0XHRyZXR1cm4gcmV0O1xuXHR9XG5cblx0c3RyLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcblx0XHR2YXIgcGFydHMgPSBwYXJhbS5yZXBsYWNlKC9cXCsvZywgJyAnKS5zcGxpdCgnPScpO1xuXHRcdC8vIEZpcmVmb3ggKHByZSA0MCkgZGVjb2RlcyBgJTNEYCB0byBgPWBcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3F1ZXJ5LXN0cmluZy9wdWxsLzM3XG5cdFx0dmFyIGtleSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0dmFyIHZhbCA9IHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0cy5qb2luKCc9JykgOiB1bmRlZmluZWQ7XG5cblx0XHQvLyBtaXNzaW5nIGA9YCBzaG91bGQgYmUgYG51bGxgOlxuXHRcdC8vIGh0dHA6Ly93My5vcmcvVFIvMjAxMi9XRC11cmwtMjAxMjA1MjQvI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnNcblx0XHR2YWwgPSB2YWwgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBkZWNvZGVDb21wb25lbnQodmFsKTtcblxuXHRcdGZvcm1hdHRlcihkZWNvZGVDb21wb25lbnQoa2V5KSwgdmFsLCByZXQpO1xuXHR9KTtcblxuXHRyZXR1cm4gT2JqZWN0LmtleXMocmV0KS5zb3J0KCkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkge1xuXHRcdHZhciB2YWwgPSByZXRba2V5XTtcblx0XHRpZiAoQm9vbGVhbih2YWwpICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHZhbCkpIHtcblx0XHRcdC8vIFNvcnQgb2JqZWN0IGtleXMsIG5vdCB2YWx1ZXNcblx0XHRcdHJlc3VsdFtrZXldID0ga2V5c1NvcnRlcih2YWwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHRba2V5XSA9IHZhbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbn1cblxuZXhwb3J0cy5leHRyYWN0ID0gZXh0cmFjdDtcbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcblxuZXhwb3J0cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiAob2JqLCBvcHRzKSB7XG5cdHZhciBkZWZhdWx0cyA9IHtcblx0XHRlbmNvZGU6IHRydWUsXG5cdFx0c3RyaWN0OiB0cnVlLFxuXHRcdGFycmF5Rm9ybWF0OiAnbm9uZSdcblx0fTtcblxuXHRvcHRzID0gb2JqZWN0QXNzaWduKGRlZmF1bHRzLCBvcHRzKTtcblxuXHRpZiAob3B0cy5zb3J0ID09PSBmYWxzZSkge1xuXHRcdG9wdHMuc29ydCA9IGZ1bmN0aW9uICgpIHt9O1xuXHR9XG5cblx0dmFyIGZvcm1hdHRlciA9IGVuY29kZXJGb3JBcnJheUZvcm1hdChvcHRzKTtcblxuXHRyZXR1cm4gb2JqID8gT2JqZWN0LmtleXMob2JqKS5zb3J0KG9wdHMuc29ydCkubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0XHR2YXIgdmFsID0gb2JqW2tleV07XG5cblx0XHRpZiAodmFsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cblx0XHRpZiAodmFsID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gZW5jb2RlKGtleSwgb3B0cyk7XG5cdFx0fVxuXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xuXG5cdFx0XHR2YWwuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwyKSB7XG5cdFx0XHRcdGlmICh2YWwyID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXN1bHQucHVzaChmb3JtYXR0ZXIoa2V5LCB2YWwyLCByZXN1bHQubGVuZ3RoKSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJlc3VsdC5qb2luKCcmJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVuY29kZShrZXksIG9wdHMpICsgJz0nICsgZW5jb2RlKHZhbCwgb3B0cyk7XG5cdH0pLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuXHRcdHJldHVybiB4Lmxlbmd0aCA+IDA7XG5cdH0pLmpvaW4oJyYnKSA6ICcnO1xufTtcblxuZXhwb3J0cy5wYXJzZVVybCA9IGZ1bmN0aW9uIChzdHIsIG9wdHMpIHtcblx0cmV0dXJuIHtcblx0XHR1cmw6IHN0ci5zcGxpdCgnPycpWzBdIHx8ICcnLFxuXHRcdHF1ZXJ5OiBwYXJzZShleHRyYWN0KHN0ciksIG9wdHMpXG5cdH07XG59O1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmV4cG9ydCB2YXIgVVNFUl9MT0dJTiA9ICdSQS9VU0VSX0xPR0lOJztcbmV4cG9ydCB2YXIgVVNFUl9MT0dJTl9MT0FESU5HID0gJ1JBL1VTRVJfTE9HSU5fTE9BRElORyc7XG5leHBvcnQgdmFyIFVTRVJfTE9HSU5fRkFJTFVSRSA9ICdSQS9VU0VSX0xPR0lOX0ZBSUxVUkUnO1xuZXhwb3J0IHZhciBVU0VSX0xPR0lOX1NVQ0NFU1MgPSAnUkEvVVNFUl9MT0dJTl9TVUNDRVNTJztcbmV4cG9ydCB2YXIgdXNlckxvZ2luID0gZnVuY3Rpb24gKHBheWxvYWQsIHBhdGhOYW1lKSB7IHJldHVybiAoe1xuICAgIHR5cGU6IFVTRVJfTE9HSU4sXG4gICAgcGF5bG9hZDogcGF5bG9hZCxcbiAgICBtZXRhOiB7IGF1dGg6IHRydWUsIHBhdGhOYW1lOiBwYXRoTmFtZSB9LFxufSk7IH07XG5leHBvcnQgdmFyIFVTRVJfQ0hFQ0sgPSAnUkEvVVNFUl9DSEVDSyc7XG5leHBvcnQgdmFyIFVTRVJfQ0hFQ0tfU1VDQ0VTUyA9ICdSQS9VU0VSX0NIRUNLX1NVQ0NFU1MnO1xuZXhwb3J0IHZhciB1c2VyQ2hlY2sgPSBmdW5jdGlvbiAocGF5bG9hZCwgcGF0aE5hbWUsIHJvdXRlUGFyYW1zKSB7XG4gICAgaWYgKHJvdXRlUGFyYW1zID09PSB2b2lkIDApIHsgcm91dGVQYXJhbXMgPSB7fTsgfVxuICAgIHJldHVybiAoe1xuICAgICAgICB0eXBlOiBVU0VSX0NIRUNLLFxuICAgICAgICBwYXlsb2FkOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcGF5bG9hZCksIHsgcm91dGVQYXJhbXM6IHJvdXRlUGFyYW1zIH0pLFxuICAgICAgICBtZXRhOiB7IGF1dGg6IHRydWUsIHBhdGhOYW1lOiBwYXRoTmFtZSB9LFxuICAgIH0pO1xufTtcbmV4cG9ydCB2YXIgVVNFUl9MT0dPVVQgPSAnUkEvVVNFUl9MT0dPVVQnO1xuLyoqXG4gKiBBY3Rpb24gdG8gdHJpZ2dlciBsb2dvdXQgb2YgdGhlIGN1cnJlbnQgdXNlci4gVGhlIGVudGlyZSByZWR1eCBzdGF0ZSB3aWxsIGJlIGNsZWFyZWRcbiAqIHRoYW5rcyB0byB0aGUgcmVzZXR0YWJsZUFwcFJlZHVjZXIgaW4gQWRtaW4uXG4gKiBAc2VlOiBBZG1pbi5qc1xuICogQHBhcmFtIHJlZGlyZWN0VG8gUGF0aCB0byBkaXJlY3QgdG8gYWZ0ZXIgbG9nb3V0XG4gKiBAcmV0dXJuIHt7dHlwZTogc3RyaW5nLCBwYXlsb2FkOiB7cmVkaXJlY3RUbzogc3RyaW5nfSwgbWV0YToge2F1dGg6IGJvb2xlYW59fX1cbiAqL1xuZXhwb3J0IHZhciB1c2VyTG9nb3V0ID0gZnVuY3Rpb24gKHJlZGlyZWN0VG8pIHsgcmV0dXJuICh7XG4gICAgdHlwZTogVVNFUl9MT0dPVVQsXG4gICAgcGF5bG9hZDogeyByZWRpcmVjdFRvOiByZWRpcmVjdFRvIH0sXG4gICAgbWV0YTogeyBhdXRoOiB0cnVlIH0sXG59KTsgfTtcbiIsImltcG9ydCB7IERFTEVURV9NQU5ZIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5leHBvcnQgdmFyIGNydWREZWxldGVNYW55ID0gZnVuY3Rpb24gKHJlc291cmNlLCBpZHMsIGJhc2VQYXRoLCByZWZyZXNoKSB7XG4gICAgaWYgKHJlZnJlc2ggPT09IHZvaWQgMCkgeyByZWZyZXNoID0gdHJ1ZTsgfVxuICAgIHJldHVybiAoe1xuICAgICAgICB0eXBlOiBDUlVEX0RFTEVURV9NQU5ZLFxuICAgICAgICBwYXlsb2FkOiB7IGlkczogaWRzIH0sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICAgIHJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgIGZldGNoOiBERUxFVEVfTUFOWSxcbiAgICAgICAgICAgIG9uU3VjY2Vzczoge1xuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBib2R5OiAncmEubm90aWZpY2F0aW9uLmRlbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICBsZXZlbDogJ2luZm8nLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQXJnczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc21hcnRfY291bnQ6IGlkcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBiYXNlUGF0aDogYmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgcmVmcmVzaDogcmVmcmVzaCxcbiAgICAgICAgICAgICAgICB1bnNlbGVjdEFsbDogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkZhaWx1cmU6IHtcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgYm9keTogJ3JhLm5vdGlmaWNhdGlvbi5odHRwX2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWw6ICd3YXJuaW5nJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5leHBvcnQgdmFyIENSVURfREVMRVRFX01BTlkgPSAnUkEvQ1JVRF9ERUxFVEVfTUFOWSc7XG5leHBvcnQgdmFyIENSVURfREVMRVRFX01BTllfTE9BRElORyA9ICdSQS9DUlVEX0RFTEVURV9NQU5ZX0xPQURJTkcnO1xuZXhwb3J0IHZhciBDUlVEX0RFTEVURV9NQU5ZX0ZBSUxVUkUgPSAnUkEvQ1JVRF9ERUxFVEVfTUFOWV9GQUlMVVJFJztcbmV4cG9ydCB2YXIgQ1JVRF9ERUxFVEVfTUFOWV9TVUNDRVNTID0gJ1JBL0NSVURfREVMRVRFX01BTllfU1VDQ0VTUyc7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IHsgQ2hpbGRyZW4sIGNyZWF0ZUVsZW1lbnQsIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAnLi4vdXRpbC93YXJuaW5nJztcbmltcG9ydCB1c2VBdXRoZW50aWNhdGVkIGZyb20gJy4vdXNlQXV0aGVudGljYXRlZCc7XG5pbXBvcnQgdXNlUGVybWlzc2lvbnNPcHRpbWl6ZWQgZnJvbSAnLi91c2VQZXJtaXNzaW9uc09wdGltaXplZCc7XG52YXIgaXNFbXB0eUNoaWxkcmVuID0gZnVuY3Rpb24gKGNoaWxkcmVuKSB7IHJldHVybiBDaGlsZHJlbi5jb3VudChjaGlsZHJlbikgPT09IDA7IH07XG4vKipcbiAqIEFmdGVyIGNoZWNraW5nIHRoYXQgdGhlIHVzZXIgaXMgYXV0aGVudGljYXRlZCxcbiAqIHJldHJpZXZlcyB0aGUgdXNlcidzIHBlcm1pc3Npb25zIGZvciBhIHNwZWNpZmljIGNvbnRleHQuXG4gKlxuICogVXNlZnVsIGZvciBSb3V0ZSBjb21wb25lbnRzIDsgdXNlZCBpbnRlcm5hbGx5IGJ5IFJlc291cmNlLlxuICogVXNlIGl0IHRvIGRlY29yYXRlIHlvdXIgY3VzdG9tIHBhZ2UgY29tcG9uZW50cyB0byByZXF1aXJlXG4gKiBhIGN1c3RvbSByb2xlLiBJdCB3aWxsIHBhc3MgdGhlIHBlcm1pc3Npb25zIGFzIGEgcHJvcCB0byB5b3VyXG4gKiBjb21wb25lbnQuXG4gKlxuICogWW91IGNhbiBzZXQgYWRkaXRpb25hbCBgYXV0aFBhcmFtc2AgYXQgd2lsbCBpZiB5b3VyIGF1dGhQcm92aWRlclxuICogcmVxdWlyZXMgaXQuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICBpbXBvcnQgeyBXaXRoUGVybWlzc2lvbnMgfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKlxuICogICAgIGNvbnN0IEZvbyA9ICh7IHBlcm1pc3Npb25zIH0pID0+IChcbiAqICAgICAgICAge3Blcm1pc3Npb25zID09PSAnYWRtaW4nID8gPHA+U2Vuc2l0aXZlIGRhdGE8L3A+IDogbnVsbH1cbiAqICAgICAgICAgPHA+Tm90IHNlbnNpdGl2ZSBkYXRhPC9wPlxuICogICAgICk7XG4gKlxuICogICAgIGNvbnN0IGN1c3RvbVJvdXRlcyA9IFtcbiAqICAgICAgICAgPFJvdXRlIHBhdGg9XCIvZm9vXCIgcmVuZGVyPXsoKSA9PlxuICogICAgICAgICAgICAgPFdpdGhQZXJtaXNzaW9uc1xuICogICAgICAgICAgICAgICAgICBhdXRoUGFyYW1zPXt7IGZvbzogJ2JhcicgfX1cbiAqICAgICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBwZXJtaXNzaW9ucywgLi4ucHJvcHMgfSkgPT4gPEZvbyBwZXJtaXNzaW9ucz17cGVybWlzc2lvbnN9IHsuLi5wcm9wc30gLz59XG4gKiAgICAgICAgICAgICAgLz5cbiAqICAgICAgICAgfSAvPlxuICogICAgIF07XG4gKiAgICAgY29uc3QgQXBwID0gKCkgPT4gKFxuICogICAgICAgICA8QWRtaW4gY3VzdG9tUm91dGVzPXtjdXN0b21Sb3V0ZXN9PlxuICogICAgICAgICAgICAgLi4uXG4gKiAgICAgICAgIDwvQWRtaW4+XG4gKiAgICAgKTtcbiAqL1xudmFyIFdpdGhQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhdXRoUGFyYW1zID0gX2EuYXV0aFBhcmFtcywgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgcmVuZGVyID0gX2EucmVuZGVyLCBjb21wb25lbnQgPSBfYS5jb21wb25lbnQsIHN0YXRpY0NvbnRleHQgPSBfYS5zdGF0aWNDb250ZXh0LCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiYXV0aFBhcmFtc1wiLCBcImNoaWxkcmVuXCIsIFwicmVuZGVyXCIsIFwiY29tcG9uZW50XCIsIFwic3RhdGljQ29udGV4dFwiXSk7XG4gICAgd2FybmluZygocmVuZGVyICYmIGNoaWxkcmVuICYmICFpc0VtcHR5Q2hpbGRyZW4oY2hpbGRyZW4pKSB8fFxuICAgICAgICAocmVuZGVyICYmIGNvbXBvbmVudCkgfHxcbiAgICAgICAgKGNvbXBvbmVudCAmJiBjaGlsZHJlbiAmJiAhaXNFbXB0eUNoaWxkcmVuKGNoaWxkcmVuKSksICdZb3Ugc2hvdWxkIG9ubHkgdXNlIG9uZSBvZiB0aGUgYGNvbXBvbmVudGAsIGByZW5kZXJgIGFuZCBgY2hpbGRyZW5gIHByb3BzIGluIDxXaXRoUGVybWlzc2lvbnM+Jyk7XG4gICAgdXNlQXV0aGVudGljYXRlZChhdXRoUGFyYW1zKTtcbiAgICB2YXIgcGVybWlzc2lvbnMgPSB1c2VQZXJtaXNzaW9uc09wdGltaXplZChhdXRoUGFyYW1zKS5wZXJtaXNzaW9ucztcbiAgICAvLyByZW5kZXIgZXZlbiB0aG91Z2ggdGhlIHVzZVBlcm1pc3Npb25zKCkgY2FsbCBpc24ndCBmaW5pc2hlZCAob3B0aW1pc3RpYyByZW5kZXJpbmcpXG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChjb21wb25lbnQsIF9fYXNzaWduKHsgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zIH0sIHByb3BzKSk7XG4gICAgfVxuICAgIC8vIEBkZXByZWNhdGVkXG4gICAgaWYgKHJlbmRlcikge1xuICAgICAgICByZXR1cm4gcmVuZGVyKF9fYXNzaWduKHsgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zIH0sIHByb3BzKSk7XG4gICAgfVxuICAgIC8vIEBkZXByZWNhdGVkXG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbihfX2Fzc2lnbih7IHBlcm1pc3Npb25zOiBwZXJtaXNzaW9ucyB9LCBwcm9wcykpO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCBXaXRoUGVybWlzc2lvbnM7XG4iLCJpbXBvcnQgeyBBVVRIX0xPR0lOLCBBVVRIX0xPR09VVCwgQVVUSF9DSEVDSywgQVVUSF9FUlJPUiwgQVVUSF9HRVRfUEVSTUlTU0lPTlMsIH0gZnJvbSAnLi90eXBlcyc7XG4vKipcbiAqIFR1cm4gYSBmdW5jdGlvbi1iYXNlZCBhdXRoUHJvdmlkZXIgdG8gYW4gb2JqZWN0LWJhc2VkIG9uZVxuICpcbiAqIEFsbG93cyB1c2luZyBsZWdhY3kgYXV0aFByb3ZpZGVycyB0cmFuc3BhcmVudGx5LlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGxlZ2FjeUF1dGhQcm92aWRlciBBIGxlZ2FjeSBhdXRoUHJvdmlkZXIgKHR5cGUsIHBhcmFtcykgPT4gUHJvbWlzZTxhbnk+XG4gKlxuICogQHJldHVybnMge09iamVjdH0gQW4gYXV0aFByb3ZpZGVyIHRoYXQgcmVhY3QtYWRtaW4gY2FuIHVzZVxuICovXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKGxlZ2FjeUF1dGhQcm92aWRlcikge1xuICAgIHZhciBhdXRoUHJvdmlkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxlZ2FjeUF1dGhQcm92aWRlci5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9O1xuICAgIGF1dGhQcm92aWRlci5sb2dpbiA9IGZ1bmN0aW9uIChwYXJhbXMpIHsgcmV0dXJuIGxlZ2FjeUF1dGhQcm92aWRlcihBVVRIX0xPR0lOLCBwYXJhbXMpOyB9O1xuICAgIGF1dGhQcm92aWRlci5sb2dvdXQgPSBmdW5jdGlvbiAocGFyYW1zKSB7IHJldHVybiBsZWdhY3lBdXRoUHJvdmlkZXIoQVVUSF9MT0dPVVQsIHBhcmFtcyk7IH07XG4gICAgYXV0aFByb3ZpZGVyLmNoZWNrQXV0aCA9IGZ1bmN0aW9uIChwYXJhbXMpIHsgcmV0dXJuIGxlZ2FjeUF1dGhQcm92aWRlcihBVVRIX0NIRUNLLCBwYXJhbXMpOyB9O1xuICAgIGF1dGhQcm92aWRlci5jaGVja0Vycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBsZWdhY3lBdXRoUHJvdmlkZXIoQVVUSF9FUlJPUiwgZXJyb3IpOyB9O1xuICAgIGF1dGhQcm92aWRlci5nZXRQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIGxlZ2FjeUF1dGhQcm92aWRlcihBVVRIX0dFVF9QRVJNSVNTSU9OUywgcGFyYW1zKTtcbiAgICB9O1xuICAgIHJldHVybiBhdXRoUHJvdmlkZXI7XG59KTtcbiIsImV4cG9ydCB2YXIgQVVUSF9MT0dJTiA9ICdBVVRIX0xPR0lOJztcbmV4cG9ydCB2YXIgQVVUSF9DSEVDSyA9ICdBVVRIX0NIRUNLJztcbmV4cG9ydCB2YXIgQVVUSF9FUlJPUiA9ICdBVVRIX0VSUk9SJztcbmV4cG9ydCB2YXIgQVVUSF9MT0dPVVQgPSAnQVVUSF9MT0dPVVQnO1xuZXhwb3J0IHZhciBBVVRIX0dFVF9QRVJNSVNTSU9OUyA9ICdBVVRIX0dFVF9QRVJNSVNTSU9OUyc7XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlQ2hlY2tBdXRoIGZyb20gJy4vdXNlQ2hlY2tBdXRoJztcbmltcG9ydCB7IHVzZVNhZmVTZXRTdGF0ZSB9IGZyb20gJy4uL3V0aWwvaG9va3MnO1xudmFyIGVtcHR5UGFyYW1zID0ge307XG4vKipcbiAqIEhvb2sgZm9yIGdldHRpbmcgdGhlIGF1dGhlbnRpY2F0aW9uIHN0YXR1c1xuICpcbiAqIENhbGxzIHRoZSBhdXRoUHJvdmlkZXIuY2hlY2tBdXRoKCkgbWV0aG9kIGFzeW5jaHJvbm91c2x5LlxuICpcbiAqIFRoZSByZXR1cm4gdmFsdWUgdXBkYXRlcyBhY2NvcmRpbmcgdG8gdGhlIGF1dGhQcm92aWRlciByZXF1ZXN0IHN0YXRlOlxuICpcbiAqIC0gbG9hZGluZzogdHJ1ZSBqdXN0IGFmdGVyIG1vdW50LCB3aGlsZSB0aGUgYXV0aFByb3ZpZGVyIGlzIGJlaW5nIGNhbGxlZC4gZmFsc2Ugb25jZSB0aGUgYXV0aFByb3ZpZGVyIGhhcyBhbnN3ZXJlZC5cbiAqIC0gbG9hZGVkOiB0aGUgb3Bwb3NpdGUgb2YgbG9hZGluZy5cbiAqIC0gYXV0aGVudGljYXRlZDogdHJ1ZSB3aGlsZSBsb2FkaW5nLiB0aGVuIHRydWUgb3IgZmFsc2UgZGVwZW5kaW5nIG9uIHRoZSBhdXRoUHJvdmlkZXIgcmVzcG9uc2UuXG4gKlxuICogVG8gYXZvaWQgcmVuZGVyaW5nIGEgY29tcG9uZW50IGFuZCBmb3JjZSB3YWl0aW5nIGZvciB0aGUgYXV0aFByb3ZpZGVyIHJlc3BvbnNlLCB1c2UgdGhlIHVzZUF1dGhTdGF0ZSgpIGhvb2tcbiAqIGluc3RlYWQgb2YgdGhlIHVzZUF1dGhlbnRpY2F0ZWQoKSBob29rLlxuICpcbiAqIFlvdSBjYW4gcmVuZGVyIGRpZmZlcmVudCBjb250ZW50IGRlcGVuZGluZyBvbiB0aGUgYXV0aGVudGljYXRlZCBzdGF0dXMuXG4gKlxuICogQHNlZSB1c2VBdXRoZW50aWNhdGVkKClcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIEFueSBwYXJhbXMgeW91IHdhbnQgdG8gcGFzcyB0byB0aGUgYXV0aFByb3ZpZGVyXG4gKlxuICogQHJldHVybnMgVGhlIGN1cnJlbnQgYXV0aCBjaGVjayBzdGF0ZS4gRGVzdHJ1Y3R1cmUgYXMgeyBhdXRoZW50aWNhdGVkLCBlcnJvciwgbG9hZGluZywgbG9hZGVkIH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IHVzZUF1dGhTdGF0ZSwgTG9hZGluZyB9IGZyb20gJ3JlYWN0LWFkbWluJztcbiAqXG4gKiBjb25zdCBNeVBhZ2UgPSAoKSA9PiB7XG4gKiAgICAgY29uc3QgeyBsb2FkaW5nLCBhdXRoZW50aWNhdGVkIH0gPSB1c2VBdXRoU3RhdGUoKTtcbiAqICAgICBpZiAobG9hZGluZykge1xuICogICAgICAgICByZXR1cm4gPExvYWRpbmcgLz47XG4gKiAgICAgfVxuICogICAgIGlmIChhdXRoZW50aWNhdGVkKSB7XG4gKiAgICAgICAgcmV0dXJuIDxBdXRoZW50aWNhdGVkQ29udGVudCAvPjtcbiAqICAgICB9XG4gKiAgICAgcmV0dXJuIDxBbm9ueW1vdXNDb250ZW50IC8+O1xuICogfTtcbiAqL1xudmFyIHVzZUF1dGhTdGF0ZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0gZW1wdHlQYXJhbXM7IH1cbiAgICB2YXIgX2EgPSB1c2VTYWZlU2V0U3RhdGUoe1xuICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICBsb2FkZWQ6IGZhbHNlLFxuICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIH0pLCBzdGF0ZSA9IF9hWzBdLCBzZXRTdGF0ZSA9IF9hWzFdO1xuICAgIHZhciBjaGVja0F1dGggPSB1c2VDaGVja0F1dGgoKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGVja0F1dGgocGFyYW1zLCBmYWxzZSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlLCBsb2FkZWQ6IHRydWUsIGF1dGhlbnRpY2F0ZWQ6IHRydWUgfSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UsIGxvYWRlZDogdHJ1ZSwgYXV0aGVudGljYXRlZDogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtjaGVja0F1dGgsIHBhcmFtcywgc2V0U3RhdGVdKTtcbiAgICByZXR1cm4gc3RhdGU7XG59O1xuZXhwb3J0IGRlZmF1bHQgdXNlQXV0aFN0YXRlO1xuIiwiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZUNoZWNrQXV0aCBmcm9tICcuL3VzZUNoZWNrQXV0aCc7XG52YXIgZW1wdHlQYXJhbXMgPSB7fTtcbi8qKlxuICogUmVzdHJpY3QgYWNjZXNzIHRvIGF1dGhlbnRpY2F0ZWQgdXNlcnMuXG4gKiBSZWRpcmVjdCBhbm9ueW1vdXMgdXNlcnMgdG8gdGhlIGxvZ2luIHBhZ2UuXG4gKlxuICogVXNlIGl0IGluIHlvdXIgY3VzdG9tIHBhZ2UgY29tcG9uZW50cyB0byByZXF1aXJlXG4gKiBhdXRoZW50aWNhdGlvbi5cbiAqXG4gKiBZb3UgY2FuIHNldCBhZGRpdGlvbmFsIGBhdXRoUGFyYW1zYCBhdCB3aWxsIGlmIHlvdXIgYXV0aFByb3ZpZGVyXG4gKiByZXF1aXJlcyBpdC5cbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIGltcG9ydCB7IHVzZUF1dGhlbnRpY2F0ZWQgfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKiAgICAgY29uc3QgRm9vUGFnZSA9ICgpID0+IHtcbiAqICAgICAgICAgdXNlQXV0aGVudGljYXRlZCgpO1xuICogICAgICAgICByZXR1cm4gPEZvbyAvPjtcbiAqICAgICB9XG4gKiAgICAgY29uc3QgQ3VzdG9tUm91dGVzID0gW1xuICogICAgICAgICA8Um91dGUgcGF0aD1cIi9mb29cIiByZW5kZXI9eygpID0+IDxGb29QYWdlIC8+fSAvPlxuICogICAgIF07XG4gKiAgICAgY29uc3QgQXBwID0gKCkgPT4gKFxuICogICAgICAgICA8QWRtaW4gY3VzdG9tUm91dGVzPXtjdXN0b21Sb3V0ZXN9PlxuICogICAgICAgICAgICAgLi4uXG4gKiAgICAgICAgIDwvQWRtaW4+XG4gKiAgICAgKTtcbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0gZW1wdHlQYXJhbXM7IH1cbiAgICB2YXIgY2hlY2tBdXRoID0gdXNlQ2hlY2tBdXRoKCk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hlY2tBdXRoKHBhcmFtcykuY2F0Y2goZnVuY3Rpb24gKCkgeyB9KTtcbiAgICB9LCBbY2hlY2tBdXRoLCBwYXJhbXNdKTtcbn0pO1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlQXV0aFByb3ZpZGVyLCB7IGRlZmF1bHRBdXRoUGFyYW1zIH0gZnJvbSAnLi91c2VBdXRoUHJvdmlkZXInO1xuaW1wb3J0IHVzZUxvZ291dCBmcm9tICcuL3VzZUxvZ291dCc7XG5pbXBvcnQgdXNlTm90aWZ5IGZyb20gJy4uL3NpZGVFZmZlY3QvdXNlTm90aWZ5Jztcbi8qKlxuICogR2V0IGEgY2FsbGJhY2sgZm9yIGNhbGxpbmcgdGhlIGF1dGhQcm92aWRlci5jaGVja0F1dGgoKSBtZXRob2QuXG4gKiBJbiBjYXNlIG9mIHJlamVjdGlvbiwgcmVkaXJlY3RzIHRvIHRoZSBsb2dpbiBwYWdlLCBkaXNwbGF5cyBhIG5vdGlmaWNhdGlvbixcbiAqIGFuZCB0aHJvd3MgYW4gZXJyb3IuXG4gKlxuICogVGhpcyBpcyBhIGxvdyBsZXZlbCBob29rLiBTZWUgdGhvc2UgbW9yZSBzcGVjaWFsaXplZCBob29rc1xuICogZm9yIGNvbW1vbiBhdXRoZW50aWNhdGlvbiB0YXNrcywgYmFzZWQgb24gdXNlQ2hlY2tBdXRoLlxuICpcbiAqIEBzZWUgdXNlQXV0aGVudGljYXRlZFxuICogQHNlZSB1c2VBdXRoU3RhdGVcbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IGNoZWNrQXV0aCBjYWxsYmFja1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IHsgdXNlQ2hlY2tBdXRoIH0gZnJvbSAncmVhY3QtYWRtaW4nO1xuICpcbiAqIGNvbnN0IE15UHJvdGVjdGVkUGFnZSA9ICgpID0+IHtcbiAqICAgICBjb25zdCBjaGVja0F1dGggPSB1c2VDaGVja0F1dGgoKTtcbiAqICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICogICAgICAgICBjaGVja0F1dGgoKS5jYXRjaCgoKSA9PiB7fSk7XG4gKiAgICAgfSwgW10pO1xuICogICAgIHJldHVybiA8cD5Qcml2YXRlIGNvbnRlbnQ6IEVaQUVaRVpBRVQ8L3A+XG4gKiB9IC8vIHRpcDogdXNlIHVzZUF1dGhlbnRpY2F0ZWQoKSBob29rIGluc3RlYWRcbiAqXG4gKiBjb25zdCBNeVBhZ2UgPSAoKSA9PiB7XG4gKiAgICAgY29uc3QgY2hlY2tBdXRoID0gdXNlQ2hlY2tBdXRoKCk7XG4gKiAgICAgY29uc3QgW2F1dGhlbnRpY2F0ZWQsIHNldEF1dGhlbnRpY2F0ZWRdID0gdXNlU3RhdGUodHJ1ZSk7IC8vIG9wdGltaXN0aWMgYXV0aFxuICogICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gKiAgICAgICAgIGNoZWNrQXV0aCh7fSwgZmFsc2UpXG4gKiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gc2V0QXV0aGVudGljYXRlZCh0cnVlKSlcbiAqICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gc2V0QXV0aGVudGljYXRlZChmYWxzZSkpO1xuICogICAgIH0sIFtdKTtcbiAqICAgICByZXR1cm4gYXV0aGVudGljYXRlZCA/IDxCYXIgLz4gOiA8QmFyTm90QXV0aGVudGljYXRlZCAvPjtcbiAqIH0gLy8gdGlwOiB1c2UgdXNlQXV0aFN0YXRlKCkgaG9vayBpbnN0ZWFkXG4gKi9cbnZhciB1c2VDaGVja0F1dGggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGF1dGhQcm92aWRlciA9IHVzZUF1dGhQcm92aWRlcigpO1xuICAgIHZhciBub3RpZnkgPSB1c2VOb3RpZnkoKTtcbiAgICB2YXIgbG9nb3V0ID0gdXNlTG9nb3V0KCk7XG4gICAgdmFyIGNoZWNrQXV0aCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYXJhbXMsIGxvZ291dE9uRmFpbHVyZSwgcmVkaXJlY3RUbywgZGlzYWJsZU5vdGlmaWNhdGlvbikge1xuICAgICAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0ge307IH1cbiAgICAgICAgaWYgKGxvZ291dE9uRmFpbHVyZSA9PT0gdm9pZCAwKSB7IGxvZ291dE9uRmFpbHVyZSA9IHRydWU7IH1cbiAgICAgICAgaWYgKHJlZGlyZWN0VG8gPT09IHZvaWQgMCkgeyByZWRpcmVjdFRvID0gZGVmYXVsdEF1dGhQYXJhbXMubG9naW5Vcmw7IH1cbiAgICAgICAgaWYgKGRpc2FibGVOb3RpZmljYXRpb24gPT09IHZvaWQgMCkgeyBkaXNhYmxlTm90aWZpY2F0aW9uID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIGF1dGhQcm92aWRlci5jaGVja0F1dGgocGFyYW1zKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChsb2dvdXRPbkZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICBsb2dvdXQoe30sIGVycm9yICYmIGVycm9yLnJlZGlyZWN0VG9cbiAgICAgICAgICAgICAgICAgICAgPyBlcnJvci5yZWRpcmVjdFRvXG4gICAgICAgICAgICAgICAgICAgIDogcmVkaXJlY3RUbyk7XG4gICAgICAgICAgICAgICAgdmFyIHNob3VsZFNraXBOb3RpZnkgPSBkaXNhYmxlTm90aWZpY2F0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgIChlcnJvciAmJiBlcnJvci5tZXNzYWdlID09PSBmYWxzZSk7XG4gICAgICAgICAgICAgICAgIXNob3VsZFNraXBOb3RpZnkgJiZcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5KGdldEVycm9yTWVzc2FnZShlcnJvciwgJ3JhLmF1dGguYXV0aF9jaGVja19lcnJvcicpLCAnd2FybmluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pO1xuICAgIH0sIFthdXRoUHJvdmlkZXIsIGxvZ291dCwgbm90aWZ5XSk7XG4gICAgcmV0dXJuIGF1dGhQcm92aWRlciA/IGNoZWNrQXV0aCA6IGNoZWNrQXV0aFdpdGhvdXRBdXRoUHJvdmlkZXI7XG59O1xudmFyIGNoZWNrQXV0aFdpdGhvdXRBdXRoUHJvdmlkZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsgfTtcbnZhciBnZXRFcnJvck1lc3NhZ2UgPSBmdW5jdGlvbiAoZXJyb3IsIGRlZmF1bHRNZXNzYWdlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBlcnJvclxuICAgICAgICA6IHR5cGVvZiBlcnJvciA9PT0gJ3VuZGVmaW5lZCcgfHwgIWVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgID8gZGVmYXVsdE1lc3NhZ2VcbiAgICAgICAgICAgIDogZXJyb3IubWVzc2FnZTtcbn07XG5leHBvcnQgZGVmYXVsdCB1c2VDaGVja0F1dGg7XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VBdXRoUHJvdmlkZXIgZnJvbSAnLi91c2VBdXRoUHJvdmlkZXInO1xudmFyIGdldFBlcm1pc3Npb25zV2l0aG91dFByb3ZpZGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTsgfTtcbi8qKlxuICogR2V0IGEgY2FsbGJhY2sgZm9yIGNhbGxpbmcgdGhlIGF1dGhQcm92aWRlci5nZXRQZXJtaXNzaW9ucygpIG1ldGhvZC5cbiAqXG4gKiBAc2VlIHVzZUF1dGhQcm92aWRlclxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gZ2V0UGVybWlzc2lvbnMgY2FsbGJhY2tcbiAqXG4gKiBUaGlzIGlzIGEgbG93IGxldmVsIGhvb2suIFNlZSB0aG9zZSBtb3JlIHNwZWNpYWxpemVkIGhvb2tzXG4gKiBvZmZlcmluZyBzdGF0ZSBoYW5kbGluZy5cbiAqXG4gKiBAc2VlIHVzZVBlcm1pc3Npb25zXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQgeyB1c2VHZXRQZXJtaXNzaW9ucyB9IGZyb20gJ3JlYWN0LWFkbWluJztcbiAqXG4gKiBjb25zdCBSb2xlcyA9ICgpID0+IHtcbiAqICAgICBjb25zdCBbcGVybWlzc2lvbnMsIHNldFBlcm1pc3Npb25zXSA9IHVzZVN0YXRlKFtdKTtcbiAqICAgICBjb25zdCBnZXRQZXJtaXNzaW9ucyA9IHVzZUdldFBlcm1pc3Npb25zKCk7XG4gKiAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAqICAgICAgICAgZ2V0UGVybWlzc2lvbnMoKS50aGVuKHBlcm1pc3Npb25zID0+IHNldFBlcm1pc3Npb25zKHBlcm1pc3Npb25zKSlcbiAqICAgICB9LCBbXSlcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgICA8dWw+XG4gKiAgICAgICAgICAgICB7cGVybWlzc2lvbnMubWFwKChwZXJtaXNzaW9uLCBrZXkpID0+IChcbiAqICAgICAgICAgICAgICAgICA8bGkga2V5PXtrZXl9PntwZXJtaXNzaW9ufTwvbGk+XG4gKiAgICAgICAgICAgICApKX1cbiAqICAgICAgICAgPC91bD5cbiAqICAgICApO1xuICogfVxuICovXG52YXIgdXNlR2V0UGVybWlzc2lvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGF1dGhQcm92aWRlciA9IHVzZUF1dGhQcm92aWRlcigpO1xuICAgIHZhciBnZXRQZXJtaXNzaW9ucyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgaWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7IHBhcmFtcyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBhdXRoUHJvdmlkZXIuZ2V0UGVybWlzc2lvbnMocGFyYW1zKTtcbiAgICB9LCBbYXV0aFByb3ZpZGVyXSk7XG4gICAgcmV0dXJuIGF1dGhQcm92aWRlciA/IGdldFBlcm1pc3Npb25zIDogZ2V0UGVybWlzc2lvbnNXaXRob3V0UHJvdmlkZXI7XG59O1xuZXhwb3J0IGRlZmF1bHQgdXNlR2V0UGVybWlzc2lvbnM7XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUxvY2F0aW9uLCB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB1c2VBdXRoUHJvdmlkZXIsIHsgZGVmYXVsdEF1dGhQYXJhbXMgfSBmcm9tICcuL3VzZUF1dGhQcm92aWRlcic7XG5pbXBvcnQgeyByZXNldE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL2FjdGlvbnMvbm90aWZpY2F0aW9uQWN0aW9ucyc7XG4vKipcbiAqIEdldCBhIGNhbGxiYWNrIGZvciBjYWxsaW5nIHRoZSBhdXRoUHJvdmlkZXIubG9naW4oKSBtZXRob2RcbiAqIGFuZCByZWRpcmVjdCB0byB0aGUgcHJldmlvdXMgYXV0aGVudGljYXRlZCBwYWdlIChvciB0aGUgaG9tZSBwYWdlKSBvbiBzdWNjZXNzLlxuICpcbiAqIEBzZWUgdXNlQXV0aFByb3ZpZGVyXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBsb2dpbiBjYWxsYmFja1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IHsgdXNlTG9naW4gfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKlxuICogY29uc3QgTG9naW5CdXR0b24gPSAoKSA9PiB7XG4gKiAgICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICogICAgIGNvbnN0IGxvZ2luID0gdXNlTG9naW4oKTtcbiAqICAgICBjb25zdCBoYW5kbGVDbGljayA9IHtcbiAqICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAqICAgICAgICAgbG9naW4oeyB1c2VybmFtZTogJ2pvaG4nLCBwYXNzd29yZDogJ3BAc3N3MHJkJyB9LCAnL3Bvc3RzJylcbiAqICAgICAgICAgICAgIC50aGVuKCgpID0+IHNldExvYWRpbmcoZmFsc2UpKTtcbiAqICAgICB9XG4gKiAgICAgcmV0dXJuIDxidXR0b24gb25DbGljaz17aGFuZGxlQ2xpY2t9PkxvZ2luPC9idXR0b24+O1xuICogfVxuICovXG52YXIgdXNlTG9naW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGF1dGhQcm92aWRlciA9IHVzZUF1dGhQcm92aWRlcigpO1xuICAgIHZhciBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gICAgdmFyIGxvY2F0aW9uU3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcbiAgICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcbiAgICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICAgIHZhciBuZXh0UGF0aE5hbWUgPSBsb2NhdGlvblN0YXRlICYmIGxvY2F0aW9uU3RhdGUubmV4dFBhdGhuYW1lO1xuICAgIHZhciBuZXh0U2VhcmNoID0gbG9jYXRpb25TdGF0ZSAmJiBsb2NhdGlvblN0YXRlLm5leHRTZWFyY2g7XG4gICAgdmFyIGxvZ2luID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHBhcmFtcywgcGF0aE5hbWUpIHtcbiAgICAgICAgaWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7IHBhcmFtcyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBhdXRoUHJvdmlkZXIubG9naW4ocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXQpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHJlc2V0Tm90aWZpY2F0aW9uKCkpO1xuICAgICAgICAgICAgdmFyIHJlZGlyZWN0VXJsID0gcGF0aE5hbWVcbiAgICAgICAgICAgICAgICA/IHBhdGhOYW1lXG4gICAgICAgICAgICAgICAgOiBuZXh0UGF0aE5hbWUgKyBuZXh0U2VhcmNoIHx8XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRBdXRoUGFyYW1zLmFmdGVyTG9naW5Vcmw7XG4gICAgICAgICAgICBoaXN0b3J5LnB1c2gocmVkaXJlY3RVcmwpO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSk7XG4gICAgfSwgW2F1dGhQcm92aWRlciwgaGlzdG9yeSwgbmV4dFBhdGhOYW1lLCBuZXh0U2VhcmNoLCBkaXNwYXRjaF0pO1xuICAgIHZhciBsb2dpbldpdGhvdXRQcm92aWRlciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChfLCBfXykge1xuICAgICAgICBkaXNwYXRjaChyZXNldE5vdGlmaWNhdGlvbigpKTtcbiAgICAgICAgaGlzdG9yeS5wdXNoKGRlZmF1bHRBdXRoUGFyYW1zLmFmdGVyTG9naW5VcmwpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSwgW2hpc3RvcnksIGRpc3BhdGNoXSk7XG4gICAgcmV0dXJuIGF1dGhQcm92aWRlciA/IGxvZ2luIDogbG9naW5XaXRob3V0UHJvdmlkZXI7XG59O1xuZXhwb3J0IGRlZmF1bHQgdXNlTG9naW47XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7XG5pbXBvcnQgdXNlR2V0UGVybWlzc2lvbnMgZnJvbSAnLi91c2VHZXRQZXJtaXNzaW9ucyc7XG5pbXBvcnQgeyB1c2VTYWZlU2V0U3RhdGUgfSBmcm9tICcuLi91dGlsL2hvb2tzJztcbnZhciBlbXB0eVBhcmFtcyA9IHt9O1xuLy8ga2VlcCBhIGNhY2hlIG9mIGFscmVhZHkgZmV0Y2hlZCBwZXJtaXNzaW9ucyB0byBpbml0aWFsaXplIHN0YXRlIGZvciBuZXdcbi8vIGNvbXBvbmVudHMgYW5kIGF2b2lkIGEgdXNlbGVzcyByZXJlbmRlciBpZiB0aGUgcGVybWlzc2lvbnMgaGF2ZW4ndCBjaGFuZ2VkXG52YXIgYWxyZWFkeUZldGNoZWRQZXJtaXNzaW9ucyA9IHsgJ3t9JzogdW5kZWZpbmVkIH07XG4vKipcbiAqIEhvb2sgZm9yIGdldHRpbmcgdXNlciBwZXJtaXNzaW9ucyB3aXRob3V0IHRoZSBsb2FkaW5nIHN0YXRlLlxuICpcbiAqIFdoZW4gY29tcGFyZWQgdG8gdXNlUGVybWlzc2lvbnMsIHRoaXMgaG9vayBkb2Vzbid0IGNhdXNlIGEgcmUtcmVuZGVyXG4gKiB3aGVuIHRoZSBwZXJtaXNzaW9ucyBoYXZlbid0IGNoYW5nZWQgc2luY2UgdGhlIGxhc3QgY2FsbC5cbiAqXG4gKiBUaGlzIGhvb2sgZG9lc24ndCBoYW5kbGUgdGhlIGxvYWRpbmcgc3RhdGUuXG4gKlxuICogQHNlZSB1c2VQZXJtaXNzaW9uc1xuICpcbiAqIENhbGxzIHRoZSBhdXRoUHJvdmlkZXIuZ2V0UGVybWlzc2lvbnMoKSBtZXRob2QgYXN5bmNocm9ub3VzbHkuXG4gKiBJZiB0aGUgYXV0aFByb3ZpZGVyIHJldHVybnMgYSByZWplY3RlZCBwcm9taXNlLCByZXR1cm5zIGVtcHR5IHBlcm1pc3Npb25zLlxuICpcbiAqIFRoZSByZXR1cm4gdmFsdWUgdXBkYXRlcyBhY2NvcmRpbmcgdG8gdGhlIHJlcXVlc3Qgc3RhdGU6XG4gKlxuICogLSBzdGFydDogICB7IHBlcm1pc3Npb25zOiBbcHJldmlvdXNseSBmZXRjaGVkIHBlcm1pc3Npb25zIGZvciB0aGVzZSBwYXJhbXNdIH1cbiAqIC0gc3VjY2VzczogeyBwZXJtaXNzaW9uczogW3Blcm1pc3Npb25zIHJldHVybmVkIGJ5IHRoZSBhdXRoUHJvdmlkZXIgKHVzdWFsbHkgdGhlIHNhbWUgYXMgb24gc3RhcnQpXSB9XG4gKiAtIGVycm9yOiAgIHsgZXJyb3I6IFtlcnJvciBmcm9tIHByb3ZpZGVyXSB9XG4gKlxuICogVXNlZnVsIHRvIGVuYWJsZSBmZWF0dXJlcyBiYXNlZCBvbiB1c2VyIHBlcm1pc3Npb25zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBBbnkgcGFyYW1zIHlvdSB3YW50IHRvIHBhc3MgdG8gdGhlIGF1dGhQcm92aWRlclxuICpcbiAqIEByZXR1cm5zIFRoZSBjdXJyZW50IGF1dGggY2hlY2sgc3RhdGUuIERlc3RydWN0dXJlIGFzIHsgcGVybWlzc2lvbnMsIGVycm9yIH0uXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICBpbXBvcnQgeyB1c2VQZXJtaXNzaW9uc09wdGltaXplZCB9IGZyb20gJ3JlYWN0LWFkbWluJztcbiAqXG4gKiAgICAgY29uc3QgUG9zdERldGFpbCA9IHByb3BzID0+IHtcbiAqICAgICAgICAgY29uc3QgeyBwZXJtaXNzaW9ucyB9ID0gdXNlUGVybWlzc2lvbnNPcHRpbWl6ZWQoKTtcbiAqICAgICAgICAgaWYgKHBlcm1pc3Npb25zICE9PSAnZWRpdG9yJykge1xuICogICAgICAgICAgICAgcmV0dXJuIDxSZWRpcmVjdCB0bz17YHBvc3RzLyR7cHJvcHMuaWR9L3Nob3dgfSAvPlxuICogICAgICAgICB9IGVsc2Uge1xuICogICAgICAgICAgICAgcmV0dXJuIDxQb3N0RWRpdCB7Li4ucHJvcHN9IC8+XG4gKiAgICAgICAgIH1cbiAqICAgICB9O1xuICovXG52YXIgdXNlUGVybWlzc2lvbnNPcHRpbWl6ZWQgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7IHBhcmFtcyA9IGVtcHR5UGFyYW1zOyB9XG4gICAgdmFyIGtleSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcyk7XG4gICAgdmFyIF9hID0gdXNlU2FmZVNldFN0YXRlKHtcbiAgICAgICAgcGVybWlzc2lvbnM6IGFscmVhZHlGZXRjaGVkUGVybWlzc2lvbnNba2V5XSxcbiAgICB9KSwgc3RhdGUgPSBfYVswXSwgc2V0U3RhdGUgPSBfYVsxXTtcbiAgICB2YXIgZ2V0UGVybWlzc2lvbnMgPSB1c2VHZXRQZXJtaXNzaW9ucygpO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGdldFBlcm1pc3Npb25zKHBhcmFtcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwZXJtaXNzaW9ucykge1xuICAgICAgICAgICAgaWYgKCFpc0VxdWFsKHBlcm1pc3Npb25zLCBzdGF0ZS5wZXJtaXNzaW9ucykpIHtcbiAgICAgICAgICAgICAgICBhbHJlYWR5RmV0Y2hlZFBlcm1pc3Npb25zW2tleV0gPSBwZXJtaXNzaW9ucztcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZSh7IHBlcm1pc3Npb25zOiBwZXJtaXNzaW9ucyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2dldFBlcm1pc3Npb25zLCBrZXldKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICByZXR1cm4gc3RhdGU7XG59O1xuZXhwb3J0IGRlZmF1bHQgdXNlUGVybWlzc2lvbnNPcHRpbWl6ZWQ7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xudmFyIGNoZWNrTWluaW11bVJlcXVpcmVkUHJvcHMgPSBmdW5jdGlvbiAoZGlzcGxheU5hbWUsIHJlcXVpcmVkUHJvcHMpIHsgcmV0dXJuIGZ1bmN0aW9uIChXcmFwcGVkQ29tcG9uZW50KSB7IHJldHVybiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB1c2VDaGVja01pbmltdW1SZXF1aXJlZFByb3BzKGRpc3BsYXlOYW1lLCByZXF1aXJlZFByb3BzLCBwcm9wcyk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgX19hc3NpZ24oe30sIHByb3BzKSk7XG59OyB9OyB9O1xuZXhwb3J0IGRlZmF1bHQgY2hlY2tNaW5pbXVtUmVxdWlyZWRQcm9wcztcbi8vIE5vdCBhIGhvb2sgYnV0IG5hbWVkIHRoYXQgd2F5IHRvIGF2b2lkIGNvbmZsaWN0cyB3aXRoIHRoZSBvbGQgb25lXG5leHBvcnQgdmFyIHVzZUNoZWNrTWluaW11bVJlcXVpcmVkUHJvcHMgPSBmdW5jdGlvbiAoZGlzcGxheU5hbWUsIHJlcXVpcmVkUHJvcHMsIHByb3BzKSB7XG4gICAgdmFyIHByb3BOYW1lcyA9IE9iamVjdC5rZXlzKHByb3BzKTtcbiAgICB2YXIgbWlzc2luZ1Byb3BzID0gcmVxdWlyZWRQcm9wcy5maWx0ZXIoZnVuY3Rpb24gKHByb3ApIHsgcmV0dXJuICFwcm9wTmFtZXMuaW5jbHVkZXMocHJvcCk7IH0pO1xuICAgIGlmIChtaXNzaW5nUHJvcHMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI8XCIgKyBkaXNwbGF5TmFtZSArIFwiPiBjb21wb25lbnQgaXMgbm90IHByb3Blcmx5IGNvbmZpZ3VyZWQsIHNvbWUgZXNzZW50aWFsIHByb3BzIGFyZSBtaXNzaW5nLlxcbkJlIHN1cmUgdG8gcGFzcyB0aGUgcHJvcHMgZnJvbSB0aGUgcGFyZW50LiBFeGFtcGxlOlxcblxcbmNvbnN0IE15XCIgKyBkaXNwbGF5TmFtZSArIFwiID0gcHJvcHMgPT4gKFxcbiAgICA8XCIgKyBkaXNwbGF5TmFtZSArIFwiIHsuLi5wcm9wc30+PC9cIiArIGRpc3BsYXlOYW1lICsgXCI+XFxuKTtcXG5cXG5UaGUgbWlzc2luZyBwcm9wcyBhcmU6IFwiICsgbWlzc2luZ1Byb3BzLmpvaW4oJywgJykpO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHRvZ2dsZUxpc3RJdGVtRXhwYW5kIH0gZnJvbSAnLi4vYWN0aW9ucy9saXN0QWN0aW9ucyc7XG4vKipcbiAqIFN0YXRlLWxpa2UgaG9vayBmb3IgY29udHJvbGxpbmcgdGhlIGV4cGFuZGVkIHN0YXRlIG9mIGEgbGlzdCBpdGVtXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlc291cmNlIFRoZSByZXNvdXJjZSBuYW1lLCBlLmcuICdwb3N0cydcbiAqIEBwYXJhbSB7c3RyaW5nfGludGVnZXJ9IGlkIFRoZSByZWNvcmQgaWRlbnRpZmllciwgZS5nLiAxMjNcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBEZXN0cnVjdHVyZSBhcyBbZXhwYW5kZWQsIHRvZ2dsZUV4cGFuZGVkXS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGNvbnN0IFtleHBhbmRlZCwgdG9nZ2xlRXhwYW5kZWRdID0gdXNlRXhwYW5kZWQoJ3Bvc3RzJywgMTIzKTtcbiAqIGNvbnN0IGV4cGFuZEljb24gPSBleHBhbmRlZCA/IEV4cGFuZExlc3MgOiBFeHBhbmRNb3JlO1xuICogY29uc3Qgb25FeHBhbmRDbGljayA9ICgpID0+IHRvZ2dsZUV4cGFuZGVkKCk7XG4gKi9cbnZhciB1c2VFeHBhbmRlZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgaWQpIHtcbiAgICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICAgIHZhciBleHBhbmRlZExpc3QgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAocmVkdXhTdGF0ZSkge1xuICAgICAgICByZXR1cm4gcmVkdXhTdGF0ZS5hZG1pbi5yZXNvdXJjZXNbcmVzb3VyY2VdXG4gICAgICAgICAgICA/IHJlZHV4U3RhdGUuYWRtaW4ucmVzb3VyY2VzW3Jlc291cmNlXS5saXN0LmV4cGFuZGVkXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICB2YXIgZXhwYW5kZWQgPSBleHBhbmRlZExpc3QgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IGZhbHNlXG4gICAgICAgIDogZXhwYW5kZWRMaXN0Lm1hcChmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGVsID09IGlkOyB9KS5pbmRleE9mKHRydWUpICE9PSAtMTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICB2YXIgdG9nZ2xlRXhwYW5kZWQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRpc3BhdGNoKHRvZ2dsZUxpc3RJdGVtRXhwYW5kKHJlc291cmNlLCBpZCkpO1xuICAgIH0sIFtkaXNwYXRjaCwgcmVzb3VyY2UsIGlkXSk7XG4gICAgcmV0dXJuIFtleHBhbmRlZCwgdG9nZ2xlRXhwYW5kZWRdO1xufTtcbmV4cG9ydCBkZWZhdWx0IHVzZUV4cGFuZGVkO1xuIiwiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICdsb2Rhc2gvZGVmYXVsdHMnO1xuaW1wb3J0IExpc3RDb250ZXh0IGZyb20gJy4vTGlzdENvbnRleHQnO1xuLyoqXG4gKiBIb29rIHRvIHJlYWQgdGhlIGxpc3QgY29udHJvbGxlciBwcm9wcyBmcm9tIHRoZSBMaXN0Q29udGV4dC5cbiAqXG4gKiBNb3N0bHkgdXNlZCB3aXRoaW4gYSA8TGlzdENvbnRleHQuUHJvdmlkZXI+IChlLmcuIGFzIGEgZGVzY2VuZGVudCBvZiA8TGlzdD5cbiAqIG9yIDxMaXN0QmFzZT4pLlxuICpcbiAqIEJ1dCB5b3UgY2FuIGFsc28gdXNlIGl0IHdpdGhvdXQgYSA8TGlzdENvbnRleHQuUHJvdmlkZXI+LiBJbiB0aGlzIGNhc2UsIGl0IGlzIHVwIHRvIHlvdVxuICogdG8gcGFzcyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wcyAoc2VlIHRoZSBsaXN0IGJlbG93KS5cbiAqXG4gKiBUaGUgZ2l2ZW4gcHJvcHMgd2lsbCB0YWtlIHByZWNlZGVuY2Ugb3ZlciBjb250ZXh0IHZhbHVlcy5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMaXN0Q29udHJvbGxlclByb3BzXG4gKiBAcHJvcCB7T2JqZWN0fSAgIGRhdGEgYW4gaWQtYmFzZWQgZGljdGlvbmFyeSBvZiB0aGUgbGlzdCBkYXRhLCBlLmcuIHsgMTIzOiB7IGlkOiAxMjMsIHRpdGxlOiAnaGVsbG8gd29ybGQnIH0sIDQ1NjogeyAuLi4gfSB9XG4gKiBAcHJvcCB7QXJyYXl9ICAgIGlkcyBhbiBhcnJheSBsaXN0aW5nIHRoZSBpZHMgb2YgdGhlIHJlY29yZHMgaW4gdGhlIGxpc3QsIGUuZy4gWzEyMywgNDU2LCAuLi5dXG4gKiBAcHJvcCB7aW50ZWdlcn0gIHRvdGFsIHRoZSB0b3RhbCBudW1iZXIgb2YgcmVzdWx0cyBmb3IgdGhlIGN1cnJlbnQgZmlsdGVycywgZXhjbHVkaW5nIHBhZ2luYXRpb24uIFVzZWZ1bCB0byBidWlsZCB0aGUgcGFnaW5hdGlvbiBjb250cm9scy4gZS5nLiAyM1xuICogQHByb3Age2Jvb2xlYW59ICBsb2FkZWQgYm9vbGVhbiB0aGF0IGlzIGZhbHNlIHVudGlsIHRoZSBkYXRhIGlzIGF2YWlsYWJsZVxuICogQHByb3Age2Jvb2xlYW59ICBsb2FkaW5nIGJvb2xlYW4gdGhhdCBpcyB0cnVlIG9uIG1vdW50LCBhbmQgZmFsc2Ugb25jZSB0aGUgZGF0YSB3YXMgZmV0Y2hlZFxuICogQHByb3Age2ludGVnZXJ9ICBwYWdlIHRoZSBjdXJyZW50IHBhZ2UuIFN0YXJ0cyBhdCAxXG4gKiBAcHJvcCB7RnVuY3Rpb259IHNldFBhZ2UgYSBjYWxsYmFjayB0byBjaGFuZ2UgdGhlIHBhZ2UsIGUuZy4gc2V0UGFnZSgzKVxuICogQHByb3Age2ludGVnZXJ9ICBwZXJQYWdlIHRoZSBudW1iZXIgb2YgcmVzdWx0cyBwZXIgcGFnZS4gRGVmYXVsdHMgdG8gMjVcbiAqIEBwcm9wIHtGdW5jdGlvbn0gc2V0UGVyUGFnZSBhIGNhbGxiYWNrIHRvIGNoYW5nZSB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgcGVyIHBhZ2UsIGUuZy4gc2V0UGVyUGFnZSgyNSlcbiAqIEBwcm9wIHtPYmplY3R9ICAgY3VycmVudFNvcnQgYSBzb3J0IG9iamVjdCB7IGZpZWxkLCBvcmRlciB9LCBlLmcuIHsgZmllbGQ6ICdkYXRlJywgb3JkZXI6ICdERVNDJyB9XG4gKiBAcHJvcCB7RnVuY3Rpb259IHNldFNvcnQgYSBjYWxsYmFjayB0byBjaGFuZ2UgdGhlIHNvcnQsIGUuZy4gc2V0U29ydCgnbmFtZScsICdBU0MnKVxuICogQHByb3Age09iamVjdH0gICBmaWx0ZXJWYWx1ZXMgYSBkaWN0aW9uYXJ5IG9mIGZpbHRlciB2YWx1ZXMsIGUuZy4geyB0aXRsZTogJ2xvcmVtJywgbmF0aW9uYWxpdHk6ICdmcicgfVxuICogQHByb3Age0Z1bmN0aW9ufSBzZXRGaWx0ZXJzIGEgY2FsbGJhY2sgdG8gdXBkYXRlIHRoZSBmaWx0ZXJzLCBlLmcuIHNldEZpbHRlcnMoZmlsdGVycywgZGlzcGxheWVkRmlsdGVycylcbiAqIEBwcm9wIHtPYmplY3R9ICAgZGlzcGxheWVkRmlsdGVycyBhIGRpY3Rpb25hcnkgb2YgdGhlIGRpc3BsYXllZCBmaWx0ZXJzLCBlLmcuIHsgdGl0bGU6IHRydWUsIG5hdGlvbmFsaXR5OiB0cnVlIH1cbiAqIEBwcm9wIHtGdW5jdGlvbn0gc2hvd0ZpbHRlciBhIGNhbGxiYWNrIHRvIHNob3cgb25lIG9mIHRoZSBmaWx0ZXJzLCBlLmcuIHNob3dGaWx0ZXIoJ3RpdGxlJywgZGVmYXVsdFZhbHVlKVxuICogQHByb3Age0Z1bmN0aW9ufSBoaWRlRmlsdGVyIGEgY2FsbGJhY2sgdG8gaGlkZSBvbmUgb2YgdGhlIGZpbHRlcnMsIGUuZy4gaGlkZUZpbHRlcigndGl0bGUnKVxuICogQHByb3Age0FycmF5fSAgICBzZWxlY3RlZElkcyBhbiBhcnJheSBsaXN0aW5nIHRoZSBpZHMgb2YgdGhlIHNlbGVjdGVkIHJvd3MsIGUuZy4gWzEyMywgNDU2XVxuICogQHByb3Age0Z1bmN0aW9ufSBvblNlbGVjdCBjYWxsYmFjayB0byBjaGFuZ2UgdGhlIGxpc3Qgb2Ygc2VsZWN0ZWQgcm93cywgZS5nLiBvblNlbGVjdChbNDU2LCA3ODldKVxuICogQHByb3Age0Z1bmN0aW9ufSBvblRvZ2dsZUl0ZW0gY2FsbGJhY2sgdG8gdG9nZ2xlIHRoZSBzZWxlY3Rpb24gb2YgYSBnaXZlbiByZWNvcmQgYmFzZWQgb24gaXRzIGlkLCBlLmcuIG9uVG9nZ2xlSXRlbSg0NTYpXG4gKiBAcHJvcCB7RnVuY3Rpb259IG9uVW5zZWxlY3RJdGVtcyBjYWxsYmFjayB0byBjbGVhciB0aGUgc2VsZWN0aW9uLCBlLmcuIG9uVW5zZWxlY3RJdGVtcygpO1xuICogQHByb3Age3N0cmluZ30gICBiYXNlUGF0aCBkZWR1Y2VkIGZyb20gdGhlIGxvY2F0aW9uLCB1c2VmdWwgZm9yIGFjdGlvbiBidXR0b25zXG4gKiBAcHJvcCB7c3RyaW5nfSAgIGRlZmF1bHRUaXRsZSB0aGUgdHJhbnNsYXRlZCB0aXRsZSBiYXNlZCBvbiB0aGUgcmVzb3VyY2UsIGUuZy4gJ1Bvc3RzJ1xuICogQHByb3Age3N0cmluZ30gICByZXNvdXJjZSB0aGUgcmVzb3VyY2UgbmFtZSwgZGVkdWNlZCBmcm9tIHRoZSBsb2NhdGlvbi4gZS5nLiAncG9zdHMnXG4gKlxuICogQHJldHVybnMge0xpc3RDb250cm9sbGVyUHJvcHN9IGxpc3QgY29udHJvbGxlciBwcm9wc1xuICpcbiAqIEBzZWUgdXNlTGlzdENvbnRyb2xsZXIgZm9yIGhvdyBpdCBpcyBmaWxsZWRcbiAqXG4gKiBAZXhhbXBsZSAvLyBjdXN0b20gbGlzdCB2aWV3XG4gKlxuICogaW1wb3J0IHsgdXNlTGlzdENvbnRleHQgfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKlxuICogY29uc3QgTXlMaXN0ID0gKCkgPT4ge1xuICogICAgIGNvbnN0IHsgZGF0YSwgaWRzLCBsb2FkZWQgfSA9IHVzZUxpc3RDb250ZXh0KCk7XG4gKiAgICAgaWYgKCFsb2FkZWQpIHtcbiAqICAgICAgICAgcmV0dXJuIDw+TG9hZGluZy4uLjwvPjtcbiAqICAgICB9XG4gKiAgICAgY29uc3QgcmVjb3JkcyA9IGlkcy5tYXAoaWQgPT4gZGF0YVtpZF0pO1xuICogICAgIHJldHVybiAoXG4gKiAgICAgICAgIDx1bD5cbiAqICAgICAgICAgICAgIHtyZWNvcmRzLm1hcChyZWNvcmQgPT4gKFxuICogICAgICAgICAgICAgICAgIDxsaSBrZXk9e3JlY29yZC5pZH0+e3JlY29yZC5uYW1lfTwvbGk+XG4gKiAgICAgICAgICAgICApKX1cbiAqICAgICAgICAgPC91bD5cbiAqICAgICApO1xuICogfVxuICpcbiAqIEBleGFtcGxlIC8vIGN1c3RvbSBwYWdpbmF0aW9uXG4gKlxuICogaW1wb3J0IHsgdXNlTGlzdENvbnRleHQgfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKiBpbXBvcnQgeyBCdXR0b24sIFRvb2xiYXIgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XG4gKiBpbXBvcnQgQ2hldnJvbkxlZnQgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0NoZXZyb25MZWZ0JztcbiAqIGltcG9ydCBDaGV2cm9uUmlnaHQgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0NoZXZyb25SaWdodCc7XG4gKlxuICogY29uc3QgUHJldk5leHRQYWdpbmF0aW9uID0gKCkgPT4ge1xuICogICAgIGNvbnN0IHsgcGFnZSwgcGVyUGFnZSwgdG90YWwsIHNldFBhZ2UgfSA9IHVzZUxpc3RDb250ZXh0KCk7XG4gKiAgICAgY29uc3QgbmJQYWdlcyA9IE1hdGguY2VpbCh0b3RhbCAvIHBlclBhZ2UpIHx8IDE7XG4gKiAgICAgcmV0dXJuIChcbiAqICAgICAgICAgbmJQYWdlcyA+IDEgJiZcbiAqICAgICAgICAgICAgIDxUb29sYmFyPlxuICogICAgICAgICAgICAgICAgIHtwYWdlID4gMSAmJlxuICogICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGNvbG9yPVwicHJpbWFyeVwiIGtleT1cInByZXZcIiBvbkNsaWNrPXsoKSA9PiBzZXRQYWdlKHBhZ2UgLSAxKX0+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvbkxlZnQgLz5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgIFByZXZcbiAqICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gKiAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgIHtwYWdlICE9PSBuYlBhZ2VzICYmXG4gKiAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gY29sb3I9XCJwcmltYXJ5XCIga2V5PVwibmV4dFwiIG9uQ2xpY2s9eygpID0+IHNldFBhZ2UocGFnZSArIDEpfT5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgIE5leHRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uUmlnaHQgLz5cbiAqICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gKiAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgPC9Ub29sYmFyPlxuICogICAgICk7XG4gKiB9XG4gKi9cbnZhciB1c2VMaXN0Q29udGV4dCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjb250ZXh0ID0gdXNlQ29udGV4dChMaXN0Q29udGV4dCk7XG4gICAgLy8gUHJvcHMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhlIGNvbnRleHRcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdHMoe30sIHByb3BzICE9IG51bGwgPyBleHRyYWN0TGlzdENvbnRleHRQcm9wcyhwcm9wcykgOiB7fSwgY29udGV4dCk7XG4gICAgfSwgW2NvbnRleHQsIHByb3BzXSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgdXNlTGlzdENvbnRleHQ7XG4vKipcbiAqIEV4dHJhY3Qgb25seSB0aGUgbGlzdCBjb250cm9sbGVyIHByb3BzXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFByb3BzIHBhc3NlZCB0byB0aGUgdXNlTGlzdENvbnRleHQgaG9va1xuICpcbiAqIEByZXR1cm5zIHtMaXN0Q29udHJvbGxlclByb3BzfSBMaXN0IGNvbnRyb2xsZXIgcHJvcHNcbiAqL1xudmFyIGV4dHJhY3RMaXN0Q29udGV4dFByb3BzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGJhc2VQYXRoID0gX2EuYmFzZVBhdGgsIGN1cnJlbnRTb3J0ID0gX2EuY3VycmVudFNvcnQsIGRhdGEgPSBfYS5kYXRhLCBkZWZhdWx0VGl0bGUgPSBfYS5kZWZhdWx0VGl0bGUsIGRpc3BsYXllZEZpbHRlcnMgPSBfYS5kaXNwbGF5ZWRGaWx0ZXJzLCBmaWx0ZXJWYWx1ZXMgPSBfYS5maWx0ZXJWYWx1ZXMsIGhhc0NyZWF0ZSA9IF9hLmhhc0NyZWF0ZSwgaGlkZUZpbHRlciA9IF9hLmhpZGVGaWx0ZXIsIGlkcyA9IF9hLmlkcywgbG9hZGVkID0gX2EubG9hZGVkLCBsb2FkaW5nID0gX2EubG9hZGluZywgb25TZWxlY3QgPSBfYS5vblNlbGVjdCwgb25Ub2dnbGVJdGVtID0gX2Eub25Ub2dnbGVJdGVtLCBvblVuc2VsZWN0SXRlbXMgPSBfYS5vblVuc2VsZWN0SXRlbXMsIHBhZ2UgPSBfYS5wYWdlLCBwZXJQYWdlID0gX2EucGVyUGFnZSwgcmVmZXRjaCA9IF9hLnJlZmV0Y2gsIHJlc291cmNlID0gX2EucmVzb3VyY2UsIHNlbGVjdGVkSWRzID0gX2Euc2VsZWN0ZWRJZHMsIHNldEZpbHRlcnMgPSBfYS5zZXRGaWx0ZXJzLCBzZXRQYWdlID0gX2Euc2V0UGFnZSwgc2V0UGVyUGFnZSA9IF9hLnNldFBlclBhZ2UsIHNldFNvcnQgPSBfYS5zZXRTb3J0LCBzaG93RmlsdGVyID0gX2Euc2hvd0ZpbHRlciwgdG90YWwgPSBfYS50b3RhbDtcbiAgICByZXR1cm4gKHtcbiAgICAgICAgYmFzZVBhdGg6IGJhc2VQYXRoLFxuICAgICAgICBjdXJyZW50U29ydDogY3VycmVudFNvcnQsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGRlZmF1bHRUaXRsZTogZGVmYXVsdFRpdGxlLFxuICAgICAgICBkaXNwbGF5ZWRGaWx0ZXJzOiBkaXNwbGF5ZWRGaWx0ZXJzLFxuICAgICAgICBmaWx0ZXJWYWx1ZXM6IGZpbHRlclZhbHVlcyxcbiAgICAgICAgaGFzQ3JlYXRlOiBoYXNDcmVhdGUsXG4gICAgICAgIGhpZGVGaWx0ZXI6IGhpZGVGaWx0ZXIsXG4gICAgICAgIGlkczogaWRzLFxuICAgICAgICBsb2FkZWQ6IGxvYWRlZCxcbiAgICAgICAgbG9hZGluZzogbG9hZGluZyxcbiAgICAgICAgb25TZWxlY3Q6IG9uU2VsZWN0LFxuICAgICAgICBvblRvZ2dsZUl0ZW06IG9uVG9nZ2xlSXRlbSxcbiAgICAgICAgb25VbnNlbGVjdEl0ZW1zOiBvblVuc2VsZWN0SXRlbXMsXG4gICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgIHBlclBhZ2U6IHBlclBhZ2UsXG4gICAgICAgIHJlZmV0Y2g6IHJlZmV0Y2gsXG4gICAgICAgIHJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgc2VsZWN0ZWRJZHM6IHNlbGVjdGVkSWRzLFxuICAgICAgICBzZXRGaWx0ZXJzOiBzZXRGaWx0ZXJzLFxuICAgICAgICBzZXRQYWdlOiBzZXRQYWdlLFxuICAgICAgICBzZXRQZXJQYWdlOiBzZXRQZXJQYWdlLFxuICAgICAgICBzZXRTb3J0OiBzZXRTb3J0LFxuICAgICAgICBzaG93RmlsdGVyOiBzaG93RmlsdGVyLFxuICAgICAgICB0b3RhbDogdG90YWwsXG4gICAgfSk7XG59O1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCB7IGlzVmFsaWRFbGVtZW50LCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VDaGVja01pbmltdW1SZXF1aXJlZFByb3BzIH0gZnJvbSAnLi9jaGVja01pbmltdW1SZXF1aXJlZFByb3BzJztcbmltcG9ydCB1c2VMaXN0UGFyYW1zIGZyb20gJy4vdXNlTGlzdFBhcmFtcyc7XG5pbXBvcnQgdXNlUmVjb3JkU2VsZWN0aW9uIGZyb20gJy4vdXNlUmVjb3JkU2VsZWN0aW9uJztcbmltcG9ydCB1c2VUcmFuc2xhdGUgZnJvbSAnLi4vaTE4bi91c2VUcmFuc2xhdGUnO1xuaW1wb3J0IHVzZU5vdGlmeSBmcm9tICcuLi9zaWRlRWZmZWN0L3VzZU5vdGlmeSc7XG5pbXBvcnQgeyB1c2VHZXRNYWluTGlzdCB9IGZyb20gJy4uL2RhdGFQcm92aWRlci91c2VHZXRNYWluTGlzdCc7XG5pbXBvcnQgeyBTT1JUX0FTQyB9IGZyb20gJy4uL3JlZHVjZXIvYWRtaW4vcmVzb3VyY2UvbGlzdC9xdWVyeVJlZHVjZXInO1xuaW1wb3J0IHsgQ1JVRF9HRVRfTElTVCB9IGZyb20gJy4uL2FjdGlvbnMnO1xuaW1wb3J0IGRlZmF1bHRFeHBvcnRlciBmcm9tICcuLi9leHBvcnQvZGVmYXVsdEV4cG9ydGVyJztcbmltcG9ydCB7IHVzZVJlc291cmNlQ29udGV4dCwgdXNlR2V0UmVzb3VyY2VMYWJlbCB9IGZyb20gJy4uL2NvcmUnO1xudmFyIGRlZmF1bHRTb3J0ID0ge1xuICAgIGZpZWxkOiAnaWQnLFxuICAgIG9yZGVyOiBTT1JUX0FTQyxcbn07XG4vKipcbiAqIFByZXBhcmUgZGF0YSBmb3IgdGhlIExpc3Qgdmlld1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBUaGUgcHJvcHMgcGFzc2VkIHRvIHRoZSBMaXN0IGNvbXBvbmVudC5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGNvbnRyb2xsZXJQcm9wcyBGZXRjaGVkIGFuZCBjb21wdXRlZCBkYXRhIGZvciB0aGUgTGlzdCB2aWV3XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQgeyB1c2VMaXN0Q29udHJvbGxlciB9IGZyb20gJ3JlYWN0LWFkbWluJztcbiAqIGltcG9ydCBMaXN0VmlldyBmcm9tICcuL0xpc3RWaWV3JztcbiAqXG4gKiBjb25zdCBNeUxpc3QgPSBwcm9wcyA9PiB7XG4gKiAgICAgY29uc3QgY29udHJvbGxlclByb3BzID0gdXNlTGlzdENvbnRyb2xsZXIocHJvcHMpO1xuICogICAgIHJldHVybiA8TGlzdFZpZXcgey4uLmNvbnRyb2xsZXJQcm9wc30gey4uLnByb3BzfSAvPjtcbiAqIH1cbiAqL1xudmFyIHVzZUxpc3RDb250cm9sbGVyID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdXNlQ2hlY2tNaW5pbXVtUmVxdWlyZWRQcm9wcygnTGlzdCcsIFsnYmFzZVBhdGgnXSwgcHJvcHMpO1xuICAgIHZhciBiYXNlUGF0aCA9IHByb3BzLmJhc2VQYXRoLCBfYSA9IHByb3BzLmV4cG9ydGVyLCBleHBvcnRlciA9IF9hID09PSB2b2lkIDAgPyBkZWZhdWx0RXhwb3J0ZXIgOiBfYSwgZmlsdGVyRGVmYXVsdFZhbHVlcyA9IHByb3BzLmZpbHRlckRlZmF1bHRWYWx1ZXMsIGhhc0NyZWF0ZSA9IHByb3BzLmhhc0NyZWF0ZSwgX2IgPSBwcm9wcy5zb3J0LCBzb3J0ID0gX2IgPT09IHZvaWQgMCA/IGRlZmF1bHRTb3J0IDogX2IsIF9jID0gcHJvcHMucGVyUGFnZSwgcGVyUGFnZSA9IF9jID09PSB2b2lkIDAgPyAxMCA6IF9jLCBmaWx0ZXIgPSBwcm9wcy5maWx0ZXIsIF9kID0gcHJvcHMuZGVib3VuY2UsIGRlYm91bmNlID0gX2QgPT09IHZvaWQgMCA/IDUwMCA6IF9kLCBzeW5jV2l0aExvY2F0aW9uID0gcHJvcHMuc3luY1dpdGhMb2NhdGlvbjtcbiAgICB2YXIgcmVzb3VyY2UgPSB1c2VSZXNvdXJjZUNvbnRleHQocHJvcHMpO1xuICAgIGlmICghcmVzb3VyY2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPExpc3Q+IHdhcyBjYWxsZWQgb3V0c2lkZSBvZiBhIFJlc291cmNlQ29udGV4dCBhbmQgd2l0aG91dCBhIHJlc291cmNlIHByb3AuIFlvdSBtdXN0IHNldCB0aGUgcmVzb3VyY2UgcHJvcC5cIik7XG4gICAgfVxuICAgIGlmIChmaWx0ZXIgJiYgaXNWYWxpZEVsZW1lbnQoZmlsdGVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJzxMaXN0PiByZWNlaXZlZCBhIFJlYWN0IGVsZW1lbnQgYXMgYGZpbHRlcmAgcHJvcHMuIElmIHlvdSBpbnRlbmRlZCB0byBzZXQgdGhlIGxpc3QgZmlsdGVyIGVsZW1lbnRzLCB1c2UgdGhlIGBmaWx0ZXJzYCAod2l0aCBhbiBzKSBwcm9wIGluc3RlYWQuIFRoZSBgZmlsdGVyYCBwcm9wIGlzIGludGVybmFsIGFuZCBzaG91bGQgbm90IGJlIHNldCBieSB0aGUgZGV2ZWxvcGVyLicpO1xuICAgIH1cbiAgICB2YXIgdHJhbnNsYXRlID0gdXNlVHJhbnNsYXRlKCk7XG4gICAgdmFyIG5vdGlmeSA9IHVzZU5vdGlmeSgpO1xuICAgIHZhciBfZSA9IHVzZUxpc3RQYXJhbXMoe1xuICAgICAgICByZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgIGZpbHRlckRlZmF1bHRWYWx1ZXM6IGZpbHRlckRlZmF1bHRWYWx1ZXMsXG4gICAgICAgIHNvcnQ6IHNvcnQsXG4gICAgICAgIHBlclBhZ2U6IHBlclBhZ2UsXG4gICAgICAgIGRlYm91bmNlOiBkZWJvdW5jZSxcbiAgICAgICAgc3luY1dpdGhMb2NhdGlvbjogc3luY1dpdGhMb2NhdGlvbixcbiAgICB9KSwgcXVlcnkgPSBfZVswXSwgcXVlcnlNb2RpZmllcnMgPSBfZVsxXTtcbiAgICB2YXIgX2YgPSB1c2VSZWNvcmRTZWxlY3Rpb24ocmVzb3VyY2UpLCBzZWxlY3RlZElkcyA9IF9mWzBdLCBzZWxlY3Rpb25Nb2RpZmllcnMgPSBfZlsxXTtcbiAgICAvKipcbiAgICAgKiBXZSB3YW50IHRoZSBsaXN0IG9mIGlkcyB0byBiZSBhbHdheXMgYXZhaWxhYmxlIGZvciBvcHRpbWlzdGljIHJlbmRlcmluZyxcbiAgICAgKiBhbmQgdGhlcmVmb3JlIHdlIG5lZWQgYSBjdXN0b20gYWN0aW9uIChDUlVEX0dFVF9MSVNUKSB0aGF0IHdpbGwgYmUgdXNlZC5cbiAgICAgKi9cbiAgICB2YXIgX2cgPSB1c2VHZXRNYWluTGlzdChyZXNvdXJjZSwge1xuICAgICAgICBwYWdlOiBxdWVyeS5wYWdlLFxuICAgICAgICBwZXJQYWdlOiBxdWVyeS5wZXJQYWdlLFxuICAgIH0sIHsgZmllbGQ6IHF1ZXJ5LnNvcnQsIG9yZGVyOiBxdWVyeS5vcmRlciB9LCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcXVlcnkuZmlsdGVyKSwgZmlsdGVyKSwge1xuICAgICAgICBhY3Rpb246IENSVURfR0VUX0xJU1QsXG4gICAgICAgIG9uRmFpbHVyZTogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbm90aWZ5KHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IGVycm9yXG4gICAgICAgICAgICAgICAgOiBlcnJvci5tZXNzYWdlIHx8ICdyYS5ub3RpZmljYXRpb24uaHR0cF9lcnJvcicsICd3YXJuaW5nJywge1xuICAgICAgICAgICAgICAgIF86IHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgICAgICAgICA6IGVycm9yICYmIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9KSwgaWRzID0gX2cuaWRzLCBkYXRhID0gX2cuZGF0YSwgdG90YWwgPSBfZy50b3RhbCwgZXJyb3IgPSBfZy5lcnJvciwgbG9hZGluZyA9IF9nLmxvYWRpbmcsIGxvYWRlZCA9IF9nLmxvYWRlZCwgcmVmZXRjaCA9IF9nLnJlZmV0Y2g7XG4gICAgdmFyIHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWwgLyBxdWVyeS5wZXJQYWdlKSB8fCAxO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChxdWVyeS5wYWdlIDw9IDAgfHxcbiAgICAgICAgICAgICghbG9hZGluZyAmJiBxdWVyeS5wYWdlID4gMSAmJiBpZHMubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgLy8gUXVlcnkgZm9yIGEgcGFnZSB0aGF0IGRvZXNuJ3QgZXhpc3QsIHNldCBwYWdlIHRvIDFcbiAgICAgICAgICAgIHF1ZXJ5TW9kaWZpZXJzLnNldFBhZ2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWxvYWRpbmcgJiYgcXVlcnkucGFnZSA+IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgIC8vIFF1ZXJ5IGZvciBhIHBhZ2Ugb3V0IG9mIGJvdW5kcywgc2V0IHBhZ2UgdG8gdGhlIGxhc3QgZXhpc3RpbmcgcGFnZVxuICAgICAgICAgICAgLy8gSXQgb2NjdXJzIHdoZW4gZGVsZXRpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgbGFzdCBwYWdlXG4gICAgICAgICAgICBxdWVyeU1vZGlmaWVycy5zZXRQYWdlKHRvdGFsUGFnZXMpO1xuICAgICAgICB9XG4gICAgfSwgW2xvYWRpbmcsIHF1ZXJ5LnBhZ2UsIGlkcywgcXVlcnlNb2RpZmllcnMsIHRvdGFsLCB0b3RhbFBhZ2VzXSk7XG4gICAgdmFyIGN1cnJlbnRTb3J0ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiAoe1xuICAgICAgICBmaWVsZDogcXVlcnkuc29ydCxcbiAgICAgICAgb3JkZXI6IHF1ZXJ5Lm9yZGVyLFxuICAgIH0pOyB9LCBbcXVlcnkuc29ydCwgcXVlcnkub3JkZXJdKTtcbiAgICB2YXIgZ2V0UmVzb3VyY2VMYWJlbCA9IHVzZUdldFJlc291cmNlTGFiZWwoKTtcbiAgICB2YXIgZGVmYXVsdFRpdGxlID0gdHJhbnNsYXRlKCdyYS5wYWdlLmxpc3QnLCB7XG4gICAgICAgIG5hbWU6IGdldFJlc291cmNlTGFiZWwocmVzb3VyY2UsIDIpLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2VQYXRoOiBiYXNlUGF0aCxcbiAgICAgICAgY3VycmVudFNvcnQ6IGN1cnJlbnRTb3J0LFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBkZWZhdWx0VGl0bGU6IGRlZmF1bHRUaXRsZSxcbiAgICAgICAgZGlzcGxheWVkRmlsdGVyczogcXVlcnkuZGlzcGxheWVkRmlsdGVycyxcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICBleHBvcnRlcjogZXhwb3J0ZXIsXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICBmaWx0ZXJWYWx1ZXM6IHF1ZXJ5LmZpbHRlclZhbHVlcyxcbiAgICAgICAgaGFzQ3JlYXRlOiBoYXNDcmVhdGUsXG4gICAgICAgIGhpZGVGaWx0ZXI6IHF1ZXJ5TW9kaWZpZXJzLmhpZGVGaWx0ZXIsXG4gICAgICAgIGlkczogaWRzLFxuICAgICAgICBsb2FkZWQ6IGxvYWRlZCB8fCBpZHMubGVuZ3RoID4gMCxcbiAgICAgICAgbG9hZGluZzogbG9hZGluZyxcbiAgICAgICAgb25TZWxlY3Q6IHNlbGVjdGlvbk1vZGlmaWVycy5zZWxlY3QsXG4gICAgICAgIG9uVG9nZ2xlSXRlbTogc2VsZWN0aW9uTW9kaWZpZXJzLnRvZ2dsZSxcbiAgICAgICAgb25VbnNlbGVjdEl0ZW1zOiBzZWxlY3Rpb25Nb2RpZmllcnMuY2xlYXJTZWxlY3Rpb24sXG4gICAgICAgIHBhZ2U6IHF1ZXJ5LnBhZ2UsXG4gICAgICAgIHBlclBhZ2U6IHF1ZXJ5LnBlclBhZ2UsXG4gICAgICAgIHJlZmV0Y2g6IHJlZmV0Y2gsXG4gICAgICAgIHJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgc2VsZWN0ZWRJZHM6IHNlbGVjdGVkSWRzLFxuICAgICAgICBzZXRGaWx0ZXJzOiBxdWVyeU1vZGlmaWVycy5zZXRGaWx0ZXJzLFxuICAgICAgICBzZXRQYWdlOiBxdWVyeU1vZGlmaWVycy5zZXRQYWdlLFxuICAgICAgICBzZXRQZXJQYWdlOiBxdWVyeU1vZGlmaWVycy5zZXRQZXJQYWdlLFxuICAgICAgICBzZXRTb3J0OiBxdWVyeU1vZGlmaWVycy5zZXRTb3J0LFxuICAgICAgICBzaG93RmlsdGVyOiBxdWVyeU1vZGlmaWVycy5zaG93RmlsdGVyLFxuICAgICAgICB0b3RhbDogdG90YWwsXG4gICAgfTtcbn07XG5leHBvcnQgdmFyIGluamVjdGVkUHJvcHMgPSBbXG4gICAgJ2Jhc2VQYXRoJyxcbiAgICAnY3VycmVudFNvcnQnLFxuICAgICdkYXRhJyxcbiAgICAnZGVmYXVsdFRpdGxlJyxcbiAgICAnZGlzcGxheWVkRmlsdGVycycsXG4gICAgJ2Vycm9yJyxcbiAgICAnZXhwb3J0ZXInLFxuICAgICdmaWx0ZXJWYWx1ZXMnLFxuICAgICdoYXNDcmVhdGUnLFxuICAgICdoaWRlRmlsdGVyJyxcbiAgICAnaWRzJyxcbiAgICAnbG9hZGluZycsXG4gICAgJ2xvYWRlZCcsXG4gICAgJ29uU2VsZWN0JyxcbiAgICAnb25Ub2dnbGVJdGVtJyxcbiAgICAnb25VbnNlbGVjdEl0ZW1zJyxcbiAgICAncGFnZScsXG4gICAgJ3BlclBhZ2UnLFxuICAgICdyZWZldGNoJyxcbiAgICAncmVmcmVzaCcsXG4gICAgJ3Jlc291cmNlJyxcbiAgICAnc2VsZWN0ZWRJZHMnLFxuICAgICdzZXRGaWx0ZXJzJyxcbiAgICAnc2V0UGFnZScsXG4gICAgJ3NldFBlclBhZ2UnLFxuICAgICdzZXRTb3J0JyxcbiAgICAnc2hvd0ZpbHRlcicsXG4gICAgJ3RvdGFsJyxcbiAgICAndG90YWxQYWdlcycsXG4gICAgJ3ZlcnNpb24nLFxuXTtcbi8qKlxuICogU2VsZWN0IHRoZSBwcm9wcyBpbmplY3RlZCBieSB0aGUgdXNlTGlzdENvbnRyb2xsZXIgaG9va1xuICogdG8gYmUgcGFzc2VkIHRvIHRoZSBMaXN0IGNoaWxkcmVuIG5lZWRcbiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgcGljaygpXG4gKi9cbmV4cG9ydCB2YXIgZ2V0TGlzdENvbnRyb2xsZXJQcm9wcyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHJldHVybiBpbmplY3RlZFByb3BzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9fYXNzaWduKF9fYXNzaWduKHt9LCBhY2MpLCAoX2EgPSB7fSwgX2Fba2V5XSA9IHByb3BzW2tleV0sIF9hKSkpO1xuICAgIH0sIHt9KTtcbn07XG4vKipcbiAqIFNlbGVjdCB0aGUgcHJvcHMgbm90IGluamVjdGVkIGJ5IHRoZSB1c2VMaXN0Q29udHJvbGxlciBob29rXG4gKiB0byBiZSB1c2VkIGluc2lkZSB0aGUgTGlzdCBjaGlsZHJlbiB0byBzYW5pdGl6ZSBwcm9wcyBpbmplY3RlZCBieSBMaXN0XG4gKiBUaGlzIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIG9taXQoKVxuICovXG5leHBvcnQgdmFyIHNhbml0aXplTGlzdFJlc3RQcm9wcyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhwcm9wcylcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocHJvcE5hbWUpIHsgcmV0dXJuICFpbmplY3RlZFByb3BzLmluY2x1ZGVzKHByb3BOYW1lKTsgfSlcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9fYXNzaWduKF9fYXNzaWduKHt9LCBhY2MpLCAoX2EgPSB7fSwgX2Fba2V5XSA9IHByb3BzW2tleV0sIF9hKSkpO1xuICAgIH0sIHt9KTtcbn07XG5leHBvcnQgZGVmYXVsdCB1c2VMaXN0Q29udHJvbGxlcjtcbiIsImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdFBhZ2luYXRpb25Db250ZXh0IGZyb20gJy4vTGlzdFBhZ2luYXRpb25Db250ZXh0Jztcbi8qKlxuICogSG9vayB0byByZWFkIHRoZSBsaXN0IGNvbnRyb2xsZXIgcHJvcHMgZnJvbSB0aGUgTGlzdENvbnRleHQuXG4gKlxuICogTXVzdCBiZSB1c2VkIHdpdGhpbiBhIDxMaXN0Q29udGV4dFByb3ZpZGVyPiAoZS5nLiBhcyBhIGRlc2NlbmRlbnQgb2YgPExpc3Q+XG4gKiBvciA8TGlzdEJhc2U+KS5cbiAqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMaXN0UGFnaW5hdGlvbkNvbnRleHRWYWx1ZVxuICogQHByb3Age2ludGVnZXJ9ICB0b3RhbCB0aGUgdG90YWwgbnVtYmVyIG9mIHJlc3VsdHMgZm9yIHRoZSBjdXJyZW50IGZpbHRlcnMsIGV4Y2x1ZGluZyBwYWdpbmF0aW9uLiBVc2VmdWwgdG8gYnVpbGQgdGhlIHBhZ2luYXRpb24gY29udHJvbHMuIGUuZy4gMjNcbiAqIEBwcm9wIHtpbnRlZ2VyfSAgcGFnZSB0aGUgY3VycmVudCBwYWdlLiBTdGFydHMgYXQgMVxuICogQHByb3Age0Z1bmN0aW9ufSBzZXRQYWdlIGEgY2FsbGJhY2sgdG8gY2hhbmdlIHRoZSBwYWdlLCBlLmcuIHNldFBhZ2UoMylcbiAqIEBwcm9wIHtpbnRlZ2VyfSAgcGVyUGFnZSB0aGUgbnVtYmVyIG9mIHJlc3VsdHMgcGVyIHBhZ2UuIERlZmF1bHRzIHRvIDI1XG4gKiBAcHJvcCB7RnVuY3Rpb259IHNldFBlclBhZ2UgYSBjYWxsYmFjayB0byBjaGFuZ2UgdGhlIG51bWJlciBvZiByZXN1bHRzIHBlciBwYWdlLCBlLmcuIHNldFBlclBhZ2UoMjUpXG4gKiBAcHJvcCB7c3RyaW5nfSAgIHJlc291cmNlIHRoZSByZXNvdXJjZSBuYW1lLCBkZWR1Y2VkIGZyb20gdGhlIGxvY2F0aW9uLiBlLmcuICdwb3N0cydcbiAqXG4gKiBAcmV0dXJucyB7TGlzdFBhZ2luYXRpb25Db250ZXh0VmFsdWV9IGxpc3QgY29udHJvbGxlciBwcm9wc1xuICpcbiAqIEBzZWUgdXNlTGlzdENvbnRyb2xsZXIgZm9yIGhvdyBpdCBpcyBmaWxsZWRcbiAqL1xudmFyIHVzZUxpc3RQYWdpbmF0aW9uQ29udGV4dCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjb250ZXh0ID0gdXNlQ29udGV4dChMaXN0UGFnaW5hdGlvbkNvbnRleHQpO1xuICAgIGlmICghY29udGV4dC5zZXRQYWdlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZWxlbWVudCBpc24ndCBpbnNpZGUgYSA8TGlzdFBhZ2luYXRpb25Db250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1heSBvbmx5IGhhcHBlbiB3aGVuIHVzaW5nIERhdGFncmlkIC8gU2ltcGxlTGlzdCAvIFNpbmdsZUZpZWxkTGlzdCBjb21wb25lbnRzXG4gICAgICAgICAqIG91dHNpZGUgb2YgYSBMaXN0IC8gUmVmZXJlbmNlTWFueUZpZWxkIC8gUmVmZXJlbmNlQXJyYXlGaWVsZCAtXG4gICAgICAgICAqIHdoaWNoIGlzbid0IGRvY3VtZW50ZWQgYnV0IHRvbGVyYXRlZC5cbiAgICAgICAgICogVG8gYXZvaWQgYnJlYWthZ2UgaW4gdGhhdCBjYXNlLCBmYWxsYmFjayB0byBwcm9wc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCAtIHRvIGJlIHJlbW92ZWQgaW4gNC4wXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaXN0IGNvbXBvbmVudHMgbXVzdCBiZSB1c2VkIGluc2lkZSBhIDxMaXN0Q29udGV4dFByb3ZpZGVyPi4gUmVseWluZyBvbiBwcm9wcyByYXRoZXIgdGhhbiBjb250ZXh0IHRvIGdldCBMaXN0IGRhdGEgYW5kIGNhbGxiYWNrcyBpcyBkZXByZWNhdGVkIGFuZCB3b24ndCBiZSBzdXBwb3J0ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiByZWFjdC1hZG1pbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbn07XG5leHBvcnQgZGVmYXVsdCB1c2VMaXN0UGFnaW5hdGlvbkNvbnRleHQ7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8sIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCwgc2hhbGxvd0VxdWFsIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgcGFyc2UsIHN0cmluZ2lmeSB9IGZyb20gJ3F1ZXJ5LXN0cmluZyc7XG5pbXBvcnQgbG9kYXNoRGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJztcbmltcG9ydCBwaWNrQnkgZnJvbSAnbG9kYXNoL3BpY2tCeSc7XG5pbXBvcnQgeyB1c2VIaXN0b3J5LCB1c2VMb2NhdGlvbiB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHF1ZXJ5UmVkdWNlciwgeyBTRVRfRklMVEVSLCBISURFX0ZJTFRFUiwgU0hPV19GSUxURVIsIFNFVF9QQUdFLCBTRVRfUEVSX1BBR0UsIFNFVF9TT1JULCBTT1JUX0FTQywgfSBmcm9tICcuLi9yZWR1Y2VyL2FkbWluL3Jlc291cmNlL2xpc3QvcXVlcnlSZWR1Y2VyJztcbmltcG9ydCB7IGNoYW5nZUxpc3RQYXJhbXMgfSBmcm9tICcuLi9hY3Rpb25zL2xpc3RBY3Rpb25zJztcbmltcG9ydCByZW1vdmVFbXB0eSBmcm9tICcuLi91dGlsL3JlbW92ZUVtcHR5JztcbnZhciBlbXB0eU9iamVjdCA9IHt9O1xudmFyIGRlZmF1bHRTb3J0ID0ge1xuICAgIGZpZWxkOiAnaWQnLFxuICAgIG9yZGVyOiBTT1JUX0FTQyxcbn07XG52YXIgZGVmYXVsdFBhcmFtcyA9IHt9O1xuLyoqXG4gKiBHZXQgdGhlIGxpc3QgcGFyYW1ldGVycyAocGFnZSwgc29ydCwgZmlsdGVycykgYW5kIG1vZGlmaWVycy5cbiAqXG4gKiBUaGVzZSBwYXJhbWV0ZXJzIGFyZSBtZXJnZWQgZnJvbSAzIHNvdXJjZXM6XG4gKiAgIC0gdGhlIHF1ZXJ5IHN0cmluZyBmcm9tIHRoZSBVUkxcbiAqICAgLSB0aGUgcGFyYW1zIHN0b3JlZCBpbiB0aGUgc3RhdGUgKGZyb20gcHJldmlvdXMgbmF2aWdhdGlvbilcbiAqICAgLSB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIGhvb2sgKGluY2x1ZGluZyB0aGUgZmlsdGVyIGRlZmF1bHRWYWx1ZXMpXG4gKlxuICogQHJldHVybnMge0FycmF5fSBBIHR1cGxlIFtwYXJhbWV0ZXJzLCBtb2RpZmllcnNdLlxuICogRGVzdHJ1Y3R1cmUgYXMgW1xuICogICAgeyBwYWdlLCBwZXJQYWdlLCBzb3J0LCBvcmRlciwgZmlsdGVyLCBmaWx0ZXJWYWx1ZXMsIGRpc3BsYXllZEZpbHRlcnMsIHJlcXVlc3RTaWduYXR1cmUgfSxcbiAqICAgIHsgc2V0RmlsdGVycywgaGlkZUZpbHRlciwgc2hvd0ZpbHRlciwgc2V0UGFnZSwgc2V0UGVyUGFnZSwgc2V0U29ydCB9XG4gKiBdXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBjb25zdCBbbGlzdFBhcmFtcywgbGlzdFBhcmFtc0FjdGlvbnNdID0gdXNlTGlzdFBhcmFtcyh7XG4gKiAgICAgIHJlc291cmNlOiAncG9zdHMnLFxuICogICAgICBsb2NhdGlvbjogbG9jYXRpb24gLy8gRnJvbSByZWFjdC1yb3V0ZXIuIEluamVjdGVkIHRvIHlvdXIgY29tcG9uZW50IGJ5IHJlYWN0LWFkbWluIGluc2lkZSBhIExpc3RcbiAqICAgICAgZmlsdGVyRGVmYXVsdFZhbHVlczoge1xuICogICAgICAgICAgcHVibGlzaGVkOiB0cnVlXG4gKiAgICAgIH0sXG4gKiAgICAgIHNvcnQ6IHtcbiAqICAgICAgICAgIGZpZWxkOiAncHVibGlzaGVkX2F0JyxcbiAqICAgICAgICAgIG9yZGVyOiAnREVTQydcbiAqICAgICAgfSxcbiAqICAgICAgcGVyUGFnZTogMjVcbiAqIH0pO1xuICpcbiAqIGNvbnN0IHtcbiAqICAgICAgcGFnZSxcbiAqICAgICAgcGVyUGFnZSxcbiAqICAgICAgc29ydCxcbiAqICAgICAgb3JkZXIsXG4gKiAgICAgIGZpbHRlcixcbiAqICAgICAgZmlsdGVyVmFsdWVzLFxuICogICAgICBkaXNwbGF5ZWRGaWx0ZXJzLFxuICogICAgICByZXF1ZXN0U2lnbmF0dXJlXG4gKiB9ID0gbGlzdFBhcmFtcztcbiAqXG4gKiBjb25zdCB7XG4gKiAgICAgIHNldEZpbHRlcnMsXG4gKiAgICAgIGhpZGVGaWx0ZXIsXG4gKiAgICAgIHNob3dGaWx0ZXIsXG4gKiAgICAgIHNldFBhZ2UsXG4gKiAgICAgIHNldFBlclBhZ2UsXG4gKiAgICAgIHNldFNvcnQsXG4gKiB9ID0gbGlzdFBhcmFtc0FjdGlvbnM7XG4gKi9cbnZhciB1c2VMaXN0UGFyYW1zID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHJlc291cmNlID0gX2EucmVzb3VyY2UsIGZpbHRlckRlZmF1bHRWYWx1ZXMgPSBfYS5maWx0ZXJEZWZhdWx0VmFsdWVzLCBfYiA9IF9hLnNvcnQsIHNvcnQgPSBfYiA9PT0gdm9pZCAwID8gZGVmYXVsdFNvcnQgOiBfYiwgX2MgPSBfYS5wZXJQYWdlLCBwZXJQYWdlID0gX2MgPT09IHZvaWQgMCA/IDEwIDogX2MsIF9kID0gX2EuZGVib3VuY2UsIGRlYm91bmNlID0gX2QgPT09IHZvaWQgMCA/IDUwMCA6IF9kLCBfZSA9IF9hLnN5bmNXaXRoTG9jYXRpb24sIHN5bmNXaXRoTG9jYXRpb24gPSBfZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZTtcbiAgICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICAgIHZhciBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gICAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XG4gICAgdmFyIF9mID0gdXNlU3RhdGUoZGVmYXVsdFBhcmFtcyksIGxvY2FsUGFyYW1zID0gX2ZbMF0sIHNldExvY2FsUGFyYW1zID0gX2ZbMV07XG4gICAgdmFyIHBhcmFtcyA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChyZWR1eFN0YXRlKSB7XG4gICAgICAgIHJldHVybiByZWR1eFN0YXRlLmFkbWluLnJlc291cmNlc1tyZXNvdXJjZV1cbiAgICAgICAgICAgID8gcmVkdXhTdGF0ZS5hZG1pbi5yZXNvdXJjZXNbcmVzb3VyY2VdLmxpc3QucGFyYW1zXG4gICAgICAgICAgICA6IGRlZmF1bHRQYXJhbXM7XG4gICAgfSwgc2hhbGxvd0VxdWFsKTtcbiAgICB2YXIgdGVtcFBhcmFtcyA9IHVzZVJlZigpO1xuICAgIHZhciByZXF1ZXN0U2lnbmF0dXJlID0gW1xuICAgICAgICBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICAgIHJlc291cmNlLFxuICAgICAgICBzeW5jV2l0aExvY2F0aW9uID8gcGFyYW1zIDogbG9jYWxQYXJhbXMsXG4gICAgICAgIGZpbHRlckRlZmF1bHRWYWx1ZXMsXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHNvcnQpLFxuICAgICAgICBwZXJQYWdlLFxuICAgICAgICBzeW5jV2l0aExvY2F0aW9uLFxuICAgIF07XG4gICAgdmFyIHF1ZXJ5RnJvbUxvY2F0aW9uID0gc3luY1dpdGhMb2NhdGlvblxuICAgICAgICA/IHBhcnNlUXVlcnlGcm9tTG9jYXRpb24obG9jYXRpb24pXG4gICAgICAgIDoge307XG4gICAgdmFyIHF1ZXJ5ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBnZXRRdWVyeSh7XG4gICAgICAgICAgICBxdWVyeUZyb21Mb2NhdGlvbjogcXVlcnlGcm9tTG9jYXRpb24sXG4gICAgICAgICAgICBwYXJhbXM6IHN5bmNXaXRoTG9jYXRpb24gPyBwYXJhbXMgOiBsb2NhbFBhcmFtcyxcbiAgICAgICAgICAgIGZpbHRlckRlZmF1bHRWYWx1ZXM6IGZpbHRlckRlZmF1bHRWYWx1ZXMsXG4gICAgICAgICAgICBzb3J0OiBzb3J0LFxuICAgICAgICAgICAgcGVyUGFnZTogcGVyUGFnZSxcbiAgICAgICAgfSk7XG4gICAgfSwgcmVxdWVzdFNpZ25hdHVyZSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgICk7XG4gICAgLy8gT24gbW91bnQsIGlmIHRoZSBsb2NhdGlvbiBpbmNsdWRlcyBwYXJhbXMgKGZvciBleGFtcGxlIGZyb20gYSBsaW5rIGxpa2VcbiAgICAvLyB0aGUgY2F0ZWdvcmllcyBwcm9kdWN0cyBvbiB0aGUgZGVtbyksIHdlIG5lZWQgdG8gcGVyc2lzdCB0aGVtIGluIHRoZVxuICAgIC8vIHJlZHV4IHN0YXRlIGFzIHdlbGwgc28gdGhhdCB3ZSBkb24ndCBsb3NlIHRoZW0gYWZ0ZXIgYSByZWRpcmVjdGlvbiBiYWNrXG4gICAgLy8gdG8gdGhlIGxpc3RcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMocXVlcnlGcm9tTG9jYXRpb24pLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKGNoYW5nZUxpc3RQYXJhbXMocmVzb3VyY2UsIHF1ZXJ5KSk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICB2YXIgY2hhbmdlUGFyYW1zID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAoIXRlbXBQYXJhbXMuY3VycmVudCkge1xuICAgICAgICAgICAgLy8gbm8gb3RoZXIgY2hhbmdlUGFyYW1zIGFjdGlvbiBkaXNwYXRjaGVkIHRoaXMgdGlja1xuICAgICAgICAgICAgdGVtcFBhcmFtcy5jdXJyZW50ID0gcXVlcnlSZWR1Y2VyKHF1ZXJ5LCBhY3Rpb24pO1xuICAgICAgICAgICAgLy8gc2NoZWR1bGUgc2lkZSBlZmZlY3RzIGZvciBuZXh0IHRpY2tcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzeW5jV2l0aExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IFwiP1wiICsgc3RyaW5naWZ5KF9fYXNzaWduKF9fYXNzaWduKHt9LCB0ZW1wUGFyYW1zLmN1cnJlbnQpLCB7IGZpbHRlcjogSlNPTi5zdHJpbmdpZnkodGVtcFBhcmFtcy5jdXJyZW50LmZpbHRlciksIGRpc3BsYXllZEZpbHRlcnM6IEpTT04uc3RyaW5naWZ5KHRlbXBQYXJhbXMuY3VycmVudC5kaXNwbGF5ZWRGaWx0ZXJzKSB9KSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogeyBfc2Nyb2xsVG9Ub3A6IGFjdGlvbi50eXBlID09PSBTRVRfUEFHRSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goY2hhbmdlTGlzdFBhcmFtcyhyZXNvdXJjZSwgdGVtcFBhcmFtcy5jdXJyZW50KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhbFBhcmFtcyh0ZW1wUGFyYW1zLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZW1wUGFyYW1zLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNpZGUgZWZmZWN0cyBhbHJlYWR5IHNjaGVkdWxlZCwganVzdCBjaGFuZ2UgdGhlIHBhcmFtc1xuICAgICAgICAgICAgdGVtcFBhcmFtcy5jdXJyZW50ID0gcXVlcnlSZWR1Y2VyKHRlbXBQYXJhbXMuY3VycmVudCwgYWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH0sIHJlcXVlc3RTaWduYXR1cmUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIHZhciBzZXRTb3J0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHNvcnQsIG9yZGVyKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VQYXJhbXMoe1xuICAgICAgICAgICAgdHlwZTogU0VUX1NPUlQsXG4gICAgICAgICAgICBwYXlsb2FkOiB7IHNvcnQ6IHNvcnQsIG9yZGVyOiBvcmRlciB9LFxuICAgICAgICB9KTtcbiAgICB9LCByZXF1ZXN0U2lnbmF0dXJlIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgKTtcbiAgICB2YXIgc2V0UGFnZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChuZXdQYWdlKSB7IHJldHVybiBjaGFuZ2VQYXJhbXMoeyB0eXBlOiBTRVRfUEFHRSwgcGF5bG9hZDogbmV3UGFnZSB9KTsgfSwgcmVxdWVzdFNpZ25hdHVyZSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgICk7XG4gICAgdmFyIHNldFBlclBhZ2UgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAobmV3UGVyUGFnZSkge1xuICAgICAgICByZXR1cm4gY2hhbmdlUGFyYW1zKHsgdHlwZTogU0VUX1BFUl9QQUdFLCBwYXlsb2FkOiBuZXdQZXJQYWdlIH0pO1xuICAgIH0sIHJlcXVlc3RTaWduYXR1cmUgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICApO1xuICAgIHZhciBmaWx0ZXJWYWx1ZXMgPSBxdWVyeS5maWx0ZXIgfHwgZW1wdHlPYmplY3Q7XG4gICAgdmFyIGRpc3BsYXllZEZpbHRlclZhbHVlcyA9IHF1ZXJ5LmRpc3BsYXllZEZpbHRlcnMgfHwgZW1wdHlPYmplY3Q7XG4gICAgdmFyIGRlYm91bmNlZFNldEZpbHRlcnMgPSBsb2Rhc2hEZWJvdW5jZShmdW5jdGlvbiAoZmlsdGVyLCBkaXNwbGF5ZWRGaWx0ZXJzKSB7XG4gICAgICAgIGNoYW5nZVBhcmFtcyh7XG4gICAgICAgICAgICB0eXBlOiBTRVRfRklMVEVSLFxuICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVtb3ZlRW1wdHkoZmlsdGVyKSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5ZWRGaWx0ZXJzOiBkaXNwbGF5ZWRGaWx0ZXJzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfSwgZGVib3VuY2UpO1xuICAgIHZhciBzZXRGaWx0ZXJzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGZpbHRlciwgZGlzcGxheWVkRmlsdGVycywgZGVib3VuY2UpIHtcbiAgICAgICAgaWYgKGRlYm91bmNlID09PSB2b2lkIDApIHsgZGVib3VuY2UgPSB0cnVlOyB9XG4gICAgICAgIHJldHVybiBkZWJvdW5jZVxuICAgICAgICAgICAgPyBkZWJvdW5jZWRTZXRGaWx0ZXJzKGZpbHRlciwgZGlzcGxheWVkRmlsdGVycylcbiAgICAgICAgICAgIDogY2hhbmdlUGFyYW1zKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTRVRfRklMVEVSLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiByZW1vdmVFbXB0eShmaWx0ZXIpLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ZWRGaWx0ZXJzOiBkaXNwbGF5ZWRGaWx0ZXJzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICB9LCByZXF1ZXN0U2lnbmF0dXJlIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgKTtcbiAgICB2YXIgaGlkZUZpbHRlciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChmaWx0ZXJOYW1lKSB7XG4gICAgICAgIGNoYW5nZVBhcmFtcyh7XG4gICAgICAgICAgICB0eXBlOiBISURFX0ZJTFRFUixcbiAgICAgICAgICAgIHBheWxvYWQ6IGZpbHRlck5hbWUsXG4gICAgICAgIH0pO1xuICAgIH0sIHJlcXVlc3RTaWduYXR1cmUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIHZhciBzaG93RmlsdGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGZpbHRlck5hbWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBjaGFuZ2VQYXJhbXMoe1xuICAgICAgICAgICAgdHlwZTogU0hPV19GSUxURVIsXG4gICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgZmlsdGVyTmFtZTogZmlsdGVyTmFtZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0sIHJlcXVlc3RTaWduYXR1cmUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIHJldHVybiBbXG4gICAgICAgIF9fYXNzaWduKHsgZGlzcGxheWVkRmlsdGVyczogZGlzcGxheWVkRmlsdGVyVmFsdWVzLCBmaWx0ZXJWYWx1ZXM6IGZpbHRlclZhbHVlcyxcbiAgICAgICAgICAgIHJlcXVlc3RTaWduYXR1cmU6IHJlcXVlc3RTaWduYXR1cmUgfSwgcXVlcnkpLFxuICAgICAgICB7XG4gICAgICAgICAgICBjaGFuZ2VQYXJhbXM6IGNoYW5nZVBhcmFtcyxcbiAgICAgICAgICAgIHNldFBhZ2U6IHNldFBhZ2UsXG4gICAgICAgICAgICBzZXRQZXJQYWdlOiBzZXRQZXJQYWdlLFxuICAgICAgICAgICAgc2V0U29ydDogc2V0U29ydCxcbiAgICAgICAgICAgIHNldEZpbHRlcnM6IHNldEZpbHRlcnMsXG4gICAgICAgICAgICBoaWRlRmlsdGVyOiBoaWRlRmlsdGVyLFxuICAgICAgICAgICAgc2hvd0ZpbHRlcjogc2hvd0ZpbHRlcixcbiAgICAgICAgfSxcbiAgICBdO1xufTtcbmV4cG9ydCB2YXIgdmFsaWRRdWVyeVBhcmFtcyA9IFtcbiAgICAncGFnZScsXG4gICAgJ3BlclBhZ2UnLFxuICAgICdzb3J0JyxcbiAgICAnb3JkZXInLFxuICAgICdmaWx0ZXInLFxuICAgICdkaXNwbGF5ZWRGaWx0ZXJzJyxcbl07XG52YXIgcGFyc2VPYmplY3QgPSBmdW5jdGlvbiAocXVlcnksIGZpZWxkKSB7XG4gICAgaWYgKHF1ZXJ5W2ZpZWxkXSAmJiB0eXBlb2YgcXVlcnlbZmllbGRdID09PSAnc3RyaW5nJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcXVlcnlbZmllbGRdID0gSlNPTi5wYXJzZShxdWVyeVtmaWVsZF0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBxdWVyeVtmaWVsZF07XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0IHZhciBwYXJzZVF1ZXJ5RnJvbUxvY2F0aW9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHNlYXJjaCA9IF9hLnNlYXJjaDtcbiAgICB2YXIgcXVlcnkgPSBwaWNrQnkocGFyc2Uoc2VhcmNoKSwgZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIHZhbGlkUXVlcnlQYXJhbXMuaW5kZXhPZihrKSAhPT0gLTE7IH0pO1xuICAgIHBhcnNlT2JqZWN0KHF1ZXJ5LCAnZmlsdGVyJyk7XG4gICAgcGFyc2VPYmplY3QocXVlcnksICdkaXNwbGF5ZWRGaWx0ZXJzJyk7XG4gICAgcmV0dXJuIHF1ZXJ5O1xufTtcbi8qKlxuICogQ2hlY2sgaWYgdXNlciBoYXMgYWxyZWFkeSBzZXQgY3VzdG9tIHNvcnQsIHBhZ2UsIG9yIGZpbHRlcnMgZm9yIHRoaXMgbGlzdFxuICpcbiAqIFVzZXIgcGFyYW1zIGNvbWUgZnJvbSB0aGUgUmVkdXggc3RvcmUgYXMgdGhlIHBhcmFtcyBwcm9wcy4gQnkgZGVmYXVsdCxcbiAqIHRoaXMgb2JqZWN0IGlzOlxuICpcbiAqIHsgZmlsdGVyOiB7fSwgb3JkZXI6IG51bGwsIHBhZ2U6IDEsIHBlclBhZ2U6IG51bGwsIHNvcnQ6IG51bGwgfVxuICpcbiAqIFRvIGNoZWNrIGlmIHRoZSB1c2VyIGhhcyBjdXN0b20gcGFyYW1zLCB3ZSBtdXN0IGNvbXBhcmUgdGhlIHBhcmFtc1xuICogdG8gdGhlc2UgaW5pdGlhbCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuICovXG5leHBvcnQgdmFyIGhhc0N1c3RvbVBhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICByZXR1cm4gKHBhcmFtcyAmJlxuICAgICAgICBwYXJhbXMuZmlsdGVyICYmXG4gICAgICAgIChPYmplY3Qua2V5cyhwYXJhbXMuZmlsdGVyKS5sZW5ndGggPiAwIHx8XG4gICAgICAgICAgICBwYXJhbXMub3JkZXIgIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zLnBhZ2UgIT09IDEgfHxcbiAgICAgICAgICAgIHBhcmFtcy5wZXJQYWdlICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtcy5zb3J0ICE9IG51bGwpKTtcbn07XG4vKipcbiAqIE1lcmdlIGxpc3QgcGFyYW1zIGZyb20gMyBkaWZmZXJlbnQgc291cmNlczpcbiAqICAgLSB0aGUgcXVlcnkgc3RyaW5nXG4gKiAgIC0gdGhlIHBhcmFtcyBzdG9yZWQgaW4gdGhlIHN0YXRlIChmcm9tIHByZXZpb3VzIG5hdmlnYXRpb24pXG4gKiAgIC0gdGhlIHByb3BzIHBhc3NlZCB0byB0aGUgTGlzdCBjb21wb25lbnQgKGluY2x1ZGluZyB0aGUgZmlsdGVyIGRlZmF1bHRWYWx1ZXMpXG4gKi9cbmV4cG9ydCB2YXIgZ2V0UXVlcnkgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgcXVlcnlGcm9tTG9jYXRpb24gPSBfYS5xdWVyeUZyb21Mb2NhdGlvbiwgcGFyYW1zID0gX2EucGFyYW1zLCBmaWx0ZXJEZWZhdWx0VmFsdWVzID0gX2EuZmlsdGVyRGVmYXVsdFZhbHVlcywgc29ydCA9IF9hLnNvcnQsIHBlclBhZ2UgPSBfYS5wZXJQYWdlO1xuICAgIHZhciBxdWVyeSA9IE9iamVjdC5rZXlzKHF1ZXJ5RnJvbUxvY2F0aW9uKS5sZW5ndGggPiAwXG4gICAgICAgID8gcXVlcnlGcm9tTG9jYXRpb25cbiAgICAgICAgOiBoYXNDdXN0b21QYXJhbXMocGFyYW1zKVxuICAgICAgICAgICAgPyBfX2Fzc2lnbih7fSwgcGFyYW1zKSA6IHsgZmlsdGVyOiBmaWx0ZXJEZWZhdWx0VmFsdWVzIHx8IHt9IH07XG4gICAgaWYgKCFxdWVyeS5zb3J0KSB7XG4gICAgICAgIHF1ZXJ5LnNvcnQgPSBzb3J0LmZpZWxkO1xuICAgICAgICBxdWVyeS5vcmRlciA9IHNvcnQub3JkZXI7XG4gICAgfVxuICAgIGlmIChxdWVyeS5wZXJQYWdlID09IG51bGwpIHtcbiAgICAgICAgcXVlcnkucGVyUGFnZSA9IHBlclBhZ2U7XG4gICAgfVxuICAgIGlmIChxdWVyeS5wYWdlID09IG51bGwpIHtcbiAgICAgICAgcXVlcnkucGFnZSA9IDE7XG4gICAgfVxuICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcXVlcnkpLCB7IHBhZ2U6IGdldE51bWJlck9yRGVmYXVsdChxdWVyeS5wYWdlLCAxKSwgcGVyUGFnZTogZ2V0TnVtYmVyT3JEZWZhdWx0KHF1ZXJ5LnBlclBhZ2UsIDEwKSB9KTtcbn07XG5leHBvcnQgdmFyIGdldE51bWJlck9yRGVmYXVsdCA9IGZ1bmN0aW9uIChwb3NzaWJsZU51bWJlciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIHBhcnNlZE51bWJlciA9IHR5cGVvZiBwb3NzaWJsZU51bWJlciA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBwYXJzZUludChwb3NzaWJsZU51bWJlciwgMTApXG4gICAgICAgIDogcG9zc2libGVOdW1iZXI7XG4gICAgcmV0dXJuIGlzTmFOKHBhcnNlZE51bWJlcikgPyBkZWZhdWx0VmFsdWUgOiBwYXJzZWROdW1iZXI7XG59O1xuZXhwb3J0IGRlZmF1bHQgdXNlTGlzdFBhcmFtcztcbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2gsIHNoYWxsb3dFcXVhbCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHNldExpc3RTZWxlY3RlZElkcywgdG9nZ2xlTGlzdEl0ZW0gfSBmcm9tICcuLi9hY3Rpb25zL2xpc3RBY3Rpb25zJztcbnZhciBkZWZhdWx0UmVjb3JkcyA9IFtdO1xuLyoqXG4gKiBHZXQgdGhlIGxpc3Qgb2Ygc2VsZWN0ZWQgaXRlbXMgZm9yIGEgcmVzb3VyY2UsIGFuZCBjYWxsYmFja3MgdG8gY2hhbmdlIHRoZSBzZWxlY3Rpb25cbiAqXG4gKiBAcGFyYW0gcmVzb3VyY2UgVGhlIHJlc291cmNlIG5hbWUsIGUuZy4gJ3Bvc3RzJ1xuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IERlc3RydWN0dXJlIGFzIFtzZWxlY3RlZElkcywgeyBzZWxlY3QsIHRvZ2dsZSwgY2xlYXJTZWxlY3Rpb24gfV0uXG4gKi9cbnZhciB1c2VSZWNvcmRTZWxlY3Rpb24gPSBmdW5jdGlvbiAocmVzb3VyY2UpIHtcbiAgICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICAgIHZhciBzZWxlY3RlZElkcyA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChyZWR1eFN0YXRlKSB7XG4gICAgICAgIHJldHVybiByZWR1eFN0YXRlLmFkbWluLnJlc291cmNlc1tyZXNvdXJjZV1cbiAgICAgICAgICAgID8gcmVkdXhTdGF0ZS5hZG1pbi5yZXNvdXJjZXNbcmVzb3VyY2VdLmxpc3Quc2VsZWN0ZWRJZHNcbiAgICAgICAgICAgIDogZGVmYXVsdFJlY29yZHM7XG4gICAgfSwgc2hhbGxvd0VxdWFsKTtcbiAgICB2YXIgc2VsZWN0aW9uTW9kaWZpZXJzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiAoe1xuICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uIChuZXdJZHMpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHNldExpc3RTZWxlY3RlZElkcyhyZXNvdXJjZSwgbmV3SWRzKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh0b2dnbGVMaXN0SXRlbShyZXNvdXJjZSwgaWQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJTZWxlY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHNldExpc3RTZWxlY3RlZElkcyhyZXNvdXJjZSwgW10pKTtcbiAgICAgICAgfSxcbiAgICB9KTsgfSwgW2Rpc3BhdGNoLCByZXNvdXJjZV0pO1xuICAgIHJldHVybiBbc2VsZWN0ZWRJZHMsIHNlbGVjdGlvbk1vZGlmaWVyc107XG59O1xuZXhwb3J0IGRlZmF1bHQgdXNlUmVjb3JkU2VsZWN0aW9uO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcm92aWRlciwgUmVhY3RSZWR1eENvbnRleHQgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBjcmVhdGVIYXNoSGlzdG9yeSB9IGZyb20gJ2hpc3RvcnknO1xuaW1wb3J0IHsgQ29ubmVjdGVkUm91dGVyIH0gZnJvbSAnY29ubmVjdGVkLXJlYWN0LXJvdXRlcic7XG5pbXBvcnQgeyBBdXRoQ29udGV4dCwgY29udmVydExlZ2FjeUF1dGhQcm92aWRlciB9IGZyb20gJy4uL2F1dGgnO1xuaW1wb3J0IHsgRGF0YVByb3ZpZGVyQ29udGV4dCwgY29udmVydExlZ2FjeURhdGFQcm92aWRlciwgfSBmcm9tICcuLi9kYXRhUHJvdmlkZXInO1xuaW1wb3J0IGNyZWF0ZUFkbWluU3RvcmUgZnJvbSAnLi9jcmVhdGVBZG1pblN0b3JlJztcbmltcG9ydCBUcmFuc2xhdGlvblByb3ZpZGVyIGZyb20gJy4uL2kxOG4vVHJhbnNsYXRpb25Qcm92aWRlcic7XG52YXIgQ29yZUFkbWluQ29udGV4dCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBhdXRoUHJvdmlkZXIgPSBfYS5hdXRoUHJvdmlkZXIsIGRhdGFQcm92aWRlciA9IF9hLmRhdGFQcm92aWRlciwgaTE4blByb3ZpZGVyID0gX2EuaTE4blByb3ZpZGVyLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBoaXN0b3J5ID0gX2EuaGlzdG9yeSwgY3VzdG9tUmVkdWNlcnMgPSBfYS5jdXN0b21SZWR1Y2VycywgY3VzdG9tU2FnYXMgPSBfYS5jdXN0b21TYWdhcywgaW5pdGlhbFN0YXRlID0gX2EuaW5pdGlhbFN0YXRlO1xuICAgIHZhciByZWR1eElzQWxyZWFkeUluaXRpYWxpemVkID0gISF1c2VDb250ZXh0KFJlYWN0UmVkdXhDb250ZXh0KTtcbiAgICBpZiAoIWRhdGFQcm92aWRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGRhdGFQcm92aWRlciBwcm9wLlxcblJlYWN0LWFkbWluIHJlcXVpcmVzIGEgdmFsaWQgZGF0YVByb3ZpZGVyIGZ1bmN0aW9uIHRvIHdvcmsuXCIpO1xuICAgIH1cbiAgICB2YXIgZmluYWxBdXRoUHJvdmlkZXIgPSBhdXRoUHJvdmlkZXIgaW5zdGFuY2VvZiBGdW5jdGlvblxuICAgICAgICA/IGNvbnZlcnRMZWdhY3lBdXRoUHJvdmlkZXIoYXV0aFByb3ZpZGVyKVxuICAgICAgICA6IGF1dGhQcm92aWRlcjtcbiAgICB2YXIgZmluYWxEYXRhUHJvdmlkZXIgPSBkYXRhUHJvdmlkZXIgaW5zdGFuY2VvZiBGdW5jdGlvblxuICAgICAgICA/IGNvbnZlcnRMZWdhY3lEYXRhUHJvdmlkZXIoZGF0YVByb3ZpZGVyKVxuICAgICAgICA6IGRhdGFQcm92aWRlcjtcbiAgICB2YXIgZmluYWxIaXN0b3J5ID0gaGlzdG9yeSB8fCBjcmVhdGVIYXNoSGlzdG9yeSgpO1xuICAgIHZhciByZW5kZXJDb3JlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXV0aENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGZpbmFsQXV0aFByb3ZpZGVyIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERhdGFQcm92aWRlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGZpbmFsRGF0YVByb3ZpZGVyIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGlvblByb3ZpZGVyLCB7IGkxOG5Qcm92aWRlcjogaTE4blByb3ZpZGVyIH0sIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29ubmVjdGVkUm91dGVyLCB7IGhpc3Rvcnk6IGZpbmFsSGlzdG9yeSB9LCBjaGlsZHJlbikpIDogKGNoaWxkcmVuKSkpKSk7XG4gICAgfTtcbiAgICB2YXIgc3RvcmUgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhcmVkdXhJc0FscmVhZHlJbml0aWFsaXplZFxuICAgICAgICAgICAgPyBjcmVhdGVBZG1pblN0b3JlKHtcbiAgICAgICAgICAgICAgICBhdXRoUHJvdmlkZXI6IGZpbmFsQXV0aFByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIGN1c3RvbVJlZHVjZXJzOiBjdXN0b21SZWR1Y2VycyxcbiAgICAgICAgICAgICAgICBjdXN0b21TYWdhczogY3VzdG9tU2FnYXMsXG4gICAgICAgICAgICAgICAgZGF0YVByb3ZpZGVyOiBmaW5hbERhdGFQcm92aWRlcixcbiAgICAgICAgICAgICAgICBpbml0aWFsU3RhdGU6IGluaXRpYWxTdGF0ZSxcbiAgICAgICAgICAgICAgICBoaXN0b3J5OiBmaW5hbEhpc3RvcnksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfSlbMF07XG4gICAgaWYgKHJlZHV4SXNBbHJlYWR5SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgaWYgKCFoaXN0b3J5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGhpc3RvcnkgcHJvcC5cXG5XaGVuIGludGVncmF0aW5nIHJlYWN0LWFkbWluIGluc2lkZSBhbiBleGlzdGluZyByZWR1eCBQcm92aWRlciwgeW91IG11c3QgcHJvdmlkZSB0aGUgc2FtZSAnaGlzdG9yeScgcHJvcCB0byB0aGUgPEFkbWluPiBhcyB0aGUgb25lIHVzZWQgdG8gYm9vdHN0cmFwIHlvdXIgcm91dGVyTWlkZGxld2FyZS5cXG5SZWFjdC1hZG1pbiB1c2VzIHRoaXMgaGlzdG9yeSBmb3IgaXRzIG93biBDb25uZWN0ZWRSb3V0ZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW5kZXJDb3JlKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQcm92aWRlciwgeyBzdG9yZTogc3RvcmUgfSwgcmVuZGVyQ29yZSgpKTtcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgQ29yZUFkbWluQ29udGV4dDtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IFJlYWN0LCB7IENoaWxkcmVuLCB1c2VFZmZlY3QsIGNsb25lRWxlbWVudCwgY3JlYXRlRWxlbWVudCwgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSb3V0ZSwgU3dpdGNoIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgUm91dGVzV2l0aExheW91dCBmcm9tICcuL1JvdXRlc1dpdGhMYXlvdXQnO1xuaW1wb3J0IHsgdXNlTG9nb3V0LCB1c2VHZXRQZXJtaXNzaW9ucywgdXNlQXV0aFN0YXRlIH0gZnJvbSAnLi4vYXV0aCc7XG5pbXBvcnQgeyB1c2VUaW1lb3V0LCB1c2VTYWZlU2V0U3RhdGUgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IHVzZVNjcm9sbFRvVG9wIH0gZnJvbSAnLi91c2VTY3JvbGxUb1RvcCc7XG52YXIgQ29yZUFkbWluUm91dGVyID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGdldFBlcm1pc3Npb25zID0gdXNlR2V0UGVybWlzc2lvbnMoKTtcbiAgICB2YXIgZG9Mb2dvdXQgPSB1c2VMb2dvdXQoKTtcbiAgICB2YXIgYXV0aGVudGljYXRlZCA9IHVzZUF1dGhTdGF0ZSgpLmF1dGhlbnRpY2F0ZWQ7XG4gICAgdmFyIG9uZVNlY29uZEhhc1Bhc3NlZCA9IHVzZVRpbWVvdXQoMTAwMCk7XG4gICAgdmFyIF9hID0gdXNlU2FmZVNldFN0YXRlKFtdKSwgY29tcHV0ZWRDaGlsZHJlbiA9IF9hWzBdLCBzZXRDb21wdXRlZENoaWxkcmVuID0gX2FbMV07XG4gICAgdXNlU2Nyb2xsVG9Ub3AoKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIHByb3BzLmNoaWxkcmVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpbml0aWFsaXplUmVzb3VyY2VzKCk7XG4gICAgICAgIH1cbiAgICB9LCBbYXV0aGVudGljYXRlZF0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIHZhciBpbml0aWFsaXplUmVzb3VyY2VzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBlcm1pc3Npb25zLCByZXNvbHZlQ2hpbGRyZW4sIGNoaWxkcmVuRnVuY1Jlc3VsdCwgZXJyb3JfMTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFswLCAyLCAsIDNdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0UGVybWlzc2lvbnMoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuRnVuY1Jlc3VsdCA9IHJlc29sdmVDaGlsZHJlbihwZXJtaXNzaW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbkZ1bmNSZXN1bHQudGhlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5GdW5jUmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlc29sdmVkQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0Q29tcHV0ZWRDaGlsZHJlbihyZXNvbHZlZENoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiBjaGlsZDsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY2hpbGQpLCB7IHByb3BzOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY2hpbGQucHJvcHMpLCB7IGtleTogY2hpbGQucHJvcHMubmFtZSB9KSB9KSk7IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29tcHV0ZWRDaGlsZHJlbihjaGlsZHJlbkZ1bmNSZXN1bHQuZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gY2hpbGQ7IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JfMSk7XG4gICAgICAgICAgICAgICAgICAgIGRvTG9nb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTsgfTtcbiAgICB2YXIgcmVuZGVyQ3VzdG9tUm91dGVzV2l0aG91dExheW91dCA9IGZ1bmN0aW9uIChyb3V0ZSwgcm91dGVQcm9wcykge1xuICAgICAgICBpZiAocm91dGUucHJvcHMucmVuZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcm91dGUucHJvcHMucmVuZGVyKF9fYXNzaWduKF9fYXNzaWduKHt9LCByb3V0ZVByb3BzKSwgeyB0aXRsZTogcHJvcHMudGl0bGUgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb3V0ZS5wcm9wcy5jb21wb25lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KHJvdXRlLnByb3BzLmNvbXBvbmVudCwgX19hc3NpZ24oX19hc3NpZ24oe30sIHJvdXRlUHJvcHMpLCB7IHRpdGxlOiBwcm9wcy50aXRsZSB9KSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBsYXlvdXQgPSBwcm9wcy5sYXlvdXQsIGNhdGNoQWxsID0gcHJvcHMuY2F0Y2hBbGwsIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sIGN1c3RvbVJvdXRlcyA9IHByb3BzLmN1c3RvbVJvdXRlcywgZGFzaGJvYXJkID0gcHJvcHMuZGFzaGJvYXJkLCBMb2FkaW5nUGFnZSA9IHByb3BzLmxvYWRpbmcsIGxvZ291dCA9IHByb3BzLmxvZ291dCwgbWVudSA9IHByb3BzLm1lbnUsIFJlYWR5ID0gcHJvcHMucmVhZHksIHRoZW1lID0gcHJvcHMudGhlbWUsIHRpdGxlID0gcHJvcHMudGl0bGU7XG4gICAgaWYgKHR5cGVvZiBjaGlsZHJlbiAhPT0gJ2Z1bmN0aW9uJyAmJiAhY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhZHksIG51bGwpO1xuICAgIH1cbiAgICBpZiAoKHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAoIWNvbXB1dGVkQ2hpbGRyZW4gfHwgY29tcHV0ZWRDaGlsZHJlbi5sZW5ndGggPT09IDApKSB8fFxuICAgICAgICAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAwKSkge1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3dpdGNoLCBudWxsLFxuICAgICAgICAgICAgY3VzdG9tUm91dGVzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocm91dGUpIHsgcmV0dXJuIHJvdXRlLnByb3BzLm5vTGF5b3V0OyB9KVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHJvdXRlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVFbGVtZW50KHJvdXRlLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIChyb3V0ZVByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyQ3VzdG9tUm91dGVzV2l0aG91dExheW91dChyb3V0ZSwgcm91dGVQcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbmVTZWNvbmRIYXNQYXNzZWQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsga2V5OiBcImxvYWRpbmdcIiwgcmVuZGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdQYWdlLCB7IHRoZW1lOiB0aGVtZSB9KTsgfSB9KSkpKTtcbiAgICB9XG4gICAgdmFyIGNoaWxkcmVuVG9SZW5kZXIgPSAodHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gY29tcHV0ZWRDaGlsZHJlblxuICAgICAgICA6IGNoaWxkcmVuKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcbiAgICAgICAgLy8gUmVuZGVyIGV2ZXJ5IHJlc291cmNlIGNoaWxkcmVuIG91dHNpZGUgdGhlIFJlYWN0IFJvdXRlciBTd2l0Y2hcbiAgICAgICAgLy8gYXMgd2UgbmVlZCBhbGwgb2YgdGhlbSBhbmQgbm90IGp1c3QgdGhlIG9uZSByZW5kZXJlZFxuICAgICAgICBDaGlsZHJlbi5tYXAoY2hpbGRyZW5Ub1JlbmRlciwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAgICAgICAgICAga2V5OiBjaGlsZC5wcm9wcy5uYW1lLFxuICAgICAgICAgICAgICAgIC8vIFRoZSBjb250ZXh0IHByb3AgaW5zdHJ1Y3RzIHRoZSBSZXNvdXJjZSBjb21wb25lbnQgdG8gbm90IHJlbmRlciBhbnl0aGluZ1xuICAgICAgICAgICAgICAgIC8vIGJ1dCBzaW1wbHkgdG8gcmVnaXN0ZXIgaXRzZWxmIGFzIGEga25vd24gcmVzb3VyY2VcbiAgICAgICAgICAgICAgICBpbnRlbnQ6ICdyZWdpc3RyYXRpb24nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN3aXRjaCwgbnVsbCxcbiAgICAgICAgICAgIGN1c3RvbVJvdXRlc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHJvdXRlKSB7IHJldHVybiByb3V0ZS5wcm9wcy5ub0xheW91dDsgfSlcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChyb3V0ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChyb3V0ZSwge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAocm91dGVQcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlckN1c3RvbVJvdXRlc1dpdGhvdXRMYXlvdXQocm91dGUsIHJvdXRlUHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiBcIi9cIiwgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KGxheW91dCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGFzaGJvYXJkOiBkYXNoYm9hcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dvdXQ6IGxvZ291dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnU6IG1lbnUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVtZTogdGhlbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGVzV2l0aExheW91dCwgeyBjYXRjaEFsbDogY2F0Y2hBbGwsIGN1c3RvbVJvdXRlczogY3VzdG9tUm91dGVzLmZpbHRlcihmdW5jdGlvbiAocm91dGUpIHsgcmV0dXJuICFyb3V0ZS5wcm9wcy5ub0xheW91dDsgfSksIGRhc2hib2FyZDogZGFzaGJvYXJkLCB0aXRsZTogdGl0bGUgfSwgQ2hpbGRyZW4ubWFwKGNoaWxkcmVuVG9SZW5kZXIsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogY2hpbGQucHJvcHMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlbnQ6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgICAgICB9IH0pKSkpO1xufTtcbkNvcmVBZG1pblJvdXRlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY3VzdG9tUm91dGVzOiBbXSxcbn07XG5leHBvcnQgZGVmYXVsdCBDb3JlQWRtaW5Sb3V0ZXI7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgdXNlTWVtbywgdXNlRWZmZWN0LCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN3aXRjaCwgUm91dGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBDb3JlQWRtaW5Sb3V0ZXIgZnJvbSAnLi9Db3JlQWRtaW5Sb3V0ZXInO1xuaW1wb3J0IHsgUmVhZHkgfSBmcm9tICcuLi91dGlsJztcbnZhciBEZWZhdWx0TGF5b3V0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBjaGlsZHJlbikpO1xufTtcbnZhciBDb3JlQWRtaW5VSSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBfYiA9IF9hLmNhdGNoQWxsLCBjYXRjaEFsbCA9IF9iID09PSB2b2lkIDAgPyBOb29wIDogX2IsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIF9jID0gX2EuY3VzdG9tUm91dGVzLCBjdXN0b21Sb3V0ZXMgPSBfYyA9PT0gdm9pZCAwID8gW10gOiBfYywgZGFzaGJvYXJkID0gX2EuZGFzaGJvYXJkLCBfZCA9IF9hLmRpc2FibGVUZWxlbWV0cnksIGRpc2FibGVUZWxlbWV0cnkgPSBfZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZCwgX2UgPSBfYS5sYXlvdXQsIGxheW91dCA9IF9lID09PSB2b2lkIDAgPyBEZWZhdWx0TGF5b3V0IDogX2UsIF9mID0gX2EubG9hZGluZywgbG9hZGluZyA9IF9mID09PSB2b2lkIDAgPyBOb29wIDogX2YsIF9nID0gX2EubG9naW5QYWdlLCBsb2dpblBhZ2UgPSBfZyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZywgbG9nb3V0ID0gX2EubG9nb3V0LCBtZW51ID0gX2EubWVudSwgLy8gZGVwcmVjYXRlZCwgdXNlIGEgY3VzdG9tIGxheW91dCBpbnN0ZWFkXG4gICAgX2ggPSBfYS5yZWFkeSwgLy8gZGVwcmVjYXRlZCwgdXNlIGEgY3VzdG9tIGxheW91dCBpbnN0ZWFkXG4gICAgcmVhZHkgPSBfaCA9PT0gdm9pZCAwID8gUmVhZHkgOiBfaCwgdGhlbWUgPSBfYS50aGVtZSwgX2ogPSBfYS50aXRsZSwgdGl0bGUgPSBfaiA9PT0gdm9pZCAwID8gJ1JlYWN0IEFkbWluJyA6IF9qO1xuICAgIHZhciBsb2dvdXRFbGVtZW50ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBsb2dvdXQgJiYgY3JlYXRlRWxlbWVudChsb2dvdXQpOyB9LCBbXG4gICAgICAgIGxvZ291dCxcbiAgICBdKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZGlzYWJsZVRlbGVtZXRyeSB8fFxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyB8fFxuICAgICAgICAgICAgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiB3aW5kb3cubG9jYXRpb24gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0eXBlb2YgSW1hZ2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcuc3JjID0gXCJodHRwczovL3JlYWN0LWFkbWluLXRlbGVtZXRyeS5tYXJtZWxhYi5jb20vcmVhY3QtYWRtaW4tdGVsZW1ldHJ5P2RvbWFpbj1cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbiAgICB9LCBbZGlzYWJsZVRlbGVtZXRyeV0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChTd2l0Y2gsIG51bGwsXG4gICAgICAgIGxvZ2luUGFnZSAhPT0gZmFsc2UgJiYgbG9naW5QYWdlICE9PSB0cnVlID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgZXhhY3Q6IHRydWUsIHBhdGg6IFwiL2xvZ2luXCIsIHJlbmRlcjogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQobG9naW5QYWdlLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcHJvcHMpLCB7IHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgdGhlbWU6IHRoZW1lIH0pKTtcbiAgICAgICAgICAgIH0gfSkpIDogbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBwYXRoOiBcIi9cIiwgcmVuZGVyOiBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KENvcmVBZG1pblJvdXRlciwgX19hc3NpZ24oeyBjYXRjaEFsbDogY2F0Y2hBbGwsIGN1c3RvbVJvdXRlczogY3VzdG9tUm91dGVzLCBkYXNoYm9hcmQ6IGRhc2hib2FyZCwgbGF5b3V0OiBsYXlvdXQsIGxvYWRpbmc6IGxvYWRpbmcsIGxvZ291dDogbG9nb3V0RWxlbWVudCwgbWVudTogbWVudSwgcmVhZHk6IHJlYWR5LCB0aGVtZTogdGhlbWUsIHRpdGxlOiB0aXRsZSB9LCBwcm9wcyksIGNoaWxkcmVuKSk7IH0gfSkpKTtcbn07XG52YXIgTm9vcCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH07XG5leHBvcnQgZGVmYXVsdCBDb3JlQWRtaW5VSTtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBSb3V0ZSwgU3dpdGNoIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgV2l0aFBlcm1pc3Npb25zIGZyb20gJy4uL2F1dGgvV2l0aFBlcm1pc3Npb25zJztcbmltcG9ydCB7IHJlZ2lzdGVyUmVzb3VyY2UsIHVucmVnaXN0ZXJSZXNvdXJjZSB9IGZyb20gJy4uL2FjdGlvbnMnO1xuaW1wb3J0IHsgUmVzb3VyY2VDb250ZXh0UHJvdmlkZXIgfSBmcm9tICcuL1Jlc291cmNlQ29udGV4dFByb3ZpZGVyJztcbnZhciBkZWZhdWx0T3B0aW9ucyA9IHt9O1xudmFyIFJlc291cmNlUmVnaXN0ZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgbmFtZSA9IF9hLm5hbWUsIGxpc3QgPSBfYS5saXN0LCBjcmVhdGUgPSBfYS5jcmVhdGUsIGVkaXQgPSBfYS5lZGl0LCBzaG93ID0gX2Euc2hvdywgaWNvbiA9IF9hLmljb24sIF9iID0gX2Eub3B0aW9ucywgb3B0aW9ucyA9IF9iID09PSB2b2lkIDAgPyBkZWZhdWx0T3B0aW9ucyA6IF9iO1xuICAgIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGlzcGF0Y2gocmVnaXN0ZXJSZXNvdXJjZSh7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIGhhc0xpc3Q6ICEhbGlzdCxcbiAgICAgICAgICAgIGhhc0VkaXQ6ICEhZWRpdCxcbiAgICAgICAgICAgIGhhc1Nob3c6ICEhc2hvdyxcbiAgICAgICAgICAgIGhhc0NyZWF0ZTogISFjcmVhdGUsXG4gICAgICAgICAgICBpY29uOiBpY29uLFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBkaXNwYXRjaCh1bnJlZ2lzdGVyUmVzb3VyY2UobmFtZSkpOyB9O1xuICAgIH0sIFtkaXNwYXRjaCwgbmFtZSwgY3JlYXRlLCBlZGl0LCBpY29uLCBsaXN0LCBzaG93LCBvcHRpb25zXSk7XG4gICAgcmV0dXJuIG51bGw7XG59O1xudmFyIFJlc291cmNlUm91dGVzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIG5hbWUgPSBfYS5uYW1lLCBtYXRjaCA9IF9hLm1hdGNoLCBsaXN0ID0gX2EubGlzdCwgY3JlYXRlID0gX2EuY3JlYXRlLCBlZGl0ID0gX2EuZWRpdCwgc2hvdyA9IF9hLnNob3csIF9iID0gX2Eub3B0aW9ucywgb3B0aW9ucyA9IF9iID09PSB2b2lkIDAgPyBkZWZhdWx0T3B0aW9ucyA6IF9iO1xuICAgIHZhciBpc1JlZ2lzdGVyZWQgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuICEhc3RhdGUuYWRtaW4ucmVzb3VyY2VzW25hbWVdOyB9KTtcbiAgICB2YXIgYmFzZVBhdGggPSBtYXRjaCA/IG1hdGNoLnBhdGggOiAnJztcbiAgICB2YXIgcmVzb3VyY2VEYXRhID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiAoe1xuICAgICAgICByZXNvdXJjZTogbmFtZSxcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgaGFzTGlzdDogISFsaXN0LFxuICAgICAgICBoYXNFZGl0OiAhIWVkaXQsXG4gICAgICAgIGhhc1Nob3c6ICEhc2hvdyxcbiAgICAgICAgaGFzQ3JlYXRlOiAhIWNyZWF0ZSxcbiAgICB9KTsgfSwgW25hbWUsIG9wdGlvbnMsIGNyZWF0ZSwgZWRpdCwgbGlzdCwgc2hvd10pO1xuICAgIC8vIG1hdGNoIHRlbmRzIHRvIGNoYW5nZSBldmVuIG9uIHRoZSBzYW1lIHJvdXRlIDsgdXNpbmcgbWVtbyB0byBhdm9pZCBhbiBleHRyYSByZW5kZXJcbiAgICByZXR1cm4gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGlmIHRoZSByZWdpc3RyYXRpb24gaGFzbid0IGZpbmlzaGVkLCBubyBuZWVkIHRvIHJlbmRlclxuICAgICAgICBpZiAoIWlzUmVnaXN0ZXJlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlc291cmNlQ29udGV4dFByb3ZpZGVyLCB7IHZhbHVlOiBuYW1lIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFN3aXRjaCwgbnVsbCxcbiAgICAgICAgICAgICAgICBjcmVhdGUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogYmFzZVBhdGggKyBcIi9jcmVhdGVcIiwgcmVuZGVyOiBmdW5jdGlvbiAocm91dGVQcm9wcykgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2l0aFBlcm1pc3Npb25zLCBfX2Fzc2lnbih7IGNvbXBvbmVudDogY3JlYXRlLCBiYXNlUGF0aDogYmFzZVBhdGggfSwgcm91dGVQcm9wcywgcmVzb3VyY2VEYXRhKSkpOyB9IH0pKSxcbiAgICAgICAgICAgICAgICBzaG93ICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IHBhdGg6IGJhc2VQYXRoICsgXCIvOmlkL3Nob3dcIiwgcmVuZGVyOiBmdW5jdGlvbiAocm91dGVQcm9wcykgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2l0aFBlcm1pc3Npb25zLCBfX2Fzc2lnbih7IGNvbXBvbmVudDogc2hvdywgYmFzZVBhdGg6IGJhc2VQYXRoLCBpZDogZGVjb2RlVVJJQ29tcG9uZW50KHJvdXRlUHJvcHMubWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFyYW1zLmlkKSB9LCByb3V0ZVByb3BzLCByZXNvdXJjZURhdGEpKSk7IH0gfSkpLFxuICAgICAgICAgICAgICAgIGVkaXQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogYmFzZVBhdGggKyBcIi86aWRcIiwgcmVuZGVyOiBmdW5jdGlvbiAocm91dGVQcm9wcykgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2l0aFBlcm1pc3Npb25zLCBfX2Fzc2lnbih7IGNvbXBvbmVudDogZWRpdCwgYmFzZVBhdGg6IGJhc2VQYXRoLCBpZDogZGVjb2RlVVJJQ29tcG9uZW50KHJvdXRlUHJvcHMubWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGFyYW1zLmlkKSB9LCByb3V0ZVByb3BzLCByZXNvdXJjZURhdGEpKSk7IH0gfSkpLFxuICAgICAgICAgICAgICAgIGxpc3QgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsgcGF0aDogXCJcIiArIGJhc2VQYXRoLCByZW5kZXI6IGZ1bmN0aW9uIChyb3V0ZVByb3BzKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChXaXRoUGVybWlzc2lvbnMsIF9fYXNzaWduKHsgY29tcG9uZW50OiBsaXN0LCBiYXNlUGF0aDogYmFzZVBhdGggfSwgcm91dGVQcm9wcywgcmVzb3VyY2VEYXRhLCB7IHN5bmNXaXRoTG9jYXRpb246IHRydWUgfSkpKTsgfSB9KSkpKSk7XG4gICAgfSwgW2Jhc2VQYXRoLCBuYW1lLCBjcmVhdGUsIGVkaXQsIGxpc3QsIHNob3csIG9wdGlvbnMsIGlzUmVnaXN0ZXJlZF0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xufTtcbnZhciBSZXNvdXJjZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBfYiA9IF9hLmludGVudCwgaW50ZW50ID0gX2IgPT09IHZvaWQgMCA/ICdyb3V0ZScgOiBfYiwgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImludGVudFwiXSk7XG4gICAgcmV0dXJuIGludGVudCA9PT0gJ3JlZ2lzdHJhdGlvbicgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChSZXNvdXJjZVJlZ2lzdGVyLCBfX2Fzc2lnbih7fSwgcHJvcHMpKSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZXNvdXJjZVJvdXRlcywgX19hc3NpZ24oe30sIHByb3BzKSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IFJlc291cmNlO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCBSZWFjdCwgeyBDaGlsZHJlbiwgY2xvbmVFbGVtZW50LCBjcmVhdGVFbGVtZW50LCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlZGlyZWN0LCBSb3V0ZSwgU3dpdGNoIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgV2l0aFBlcm1pc3Npb25zIGZyb20gJy4uL2F1dGgvV2l0aFBlcm1pc3Npb25zJztcbnZhciBkZWZhdWx0QXV0aFBhcmFtcyA9IHsgcm91dGU6ICdkYXNoYm9hcmQnIH07XG52YXIgUm91dGVzV2l0aExheW91dCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjYXRjaEFsbCA9IF9hLmNhdGNoQWxsLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBjdXN0b21Sb3V0ZXMgPSBfYS5jdXN0b21Sb3V0ZXMsIGRhc2hib2FyZCA9IF9hLmRhc2hib2FyZCwgdGl0bGUgPSBfYS50aXRsZTtcbiAgICB2YXIgY2hpbGRyZW5Bc0FycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbik7XG4gICAgdmFyIGZpcnN0Q2hpbGQgPSBjaGlsZHJlbkFzQXJyYXkubGVuZ3RoID4gMFxuICAgICAgICA/IGNoaWxkcmVuQXNBcnJheVswXVxuICAgICAgICA6IG51bGw7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFN3aXRjaCwgbnVsbCxcbiAgICAgICAgY3VzdG9tUm91dGVzICYmXG4gICAgICAgICAgICBjdXN0b21Sb3V0ZXMubWFwKGZ1bmN0aW9uIChyb3V0ZSwga2V5KSB7IHJldHVybiBjbG9uZUVsZW1lbnQocm91dGUsIHsga2V5OiBrZXkgfSk7IH0pLFxuICAgICAgICBDaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIHsga2V5OiBjaGlsZC5wcm9wcy5uYW1lLCBwYXRoOiBcIi9cIiArIGNoaWxkLnByb3BzLm5hbWUsIHJlbmRlcjogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChjaGlsZCwgX19hc3NpZ24oeyBcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNvbnRleHQgcHJvcCBpbnN0cnVjdCB0aGUgUmVzb3VyY2UgY29tcG9uZW50IHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbmRlciBpdHNlbGYgYXMgYSBzdGFuZGFyZCBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgaW50ZW50OiAncm91dGUnIH0sIHByb3BzKSk7XG4gICAgICAgICAgICB9IH0pKTsgfSksXG4gICAgICAgIGRhc2hib2FyZCA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCB7IGV4YWN0OiB0cnVlLCBwYXRoOiBcIi9cIiwgcmVuZGVyOiBmdW5jdGlvbiAocm91dGVQcm9wcykgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoV2l0aFBlcm1pc3Npb25zLCBfX2Fzc2lnbih7IGF1dGhQYXJhbXM6IGRlZmF1bHRBdXRoUGFyYW1zLCBjb21wb25lbnQ6IGRhc2hib2FyZCB9LCByb3V0ZVByb3BzKSkpOyB9IH0pKSA6IGZpcnN0Q2hpbGQgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyBleGFjdDogdHJ1ZSwgcGF0aDogXCIvXCIsIHJlbmRlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwgeyB0bzogXCIvXCIgKyBmaXJzdENoaWxkLnByb3BzLm5hbWUgfSk7IH0gfSkpIDogbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgeyByZW5kZXI6IGZ1bmN0aW9uIChyb3V0ZVByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoY2F0Y2hBbGwsIF9fYXNzaWduKF9fYXNzaWduKHt9LCByb3V0ZVByb3BzKSwgeyB0aXRsZTogdGl0bGUgfSkpO1xuICAgICAgICAgICAgfSB9KSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IFJvdXRlc1dpdGhMYXlvdXQ7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xuICAgIHJldHVybiByO1xufTtcbmltcG9ydCB7IGNyZWF0ZVN0b3JlLCBjb21wb3NlLCBhcHBseU1pZGRsZXdhcmUgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyByb3V0ZXJNaWRkbGV3YXJlIH0gZnJvbSAnY29ubmVjdGVkLXJlYWN0LXJvdXRlcic7XG5pbXBvcnQgY3JlYXRlU2FnYU1pZGRsZXdhcmUgZnJvbSAncmVkdXgtc2FnYSc7XG5pbXBvcnQgeyBhbGwsIGZvcmsgfSBmcm9tICdyZWR1eC1zYWdhL2VmZmVjdHMnO1xuaW1wb3J0IGNyZWF0ZUFwcFJlZHVjZXIgZnJvbSAnLi4vcmVkdWNlcic7XG5pbXBvcnQgeyBhZG1pblNhZ2EgfSBmcm9tICcuLi9zaWRlRWZmZWN0JztcbmltcG9ydCB7IENMRUFSX1NUQVRFIH0gZnJvbSAnLi4vYWN0aW9ucy9jbGVhckFjdGlvbnMnO1xuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBkYXRhUHJvdmlkZXIgPSBfYS5kYXRhUHJvdmlkZXIsIGhpc3RvcnkgPSBfYS5oaXN0b3J5LCBfYiA9IF9hLmN1c3RvbVJlZHVjZXJzLCBjdXN0b21SZWR1Y2VycyA9IF9iID09PSB2b2lkIDAgPyB7fSA6IF9iLCBfYyA9IF9hLmF1dGhQcm92aWRlciwgYXV0aFByb3ZpZGVyID0gX2MgPT09IHZvaWQgMCA/IG51bGwgOiBfYywgX2QgPSBfYS5jdXN0b21TYWdhcywgY3VzdG9tU2FnYXMgPSBfZCA9PT0gdm9pZCAwID8gW10gOiBfZCwgaW5pdGlhbFN0YXRlID0gX2EuaW5pdGlhbFN0YXRlO1xuICAgIHZhciBhcHBSZWR1Y2VyID0gY3JlYXRlQXBwUmVkdWNlcihjdXN0b21SZWR1Y2VycywgaGlzdG9yeSk7XG4gICAgdmFyIHJlc2V0dGFibGVBcHBSZWR1Y2VyID0gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFwcFJlZHVjZXIoYWN0aW9uLnR5cGUgIT09IENMRUFSX1NUQVRFXG4gICAgICAgICAgICA/IHN0YXRlXG4gICAgICAgICAgICA6IC8vIEVyYXNlIGRhdGEgZnJvbSB0aGUgc3RvcmUgYnV0IGtlZXAgbG9jYXRpb24sIG5vdGlmaWNhdGlvbnMsIHVpIHByZWZzLCBldGMuXG4gICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlKSwgeyBhZG1pbjogX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YXRlLmFkbWluKSwgeyBsb2FkaW5nOiAwLCByZXNvdXJjZXM6IHt9LCBjdXN0b21RdWVyaWVzOiB7fSwgcmVmZXJlbmNlczogeyBvbmVUb01hbnk6IHt9LCBwb3NzaWJsZVZhbHVlczoge30gfSB9KSB9KSwgYWN0aW9uKTtcbiAgICB9O1xuICAgIHZhciBzYWdhID0gZnVuY3Rpb24gcm9vdFNhZ2EoKSB7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGFsbChfX3NwcmVhZEFycmF5cyhbYWRtaW5TYWdhKGRhdGFQcm92aWRlciwgYXV0aFByb3ZpZGVyKV0sIGN1c3RvbVNhZ2FzKS5tYXAoZm9yaykpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBzYWdhTWlkZGxld2FyZSA9IGNyZWF0ZVNhZ2FNaWRkbGV3YXJlKCk7XG4gICAgdmFyIHR5cGVkV2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93O1xuICAgIHZhciBjb21wb3NlRW5oYW5jZXJzID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmXG4gICAgICAgIHR5cGVvZiB0eXBlZFdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZWRXaW5kb3cuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fQ09NUE9TRV9fICYmXG4gICAgICAgIHR5cGVkV2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX0NPTVBPU0VfXyh7XG4gICAgICAgICAgICB0cmFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHRyYWNlTGltaXQ6IDI1LFxuICAgICAgICB9KSkgfHxcbiAgICAgICAgY29tcG9zZTtcbiAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZShyZXNldHRhYmxlQXBwUmVkdWNlciwgdHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGluaXRpYWxTdGF0ZSgpIDogaW5pdGlhbFN0YXRlLCBjb21wb3NlRW5oYW5jZXJzKGFwcGx5TWlkZGxld2FyZShzYWdhTWlkZGxld2FyZSwgcm91dGVyTWlkZGxld2FyZShoaXN0b3J5KSkpKTtcbiAgICBzYWdhTWlkZGxld2FyZS5ydW4oc2FnYSk7XG4gICAgcmV0dXJuIHN0b3JlO1xufSk7XG4iLCJpbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICdsb2Rhc2gvZGVmYXVsdHMnO1xuaW1wb3J0IHsgZ2V0UmVzb3VyY2VzIH0gZnJvbSAnLi4vcmVkdWNlcic7XG5pbXBvcnQgeyB1c2VSZXNvdXJjZUNvbnRleHQgfSBmcm9tICcuL3VzZVJlc291cmNlQ29udGV4dCc7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuLyoqXG4gKiBIb29rIHdoaWNoIHJldHVybnMgdGhlIGRlZmluaXRpb24gb2YgdGhlIHJlcXVlc3RlZCByZXNvdXJjZVxuICovXG5leHBvcnQgdmFyIHVzZVJlc291cmNlRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciByZXNvdXJjZSA9IHVzZVJlc291cmNlQ29udGV4dChwcm9wcyk7XG4gICAgdmFyIHJlc291cmNlcyA9IHVzZVNlbGVjdG9yKGdldFJlc291cmNlcyk7XG4gICAgdmFyIGhhc0NyZWF0ZSA9IHByb3BzLmhhc0NyZWF0ZSwgaGFzRWRpdCA9IHByb3BzLmhhc0VkaXQsIGhhc0xpc3QgPSBwcm9wcy5oYXNMaXN0LCBoYXNTaG93ID0gcHJvcHMuaGFzU2hvdztcbiAgICB2YXIgZGVmaW5pdGlvbiA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVmaW5pdGlvbkZyb21SZWR1eCA9IHJlc291cmNlcy5maW5kKGZ1bmN0aW9uIChyKSB7IHJldHVybiAociA9PT0gbnVsbCB8fCByID09PSB2b2lkIDAgPyB2b2lkIDAgOiByLm5hbWUpID09PSByZXNvdXJjZTsgfSk7XG4gICAgICAgIHJldHVybiBkZWZhdWx0cyh7fSwge1xuICAgICAgICAgICAgaGFzQ3JlYXRlOiBoYXNDcmVhdGUsXG4gICAgICAgICAgICBoYXNFZGl0OiBoYXNFZGl0LFxuICAgICAgICAgICAgaGFzTGlzdDogaGFzTGlzdCxcbiAgICAgICAgICAgIGhhc1Nob3c6IGhhc1Nob3csXG4gICAgICAgIH0sIGRlZmluaXRpb25Gcm9tUmVkdXgpO1xuICAgIH0sIFtyZXNvdXJjZSwgcmVzb3VyY2VzLCBoYXNDcmVhdGUsIGhhc0VkaXQsIGhhc0xpc3QsIGhhc1Nob3ddKTtcbiAgICByZXR1cm4gZGVmaW5pdGlvbjtcbn07XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG4vKipcbiAqIFNjcm9sbCB0aGUgd2luZG93IHRvIHRvcCB3aGVuIHRoZSB0YXJnZXQgbG9jYXRpb24gY29udGFpbnMgdGhlIF9zY3JvbGxUb1RvcCBzdGF0ZVxuICpcbiAqIEBzZWUgQ29yZUFkbWluUm91dGVyIHdoZXJlIGl0J3MgZW5hYmxlZCBieSBkZWZhdWx0XG4gKlxuICogQGV4YW1wbGUgLy8gdXNhZ2UgaW4gYnV0dG9uc1xuICogaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuICogaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuICpcbiAqIGNvbnN0IEZvb0J1dHRvbiA9ICgpID0+IChcbiAqICAgICA8QnV0dG9uXG4gKiAgICAgICAgIGNvbXBvbmVudD17TGlua31cbiAqICAgICAgICAgdG89e3tcbiAqICAgICAgICAgICAgIHBhdGhuYW1lOiAnL2ZvbycsXG4gKiAgICAgICAgICAgICBzdGF0ZTogeyBfc2Nyb2xsVG9Ub3A6IHRydWUgfSxcbiAqICAgICAgICAgfX1cbiAqICAgICA+XG4gKiAgICAgICAgIEdvIHRvIGZvb1xuICogICAgIDwvQnV0dG9uPlxuICogKTtcbiAqL1xuZXhwb3J0IHZhciB1c2VTY3JvbGxUb1RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uLCBhY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gIT09ICdQT1AnICYmICgoX2EgPSBsb2NhdGlvbi5zdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLl9zY3JvbGxUb1RvcCkgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LCBbaGlzdG9yeV0pO1xufTtcbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgSHR0cEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhIdHRwRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSHR0cEVycm9yKG1lc3NhZ2UsIHN0YXR1cywgYm9keSkge1xuICAgICAgICBpZiAoYm9keSA9PT0gdm9pZCAwKSB7IGJvZHkgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICBfdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIF90aGlzLmJvZHkgPSBib2R5O1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIEh0dHBFcnJvci5wcm90b3R5cGUpO1xuICAgICAgICBfdGhpcy5uYW1lID0gX3RoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoX3RoaXMsIF90aGlzLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnN0YWNrID0gbmV3IEVycm9yKG1lc3NhZ2UpLnN0YWNrO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEh0dHBFcnJvcjtcbn0oRXJyb3IpKTtcbmV4cG9ydCBkZWZhdWx0IEh0dHBFcnJvcjtcbiIsImltcG9ydCB7IENSRUFURSwgREVMRVRFLCBERUxFVEVfTUFOWSwgR0VUX0xJU1QsIEdFVF9NQU5ZLCBHRVRfTUFOWV9SRUZFUkVOQ0UsIEdFVF9PTkUsIFVQREFURSwgVVBEQVRFX01BTlksIH0gZnJvbSAnLi4vY29yZSc7XG52YXIgZGVmYXVsdERhdGFQcm92aWRlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOyB9O1xuZGVmYXVsdERhdGFQcm92aWRlci5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7IH07XG5kZWZhdWx0RGF0YVByb3ZpZGVyLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTsgfTtcbmRlZmF1bHREYXRhUHJvdmlkZXIuZGVsZXRlTWFueSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTsgfTtcbmRlZmF1bHREYXRhUHJvdmlkZXIuZ2V0TGlzdCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTsgfTtcbmRlZmF1bHREYXRhUHJvdmlkZXIuZ2V0TWFueSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTsgfTtcbmRlZmF1bHREYXRhUHJvdmlkZXIuZ2V0TWFueVJlZmVyZW5jZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTsgfTtcbmRlZmF1bHREYXRhUHJvdmlkZXIuZ2V0T25lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpOyB9O1xuZGVmYXVsdERhdGFQcm92aWRlci51cGRhdGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7IH07XG5kZWZhdWx0RGF0YVByb3ZpZGVyLnVwZGF0ZU1hbnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7IH07XG52YXIgZmV0Y2hNYXAgPSB7XG4gICAgY3JlYXRlOiBDUkVBVEUsXG4gICAgZGVsZXRlOiBERUxFVEUsXG4gICAgZGVsZXRlTWFueTogREVMRVRFX01BTlksXG4gICAgZ2V0TGlzdDogR0VUX0xJU1QsXG4gICAgZ2V0TWFueTogR0VUX01BTlksXG4gICAgZ2V0TWFueVJlZmVyZW5jZTogR0VUX01BTllfUkVGRVJFTkNFLFxuICAgIGdldE9uZTogR0VUX09ORSxcbiAgICB1cGRhdGU6IFVQREFURSxcbiAgICB1cGRhdGVNYW55OiBVUERBVEVfTUFOWSxcbn07XG4vKipcbiAqIFR1cm4gYSBmdW5jdGlvbi1iYXNlZCBkYXRhUHJvdmlkZXIgdG8gYW4gb2JqZWN0LWJhc2VkIG9uZVxuICpcbiAqIEFsbG93cyB1c2luZyBsZWdhY3kgZGF0YVByb3ZpZGVycyB0cmFuc3BhcmVudGx5LlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGxlZ2FjeURhdGFQcm92aWRlciBBIGxlZ2FjeSBkYXRhUHJvdmlkZXIgKHR5cGUsIHJlc291cmNlLCBwYXJhbXMpID0+IFByb21pc2U8YW55PlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IEEgZGF0YVByb3ZpZGVyIHRoYXQgcmVhY3QtYWRtaW4gY2FuIHVzZVxuICovXG52YXIgY29udmVydExlZ2FjeURhdGFQcm92aWRlciA9IGZ1bmN0aW9uIChsZWdhY3lEYXRhUHJvdmlkZXIpIHtcbiAgICB2YXIgcHJveHkgPSBuZXcgUHJveHkoZGVmYXVsdERhdGFQcm92aWRlciwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIChfLCBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHJlc291cmNlLCBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZmV0Y2hNYXApLmluY2x1ZGVzKG5hbWUudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZldGNoVHlwZSA9IGZldGNoTWFwW25hbWUudG9TdHJpbmcoKV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsZWdhY3lEYXRhUHJvdmlkZXIoZmV0Y2hUeXBlLCByZXNvdXJjZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZ2FjeURhdGFQcm92aWRlcihuYW1lLnRvU3RyaW5nKCksIHJlc291cmNlLCBwYXJhbXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIChfLCBfXywgYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIGxlZ2FjeURhdGFQcm92aWRlci5hcHBseShsZWdhY3lEYXRhUHJvdmlkZXIsIGFyZ3MpO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBwcm94eTtcbn07XG5leHBvcnQgZGVmYXVsdCBjb252ZXJ0TGVnYWN5RGF0YVByb3ZpZGVyO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3NwcmVhZEFycmF5cyA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheXMpIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgICAgcltrXSA9IGFbal07XG4gICAgcmV0dXJuIHI7XG59O1xuaW1wb3J0IEh0dHBFcnJvciBmcm9tICcuL0h0dHBFcnJvcic7XG5pbXBvcnQgeyBzdHJpbmdpZnkgfSBmcm9tICdxdWVyeS1zdHJpbmcnO1xuZXhwb3J0IHZhciBjcmVhdGVIZWFkZXJzRnJvbU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciByZXF1ZXN0SGVhZGVycyA9IChvcHRpb25zLmhlYWRlcnMgfHxcbiAgICAgICAgbmV3IEhlYWRlcnMoe1xuICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0pKTtcbiAgICBpZiAoIXJlcXVlc3RIZWFkZXJzLmhhcygnQ29udGVudC1UeXBlJykgJiZcbiAgICAgICAgIShvcHRpb25zICYmICghb3B0aW9ucy5tZXRob2QgfHwgb3B0aW9ucy5tZXRob2QgPT09ICdHRVQnKSkgJiZcbiAgICAgICAgIShvcHRpb25zICYmIG9wdGlvbnMuYm9keSAmJiBvcHRpb25zLmJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSkpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy51c2VyICYmIG9wdGlvbnMudXNlci5hdXRoZW50aWNhdGVkICYmIG9wdGlvbnMudXNlci50b2tlbikge1xuICAgICAgICByZXF1ZXN0SGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCBvcHRpb25zLnVzZXIudG9rZW4pO1xuICAgIH1cbiAgICByZXR1cm4gcmVxdWVzdEhlYWRlcnM7XG59O1xuZXhwb3J0IHZhciBmZXRjaEpzb24gPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjcmVhdGVIZWFkZXJzRnJvbU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIGZldGNoKHVybCwgX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzIH0pKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7IHJldHVybiAoe1xuICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgaGVhZGVyczogcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IHRleHQsXG4gICAgICAgIH0pOyB9KTtcbiAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHN0YXR1cyA9IF9hLnN0YXR1cywgc3RhdHVzVGV4dCA9IF9hLnN0YXR1c1RleHQsIGhlYWRlcnMgPSBfYS5oZWFkZXJzLCBib2R5ID0gX2EuYm9keTtcbiAgICAgICAgdmFyIGpzb247XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm90IGpzb24sIG5vIGJpZyBkZWFsXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA8IDIwMCB8fCBzdGF0dXMgPj0gMzAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEh0dHBFcnJvcigoanNvbiAmJiBqc29uLm1lc3NhZ2UpIHx8IHN0YXR1c1RleHQsIHN0YXR1cywganNvbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBzdGF0dXM6IHN0YXR1cywgaGVhZGVyczogaGVhZGVycywgYm9keTogYm9keSwganNvbjoganNvbiB9KTtcbiAgICB9KTtcbn07XG5leHBvcnQgdmFyIHF1ZXJ5UGFyYW1ldGVycyA9IHN0cmluZ2lmeTtcbnZhciBpc1ZhbGlkT2JqZWN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gICAgdmFyIGlzQnVmZmVyID0gdHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgQnVmZmVyLmlzQnVmZmVyKHZhbHVlKTtcbiAgICB2YXIgaXNPYmplY3QgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcbiAgICB2YXIgaGFzS2V5cyA9ICEhT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aDtcbiAgICByZXR1cm4gIWlzQXJyYXkgJiYgIWlzQnVmZmVyICYmIGlzT2JqZWN0ICYmIGhhc0tleXM7XG59O1xuZXhwb3J0IHZhciBmbGF0dGVuT2JqZWN0ID0gZnVuY3Rpb24gKHZhbHVlLCBwYXRoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChwYXRoID09PSB2b2lkIDApIHsgcGF0aCA9IFtdOyB9XG4gICAgaWYgKGlzVmFsaWRPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCwgX19zcHJlYWRBcnJheXMoW3t9XSwgT2JqZWN0LmtleXModmFsdWUpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZmxhdHRlbk9iamVjdCh2YWx1ZVtrZXldLCBwYXRoLmNvbmNhdChba2V5XSkpO1xuICAgICAgICB9KSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoID8gKF9hID0ge30sIF9hW3BhdGguam9pbignLicpXSA9IHZhbHVlLCBfYSkgOiB2YWx1ZTtcbiAgICB9XG59O1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbnZhciBfX3NwcmVhZEFycmF5cyA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheXMpIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgICAgcltrXSA9IGFbal07XG4gICAgcmV0dXJuIHI7XG59O1xuaW1wb3J0IHVzZURhdGFQcm92aWRlciBmcm9tICcuL3VzZURhdGFQcm92aWRlcic7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZURlY2xhcmF0aXZlU2lkZUVmZmVjdHMgZnJvbSAnLi91c2VEZWNsYXJhdGl2ZVNpZGVFZmZlY3RzJztcbmltcG9ydCB7IGdldERhdGFQcm92aWRlckNhbGxBcmd1bWVudHMgfSBmcm9tICcuL2dldERhdGFQcm92aWRlckNhbGxBcmd1bWVudHMnO1xuLyoqXG4gKiBUaGlzIHZlcnNpb24gb2YgdGhlIHVzZURhdGFQcm92aWRlciBob29rIGVuc3VyZSBRdWVyeSBhbmQgTXV0YXRpb24gY29tcG9uZW50cyBhcmUgc3RpbGwgdXNhYmxlXG4gKiB3aXRoIHNpZGUgZWZmZWN0cyBkZWNsYXJlZCBhcyBvYmplY3RzLlxuICpcbiAqIEBkZXByZWNhdGVkIFRoaXMgaXMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgb25seSBhbmQgd2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cbiAqL1xudmFyIHVzZURhdGFQcm92aWRlcldpdGhEZWNsYXJhdGl2ZVNpZGVFZmZlY3RzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhUHJvdmlkZXIgPSB1c2VEYXRhUHJvdmlkZXIoKTtcbiAgICB2YXIgZ2V0U2lkZUVmZmVjdHMgPSB1c2VEZWNsYXJhdGl2ZVNpZGVFZmZlY3RzKCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHZhciBkYXRhUHJvdmlkZXJQcm94eSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KGRhdGFQcm92aWRlciwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gZ2V0RGF0YVByb3ZpZGVyQ2FsbEFyZ3VtZW50cyhhcmdzKSwgcmVzb3VyY2UgPSBfYS5yZXNvdXJjZSwgcGF5bG9hZCA9IF9hLnBheWxvYWQsIGFsbEFyZ3VtZW50cyA9IF9hLmFsbEFyZ3VtZW50cywgb3B0aW9ucyA9IF9hLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvblN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbkZhaWx1cmU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaW5hbE9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmluYWxBbGxBcmd1bWVudHMgPSBhbGxBcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWydvblN1Y2Nlc3MnLCAnb25GYWlsdXJlJ10uaW5jbHVkZXMoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2lkZUVmZmVjdCA9IGdldFNpZGVFZmZlY3RzKHJlc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZ25vcmVPblN1Y2Nlc3MgPSBvcHRpb25zLm9uU3VjY2VzcywgLy8gVXNlZCB0byBleHRyYWN0IG9wdGlvbnMgd2l0aG91dCBvblN1Y2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZU9uRmFpbHVyZSA9IG9wdGlvbnMub25GYWlsdXJlLCAvLyBVc2VkIHRvIGV4dHJhY3Qgb3B0aW9ucyB3aXRob3V0IG9uRmFpbHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJPcHRpb25zID0gX19yZXN0KG9wdGlvbnMsIFtcIm9uU3VjY2Vzc1wiLCBcIm9uRmFpbHVyZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MgPSBzaWRlRWZmZWN0Lm9uU3VjY2VzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRmFpbHVyZSA9IHNpZGVFZmZlY3Qub25GYWlsdXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxPcHRpb25zID0gb3RoZXJPcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxBbGxBcmd1bWVudHMgPSBfX3NwcmVhZEFycmF5cyhhcmdzKS5zbGljZSgwLCBhcmdzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W25hbWUudG9TdHJpbmcoKV0uYXBwbHkodGFyZ2V0LCB0eXBlb2YgcmVzb3VyY2UgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZmluYWxPcHRpb25zKSwgeyBvblN1Y2Nlc3M6IG9uU3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRmFpbHVyZTogb25GYWlsdXJlIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZpbmFsQWxsQXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHVybiBzeW5jaHJvbm91cyBleGNlcHRpb25zIChlLmcuIGluIHBhcmFtZXRlciBwcmVwYXJhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludG8gYXN5bmMgb25lcywgb3RoZXJ3aXNlIHRoZXknbGwgYmUgbG9zdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH0sIFtkYXRhUHJvdmlkZXIsIGdldFNpZGVFZmZlY3RzXSk7XG4gICAgcmV0dXJuIGRhdGFQcm92aWRlclByb3h5O1xufTtcbmV4cG9ydCBkZWZhdWx0IHVzZURhdGFQcm92aWRlcldpdGhEZWNsYXJhdGl2ZVNpZGVFZmZlY3RzO1xuIiwiaW1wb3J0IHsgdXNlTm90aWZ5LCB1c2VSZWRpcmVjdCwgdXNlUmVmcmVzaCwgdXNlVW5zZWxlY3RBbGwsIH0gZnJvbSAnLi4vc2lkZUVmZmVjdCc7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xudmFyIGRlZmF1bHRTaWRlRWZmZWN0cyA9IHtcbiAgICBvblN1Y2Nlc3M6IHVuZGVmaW5lZCxcbiAgICBvbkZhaWx1cmU6IHVuZGVmaW5lZCxcbn07XG52YXIgdXNlRGVjbGFyYXRpdmVTaWRlRWZmZWN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbm90aWZ5ID0gdXNlTm90aWZ5KCk7XG4gICAgdmFyIHJlZGlyZWN0ID0gdXNlUmVkaXJlY3QoKTtcbiAgICB2YXIgcmVmcmVzaCA9IHVzZVJlZnJlc2goKTtcbiAgICB2YXIgdW5zZWxlY3RBbGwgPSB1c2VVbnNlbGVjdEFsbCgpO1xuICAgIHJldHVybiB1c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZ1bmN0aW9uIChyZXNvdXJjZSwgX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IGRlZmF1bHRTaWRlRWZmZWN0cyA6IF9hLCBvblN1Y2Nlc3MgPSBfYi5vblN1Y2Nlc3MsIG9uRmFpbHVyZSA9IF9iLm9uRmFpbHVyZTtcbiAgICAgICAgdmFyIGNvbnZlcnRUb0Z1bmN0aW9uU2lkZUVmZmVjdCA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgc2lkZUVmZmVjdHMpIHtcbiAgICAgICAgICAgIGlmICghc2lkZUVmZmVjdHMgfHwgdHlwZW9mIHNpZGVFZmZlY3RzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpZGVFZmZlY3RzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNpZGVFZmZlY3RzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5vdGlmaWNhdGlvbiA9IHNpZGVFZmZlY3RzLm5vdGlmaWNhdGlvbiwgcmVkaXJlY3RUbyA9IHNpZGVFZmZlY3RzLnJlZGlyZWN0VG8sIG5lZWRSZWZyZXNoID0gc2lkZUVmZmVjdHMucmVmcmVzaCwgbmVlZFVuc2VsZWN0QWxsID0gc2lkZUVmZmVjdHMudW5zZWxlY3RBbGw7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5KG5vdGlmaWNhdGlvbi5ib2R5LCBub3RpZmljYXRpb24ubGV2ZWwsIG5vdGlmaWNhdGlvbi5tZXNzYWdlQXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZWRpcmVjdFRvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0KHJlZGlyZWN0VG8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmVlZFJlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmVlZFVuc2VsZWN0QWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0QWxsKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb25TdWNjZXNzOiBjb252ZXJ0VG9GdW5jdGlvblNpZGVFZmZlY3QocmVzb3VyY2UsIG9uU3VjY2VzcyksXG4gICAgICAgICAgICBvbkZhaWx1cmU6IGNvbnZlcnRUb0Z1bmN0aW9uU2lkZUVmZmVjdChyZXNvdXJjZSwgb25GYWlsdXJlKSxcbiAgICAgICAgfTtcbiAgICB9OyB9LCBbbm90aWZ5LCByZWRpcmVjdCwgcmVmcmVzaCwgdW5zZWxlY3RBbGxdKTtcbn07XG5leHBvcnQgZGVmYXVsdCB1c2VEZWNsYXJhdGl2ZVNpZGVFZmZlY3RzO1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlTXV0YXRpb24gZnJvbSAnLi91c2VNdXRhdGlvbic7XG4vKipcbiAqIEdldCBhIGNhbGxiYWNrIHRvIGNhbGwgdGhlIGRhdGFQcm92aWRlci5kZWxldGVNYW55KCkgbWV0aG9kLCB0aGUgcmVzdWx0XG4gKiBvZiB0aGUgY2FsbCAodGhlIGxpc3Qgb2YgZGVsZXRlZCByZWNvcmQgaWRzKSwgYW5kIHRoZSBsb2FkaW5nIHN0YXRlLlxuICpcbiAqIFRoZSByZXR1cm4gdmFsdWUgdXBkYXRlcyBhY2NvcmRpbmcgdG8gdGhlIHJlcXVlc3Qgc3RhdGU6XG4gKlxuICogLSBpbml0aWFsOiBbZGVsZXRlTWFueSwgeyBsb2FkaW5nOiBmYWxzZSwgbG9hZGVkOiBmYWxzZSB9XVxuICogLSBzdGFydDogICBbZGVsZXRlTWFueSwgeyBsb2FkaW5nOiB0cnVlLCBsb2FkZWQ6IGZhbHNlIH1dXG4gKiAtIHN1Y2Nlc3M6IFtkZWxldGVNYW55LCB7IGRhdGE6IFtkYXRhIGZyb20gcmVzcG9uc2VdLCBsb2FkaW5nOiBmYWxzZSwgbG9hZGVkOiB0cnVlIH1dXG4gKiAtIGVycm9yOiAgIFtkZWxldGVNYW55LCB7IGVycm9yOiBbZXJyb3IgZnJvbSByZXNwb25zZV0sIGxvYWRpbmc6IGZhbHNlLCBsb2FkZWQ6IGZhbHNlIH1dXG4gKlxuICogQHBhcmFtIHJlc291cmNlIFRoZSByZXNvdXJjZSBuYW1lLCBlLmcuICdwb3N0cydcbiAqIEBwYXJhbSBpZHMgVGhlIHJlc291cmNlIGlkZW50aWZpZXJzLCBlLmcuIFsxMjMsIDQ1Nl1cbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0IHRvIHBhc3MgdG8gdGhlIGRhdGFQcm92aWRlci4gTWF5IGluY2x1ZGUgc2lkZSBlZmZlY3RzIHRvIGJlIGV4ZWN1dGVkIHVwb24gc3VjY2VzcyBvciBmYWlsdXJlLCBlLmcuIHsgb25TdWNjZXNzOiB7IHJlZnJlc2g6IHRydWUgfSB9XG4gKlxuICogQHJldHVybnMgVGhlIGN1cnJlbnQgcmVxdWVzdCBzdGF0ZS4gRGVzdHJ1Y3R1cmUgYXMgW2RlbGV0ZU1hbnksIHsgZGF0YSwgZXJyb3IsIGxvYWRpbmcsIGxvYWRlZCB9XS5cbiAqXG4gKiBUaGUgZGVsZXRlTWFueSgpIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgaW4gMyBkaWZmZXJlbnQgd2F5czpcbiAqICAtIHdpdGggdGhlIHNhbWUgcGFyYW1ldGVycyBhcyB0aGUgdXNlRGVsZXRlTWFueSgpIGhvb2s6IGRlbGV0ZU1hbnkocmVzb3VyY2UsIGlkcywgb3B0aW9ucylcbiAqICAtIHdpdGggdGhlIHNhbWUgc3ludGF4IGFzIHVzZU11dGF0aW9uOiBkZWxldGVNYW55KHsgcmVzb3VyY2UsIHBheWxvYWQ6IHsgaWRzIH0gfSwgb3B0aW9ucylcbiAqICAtIHdpdGggbm8gcGFyYW1ldGVyIChpZiB0aGV5IHdlcmUgYWxyZWFkeSBwYXNzZWQgdG8gdXNlRGVsZXRlTWFueSgpKTogZGVsZXRlTWFueSgpXG4gKlxuICogQGV4YW1wbGUgLy8gc2V0IHBhcmFtcyB3aGVuIGNhbGxpbmcgdGhlIGRlbGV0ZU1hbnkgY2FsbGJhY2tcbiAqXG4gKiBpbXBvcnQgeyB1c2VEZWxldGVNYW55IH0gZnJvbSAncmVhY3QtYWRtaW4nO1xuICpcbiAqIGNvbnN0IEJ1bGtEZWxldGVQb3N0c0J1dHRvbiA9ICh7IHNlbGVjdGVkSWRzIH0pID0+IHtcbiAqICAgICBjb25zdCBbZGVsZXRlTWFueSwgeyBsb2FkaW5nLCBlcnJvciB9XSA9IHVzZURlbGV0ZU1hbnkoKTtcbiAqICAgICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IHtcbiAqICAgICAgICAgZGVsZXRlTWFueSgncG9zdHMnLCBzZWxlY3RlZElkcylcbiAqICAgICB9XG4gKiAgICAgaWYgKGVycm9yKSB7IHJldHVybiA8cD5FUlJPUjwvcD47IH1cbiAqICAgICByZXR1cm4gPGJ1dHRvbiBkaXNhYmxlZD17bG9hZGluZ30gb25DbGljaz17ZGVsZXRlTWFueX0+RGVsZXRlIHNlbGVjdGVkIHBvc3RzPC9idXR0b24+O1xuICogfTtcbiAqXG4gKiBAZXhhbXBsZSAvLyBzZXQgcGFyYW1zIHdoZW4gY2FsbGluZyB0aGUgaG9va1xuICpcbiAqIGltcG9ydCB7IHVzZURlbGV0ZU1hbnkgfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKlxuICogY29uc3QgQnVsa0RlbGV0ZVBvc3RzQnV0dG9uID0gKHsgc2VsZWN0ZWRJZHMgfSkgPT4ge1xuICogICAgIGNvbnN0IFtkZWxldGVNYW55LCB7IGxvYWRpbmcsIGVycm9yIH1dID0gdXNlRGVsZXRlTWFueSgncG9zdHMnLCBzZWxlY3RlZElkcyk7XG4gKiAgICAgaWYgKGVycm9yKSB7IHJldHVybiA8cD5FUlJPUjwvcD47IH1cbiAqICAgICByZXR1cm4gPGJ1dHRvbiBkaXNhYmxlZD17bG9hZGluZ30gb25DbGljaz17ZGVsZXRlTWFueX0+RGVsZXRlIHNlbGVjdGVkIHBvc3RzPC9idXR0b24+O1xuICogfTtcbiAqL1xudmFyIHVzZURlbGV0ZU1hbnkgPSBmdW5jdGlvbiAocmVzb3VyY2UsIGlkcywgb3B0aW9ucykge1xuICAgIHZhciBfYSA9IHVzZU11dGF0aW9uKHsgdHlwZTogJ2RlbGV0ZU1hbnknLCByZXNvdXJjZTogcmVzb3VyY2UsIHBheWxvYWQ6IHsgaWRzOiBpZHMgfSB9LCBvcHRpb25zKSwgbXV0YXRlID0gX2FbMF0sIHN0YXRlID0gX2FbMV07XG4gICAgdmFyIGRlbGV0ZU1hbnkgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocmVzb3VyY2UsIGlkcywgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIHJlc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdkZWxldGVNYW55JyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBpZHM6IGlkcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBtdXRhdGUocXVlcnksIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG11dGF0ZShyZXNvdXJjZSwgaWRzKTtcbiAgICAgICAgfVxuICAgIH0sIFttdXRhdGVdIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgKTtcbiAgICByZXR1cm4gW2RlbGV0ZU1hbnksIHN0YXRlXTtcbn07XG5leHBvcnQgZGVmYXVsdCB1c2VEZWxldGVNYW55O1xuIiwiaW1wb3J0IHsgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGdldCBmcm9tICdsb2Rhc2gvZ2V0JztcbmltcG9ydCB7IHVzZVF1ZXJ5V2l0aFN0b3JlIH0gZnJvbSAnLi91c2VRdWVyeVdpdGhTdG9yZSc7XG52YXIgZGVmYXVsdElkcyA9IFtdO1xudmFyIGRlZmF1bHREYXRhID0ge307XG4vKipcbiAqIENhbGwgdGhlIGRhdGFQcm92aWRlci5nZXRMaXN0KCkgbWV0aG9kIGFuZCByZXR1cm4gdGhlIHJlc29sdmVkIHJlc3VsdFxuICogYXMgd2VsbCBhcyB0aGUgbG9hZGluZyBzdGF0ZS5cbiAqXG4gKiBVc2VzIGEgc3BlY2lhbCBjYWNoZSB0byBhdm9pZCBzaG93aW5nIGFuIGVtcHR5IGxpc3Qgd2hpbGUgcmUtZmV0Y2hpbmcgdGhlXG4gKiBsaXN0IGFmdGVyIGNoYW5naW5nIHBhcmFtcy5cbiAqXG4gKiBUaGUgcmV0dXJuIHZhbHVlIHVwZGF0ZXMgYWNjb3JkaW5nIHRvIHRoZSByZXF1ZXN0IHN0YXRlOlxuICpcbiAqIC0gc3RhcnQ6IHsgbG9hZGluZzogdHJ1ZSwgbG9hZGVkOiBmYWxzZSwgcmVmZXRjaCB9XG4gKiAtIHN1Y2Nlc3M6IHsgZGF0YTogW2RhdGEgZnJvbSBzdG9yZV0sIGlkczogW2lkcyBmcm9tIHJlc3BvbnNlXSwgdG90YWw6IFt0b3RhbCBmcm9tIHJlc3BvbnNlXSwgbG9hZGluZzogZmFsc2UsIGxvYWRlZDogdHJ1ZSwgcmVmZXRjaCB9XG4gKiAtIGVycm9yOiB7IGVycm9yOiBbZXJyb3IgZnJvbSByZXNwb25zZV0sIGxvYWRpbmc6IGZhbHNlLCBsb2FkZWQ6IGZhbHNlLCByZWZldGNoIH1cbiAqXG4gKiBUaGlzIGhvb2sgd2lsbCByZXR1cm4gdGhlIGNhY2hlZCByZXN1bHQgd2hlbiBjYWxsZWQgYSBzZWNvbmQgdGltZVxuICogd2l0aCB0aGUgc2FtZSBwYXJhbWV0ZXJzLCB1bnRpbCB0aGUgcmVzcG9uc2UgYXJyaXZlcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb3VyY2UgVGhlIHJlc291cmNlIG5hbWUsIGUuZy4gJ3Bvc3RzJ1xuICogQHBhcmFtIHtPYmplY3R9IHBhZ2luYXRpb24gVGhlIHJlcXVlc3QgcGFnaW5hdGlvbiB7IHBhZ2UsIHBlclBhZ2UgfSwgZS5nLiB7IHBhZ2U6IDEsIHBlclBhZ2U6IDEwIH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3J0IFRoZSByZXF1ZXN0IHNvcnQgeyBmaWVsZCwgb3JkZXIgfSwgZS5nLiB7IGZpZWxkOiAnaWQnLCBvcmRlcjogJ0RFU0MnIH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBmaWx0ZXIgVGhlIHJlcXVlc3QgZmlsdGVycywgZS5nLiB7IHRpdGxlOiAnaGVsbG8sIHdvcmxkJyB9XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCB0byBwYXNzIHRvIHRoZSBkYXRhUHJvdmlkZXIuIE1heSBpbmNsdWRlIHNpZGUgZWZmZWN0cyB0byBiZSBleGVjdXRlZCB1cG9uIHN1Y2Nlc3Mgb3IgZmFpbHVyZSwgZS5nLiB7IG9uU3VjY2VzczogeyByZWZyZXNoOiB0cnVlIH0gfVxuICpcbiAqIEByZXR1cm5zIFRoZSBjdXJyZW50IHJlcXVlc3Qgc3RhdGUuIERlc3RydWN0dXJlIGFzIHsgZGF0YSwgdG90YWwsIGlkcywgZXJyb3IsIGxvYWRpbmcsIGxvYWRlZCwgcmVmZXRjaCB9LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IHsgdXNlR2V0TWFpbkxpc3QgfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKlxuICogY29uc3QgTGF0ZXN0TmV3cyA9ICgpID0+IHtcbiAqICAgICBjb25zdCB7IGRhdGEsIGlkcywgbG9hZGluZywgZXJyb3IgfSA9IHVzZUdldE1haW5MaXN0KFxuICogICAgICAgICAncG9zdHMnLFxuICogICAgICAgICB7IHBhZ2U6IDEsIHBlclBhZ2U6IDEwIH0sXG4gKiAgICAgICAgIHsgZmllbGQ6ICdwdWJsaXNoZWRfYXQnLCBvcmRlcjogJ0RFU0MnIH1cbiAqICAgICApO1xuICogICAgIGlmIChsb2FkaW5nKSB7IHJldHVybiA8TG9hZGluZyAvPjsgfVxuICogICAgIGlmIChlcnJvcikgeyByZXR1cm4gPHA+RVJST1I8L3A+OyB9XG4gKiAgICAgcmV0dXJuIDx1bD57aWRzLm1hcChpZCA9PlxuICogICAgICAgICA8bGkga2V5PXtpZH0+e2RhdGFbaWRdLnRpdGxlfTwvbGk+XG4gKiAgICAgKX08L3VsPjtcbiAqIH07XG4gKi9cbmV4cG9ydCB2YXIgdXNlR2V0TWFpbkxpc3QgPSBmdW5jdGlvbiAocmVzb3VyY2UsIHBhZ2luYXRpb24sIHNvcnQsIGZpbHRlciwgb3B0aW9ucykge1xuICAgIHZhciByZXF1ZXN0U2lnbmF0dXJlID0gSlNPTi5zdHJpbmdpZnkoeyBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uLCBzb3J0OiBzb3J0LCBmaWx0ZXI6IGZpbHRlciB9KTtcbiAgICB2YXIgbWVtbyA9IHVzZVJlZih7fSk7XG4gICAgdmFyIF9hID0gdXNlUXVlcnlXaXRoU3RvcmUoeyB0eXBlOiAnZ2V0TGlzdCcsIHJlc291cmNlOiByZXNvdXJjZSwgcGF5bG9hZDogeyBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uLCBzb3J0OiBzb3J0LCBmaWx0ZXI6IGZpbHRlciB9IH0sIG9wdGlvbnMsIFxuICAgIC8vIGlkcyBhbmQgZGF0YSBzZWxlY3RvclxuICAgIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgaWRzID0gZ2V0KHN0YXRlLmFkbWluLnJlc291cmNlcywgW1xuICAgICAgICAgICAgcmVzb3VyY2UsXG4gICAgICAgICAgICAnbGlzdCcsXG4gICAgICAgICAgICAnY2FjaGVkUmVxdWVzdHMnLFxuICAgICAgICAgICAgcmVxdWVzdFNpZ25hdHVyZSxcbiAgICAgICAgICAgICdpZHMnLFxuICAgICAgICBdKTsgLy8gZGVmYXVsdCB2YWx1ZSB1bmRlZmluZWRcbiAgICAgICAgdmFyIHRvdGFsID0gZ2V0KHN0YXRlLmFkbWluLnJlc291cmNlcywgW1xuICAgICAgICAgICAgcmVzb3VyY2UsXG4gICAgICAgICAgICAnbGlzdCcsXG4gICAgICAgICAgICAnY2FjaGVkUmVxdWVzdHMnLFxuICAgICAgICAgICAgcmVxdWVzdFNpZ25hdHVyZSxcbiAgICAgICAgICAgICd0b3RhbCcsXG4gICAgICAgIF0pOyAvLyBkZWZhdWx0IHZhbHVlIHVuZGVmaW5lZFxuICAgICAgICAvLyBXaGVuIHRoZSB1c2VyIGNoYW5nZXMgdGhlIHBhZ2Uvc29ydC9maWx0ZXIsIHRoZSBsaXN0IG9mIGlkcyBmcm9tXG4gICAgICAgIC8vIHRoZSBjYWNoZWQgcmVxdWVzdHMgaXMgZW1wdHkuIFRvIGF2b2lkIHJlbmRlcmluZyBhbiBlbXB0eSBsaXN0XG4gICAgICAgIC8vIGF0IHRoYXQgbW9tZW50LCB3ZSBvdmVycmlkZSB0aGUgaWRzIGFuZCB0b3RhbCB3aXRoIHRoZSBsYXRlc3RcbiAgICAgICAgLy8gbG9hZGVkIG9uZXMuXG4gICAgICAgIHZhciBtYWluSWRzID0gZ2V0KHN0YXRlLmFkbWluLnJlc291cmNlcywgW1xuICAgICAgICAgICAgcmVzb3VyY2UsXG4gICAgICAgICAgICAnbGlzdCcsXG4gICAgICAgICAgICAnaWRzJyxcbiAgICAgICAgXSk7IC8vIGRlZmF1bHQgdmFsdWUgW10gKHNlZSBsaXN0LmlkcyByZWR1Y2VyKVxuICAgICAgICAvLyBTaW5jZSB0aGUgdG90YWwgY2FuIGJlIGVtcHR5IGR1cmluZyB0aGUgbG9hZGluZyBwaGFzZVxuICAgICAgICAvLyBXZSBuZWVkIHRvIG92ZXJyaWRlIHRoYXQgdG90YWwgd2l0aCB0aGUgbGF0ZXN0IGxvYWRlZCBvbmVcbiAgICAgICAgdmFyIG1haW5Ub3RhbCA9IGdldChzdGF0ZS5hZG1pbi5yZXNvdXJjZXMsIFtcbiAgICAgICAgICAgIHJlc291cmNlLFxuICAgICAgICAgICAgJ2xpc3QnLFxuICAgICAgICAgICAgJ3RvdGFsJyxcbiAgICAgICAgXSk7IC8vIGRlZmF1bHQgdmFsdWUgbnVsbCAoc2VlIGxpc3QudG90YWwgcmVkdWNlcilcbiAgICAgICAgLy8gSXMgW10gZm9yIGEgcGFnZSB0aGF0IHdhcyBuZXZlciBsb2FkZWRcbiAgICAgICAgdmFyIGZpbmFsSWRzID0gdHlwZW9mIGlkcyA9PT0gJ3VuZGVmaW5lZCcgPyBtYWluSWRzIDogaWRzO1xuICAgICAgICAvLyBJcyBudWxsIGZvciBhIHBhZ2UgdGhhdCB3YXMgbmV2ZXIgbG9hZGVkLlxuICAgICAgICB2YXIgZmluYWxUb3RhbCA9IHR5cGVvZiB0b3RhbCA9PT0gJ3VuZGVmaW5lZCcgPyBtYWluVG90YWwgOiB0b3RhbDtcbiAgICAgICAgdmFyIGFsbFJlY29yZHMgPSBnZXQoc3RhdGUuYWRtaW4ucmVzb3VyY2VzLCBbcmVzb3VyY2UsICdkYXRhJ10sIGRlZmF1bHREYXRhKTtcbiAgICAgICAgLy8gcG9vciBtYW4ncyB1c2VNZW1vIGluc2lkZSBhIGhvb2sgdXNpbmcgYSByZWZcbiAgICAgICAgaWYgKG1lbW8uY3VycmVudC5maW5hbElkcyAhPT0gZmluYWxJZHMgfHxcbiAgICAgICAgICAgIG1lbW8uY3VycmVudC5maW5hbFRvdGFsICE9PSBmaW5hbFRvdGFsIHx8XG4gICAgICAgICAgICBtZW1vLmN1cnJlbnQuYWxsUmVjb3JkcyAhPT0gYWxsUmVjb3Jkcykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICBmaW5hbElkczogZmluYWxJZHMsXG4gICAgICAgICAgICAgICAgZmluYWxUb3RhbDogZmluYWxUb3RhbCxcbiAgICAgICAgICAgICAgICBhbGxSZWNvcmRzOiBhbGxSZWNvcmRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG1lbW8uY3VycmVudCA9IHsgZmluYWxJZHM6IGZpbmFsSWRzLCBmaW5hbFRvdGFsOiBmaW5hbFRvdGFsLCBhbGxSZWNvcmRzOiBhbGxSZWNvcmRzLCByZXN1bHQ6IHJlc3VsdCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZW1vLmN1cnJlbnQucmVzdWx0O1xuICAgIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sIGlzRGF0YUxvYWRlZCksIF9iID0gX2EuZGF0YSwgZmluYWxJZHMgPSBfYi5maW5hbElkcywgZmluYWxUb3RhbCA9IF9iLmZpbmFsVG90YWwsIGFsbFJlY29yZHMgPSBfYi5hbGxSZWNvcmRzLCBlcnJvciA9IF9hLmVycm9yLCBsb2FkaW5nID0gX2EubG9hZGluZywgbG9hZGVkID0gX2EubG9hZGVkLCByZWZldGNoID0gX2EucmVmZXRjaDtcbiAgICB2YXIgZGF0YSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGZpbmFsSWRzID09PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBkZWZhdWx0RGF0YVxuICAgICAgICAgICAgOiBmaW5hbElkc1xuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGlkKSB7IHJldHVybiBhbGxSZWNvcmRzW2lkXTsgfSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHJlY29yZCkge1xuICAgICAgICAgICAgICAgIGlmICghcmVjb3JkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIGFjY1tyZWNvcmQuaWRdID0gcmVjb3JkO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgfSwgW2ZpbmFsSWRzLCBhbGxSZWNvcmRzXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgaWRzOiB0eXBlb2YgZmluYWxJZHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdElkcyA6IGZpbmFsSWRzLFxuICAgICAgICB0b3RhbDogZmluYWxUb3RhbCxcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICBsb2FkaW5nOiBsb2FkaW5nLFxuICAgICAgICBsb2FkZWQ6IGxvYWRlZCxcbiAgICAgICAgcmVmZXRjaDogcmVmZXRjaCxcbiAgICB9O1xufTtcbnZhciBpc0RhdGFMb2FkZWQgPSBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gZGF0YS5maW5hbFRvdGFsICE9IG51bGw7IH07IC8vIG51bGwgb3IgdW5kZWZpbmVkXG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWVyZ2UgZnJvbSAnbG9kYXNoL21lcmdlJztcbmltcG9ydCB7IHVzZVNhZmVTZXRTdGF0ZSB9IGZyb20gJy4uL3V0aWwvaG9va3MnO1xuaW1wb3J0IHVzZURhdGFQcm92aWRlciBmcm9tICcuL3VzZURhdGFQcm92aWRlcic7XG5pbXBvcnQgdXNlRGF0YVByb3ZpZGVyV2l0aERlY2xhcmF0aXZlU2lkZUVmZmVjdHMgZnJvbSAnLi91c2VEYXRhUHJvdmlkZXJXaXRoRGVjbGFyYXRpdmVTaWRlRWZmZWN0cyc7XG4vKipcbiAqIEdldCBhIGNhbGxiYWNrIHRvIGZldGNoIHRoZSBkYXRhIHByb3ZpZGVyIHRocm91Z2ggUmVkdXgsIHVzdWFsbHkgZm9yIG11dGF0aW9ucy5cbiAqXG4gKiBUaGUgcmVxdWVzdCBzdGFydHMgd2hlbiB0aGUgY2FsbGJhY2sgaXMgY2FsbGVkLlxuICpcbiAqIHVzZU11dGF0aW9uKCkgcGFyYW1ldGVycyBjYW4gYmUgcGFzc2VkOlxuICpcbiAqIC0gYXQgZGVmaW5pdGlvbiB0aW1lXG4gKlxuICogICAgICAgY29uc3QgW211dGF0ZV0gPSB1c2VNdXRhdGlvbihxdWVyeSwgb3B0aW9ucyk7IG11dGF0ZSgpO1xuICpcbiAqIC0gYXQgY2FsbCB0aW1lXG4gKlxuICogICAgICAgY29uc3QgW211dGF0ZV0gPSB1c2VNdXRhdGlvbigpOyBtdXRhdGUocXVlcnksIG9wdGlvbnMpO1xuICpcbiAqIC0gYm90aCwgaW4gd2hpY2ggY2FzZSB0aGUgZGVmaW5pdGlvbiBhbmQgY2FsbCB0aW1lIHBhcmFtZXRlcnMgYXJlIG1lcmdlZFxuICpcbiAqICAgICAgIGNvbnN0IFttdXRhdGVdID0gdXNlTXV0YXRpb24ocXVlcnkxLCBvcHRpb25zMSk7IG11dGF0ZShxdWVyeTIsIG9wdGlvbnMyKTtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcXVlcnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBxdWVyeS50eXBlIFRoZSBtZXRob2QgY2FsbGVkIG9uIHRoZSBkYXRhIHByb3ZpZGVyLCBlLmcuICdnZXRMaXN0JywgJ2dldE9uZScuIENhbiBhbHNvIGJlIGEgY3VzdG9tIG1ldGhvZCBpZiB0aGUgZGF0YVByb3ZpZGVyIHN1cHBvcnRzIGlzLlxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5LnJlc291cmNlIEEgcmVzb3VyY2UgbmFtZSwgZS5nLiAncG9zdHMnLCAnY29tbWVudHMnXG4gKiBAcGFyYW0ge09iamVjdH0gcXVlcnkucGF5bG9hZCBUaGUgcGF5bG9hZCBvYmplY3QsIGUuZzsgeyBwb3N0X2lkOiAxMiB9XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuYWN0aW9uIFJlZHV4IGFjdGlvbiB0eXBlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMudW5kb2FibGUgU2V0IHRvIHRydWUgdG8gcnVuIHRoZSBtdXRhdGlvbiBsb2NhbGx5IGJlZm9yZSBjYWxsaW5nIHRoZSBkYXRhUHJvdmlkZXJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5yZXR1cm5Qcm9taXNlIFNldCB0byB0cnVlIHRvIHJldHVybiB0aGUgcmVzdWx0IHByb21pc2Ugb2YgdGhlIG11dGF0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uU3VjY2VzcyBTaWRlIGVmZmVjdCBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCB1cG9uIHN1Y2Nlc3MsIGUuZy4gKCkgPT4gcmVmcmVzaCgpXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLm9uRmFpbHVyZSBTaWRlIGVmZmVjdCBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCB1cG9uIGZhaWx1cmUsIGUuZy4gKGVycm9yKSA9PiBub3RpZnkoZXJyb3IubWVzc2FnZSlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy53aXRoRGVjbGFyYXRpdmVTaWRlRWZmZWN0c1N1cHBvcnQgU2V0IHRvIHRydWUgdG8gc3VwcG9ydCBsZWdhY3kgc2lkZSBlZmZlY3RzIGUuZy4geyBvblN1Y2Nlc3M6IHsgcmVmcmVzaDogdHJ1ZSB9IH1cbiAqXG4gKiBAcmV0dXJucyBBIHR1cGxlIHdpdGggdGhlIG11dGF0aW9uIGNhbGxiYWNrIGFuZCB0aGUgcmVxdWVzdCBzdGF0ZS4gRGVzdHJ1Y3R1cmUgYXMgW211dGF0ZSwgeyBkYXRhLCB0b3RhbCwgZXJyb3IsIGxvYWRpbmcsIGxvYWRlZCB9XS5cbiAqXG4gKiBUaGUgcmV0dXJuIHZhbHVlIHVwZGF0ZXMgYWNjb3JkaW5nIHRvIHRoZSByZXF1ZXN0IHN0YXRlOlxuICpcbiAqIC0gbW91bnQ6ICAgICAgICAgW211dGF0ZSwgeyBsb2FkaW5nOiBmYWxzZSwgbG9hZGVkOiBmYWxzZSB9XVxuICogLSBtdXRhdGUgY2FsbGVkOiBbbXV0YXRlLCB7IGxvYWRpbmc6IHRydWUsIGxvYWRlZDogZmFsc2UgfV1cbiAqIC0gc3VjY2VzczogICAgICAgW211dGF0ZSwgeyBkYXRhOiBbZGF0YSBmcm9tIHJlc3BvbnNlXSwgdG90YWw6IFt0b3RhbCBmcm9tIHJlc3BvbnNlXSwgbG9hZGluZzogZmFsc2UsIGxvYWRlZDogdHJ1ZSB9XVxuICogLSBlcnJvcjogICAgICAgICBbbXV0YXRlLCB7IGVycm9yOiBbZXJyb3IgZnJvbSByZXNwb25zZV0sIGxvYWRpbmc6IGZhbHNlLCBsb2FkZWQ6IGZhbHNlIH1dXG4gKlxuICogVGhlIG11dGF0ZSBmdW5jdGlvbiBhY2NlcHRzIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzXG4gKiAtIHtPYmplY3R9IHF1ZXJ5XG4gKiAtIHtzdHJpbmd9IHF1ZXJ5LnR5cGUgVGhlIG1ldGhvZCBjYWxsZWQgb24gdGhlIGRhdGEgcHJvdmlkZXIsIGUuZy4gJ3VwZGF0ZSdcbiAqIC0ge3N0cmluZ30gcXVlcnkucmVzb3VyY2UgQSByZXNvdXJjZSBuYW1lLCBlLmcuICdwb3N0cycsICdjb21tZW50cydcbiAqIC0ge09iamVjdH0gcXVlcnkucGF5bG9hZCBUaGUgcGF5bG9hZCBvYmplY3QsIGUuZy4geyBpZDogMTIzLCBkYXRhOiB7IGlzQXBwcm92ZWQ6IHRydWUgfSB9XG4gKiAtIHtPYmplY3R9IG9wdGlvbnNcbiAqIC0ge3N0cmluZ30gb3B0aW9ucy5hY3Rpb24gUmVkdXggYWN0aW9uIHR5cGVcbiAqIC0ge2Jvb2xlYW59IG9wdGlvbnMudW5kb2FibGUgU2V0IHRvIHRydWUgdG8gcnVuIHRoZSBtdXRhdGlvbiBsb2NhbGx5IGJlZm9yZSBjYWxsaW5nIHRoZSBkYXRhUHJvdmlkZXJcbiAqIC0ge2Jvb2xlYW59IG9wdGlvbnMucmV0dXJuUHJvbWlzZSBTZXQgdG8gdHJ1ZSB0byByZXR1cm4gdGhlIHJlc3VsdCBwcm9taXNlIG9mIHRoZSBtdXRhdGlvblxuICogLSB7RnVuY3Rpb259IG9wdGlvbnMub25TdWNjZXNzIFNpZGUgZWZmZWN0IGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIHVwb24gc3VjY2VzcyBvciBmYWlsdXJlLCBlLmcuIHsgb25TdWNjZXNzOiByZXNwb25zZSA9PiByZWZyZXNoKCkgfVxuICogLSB7RnVuY3Rpb259IG9wdGlvbnMub25GYWlsdXJlIFNpZGUgZWZmZWN0IGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIHVwb24gZmFpbHVyZSwgZS5nLiB7IG9uRmFpbHVyZTogZXJyb3IgPT4gbm90aWZ5KGVycm9yLm1lc3NhZ2UpIH1cbiAqIC0ge2Jvb2xlYW59IHdpdGhEZWNsYXJhdGl2ZVNpZGVFZmZlY3RzU3VwcG9ydCBTZXQgdG8gdHJ1ZSB0byBzdXBwb3J0IGxlZ2FjeSBzaWRlIGVmZmVjdHMgZS5nLiB7IG9uU3VjY2VzczogeyByZWZyZXNoOiB0cnVlIH0gfVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogLy8gcGFzcyBwYXJhbWV0ZXJzIGF0IGRlZmluaXRpb24gdGltZVxuICogLy8gdXNlIHdoZW4gYWxsIHBhcmFtZXRlcnMgYXJlIGRldGVybWluZWQgYXQgZGVmaW5pdGlvbiB0aW1lXG4gKiAvLyB0aGUgbXV0YXRpb24gY2FsbGJhY2sgY2FuIGJlIHVzZWQgYXMgYW4gZXZlbiBoYW5kbGVyXG4gKiAvLyBiZWNhdXNlIEV2ZW50IHBhcmFtZXRlcnMgYXJlIGlnbm9yZWRcbiAqIGltcG9ydCB7IHVzZU11dGF0aW9uIH0gZnJvbSAncmVhY3QtYWRtaW4nO1xuICpcbiAqIGNvbnN0IEFwcHJvdmVCdXR0b24gPSAoeyByZWNvcmQgfSkgPT4ge1xuICogICAgIGNvbnN0IFthcHByb3ZlLCB7IGxvYWRpbmcgfV0gPSB1c2VNdXRhdGlvbih7XG4gKiAgICAgICAgIHR5cGU6ICd1cGRhdGUnLFxuICogICAgICAgICByZXNvdXJjZTogJ2NvbW1lbnRzJyxcbiAqICAgICAgICAgcGF5bG9hZDogeyBpZDogcmVjb3JkLmlkLCBkYXRhOiB7IGlzQXBwcm92ZWQ6IHRydWUgfSB9XG4gKiAgICAgfSk7XG4gKiAgICAgcmV0dXJuIDxCdXR0b24gbGFiZWw9XCJBcHByb3ZlXCIgb25DbGljaz17YXBwcm92ZX0gZGlzYWJsZWQ9e2xvYWRpbmd9IC8+O1xuICogfTtcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIHBhc3MgcGFyYW1ldGVycyBhdCBjYWxsIHRpbWVcbiAqIC8vIHVzZSB3aGVuIHNvbWUgcGFyYW1ldGVycyBhcmUgb25seSBrbm93biBhdCBjYWxsIHRpbWVcbiAqIGltcG9ydCB7IHVzZU11dGF0aW9uIH0gZnJvbSAncmVhY3QtYWRtaW4nO1xuICpcbiAqIGNvbnN0IEFwcHJvdmVCdXR0b24gPSAoeyByZWNvcmQgfSkgPT4ge1xuICogICAgIGNvbnN0IFttdXRhdGUsIHsgbG9hZGluZyB9XSA9IHVzZU11dGF0aW9uKCk7XG4gKiAgICAgY29uc3QgYXBwcm92ZSA9IGV2ZW50ID0+IG11dGF0ZSh7XG4gKiAgICAgICAgIHR5cGU6ICd1cGRhdGUnLFxuICogICAgICAgICByZXNvdXJjZTogJ2NvbW1lbnRzJyxcbiAqICAgICAgICAgcGF5bG9hZDoge1xuICogICAgICAgICAgICAgaWQ6IGV2ZW50LnRhcmdldC5kYXRhc2V0LmlkLFxuICogICAgICAgICAgICAgZGF0YTogeyBpc0FwcHJvdmVkOiB0cnVlLCB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfVxuICogICAgICAgICB9LFxuICogICAgIH0pO1xuICogICAgIHJldHVybiA8QnV0dG9uXG4gKiAgICAgICAgIGxhYmVsPVwiQXBwcm92ZVwiXG4gKiAgICAgICAgIG9uQ2xpY2s9e2FwcHJvdmV9XG4gKiAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICogICAgIC8+O1xuICogfTtcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIHVzZSB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIHBhc3Mgb3B0aW9uc1xuICogaW1wb3J0IHsgdXNlTXV0YXRpb24sIHVzZU5vdGlmeSwgQ1JVRF9VUERBVEUgfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKlxuICogY29uc3QgUmVzZXRTdG9ja0J1dHRvbiA9ICh7IHJlY29yZCB9KSA9PiB7XG4gKiAgICAgY29uc3QgW211dGF0ZSwgeyBsb2FkaW5nIH1dID0gdXNlTXV0YXRpb24oKTtcbiAqICAgICBjb25zdCBub3RpZnkgPSB1c2VOb3RpZnkoKTtcbiAqICAgICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IG11dGF0ZShcbiAqICAgICAgICAge1xuICogICAgICAgICAgICAgIHR5cGU6ICd1cGRhdGUnLFxuICogICAgICAgICAgICAgIHJlc291cmNlOiAnaXRlbXMnLFxuICogICAgICAgICAgICAgIHBheWxvYWQ6IHsgaWQ6IHJlY29yZC5pZCwgZGF0YTogeyBzdG9jazogMCB9IH1cbiAqICAgICAgICAgfSxcbiAqICAgICAgICAge1xuICogICAgICAgICAgICAgIHVuZG9hYmxlOiB0cnVlLFxuICogICAgICAgICAgICAgIGFjdGlvbjogQ1JVRF9VUERBVEUsXG4gKiAgICAgICAgICAgICAgb25TdWNjZXNzOiByZXNwb25zZSA9PiBub3RpZnkoJ1N1Y2Nlc3MgIScpLFxuICogICAgICAgICAgICAgIG9uRmFpbHVyZTogZXJyb3IgPT4gbm90aWZ5KCdGYWlsdXJlICEnKVxuICogICAgICAgICB9XG4gKiAgICAgKTtcbiAqICAgICByZXR1cm4gPEJ1dHRvbiBsYWJlbD1cIlJlc2V0IHN0b2NrXCIgb25DbGljaz17aGFuZGxlQ2xpY2t9IGRpc2FibGVkPXtsb2FkaW5nfSAvPjtcbiAqIH07XG4gKi9cbnZhciB1c2VNdXRhdGlvbiA9IGZ1bmN0aW9uIChxdWVyeSwgb3B0aW9ucykge1xuICAgIHZhciBfYSA9IHVzZVNhZmVTZXRTdGF0ZSh7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB0b3RhbDogbnVsbCxcbiAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgfSksIHN0YXRlID0gX2FbMF0sIHNldFN0YXRlID0gX2FbMV07XG4gICAgdmFyIGRhdGFQcm92aWRlciA9IHVzZURhdGFQcm92aWRlcigpO1xuICAgIHZhciBkYXRhUHJvdmlkZXJXaXRoRGVjbGFyYXRpdmVTaWRlRWZmZWN0cyA9IHVzZURhdGFQcm92aWRlcldpdGhEZWNsYXJhdGl2ZVNpZGVFZmZlY3RzKCk7XG4gICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzICovXG4gICAgdmFyIG11dGF0ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChjYWxsVGltZVF1ZXJ5LCBjYWxsVGltZU9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGZpbmFsRGF0YVByb3ZpZGVyID0gaGFzRGVjbGFyYXRpdmVTaWRlRWZmZWN0c1N1cHBvcnQob3B0aW9ucywgY2FsbFRpbWVPcHRpb25zKVxuICAgICAgICAgICAgPyBkYXRhUHJvdmlkZXJXaXRoRGVjbGFyYXRpdmVTaWRlRWZmZWN0c1xuICAgICAgICAgICAgOiBkYXRhUHJvdmlkZXI7XG4gICAgICAgIHZhciBwYXJhbXMgPSBtZXJnZURlZmluaXRpb25BbmRDYWxsVGltZVBhcmFtZXRlcnMocXVlcnksIGNhbGxUaW1lUXVlcnksIG9wdGlvbnMsIGNhbGxUaW1lT3B0aW9ucyk7XG4gICAgICAgIHNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHsgcmV0dXJuIChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcHJldlN0YXRlKSwgeyBsb2FkaW5nOiB0cnVlIH0pKTsgfSk7XG4gICAgICAgIHZhciByZXR1cm5Qcm9taXNlID0gcGFyYW1zLm9wdGlvbnMucmV0dXJuUHJvbWlzZTtcbiAgICAgICAgdmFyIHByb21pc2UgPSBmaW5hbERhdGFQcm92aWRlcltwYXJhbXMudHlwZV1cbiAgICAgICAgICAgIC5hcHBseShmaW5hbERhdGFQcm92aWRlciwgdHlwZW9mIHBhcmFtcy5yZXNvdXJjZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8gW3BhcmFtcy5yZXNvdXJjZSwgcGFyYW1zLnBheWxvYWQsIHBhcmFtcy5vcHRpb25zXVxuICAgICAgICAgICAgOiBbcGFyYW1zLnBheWxvYWQsIHBhcmFtcy5vcHRpb25zXSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhLCB0b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xuICAgICAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgbG9hZGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJldHVyblByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yRnJvbVJlc3BvbnNlKSB7XG4gICAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JGcm9tUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgbG9hZGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0b3RhbDogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJldHVyblByb21pc2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvckZyb21SZXNwb25zZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXR1cm5Qcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfVxuICAgIH0sIFtcbiAgICAgICAgLy8gZGVlcCBlcXVhbGl0eSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTQ0NzYjaXNzdWVjb21tZW50LTQ3MTE5OTA1NVxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7IHF1ZXJ5OiBxdWVyeSwgb3B0aW9uczogb3B0aW9ucyB9KSxcbiAgICAgICAgZGF0YVByb3ZpZGVyLFxuICAgICAgICBkYXRhUHJvdmlkZXJXaXRoRGVjbGFyYXRpdmVTaWRlRWZmZWN0cyxcbiAgICAgICAgc2V0U3RhdGUsXG4gICAgXVxuICAgIC8qIGVzbGludC1lbmFibGUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzICovXG4gICAgKTtcbiAgICByZXR1cm4gW211dGF0ZSwgc3RhdGVdO1xufTtcbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgbWVyZ2luZyBwYXJhbWV0ZXJzXG4gKlxuICogdXNlTXV0YXRpb24oKSBwYXJhbWV0ZXJzIGNhbiBiZSBwYXNzZWQ6XG4gKiAtIGF0IGRlZmluaXRpb24gdGltZSAoZS5nLiB1c2VNdXRhdGlvbih7IHR5cGU6ICd1cGRhdGUnLCByZXNvdXJjZTogJ3Bvc3RzJywgcGF5bG9hZDogeyBpZDogMSwgZGF0YTogeyB0aXRsZTogJycgfSB9IH0pIClcbiAqIC0gYXQgY2FsbCB0aW1lIChlLmcuIFttdXRhdGVdID0gdXNlTXV0YXRpb24oKTsgbXV0YXRlKHsgdHlwZTogJ3VwZGF0ZScsIHJlc291cmNlOiAncG9zdHMnLCBwYXlsb2FkOiB7IGlkOiAxLCBkYXRhOiB7IHRpdGxlOiAnJyB9IH0gfSkpXG4gKiAtIGJvdGhcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIG1lcmdlcyB0aGUgZGVmaW5pdGlvbiB0aW1lIGFuZCBjYWxsIHRpbWUgcGFyYW1ldGVycy5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBiZWNhdXNlIHVzZU11dGF0aW9uKCkgaXMgdXNlZCBieSBoaWdoZXItbGV2ZWwgaG9va3MgbGlrZVxuICogdXNlQ3JlYXRlKCkgb3IgdXNlVXBkYXRlKCksIGFuZCB0aGVzZSBob29rcyBjYW4gYmUgY2FsbGVkIGJvdGggd2F5cy5cbiAqIFNvIGl0IG1ha2VzIHNlbnNlIHRvIG1ha2UgdXNlTXV0YXRpb24oKSBjYXBhYmxlIG9mIGhhbmRsaW5nIGJvdGggY2FsbCB0eXBlc1xuICogYXMgaXQgYXZvaWRzIHJlcGV0aXRpb24gaGlnaGVyIGluIHRoZSBob29rIGNoYWluLlxuICpcbiAqIEFsc28sIHRoZSBjYWxsIHRpbWUgcXVlcnkgbWF5IGJlIGEgRE9NIEV2ZW50IGlmIHRoZSBjYWxsYmFjayBpcyB1c2VkXG4gKiBhcyBhbiBldmVudCBsaXN0ZW5lciwgYXMgaW46XG4gKlxuICogY29uc3QgVXBkYXRlQnV0dG9uID0gKCkgPT4ge1xuICogICAgIGNvbnN0IG11dGF0ZSA9IHVzZU11dGF0aW9uKHsgdHlwZTogJ3VwZGF0ZScsIHJlc291cmNlOiAncG9zdHMnLCBwYXlsb2FkOiB7IGlkOiAxLCBkYXRhOiB7IHRpdGxlOiAnJyB9IH0gfSk7XG4gKiAgICAgcmV0dXJuIDxidXR0b24gb25jbGljaz17bXV0YXRlfT5DbGljayBtZTwvYnV0dG9uPlxuICogfTtcbiAqXG4gKiBUaGlzIHVzYWdlIGlzIGFjY2VwdGVkLCBhbmQgdGhlcmVmb3JlIHRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZSBjYWxsIHRpbWVcbiAqIHF1ZXJ5IGlzIGFuIEV2ZW50LCBhbmQgZGlzY2FyZHMgaXQgaW4gdGhhdCBjYXNlLlxuICpcbiAqIEBwYXJhbSBxdWVyeSB7TXV0YXRpb259XG4gKiBAcGFyYW0gY2FsbFRpbWVRdWVyeSB7TXV0YXRpb259XG4gKiBAcGFyYW0gb3B0aW9ucyB7T2JqZWN0fVxuICogQHBhcmFtIGNhbGxUaW1lT3B0aW9ucyB7T2JqZWN0fVxuICpcbiAqIEByZXR1cm4geyB0eXBlLCByZXNvdXJjZSwgcGF5bG9hZCwgb3B0aW9ucyB9IFRoZSBtZXJnZWQgcGFyYW1ldGVyc1xuICovXG52YXIgbWVyZ2VEZWZpbml0aW9uQW5kQ2FsbFRpbWVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHF1ZXJ5LCBjYWxsVGltZVF1ZXJ5LCBvcHRpb25zLCBjYWxsVGltZU9wdGlvbnMpIHtcbiAgICBpZiAoIXF1ZXJ5ICYmICghY2FsbFRpbWVRdWVyeSB8fCBjYWxsVGltZVF1ZXJ5IGluc3RhbmNlb2YgRXZlbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBxdWVyeSBlaXRoZXIgYXQgZGVmaW5pdGlvbiBvciBhdCBjYWxsIHRpbWUnKTtcbiAgICB9XG4gICAgaWYgKGNhbGxUaW1lUXVlcnkgaW5zdGFuY2VvZiBFdmVudClcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHF1ZXJ5LnR5cGUsXG4gICAgICAgICAgICByZXNvdXJjZTogcXVlcnkucmVzb3VyY2UsXG4gICAgICAgICAgICBwYXlsb2FkOiBxdWVyeS5wYXlsb2FkLFxuICAgICAgICAgICAgb3B0aW9uczogc2FuaXRpemVPcHRpb25zKG9wdGlvbnMpLFxuICAgICAgICB9O1xuICAgIGlmIChxdWVyeSlcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHF1ZXJ5LnR5cGUgfHwgY2FsbFRpbWVRdWVyeS50eXBlLFxuICAgICAgICAgICAgcmVzb3VyY2U6IHF1ZXJ5LnJlc291cmNlIHx8IGNhbGxUaW1lUXVlcnkucmVzb3VyY2UsXG4gICAgICAgICAgICBwYXlsb2FkOiBjYWxsVGltZVF1ZXJ5XG4gICAgICAgICAgICAgICAgPyBtZXJnZSh7fSwgcXVlcnkucGF5bG9hZCwgY2FsbFRpbWVRdWVyeS5wYXlsb2FkKVxuICAgICAgICAgICAgICAgIDogcXVlcnkucGF5bG9hZCxcbiAgICAgICAgICAgIG9wdGlvbnM6IGNhbGxUaW1lT3B0aW9uc1xuICAgICAgICAgICAgICAgID8gbWVyZ2Uoe30sIHNhbml0aXplT3B0aW9ucyhvcHRpb25zKSwgc2FuaXRpemVPcHRpb25zKGNhbGxUaW1lT3B0aW9ucykpXG4gICAgICAgICAgICAgICAgOiBzYW5pdGl6ZU9wdGlvbnMob3B0aW9ucyksXG4gICAgICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogY2FsbFRpbWVRdWVyeS50eXBlLFxuICAgICAgICByZXNvdXJjZTogY2FsbFRpbWVRdWVyeS5yZXNvdXJjZSxcbiAgICAgICAgcGF5bG9hZDogY2FsbFRpbWVRdWVyeS5wYXlsb2FkLFxuICAgICAgICBvcHRpb25zOiBzYW5pdGl6ZU9wdGlvbnMoY2FsbFRpbWVPcHRpb25zKSxcbiAgICB9O1xufTtcbnZhciBoYXNEZWNsYXJhdGl2ZVNpZGVFZmZlY3RzU3VwcG9ydCA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsVGltZU9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMgJiYgIWNhbGxUaW1lT3B0aW9ucylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChjYWxsVGltZU9wdGlvbnMgJiYgY2FsbFRpbWVPcHRpb25zLndpdGhEZWNsYXJhdGl2ZVNpZGVFZmZlY3RzU3VwcG9ydClcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgb3B0aW9ucy53aXRoRGVjbGFyYXRpdmVTaWRlRWZmZWN0c1N1cHBvcnQ7XG59O1xudmFyIHNhbml0aXplT3B0aW9ucyA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKCFhcmdzKVxuICAgICAgICByZXR1cm4geyBvblN1Y2Nlc3M6IHVuZGVmaW5lZCB9O1xuICAgIHZhciB3aXRoRGVjbGFyYXRpdmVTaWRlRWZmZWN0c1N1cHBvcnQgPSBhcmdzLndpdGhEZWNsYXJhdGl2ZVNpZGVFZmZlY3RzU3VwcG9ydCwgb3B0aW9ucyA9IF9fcmVzdChhcmdzLCBbXCJ3aXRoRGVjbGFyYXRpdmVTaWRlRWZmZWN0c1N1cHBvcnRcIl0pO1xuICAgIHJldHVybiBfX2Fzc2lnbih7IG9uU3VjY2VzczogdW5kZWZpbmVkIH0sIG9wdGlvbnMpO1xufTtcbmV4cG9ydCBkZWZhdWx0IHVzZU11dGF0aW9uO1xuIiwiaW1wb3J0IGpzb25FeHBvcnQgZnJvbSAnanNvbmV4cG9ydC9kaXN0JztcbmltcG9ydCBkb3dubG9hZENTViBmcm9tICcuL2Rvd25sb2FkQ1NWJztcbnZhciBkZWZhdWx0RXhwb3J0ZXIgPSBmdW5jdGlvbiAoZGF0YSwgXywgX18sIHJlc291cmNlKSB7XG4gICAgcmV0dXJuIGpzb25FeHBvcnQoZGF0YSwgZnVuY3Rpb24gKGVyciwgY3N2KSB7IHJldHVybiBkb3dubG9hZENTVihjc3YsIHJlc291cmNlKTsgfSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdEV4cG9ydGVyO1xuIiwiZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChjc3YsIGZpbGVuYW1lKSB7XG4gICAgdmFyIGZha2VMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGZha2VMaW5rLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmYWtlTGluayk7XG4gICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY3N2XSwgeyB0eXBlOiAndGV4dC9jc3Y7Y2hhcnNldD11dGYtOCcgfSk7XG4gICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XG4gICAgICAgIC8vIE1hbmFnZSBJRTExKyAmIEVkZ2VcbiAgICAgICAgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIGZpbGVuYW1lICsgXCIuY3N2XCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZmFrZUxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG4gICAgICAgIGZha2VMaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBmaWxlbmFtZSArIFwiLmNzdlwiKTtcbiAgICAgICAgZmFrZUxpbmsuY2xpY2soKTtcbiAgICB9XG59KTtcbiIsIi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBjYWxsaW5nIHRoZSBkYXRhUHJvdmlkZXIuZ2V0TWFueSgpIG1ldGhvZCxcbiAqIGFuZCBnZXR0aW5nIGEgUHJvbWlzZSBmb3IgdGhlIHJlY29yZHMgaW5kZXhlZCBieSBpZCBpbiByZXR1cm4uXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICBmZXRjaFJlbGF0ZWRSZWNvcmRzKGRhdGFQcm92aWRlcikocmVjb3JkcywgJ3Bvc3RfaWQnLCAncG9zdHMnKS50aGVuKHBvc3RzID0+XG4gKiAgICAgICAgIHBvc3RzLm1hcChyZWNvcmQgPT4gKHtcbiAqICAgICAgICAgICAgIC4uLnJlY29yZCxcbiAqICAgICAgICAgICAgIHBvc3RfdGl0bGU6IHBvc3RzW3JlY29yZC5wb3N0X2lkXS50aXRsZSxcbiAqICAgICAgICAgfSkpXG4gKiAgICAgKTtcbiAqL1xudmFyIGZldGNoUmVsYXRlZFJlY29yZHMgPSBmdW5jdGlvbiAoZGF0YVByb3ZpZGVyKSB7IHJldHVybiBmdW5jdGlvbiAoZGF0YSwgZmllbGQsIHJlc291cmNlKSB7XG4gICAgcmV0dXJuIGRhdGFQcm92aWRlclxuICAgICAgICAuZ2V0TWFueShyZXNvdXJjZSwgeyBpZHM6IGdldFJlbGF0ZWRJZHMoZGF0YSwgZmllbGQpIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgZGF0YSA9IF9hLmRhdGE7XG4gICAgICAgIHJldHVybiBkYXRhLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwb3N0KSB7XG4gICAgICAgICAgICBhY2NbcG9zdC5pZF0gPSBwb3N0O1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH0pO1xufTsgfTtcbi8qKlxuICogRXh0cmFjdHMsIGFnZ3JlZ2F0ZXMgYW5kIGRlZHVwbGljYXRlcyB0aGUgaWRzIG9mIHJlbGF0ZWQgcmVjb3Jkc1xuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgY29uc3QgYm9va3MgPSBbXG4gKiAgICAgICAgIHsgaWQ6IDEsIGF1dGhvcl9pZDogMTIzLCB0aXRsZTogJ1ByaWRlIGFuZCBQcmVqdWRpY2UnIH0sXG4gKiAgICAgICAgIHsgaWQ6IDIsIGF1dGhvcl9pZDogMTIzLCB0aXRsZTogJ1NlbnNlIGFuZCBTZW5zaWJpbGl0eScgfSxcbiAqICAgICAgICAgeyBpZDogMywgYXV0aG9yX2lkOiA0NTYsIHRpdGxlOiAnV2FyIGFuZCBQZWFjZScgfSxcbiAqICAgICBdO1xuICogICAgIGdldFJlbGF0ZWRJZHMoYm9va3MsICdhdXRob3JfaWQnKTsgPT4gWzEyMywgNDU2XVxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgY29uc3QgYm9va3MgPSBbXG4gKiAgICAgICAgIHsgaWQ6IDEsIHRhZ19pZHM6IFsxLCAyXSwgdGl0bGU6ICdQcmlkZSBhbmQgUHJlanVkaWNlJyB9LFxuICogICAgICAgICB7IGlkOiAyLCB0YWdfaWRzOiBbMiwgM10sIHRpdGxlOiAnU2Vuc2UgYW5kIFNlbnNpYmlsaXR5JyB9LFxuICogICAgICAgICB7IGlkOiAzLCB0YWdfaWRzOiBbNF0sIHRpdGxlOiAnV2FyIGFuZCBQZWFjZScgfSxcbiAqICAgICBdO1xuICogICAgIGdldFJlbGF0ZWRJZHMocmVjb3JkcywgJ3RhZ19pZHMnKTsgPT4gWzEsIDIsIDMsIDRdXG4gKlxuICogQHBhcmFtIHtPYmplY3RbXX0gcmVjb3JkcyBBbiBhcnJheSBvZiByZWNvcmRzXG4gKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgdGhlIGlkZW50aWZpZXIgb2YgdGhlIHJlY29yZCBmaWVsZCB0byB1c2VcbiAqL1xuZXhwb3J0IHZhciBnZXRSZWxhdGVkSWRzID0gZnVuY3Rpb24gKHJlY29yZHMsIGZpZWxkKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChyZWNvcmRzXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHJlY29yZCkgeyByZXR1cm4gcmVjb3JkW2ZpZWxkXSAhPSBudWxsOyB9KVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChyZWNvcmQpIHsgcmV0dXJuIHJlY29yZFtmaWVsZF07IH0pXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGlkcywgdmFsdWUpIHsgcmV0dXJuIGlkcy5jb25jYXQodmFsdWUpOyB9LCBbXSkpKTtcbn07XG5leHBvcnQgZGVmYXVsdCBmZXRjaFJlbGF0ZWRSZWNvcmRzO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlTWVtbywgQ2hpbGRyZW4sIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU2FmZVNldFN0YXRlIH0gZnJvbSAnLi4vdXRpbC9ob29rcyc7XG5pbXBvcnQgeyBUcmFuc2xhdGlvbkNvbnRleHQgfSBmcm9tICcuL1RyYW5zbGF0aW9uQ29udGV4dCc7XG4vKipcbiAqIENyZWF0ZXMgYSB0cmFuc2xhdGlvbiBjb250ZXh0LCBhdmFpbGFibGUgdG8gaXRzIGNoaWxkcmVuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICBjb25zdCBNeUFwcCA9ICgpID0+IChcbiAqICAgICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XG4gKiAgICAgICAgICAgICA8VHJhbnNsYXRpb25Qcm92aWRlciBpMThuUHJvdmlkZXI9e2kxOG5Qcm92aWRlcn0+XG4gKiAgICAgICAgICAgICAgICAgPCEtLSBDaGlsZCBjb21wb25lbnRzIGdvIGhlcmUgLS0+XG4gKiAgICAgICAgICAgICA8L1RyYW5zbGF0aW9uUHJvdmlkZXI+XG4gKiAgICAgICAgIDwvUHJvdmlkZXI+XG4gKiAgICAgKTtcbiAqL1xudmFyIFRyYW5zbGF0aW9uUHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgaTE4blByb3ZpZGVyID0gcHJvcHMuaTE4blByb3ZpZGVyLCBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgIHZhciBfYSA9IHVzZVNhZmVTZXRTdGF0ZSh7XG4gICAgICAgIGxvY2FsZTogaTE4blByb3ZpZGVyID8gaTE4blByb3ZpZGVyLmdldExvY2FsZSgpIDogJ2VuJyxcbiAgICAgICAgaTE4blByb3ZpZGVyOiBpMThuUHJvdmlkZXIsXG4gICAgfSksIHN0YXRlID0gX2FbMF0sIHNldFN0YXRlID0gX2FbMV07XG4gICAgdmFyIHNldExvY2FsZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChuZXdMb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIHNldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzdGF0ZSksIHsgbG9jYWxlOiBuZXdMb2NhbGUgfSkpOyB9KTtcbiAgICB9LCBbc2V0U3RhdGVdKTtcbiAgICAvLyBBbGxvdyBsb2NhbGUgbW9kaWZpY2F0aW9uIGJ5IGluY2x1ZGluZyBzZXRMb2NhbGUgaW4gdGhlIGNvbnRleHRcbiAgICAvLyBUaGlzIGNhbid0IGJlIGRvbmUgaW4gdGhlIGluaXRpYWwgc3RhdGUgYmVjYXVzZSBzZXRTdGF0ZSBkb2Vzbid0IGV4aXN0IHlldFxuICAgIHZhciB2YWx1ZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzdGF0ZSksIHsgc2V0TG9jYWxlOiBzZXRMb2NhbGUgfSkpOyB9LCBbc2V0TG9jYWxlLCBzdGF0ZV0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2xhdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHZhbHVlIH0sIENoaWxkcmVuLm9ubHkoY2hpbGRyZW4pKSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgVHJhbnNsYXRpb25Qcm92aWRlcjtcbiIsInZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IHsgY2FuY2VsLCBkZWxheSwgZm9yaywgcHV0LCB0YWtlRXZlcnkgfSBmcm9tICdyZWR1eC1zYWdhL2VmZmVjdHMnO1xuLyoqXG4gKiBEaXN0aW5jdCByZWR1Y2VyIG9uIGlkc1xuICpcbiAqIEBleGFtcGxlXG4gKiBhZGRJZHMoWzEsIDIsIDNdLCB7IHBheWxvYWQ6IHsgaWRzOiBbMywgNF0gfSB9KVxuICogICA9PiBbMSwgMiwgMywgNF1cbiAqL1xudmFyIGFkZElkcyA9IGZ1bmN0aW9uIChvbGRJZHMsIF9hKSB7XG4gICAgdmFyIGlkcyA9IF9hLnBheWxvYWQuaWRzO1xuICAgIC8vIFVzaW5nIGEgU2V0IGVuc3VyZSB3ZSBvbmx5IGtlZXAgZGlzdGluY3QgdmFsdWVzXG4gICAgdmFyIG9sZElkc1NldCA9IG5ldyBTZXQob2xkSWRzKTtcbiAgICBpZHMuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIG9sZElkc1NldC5hZGQoaWQpOyB9KTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShvbGRJZHNTZXQpO1xufTtcbi8vIFdlIG5lZWQgYSBmYWN0b3J5IGZvciB0aGlzIHNhZ2EgaW4gb3JkZXIgdG8gdW5pdCB0ZXN0IGl0IGJ5IHByb3ZpZGluZyBpdHMgY29udGV4dCAoY3VycmVudCB0YXNrcyBhbmQgYWNjdW11bGF0aW9ucylcbmV4cG9ydCB2YXIgZmluYWxpemVGYWN0b3J5ID0gZnVuY3Rpb24gKHRhc2tzLCBhY2N1bXVsYXRpb25zKSB7XG4gICAgLyoqXG4gICAgICogRmV0Y2ggdGhlIGFjY3VtdWxhdGVkIHZhbHVlIGFmdGVyIGEgZGVsYXlcbiAgICAgKlxuICAgICAqIEFzIHRoaXMgZ2V0cyBjYW5jZWxlZCBieSBzdWJzZXF1ZW50IGNhbGxzIHRvIGFjY3VtdWxhdGUoKSwgb25seSB0aGUgbGFzdFxuICAgICAqIGNhbGwgdG8gZmluYWxpemUoKSB3aWxsIG5vdCBiZSBjYW5jZWxlZC4gVGhlIGRlbGF5IGFjdHMgYXMgYVxuICAgICAqIGRlYm91bmNlLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL3JlZHV4LXNhZ2EuanMub3JnL2RvY3MvcmVjaXBlcy8jZGVib3VuY2luZ1xuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBmaW5hbGl6ZShrZXksIGFjdGlvbkNyZWF0b3IpIHtcbiAgICAgICAgdmFyIGFjY3VtdWxhdGVkVmFsdWUsIGFjdGlvbjtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogXG4gICAgICAgICAgICAgICAgLy8gY29tYmluZWQgd2l0aCBjYW5jZWwoKSwgdGhpcyBkZWJvdW5jZXMgdGhlIGNhbGxzXG4gICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZGVsYXkoNTApXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbWJpbmVkIHdpdGggY2FuY2VsKCksIHRoaXMgZGVib3VuY2VzIHRoZSBjYWxsc1xuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVkVmFsdWUgPSBhY2N1bXVsYXRpb25zW2tleV07XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgbGF0ZXN0IGFjY3VtdWxhdGVkIHZhbHVlIHNvIHRoYXQgdGhleSBkbyBub3QgaW50ZXJmZXJlIHdpdGggbGF0ZXIgY2FsbHNcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFjY3VtdWxhdGlvbnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gYWN0aW9uQ3JlYXRvcihrZXksIGFjY3VtdWxhdGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQoYWN0aW9uKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXNrc1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuLy8gV2UgbmVlZCBhIGZhY3RvcnkgZm9yIHRoaXMgc2FnYSBpbiBvcmRlciB0byB1bml0IHRlc3QgaXQgYnkgcHJvdmlkaW5nIGl0cyBjb250ZXh0IChjdXJyZW50IHRhc2tzIGFuZCBhY2N1bXVsYXRpb25zKVxuZXhwb3J0IHZhciBhY2N1bXVsYXRlRmFjdG9yeSA9IGZ1bmN0aW9uICh0YXNrcywgYWNjdW11bGF0aW9ucywgZmluYWxpemUpIHtcbiAgICAvKipcbiAgICAgKiBBY2N1bXVsYXRlIGFjdGlvbnMgYW5kIGV2ZW50dWFsbHkgcmVkaXNwYXRjaCBhbiBhY3Rpb24gd2l0aCB0aGUgYWNjdW11bGF0ZWQgcGF5bG9hZFxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBhY2N1bXVsYXRlKHtcbiAgICAgKiAgICB0eXBlOiBDUlVEX0dFVF9NQU5ZX0FDQ1VNVUxBVEUsXG4gICAgICogICAgcGF5bG9hZDogeyBpZHM6IFsxLCAyLCAzXSwgcmVzb3VyY2U6ICdwb3N0cycgfSxcbiAgICAgKiAgICBtZXRhOiB7IGFjY3VtdWxhdGU6IGNydWRHZXRNYW55IH1cbiAgICAgKiB9KTtcbiAgICAgKiBhY2N1bXVsYXRlKHtcbiAgICAgKiAgICB0eXBlOiBDUlVEX0dFVF9NQU5ZX0FDQ1VNVUxBVEUsXG4gICAgICogICAgcGF5bG9hZDogeyBpZHM6IFs0LCA1XSwgcmVzb3VyY2U6ICdwb3N0cycgfSxcbiAgICAgKiAgICBtZXRhOiB7IGFjY3VtdWxhdGU6IGNydWRHZXRNYW55IH1cbiAgICAgKiB9KTtcbiAgICAgKiAgID0+IGNydWRHZXRNYW55KHsgaWRzOiBbMSwgMiwgMywgNCwgNV0sIHJlc291cmNlOiAncG9zdHMnIH0pXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGFjY3VtdWxhdGUoe1xuICAgICAqICAgIHR5cGU6IENSVURfR0VUX01BVENISU5HX0FDQ1VNVUxBVEUsXG4gICAgICogICAgbWV0YToge1xuICAgICAqICAgICAgYWNjdW11bGF0ZTogY3J1ZEdldE1hdGNoaW5nKCdwb3N0cycsICdwb3N0c0Bjb21tZW50c1sxXS5hdXRob3JJZCcsIHsgcGFnZToxLCBwZXJQYWdlOiAxMCB9LCB7ZmllbGQ6ICdpZCcsIG9yZGVyOiAnREVTQycgfSwge30pLFxuICAgICAqICAgICAgYWNjdW11bGF0ZVZhbHVlczogKCkgPT4gdHJ1ZSxcbiAgICAgKiAgICAgIGFjY3VtdWxhdGVLZXk6ICd7XCJyZXNvdXJjZVwiOlwiYXV0aG9yc1wiLCBcInBhZ2luYXRpb25cIjp7XCJwYWdlXCI6MSxcInBlclBhZ2VcIjoxMH0sXCJzb3J0XCI6e1wiZmllbGRcIjpcImlkXCIsXCJvcmRlclwiOlwiREVTQ1wifSxcImZpbHRlclwiOnt9fSdcbiAgICAgKiAgICB9XG4gICAgICogfSk7XG4gICAgICogYWNjdW11bGF0ZSh7XG4gICAgICogICAgdHlwZTogQ1JVRF9HRVRfTUFUQ0hJTkdfQUNDVU1VTEFURSxcbiAgICAgKiAgICBtZXRhOiB7XG4gICAgICogICAgICBhY2N1bXVsYXRlOiBjcnVkR2V0TWF0Y2hpbmcoJ3Bvc3RzJywgJ3Bvc3RzQGNvbW1lbnRzWzFdLmF1dGhvcklkJywgeyBwYWdlOjEsIHBlclBhZ2U6IDEwIH0sIHtmaWVsZDogJ2lkJywgb3JkZXI6ICdERVNDJyB9LCB7fSksXG4gICAgICogICAgICBhY2N1bXVsYXRlVmFsdWVzOiAoKSA9PiB0cnVlLFxuICAgICAqICAgICAgYWNjdW11bGF0ZUtleTogJ3tcInJlc291cmNlXCI6XCJhdXRob3JzXCIsIFwicGFnaW5hdGlvblwiOntcInBhZ2VcIjoxLFwicGVyUGFnZVwiOjEwfSxcInNvcnRcIjp7XCJmaWVsZFwiOlwiaWRcIixcIm9yZGVyXCI6XCJERVNDXCJ9LFwiZmlsdGVyXCI6e319J1xuICAgICAqICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiAgID0+IGNydWRHZXRNYXRjaGluZygncG9zdHMnLCAncG9zdHNAY29tbWVudHNbMV0uYXV0aG9ySWQnLCB7IHBhZ2U6MSwgcGVyUGFnZTogMTAgfSwge2ZpZWxkOiAnaWQnLCBvcmRlcjogJ0RFU0MnIH0sIHt9KVxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBhY2N1bXVsYXRlKGFjdGlvbikge1xuICAgICAgICB2YXIga2V5LCBhY2N1bXVsYXRlVmFsdWVzLCBfYSwgX2I7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGFjdGlvbi5tZXRhLmFjY3VtdWxhdGVLZXkgfHwgYWN0aW9uLnBheWxvYWQucmVzb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFza3Nba2V5XSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNhbmNlbCh0YXNrc1trZXldKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVWYWx1ZXMgPSBhY3Rpb24ubWV0YS5hY2N1bXVsYXRlVmFsdWVzIHx8IGFkZElkcztcbiAgICAgICAgICAgICAgICAgICAgLy8gYWNjdW11bGF0ZVZhbHVlcyBpcyBhIHJlZHVjZXIgZnVuY3Rpb24sIGl0IHJlY2VpdmVzIHRoZSBwcmV2aW91cyBhY2N1bXVsYXRlZFZhbHVlcyBmb3JcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByb3ZpZGVkIGtleSwgYW5kIG11c3QgcmV0dXJuIHRoZSB1cGRhdGVkIGFjY3VtdWxhdGVkVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGlvbnNba2V5XSA9IGFjY3VtdWxhdGVWYWx1ZXMoYWNjdW11bGF0aW9uc1trZXldLCBhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICBfYSA9IHRhc2tzO1xuICAgICAgICAgICAgICAgICAgICBfYiA9IGtleTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZm9yayhmaW5hbGl6ZSwga2V5LCBhY3Rpb24ubWV0YS5hY2N1bXVsYXRlKV07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBfYVtfYl0gPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFjY3VtdWxhdGlvbnMsIHRhc2tzO1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICB0YXNrcyA9IHt9O1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRha2VFdmVyeShmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24ubWV0YSAmJiBhY3Rpb24ubWV0YS5hY2N1bXVsYXRlOyB9LCBhY2N1bXVsYXRlRmFjdG9yeSh0YXNrcywgYWNjdW11bGF0aW9ucywgZmluYWxpemVGYWN0b3J5KHRhc2tzLCBhY2N1bXVsYXRpb25zKSkpXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4iLCJ2YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IGFsbCB9IGZyb20gJ3JlZHV4LXNhZ2EvZWZmZWN0cyc7XG5pbXBvcnQgYXV0aCBmcm9tICcuL2F1dGgnO1xuaW1wb3J0IGNhbGxiYWNrIGZyb20gJy4vY2FsbGJhY2snO1xuaW1wb3J0IGZldGNoIGZyb20gJy4vZmV0Y2gnO1xuaW1wb3J0IG5vdGlmaWNhdGlvbiBmcm9tICcuL25vdGlmaWNhdGlvbic7XG5pbXBvcnQgcmVkaXJlY3Rpb24gZnJvbSAnLi9yZWRpcmVjdGlvbic7XG5pbXBvcnQgYWNjdW11bGF0ZSBmcm9tICcuL2FjY3VtdWxhdGUnO1xuaW1wb3J0IHJlZnJlc2ggZnJvbSAnLi9yZWZyZXNoJztcbmltcG9ydCB1bmRvIGZyb20gJy4vdW5kbyc7XG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhUHJvdmlkZXIgQSBEYXRhIFByb3ZpZGVyIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhdXRoUHJvdmlkZXIgQW4gQXV0aGVudGljYXRpb24gUHJvdmlkZXIgb2JqZWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoZGF0YVByb3ZpZGVyLCBhdXRoUHJvdmlkZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYWRtaW4oKSB7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoKGF1dGhQcm92aWRlcikoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZG8oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKGRhdGFQcm92aWRlcikoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCksXG4gICAgICAgICAgICAgICAgICAgIF0pXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG4iLCJ2YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IGFsbCwgcHV0LCBjYWxsLCBzZWxlY3QsIHRha2VMYXRlc3QsIHRha2VFdmVyeSwgfSBmcm9tICdyZWR1eC1zYWdhL2VmZmVjdHMnO1xuaW1wb3J0IHsgcHVzaCwgcmVwbGFjZSB9IGZyb20gJ2Nvbm5lY3RlZC1yZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHsgc2hvd05vdGlmaWNhdGlvbiwgaGlkZU5vdGlmaWNhdGlvbiwgfSBmcm9tICcuLi9hY3Rpb25zL25vdGlmaWNhdGlvbkFjdGlvbnMnO1xuaW1wb3J0IHsgVVNFUl9MT0dJTiwgVVNFUl9MT0dJTl9MT0FESU5HLCBVU0VSX0xPR0lOX1NVQ0NFU1MsIFVTRVJfTE9HSU5fRkFJTFVSRSwgVVNFUl9DSEVDSywgVVNFUl9MT0dPVVQsIH0gZnJvbSAnLi4vYWN0aW9ucy9hdXRoQWN0aW9ucyc7XG5pbXBvcnQgeyBGRVRDSF9FUlJPUiB9IGZyb20gJy4uL2FjdGlvbnMvZmV0Y2hBY3Rpb25zJztcbmltcG9ydCB7IGNsZWFyU3RhdGUgfSBmcm9tICcuLi9hY3Rpb25zL2NsZWFyQWN0aW9ucyc7XG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKGF1dGhQcm92aWRlcikge1xuICAgIGlmICghYXV0aFByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gd2F0Y2hBdXRoQWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VFdmVyeShVU0VSX0xPR0lOLCBoYW5kbGVMb2dpbihhdXRoUHJvdmlkZXIpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VFdmVyeShVU0VSX0NIRUNLLCBoYW5kbGVDaGVjayhhdXRoUHJvdmlkZXIpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2VFdmVyeShVU0VSX0xPR09VVCwgaGFuZGxlTG9nb3V0KGF1dGhQcm92aWRlcikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZUxhdGVzdChGRVRDSF9FUlJPUiwgaGFuZGxlRmV0Y2hFcnJvcihhdXRoUHJvdmlkZXIpKSxcbiAgICAgICAgICAgICAgICAgICAgXSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbnZhciBuZXh0UGF0aG5hbWVTZWxlY3RvciA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBsb2NhdGlvblN0YXRlID0gc3RhdGUucm91dGVyLmxvY2F0aW9uLnN0YXRlO1xuICAgIHJldHVybiBsb2NhdGlvblN0YXRlICYmIGxvY2F0aW9uU3RhdGUubmV4dFBhdGhuYW1lO1xufTtcbnZhciBjdXJyZW50UGF0aG5hbWVTZWxlY3RvciA9IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gc3RhdGUucm91dGVyLmxvY2F0aW9uOyB9O1xudmFyIGdldEVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uIChlcnJvciwgZGVmYXVsdE1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGVycm9yXG4gICAgICAgIDogdHlwZW9mIGVycm9yID09PSAndW5kZWZpbmVkJyB8fCAhZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgPyBkZWZhdWx0TWVzc2FnZVxuICAgICAgICAgICAgOiBlcnJvci5tZXNzYWdlO1xufTtcbmV4cG9ydCB2YXIgaGFuZGxlTG9naW4gPSBmdW5jdGlvbiAoYXV0aFByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIHBheWxvYWQsIG1ldGEsIGF1dGhQYXlsb2FkLCByZWRpcmVjdFRvLCBlXzEsIGVycm9yTWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkLCBtZXRhID0gYWN0aW9uLm1ldGE7XG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgNywgLCAxMF0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQoeyB0eXBlOiBVU0VSX0xPR0lOX0xPQURJTkcgfSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjYWxsKFthdXRoUHJvdmlkZXIsICdsb2dpbiddLCBwYXlsb2FkKV07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBhdXRoUGF5bG9hZCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcHV0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBVU0VSX0xPR0lOX1NVQ0NFU1MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogYXV0aFBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG1ldGEucGF0aE5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3QobmV4dFBhdGhuYW1lU2VsZWN0b3IpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VG8gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dChwdXNoKHJlZGlyZWN0VG8gfHwgJy8nKSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVVNFUl9MT0dJTl9GQUlMVVJFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlXzEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YTogeyBhdXRoOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGdldEVycm9yTWVzc2FnZShlXzEsICdyYS5hdXRoLnNpZ25faW5fZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcHV0KHNob3dOb3RpZmljYXRpb24oZXJyb3JNZXNzYWdlLCAnd2FybmluZycpKV07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDEwXTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuZXhwb3J0IHZhciBoYW5kbGVDaGVjayA9IGZ1bmN0aW9uIChhdXRoUHJvdmlkZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgcGF5bG9hZCwgbWV0YSwgZXJyb3JfMSwgcmVkaXJlY3RUbywgZXJyb3JNZXNzYWdlO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQsIG1ldGEgPSBhY3Rpb24ubWV0YTtcbiAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAzLCAsIDhdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY2FsbChbYXV0aFByb3ZpZGVyLCAnY2hlY2tBdXRoJ10sIHBheWxvYWQpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBlcnJvcl8xID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjYWxsKFthdXRoUHJvdmlkZXIsICdsb2dvdXQnXSwgdW5kZWZpbmVkKV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQocmVwbGFjZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IChlcnJvcl8xICYmIGVycm9yXzEucmVkaXJlY3RUbykgfHwgcmVkaXJlY3RUbyB8fCAnL2xvZ2luJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogeyBuZXh0UGF0aG5hbWU6IG1ldGEucGF0aE5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBzdGF0ZSBiZWZvcmUgc2hvd2luZyBhIG5vdGlmaWNhdGlvbiBhcyBpdCB3b3VsZCBiZSBkaXNtaXNzZWQgaW1tZWRpYXRlbHkgb3RoZXJ3aXNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dChjbGVhclN0YXRlKCkpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBzdGF0ZSBiZWZvcmUgc2hvd2luZyBhIG5vdGlmaWNhdGlvbiBhcyBpdCB3b3VsZCBiZSBkaXNtaXNzZWQgaW1tZWRpYXRlbHkgb3RoZXJ3aXNlXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZ2V0RXJyb3JNZXNzYWdlKGVycm9yXzEsICdyYS5hdXRoLmF1dGhfY2hlY2tfZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcHV0KHNob3dOb3RpZmljYXRpb24oZXJyb3JNZXNzYWdlLCAnd2FybmluZycpKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufTtcbmV4cG9ydCB2YXIgaGFuZGxlTG9nb3V0ID0gZnVuY3Rpb24gKGF1dGhQcm92aWRlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBwYXlsb2FkLCByZWRpcmVjdFRvO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNhbGwoW2F1dGhQcm92aWRlciwgJ2xvZ291dCddLCB1bmRlZmluZWQpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VG8gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dChwdXNoKChwYXlsb2FkICYmIHBheWxvYWQucmVkaXJlY3RUbykgfHwgcmVkaXJlY3RUbyB8fCAnL2xvZ2luJykpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcHV0KGNsZWFyU3RhdGUoKSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuZXhwb3J0IHZhciBoYW5kbGVGZXRjaEVycm9yID0gZnVuY3Rpb24gKGF1dGhQcm92aWRlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBlcnJvciwgZV8yLCBuZXh0UGF0aG5hbWUsIHJlZGlyZWN0VG87XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0gYWN0aW9uLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY2FsbChbYXV0aFByb3ZpZGVyLCAnY2hlY2tFcnJvciddLCBlcnJvcildO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNlbGVjdChjdXJyZW50UGF0aG5hbWVTZWxlY3RvcildO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbmV4dFBhdGhuYW1lID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjYWxsKFthdXRoUHJvdmlkZXIsICdsb2dvdXQnXSwgdW5kZWZpbmVkKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQocHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IHJlZGlyZWN0VG8gfHwgJy9sb2dpbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHsgbmV4dFBhdGhuYW1lOiBuZXh0UGF0aG5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBzdGF0ZSBiZWZvcmUgc2hvd2luZyBhIG5vdGlmaWNhdGlvbiBhcyBpdCB3b3VsZCBiZSBkaXNtaXNzZWQgaW1tZWRpYXRlbHkgb3RoZXJ3aXNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dChjbGVhclN0YXRlKCkpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBzdGF0ZSBiZWZvcmUgc2hvd2luZyBhIG5vdGlmaWNhdGlvbiBhcyBpdCB3b3VsZCBiZSBkaXNtaXNzZWQgaW1tZWRpYXRlbHkgb3RoZXJ3aXNlXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcHV0KGhpZGVOb3RpZmljYXRpb24oKSldO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQoc2hvd05vdGlmaWNhdGlvbigncmEubm90aWZpY2F0aW9uLmxvZ2dlZF9vdXQnLCAnd2FybmluZycpKV07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDEwXTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuIiwidmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5pbXBvcnQgeyBjYWxsLCB0YWtlRXZlcnkgfSBmcm9tICdyZWR1eC1zYWdhL2VmZmVjdHMnO1xuLyoqXG4gKiBDYWxsYmFjayBTaWRlIEVmZmVjdHNcbiAqL1xuZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2soX2EpIHtcbiAgICB2YXIgcGF5bG9hZCA9IF9hLnBheWxvYWQsIHJlcXVlc3RQYXlsb2FkID0gX2EucmVxdWVzdFBheWxvYWQsIGVycm9yID0gX2EuZXJyb3IsIGNhbGxiYWNrID0gX2EubWV0YS5jYWxsYmFjaztcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgY2FsbChjYWxsYmFjaywgeyBwYXlsb2FkOiBwYXlsb2FkLCByZXF1ZXN0UGF5bG9hZDogcmVxdWVzdFBheWxvYWQsIGVycm9yOiBlcnJvciB9KV07XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0YWtlRXZlcnkoZnVuY3Rpb24gKGFjdGlvbikgeyByZXR1cm4gYWN0aW9uLm1ldGEgJiYgYWN0aW9uLm1ldGEuY2FsbGJhY2s7IH0sIGhhbmRsZUNhbGxiYWNrKV07XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IHsgYWxsLCBjYWxsLCBjYW5jZWxsZWQsIHB1dCwgc2VsZWN0LCB0YWtlRXZlcnksIH0gZnJvbSAncmVkdXgtc2FnYS9lZmZlY3RzJztcbmltcG9ydCB7IEZFVENIX0NBTkNFTCwgRkVUQ0hfRU5ELCBGRVRDSF9FUlJPUiwgRkVUQ0hfU1RBUlQgfSBmcm9tICcuLi9hY3Rpb25zJztcbmltcG9ydCB7IGZldGNoQWN0aW9uc1dpdGhSZWNvcmRSZXNwb25zZSwgZmV0Y2hBY3Rpb25zV2l0aEFycmF5T2ZJZGVudGlmaWVkUmVjb3Jkc1Jlc3BvbnNlLCBmZXRjaEFjdGlvbnNXaXRoQXJyYXlPZlJlY29yZHNSZXNwb25zZSwgZmV0Y2hBY3Rpb25zV2l0aFRvdGFsUmVzcG9uc2UsIHNhbml0aXplRmV0Y2hUeXBlLCB9IGZyb20gJy4uL2NvcmUnO1xuZnVuY3Rpb24gdmFsaWRhdGVSZXNwb25zZUZvcm1hdChyZXNwb25zZSwgdHlwZSwgbG9nZ2VyIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuKSB7XG4gICAgaWYgKGxvZ2dlciA9PT0gdm9pZCAwKSB7IGxvZ2dlciA9IGNvbnNvbGUuZXJyb3I7IH1cbiAgICBpZiAoIXJlc3BvbnNlLmhhc093blByb3BlcnR5KCdkYXRhJykpIHtcbiAgICAgICAgbG9nZ2VyKFwiVGhlIHJlc3BvbnNlIHRvICdcIiArIHR5cGUgKyBcIicgbXVzdCBiZSBsaWtlIHsgZGF0YTogLi4uIH0sIGJ1dCB0aGUgcmVjZWl2ZWQgcmVzcG9uc2UgZG9lcyBub3QgaGF2ZSBhICdkYXRhJyBrZXkuIFRoZSBkYXRhUHJvdmlkZXIgaXMgcHJvYmFibHkgd3JvbmcgZm9yICdcIiArIHR5cGUgKyBcIicuXCIpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JhLm5vdGlmaWNhdGlvbi5kYXRhX3Byb3ZpZGVyX2Vycm9yJyk7XG4gICAgfVxuICAgIGlmIChmZXRjaEFjdGlvbnNXaXRoQXJyYXlPZlJlY29yZHNSZXNwb25zZS5pbmNsdWRlcyh0eXBlKSAmJlxuICAgICAgICAhQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhKSkge1xuICAgICAgICBsb2dnZXIoXCJUaGUgcmVzcG9uc2UgdG8gJ1wiICsgdHlwZSArIFwiJyBtdXN0IGJlIGxpa2UgeyBkYXRhIDogWy4uLl0gfSwgYnV0IHRoZSByZWNlaXZlZCBkYXRhIGlzIG5vdCBhbiBhcnJheS4gVGhlIGRhdGFQcm92aWRlciBpcyBwcm9iYWJseSB3cm9uZyBmb3IgJ1wiICsgdHlwZSArIFwiJ1wiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdyYS5ub3RpZmljYXRpb24uZGF0YV9wcm92aWRlcl9lcnJvcicpO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hBY3Rpb25zV2l0aEFycmF5T2ZJZGVudGlmaWVkUmVjb3Jkc1Jlc3BvbnNlLmluY2x1ZGVzKHR5cGUpICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZGF0YSkgJiZcbiAgICAgICAgcmVzcG9uc2UuZGF0YS5sZW5ndGggPiAwICYmXG4gICAgICAgIHJlc3BvbnNlLmRhdGEuc29tZShmdW5jdGlvbiAoZCkgeyByZXR1cm4gIWQuaGFzT3duUHJvcGVydHkoJ2lkJyk7IH0pKSB7XG4gICAgICAgIGxvZ2dlcihcIlRoZSByZXNwb25zZSB0byAnXCIgKyB0eXBlICsgXCInIG11c3QgYmUgbGlrZSB7IGRhdGEgOiBbeyBpZDogMTIzLCAuLi59LCAuLi5dIH0sIGJ1dCBhdCBsZWFzdCBvbmUgcmVjZWl2ZWQgZGF0YSBpdGVtIGRvIG5vdCBoYXZlIGFuICdpZCcga2V5LiBUaGUgZGF0YVByb3ZpZGVyIGlzIHByb2JhYmx5IHdyb25nIGZvciAnXCIgKyB0eXBlICsgXCInXCIpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JhLm5vdGlmaWNhdGlvbi5kYXRhX3Byb3ZpZGVyX2Vycm9yJyk7XG4gICAgfVxuICAgIGlmIChmZXRjaEFjdGlvbnNXaXRoUmVjb3JkUmVzcG9uc2UuaW5jbHVkZXModHlwZSkgJiZcbiAgICAgICAgIXJlc3BvbnNlLmRhdGEuaGFzT3duUHJvcGVydHkoJ2lkJykpIHtcbiAgICAgICAgbG9nZ2VyKFwiVGhlIHJlc3BvbnNlIHRvICdcIiArIHR5cGUgKyBcIicgbXVzdCBiZSBsaWtlIHsgZGF0YTogeyBpZDogMTIzLCAuLi4gfSB9LCBidXQgdGhlIHJlY2VpdmVkIGRhdGEgZG9lcyBub3QgaGF2ZSBhbiAnaWQnIGtleS4gVGhlIGRhdGFQcm92aWRlciBpcyBwcm9iYWJseSB3cm9uZyBmb3IgJ1wiICsgdHlwZSArIFwiJ1wiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdyYS5ub3RpZmljYXRpb24uZGF0YV9wcm92aWRlcl9lcnJvcicpO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hBY3Rpb25zV2l0aFRvdGFsUmVzcG9uc2UuaW5jbHVkZXModHlwZSkgJiZcbiAgICAgICAgIXJlc3BvbnNlLmhhc093blByb3BlcnR5KCd0b3RhbCcpKSB7XG4gICAgICAgIGxvZ2dlcihcIlRoZSByZXNwb25zZSB0byAnXCIgKyB0eXBlICsgXCInIG11c3QgYmUgbGlrZSAgeyBkYXRhOiBbLi4uXSwgdG90YWw6IDEyMyB9LCBidXQgdGhlIHJlY2VpdmVkIHJlc3BvbnNlIGRvZXMgbm90IGhhdmUgYSAndG90YWwnIGtleS4gVGhlIGRhdGFQcm92aWRlciBpcyBwcm9iYWJseSB3cm9uZyBmb3IgJ1wiICsgdHlwZSArIFwiJ1wiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdyYS5ub3RpZmljYXRpb24uZGF0YV9wcm92aWRlcl9lcnJvcicpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVGZXRjaChkYXRhUHJvdmlkZXIsIGFjdGlvbikge1xuICAgIHZhciB0eXBlLCBwYXlsb2FkLCBfYSwgZmV0Y2hNZXRhLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgbWV0YSwgcmVzdFR5cGUsIHN1Y2Nlc3NTaWRlRWZmZWN0cywgZmFpbHVyZVNpZGVFZmZlY3RzLCBpc09wdGltaXN0aWMsIHJlc3BvbnNlLCBlcnJvcl8xO1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHR5cGUgPSBhY3Rpb24udHlwZSwgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkLCBfYSA9IGFjdGlvbi5tZXRhLCBmZXRjaE1ldGEgPSBfYS5mZXRjaCwgb25TdWNjZXNzID0gX2Eub25TdWNjZXNzLCBvbkZhaWx1cmUgPSBfYS5vbkZhaWx1cmUsIG1ldGEgPSBfX3Jlc3QoX2EsIFtcImZldGNoXCIsIFwib25TdWNjZXNzXCIsIFwib25GYWlsdXJlXCJdKTtcbiAgICAgICAgICAgICAgICByZXN0VHlwZSA9IGZldGNoTWV0YTtcbiAgICAgICAgICAgICAgICBzdWNjZXNzU2lkZUVmZmVjdHMgPSBvblN1Y2Nlc3MgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IHt9IDogb25TdWNjZXNzO1xuICAgICAgICAgICAgICAgIGZhaWx1cmVTaWRlRWZmZWN0cyA9IG9uRmFpbHVyZSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8ge30gOiBvbkZhaWx1cmU7XG4gICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgNywgMTAsIDE0XSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2VsZWN0KGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gc3RhdGUuYWRtaW4udWkub3B0aW1pc3RpYzsgfSldO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlzT3B0aW1pc3RpYyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPcHRpbWlzdGljKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluIG9wdGltaXN0aWMgbW9kZSwgYWxsIGZldGNoIGFjdGlvbnMgYXJlIGNhbmNlbGVkLFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB0aGUgYWRtaW4gdXNlcyB0aGUgc3RvcmUgd2l0aG91dCBzeW5jaHJvbml6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBhbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgcHV0KHsgdHlwZTogdHlwZSArIFwiX0xPQURJTkdcIiwgcGF5bG9hZDogcGF5bG9hZCwgbWV0YTogbWV0YSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1dCh7IHR5cGU6IEZFVENIX1NUQVJUIH0pLFxuICAgICAgICAgICAgICAgICAgICBdKV07XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNhbGwoZGF0YVByb3ZpZGVyW3Nhbml0aXplRmV0Y2hUeXBlKHJlc3RUeXBlKV0sIG1ldGEucmVzb3VyY2UsIHBheWxvYWQpXTtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZVJlc3BvbnNlRm9ybWF0KHJlc3BvbnNlLCByZXN0VHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlICsgXCJfU1VDQ0VTU1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UGF5bG9hZDogcGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGE6IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCBtZXRhKSwgc3VjY2Vzc1NpZGVFZmZlY3RzKSwgeyBmZXRjaFJlc3BvbnNlOiByZXN0VHlwZSwgZmV0Y2hTdGF0dXM6IEZFVENIX0VORCB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSldO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQoeyB0eXBlOiBGRVRDSF9FTkQgfSldO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxNF07XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgZXJyb3JfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSArIFwiX0ZBSUxVUkVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAoZXJyb3JfMSAmJiAoZXJyb3JfMS5tZXNzYWdlID8gZXJyb3JfMS5tZXNzYWdlIDogZXJyb3JfMSkpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiAoZXJyb3JfMSAmJiBlcnJvcl8xLmJvZHkpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UGF5bG9hZDogcGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGE6IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCBtZXRhKSwgZmFpbHVyZVNpZGVFZmZlY3RzKSwgeyBmZXRjaFJlc3BvbnNlOiByZXN0VHlwZSwgZmV0Y2hTdGF0dXM6IEZFVENIX0VSUk9SIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dCh7IHR5cGU6IEZFVENIX0VSUk9SLCBlcnJvcjogZXJyb3JfMSB9KV07XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDE0XTtcbiAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGNhbmNlbGxlZCgpXTtcbiAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgaWYgKCFfYi5zZW50KCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDEzXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQoeyB0eXBlOiBGRVRDSF9DQU5DRUwgfSldO1xuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgY2FzZSAxMzogcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgIGNhc2UgMTQ6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IHZhciB0YWtlRmV0Y2hBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24ubWV0YSAmJiBhY3Rpb24ubWV0YS5mZXRjaDsgfTtcbnZhciBmZXRjaCA9IGZ1bmN0aW9uIChkYXRhUHJvdmlkZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gd2F0Y2hGZXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGFrZUV2ZXJ5KHRha2VGZXRjaEFjdGlvbiwgaGFuZGxlRmV0Y2gsIGRhdGFQcm92aWRlcildO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZmV0Y2g7XG4iLCJ2YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IHB1dCwgdGFrZUV2ZXJ5IH0gZnJvbSAncmVkdXgtc2FnYS9lZmZlY3RzJztcbmltcG9ydCB7IHNob3dOb3RpZmljYXRpb24sIH0gZnJvbSAnLi4vYWN0aW9ucy9ub3RpZmljYXRpb25BY3Rpb25zJztcbi8qKlxuICogTm90aWZpY2F0aW9uIFNpZGUgRWZmZWN0c1xuICovXG5mdW5jdGlvbiBoYW5kbGVOb3RpZmljYXRpb24oX2EpIHtcbiAgICB2YXIgYm9keSwgbGV2ZWwsIF9iLCBtZXNzYWdlQXJncztcbiAgICB2YXIgZXJyb3IgPSBfYS5lcnJvciwgX2MgPSBfYS5tZXRhLCBub3RpZmljYXRpb24gPSBfYy5ub3RpZmljYXRpb24sIG9wdGltaXN0aWMgPSBfYy5vcHRpbWlzdGljO1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2QpIHtcbiAgICAgICAgc3dpdGNoIChfZC5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGJvZHkgPSBub3RpZmljYXRpb24uYm9keSwgbGV2ZWwgPSBub3RpZmljYXRpb24ubGV2ZWwsIF9iID0gbm90aWZpY2F0aW9uLm1lc3NhZ2VBcmdzLCBtZXNzYWdlQXJncyA9IF9iID09PSB2b2lkIDAgPyB7fSA6IF9iO1xuICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dChzaG93Tm90aWZpY2F0aW9uKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycgPyBlcnJvciA6IGVycm9yLm1lc3NhZ2UgfHwgYm9keSwgbGV2ZWwgfHwgJ3dhcm5pbmcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQXJnczogbWVzc2FnZUFyZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRvYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pKV07XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfZC5zZW50KCldO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQoc2hvd05vdGlmaWNhdGlvbihib2R5LCBsZXZlbCB8fCAnaW5mbycsIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUFyZ3M6IG1lc3NhZ2VBcmdzLFxuICAgICAgICAgICAgICAgICAgICB1bmRvYWJsZTogb3B0aW1pc3RpYyxcbiAgICAgICAgICAgICAgICB9KSldO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIF9kLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGFrZUV2ZXJ5KFxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoYWN0aW9uKSB7IHJldHVybiBhY3Rpb24ubWV0YSAmJiBhY3Rpb24ubWV0YS5ub3RpZmljYXRpb247IH0sIGhhbmRsZU5vdGlmaWNhdGlvbildO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiIsInZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IHsgcHV0LCB0YWtlRXZlcnkgfSBmcm9tICdyZWR1eC1zYWdhL2VmZmVjdHMnO1xuaW1wb3J0IHsgcHVzaCB9IGZyb20gJ2Nvbm5lY3RlZC1yZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHJlc29sdmVSZWRpcmVjdFRvIGZyb20gJy4uL3V0aWwvcmVzb2x2ZVJlZGlyZWN0VG8nO1xuaW1wb3J0IHsgcmVmcmVzaFZpZXcgfSBmcm9tICcuLi9hY3Rpb25zL3VpQWN0aW9ucyc7XG4vKipcbiAqIFJlZGlyZWN0aW9uIFNpZGUgRWZmZWN0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUmVkaXJlY3Rpb24oX2EpIHtcbiAgICB2YXIgcGF5bG9hZCA9IF9hLnBheWxvYWQsIHJlcXVlc3RQYXlsb2FkID0gX2EucmVxdWVzdFBheWxvYWQsIF9iID0gX2EubWV0YSwgYmFzZVBhdGggPSBfYi5iYXNlUGF0aCwgcmVkaXJlY3RUbyA9IF9iLnJlZGlyZWN0VG87XG4gICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKCEhcmVkaXJlY3RUbykgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcHV0KHJlZnJlc2hWaWV3KCkpXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQocHVzaChyZXNvbHZlUmVkaXJlY3RUbyhyZWRpcmVjdFRvLCBiYXNlUGF0aCwgcGF5bG9hZFxuICAgICAgICAgICAgICAgICAgICA/IHBheWxvYWQuaWQgfHwgKHBheWxvYWQuZGF0YSA/IHBheWxvYWQuZGF0YS5pZCA6IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIDogcmVxdWVzdFBheWxvYWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVxdWVzdFBheWxvYWQuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCwgcGF5bG9hZCAmJiBwYXlsb2FkLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgPyBwYXlsb2FkLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgOiByZXF1ZXN0UGF5bG9hZCAmJiByZXF1ZXN0UGF5bG9hZC5kYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlcXVlc3RQYXlsb2FkLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCkpKV07XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0YWtlRXZlcnkoXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChhY3Rpb24pIHsgcmV0dXJuIGFjdGlvbi5tZXRhICYmIHR5cGVvZiBhY3Rpb24ubWV0YS5yZWRpcmVjdFRvICE9PSAndW5kZWZpbmVkJzsgfSwgaGFuZGxlUmVkaXJlY3Rpb24pXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4iLCJ2YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IHB1dCwgdGFrZUV2ZXJ5IH0gZnJvbSAncmVkdXgtc2FnYS9lZmZlY3RzJztcbmltcG9ydCB7IHJlZnJlc2hWaWV3IH0gZnJvbSAnLi4vYWN0aW9ucy91aUFjdGlvbnMnO1xuLyoqXG4gKiBSZWZyZXNoIFNpZGUgRWZmZWN0c1xuICovXG5mdW5jdGlvbiBoYW5kbGVSZWZyZXNoKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQocmVmcmVzaFZpZXcoKSldO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGFrZUV2ZXJ5KGZ1bmN0aW9uIChhY3Rpb24pIHsgcmV0dXJuIGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLnJlZnJlc2g7IH0sIGhhbmRsZVJlZnJlc2gpXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgeyB0YWtlLCB0YWtlRXZlcnksIHB1dCwgcmFjZSB9IGZyb20gJ3JlZHV4LXNhZ2EvZWZmZWN0cyc7XG5pbXBvcnQgeyBzaG93Tm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vYWN0aW9ucy9ub3RpZmljYXRpb25BY3Rpb25zJztcbmltcG9ydCB7IFVORE9BQkxFLCBVTkRPLCBDT01QTEVURSwgc3RhcnRPcHRpbWlzdGljTW9kZSwgc3RvcE9wdGltaXN0aWNNb2RlLCB9IGZyb20gJy4uL2FjdGlvbnMvdW5kb0FjdGlvbnMnO1xuaW1wb3J0IHsgcmVmcmVzaFZpZXcgfSBmcm9tICcuLi9hY3Rpb25zL3VpQWN0aW9ucyc7XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlVW5kb1JhY2UodW5kb2FibGVBY3Rpb24pIHtcbiAgICB2YXIgYWN0aW9uLCBfYSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIG1ldGFXaXRob3V0U2lkZUVmZmVjdHMsIGNvbXBsZXRlO1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IHVuZG9hYmxlQWN0aW9uLnBheWxvYWQuYWN0aW9uO1xuICAgICAgICAgICAgICAgIF9hID0gYWN0aW9uLm1ldGEsIG9uU3VjY2VzcyA9IF9hLm9uU3VjY2Vzcywgb25GYWlsdXJlID0gX2Eub25GYWlsdXJlLCBtZXRhV2l0aG91dFNpZGVFZmZlY3RzID0gX19yZXN0KF9hLCBbXCJvblN1Y2Nlc3NcIiwgXCJvbkZhaWx1cmVcIl0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dChzdGFydE9wdGltaXN0aWNNb2RlKCkpXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgLy8gZGlzcGF0Y2ggYWN0aW9uIGluIG9wdGltaXN0aWMgbW9kZSAobm8gZmV0Y2gpLCB3aXRoIHN1Y2Nlc3Mgc2lkZSBlZmZlY3RzXG4gICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcHV0KF9fYXNzaWduKF9fYXNzaWduKHt9LCBhY3Rpb24pLCB7IHR5cGU6IGFjdGlvbi50eXBlICsgXCJfT1BUSU1JU1RJQ1wiLCBtZXRhOiBfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSwgbWV0YVdpdGhvdXRTaWRlRWZmZWN0cyksIG9uU3VjY2VzcyksIHsgb3B0aW1pc3RpYzogdHJ1ZSB9KSB9KSldO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIGFjdGlvbiBpbiBvcHRpbWlzdGljIG1vZGUgKG5vIGZldGNoKSwgd2l0aCBzdWNjZXNzIHNpZGUgZWZmZWN0c1xuICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByYWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZG86IHRha2UoVU5ETyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogdGFrZShDT01QTEVURSksXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSA9IChfYi5zZW50KCkpLmNvbXBsZXRlO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dChzdG9wT3B0aW1pc3RpY01vZGUoKSldO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBsZXRlKSByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAvLyBpZiBub3QgY2FuY2VsbGVkLCByZWRpc3BhdGNoIHRoZSBhY3Rpb24sIHRoaXMgdGltZSBpbW1lZGlhdGUsIGFuZCB3aXRob3V0IHN1Y2Nlc3Mgc2lkZSBlZmZlY3RcbiAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwdXQoX19hc3NpZ24oX19hc3NpZ24oe30sIGFjdGlvbiksIHsgbWV0YTogX19hc3NpZ24oX19hc3NpZ24oe30sIG1ldGFXaXRob3V0U2lkZUVmZmVjdHMpLCB7IG9uU3VjY2VzczogeyByZWZyZXNoOiB0cnVlIH0sIG9uRmFpbHVyZTogX19hc3NpZ24oX19hc3NpZ24oe30sIG9uRmFpbHVyZSksIHsgcmVmcmVzaDogdHJ1ZSB9KSB9KSB9KSldO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIC8vIGlmIG5vdCBjYW5jZWxsZWQsIHJlZGlzcGF0Y2ggdGhlIGFjdGlvbiwgdGhpcyB0aW1lIGltbWVkaWF0ZSwgYW5kIHdpdGhvdXQgc3VjY2VzcyBzaWRlIGVmZmVjdFxuICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA5XTtcbiAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFs0IC8qeWllbGQqLywgcHV0KHNob3dOb3RpZmljYXRpb24oJ3JhLm5vdGlmaWNhdGlvbi5jYW5jZWxlZCcpKV07XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHB1dChyZWZyZXNoVmlldygpKV07XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gOTtcbiAgICAgICAgICAgIGNhc2UgOTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB3YXRjaFVuZG9hYmxlKCkge1xuICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgY2FzZSAwOiBcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRha2VFdmVyeShVTkRPQUJMRSwgaGFuZGxlVW5kb1JhY2UpXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBwYXJzZVBhdGggfSBmcm9tICdoaXN0b3J5JztcbmltcG9ydCByZXNvbHZlUmVkaXJlY3RUbyBmcm9tICcuLi91dGlsL3Jlc29sdmVSZWRpcmVjdFRvJztcbmltcG9ydCB7IHJlZnJlc2hWaWV3IH0gZnJvbSAnLi4vYWN0aW9ucy91aUFjdGlvbnMnO1xuLyoqXG4gKiBIb29rIGZvciBSZWRpcmVjdGlvbiBTaWRlIEVmZmVjdFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogY29uc3QgcmVkaXJlY3QgPSB1c2VSZWRpcmVjdCgpO1xuICogLy8gcmVkaXJlY3QgdG8gbGlzdCB2aWV3XG4gKiByZWRpcmVjdCgnbGlzdCcsICcvcG9zdHMnKTtcbiAqIC8vIHJlZGlyZWN0IHRvIGVkaXQgdmlld1xuICogcmVkaXJlY3QoJ2VkaXQnLCAnL3Bvc3RzJywgMTIzKTtcbiAqIC8vIHJlZGlyZWN0IHRvIGVkaXQgdmlldyB3aXRoIHN0YXRlIGRhdGFcbiAqIHJlZGlyZWN0KCdlZGl0JywgJy9jb21tZW50JywgMTIzLCB7fSwgeyByZWNvcmQ6IHsgcG9zdF9pZDogcmVjb3JkLmlkIH0gfSk7XG4gKiAvLyBkbyBub3QgcmVkaXJlY3QgKHJlc2V0cyB0aGUgcmVjb3JkIGZvcm0pXG4gKiByZWRpcmVjdChmYWxzZSk7XG4gKiAvLyByZWRpcmVjdCB0byB0aGUgcmVzdWx0IG9mIGEgZnVuY3Rpb25cbiAqIHJlZGlyZWN0KChyZWRpcmVjdFRvLCBiYXNlUGF0aCwgaWQsIGRhdGEpID0+IC4uLilcbiAqL1xudmFyIHVzZVJlZGlyZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gICAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7IC8vIE5vdGU6IGhpc3RvcnkgaXMgbXV0YWJsZS4gVGhpcyBwcmV2ZW50cyByZW5kZXIgbG9vcHMgaW4gdXNlQ2FsbGJhY2suXG4gICAgcmV0dXJuIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChyZWRpcmVjdFRvLCBiYXNlUGF0aCwgaWQsIGRhdGEsIHN0YXRlKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCA9PT0gdm9pZCAwKSB7IGJhc2VQYXRoID0gJyc7IH1cbiAgICAgICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHsgc3RhdGUgPSB7fTsgfVxuICAgICAgICBpZiAoIXJlZGlyZWN0VG8pIHtcbiAgICAgICAgICAgIGlmIChoaXN0b3J5LmxvY2F0aW9uLnN0YXRlIHx8IGhpc3RvcnkubG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBoaXN0b3J5LmxvY2F0aW9uKSwgeyBzdGF0ZTogc3RhdGUsIHNlYXJjaDogdW5kZWZpbmVkIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHJlZnJlc2hWaWV3KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGhpc3RvcnkucHVzaChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcGFyc2VQYXRoKHJlc29sdmVSZWRpcmVjdFRvKHJlZGlyZWN0VG8sIGJhc2VQYXRoLCBpZCwgZGF0YSkpKSwgeyBzdGF0ZTogX19hc3NpZ24oeyBfc2Nyb2xsVG9Ub3A6IHRydWUgfSwgc3RhdGUpIH0pKTtcbiAgICB9LCBbZGlzcGF0Y2gsIGhpc3RvcnldKTtcbn07XG5leHBvcnQgZGVmYXVsdCB1c2VSZWRpcmVjdDtcbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBzZXRMaXN0U2VsZWN0ZWRJZHMgfSBmcm9tICcuLi9hY3Rpb25zJztcbmltcG9ydCB7IHdhcm5pbmcgfSBmcm9tICcuLi91dGlsJztcbi8qKlxuICogSG9vayBmb3IgVW5zZWxlY3QgQWxsIFNpZGUgRWZmZWN0XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBjb25zdCB1bnNlbGVjdEFsbCA9IHVzZVVuc2VsZWN0QWxsKCdwb3N0cycpO1xuICogdW5zZWxlY3RBbGwoKTtcbiAqL1xudmFyIHVzZVVuc2VsZWN0QWxsID0gZnVuY3Rpb24gKHJlc291cmNlMSkge1xuICAgIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gICAgcmV0dXJuIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChyZXNvdXJjZTIpIHtcbiAgICAgICAgd2FybmluZyghcmVzb3VyY2UyICYmICFyZXNvdXJjZTEsIFwiWW91IGRpZG4ndCBzcGVjaWZ5IHRoZSByZXNvdXJjZSBhdCBpbml0aWFsaXphdGlvbiAodXNlVW5zZWxlY3RBbGwoJ3Bvc3RzJykpIG5vciB3aGVuIHVzaW5nIHRoZSBjYWxsYmFjayAodW5zZWxlY3RBbGwoJ3Bvc3RzJykpXCIpO1xuICAgICAgICBkaXNwYXRjaChzZXRMaXN0U2VsZWN0ZWRJZHMocmVzb3VyY2UyIHx8IHJlc291cmNlMSwgW10pKTtcbiAgICB9LCBbZGlzcGF0Y2gsIHJlc291cmNlMV0pO1xufTtcbmV4cG9ydCBkZWZhdWx0IHVzZVVuc2VsZWN0QWxsO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xudmFyIHN0eWxlcyA9IHtcbiAgICByb290OiB7XG4gICAgICAgIHdpZHRoOiAnMTAwdncnLFxuICAgICAgICBoZWlnaHQ6ICcxMDB2aCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdcIlJvYm90b1wiLCBzYW5zLXNlcmlmJyxcbiAgICB9LFxuICAgIG1haW46IHtcbiAgICAgICAgZmxleDogMSxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgYmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwMDAyM2IgMCUsICMwMDAyM2IgNTAlLCAjMzEzMjY0IDEwMCUpJyxcbiAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgIGZvbnRTaXplOiAnMS41ZW0nLFxuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgfSxcbiAgICBzZWNvbmRhcnk6IHtcbiAgICAgICAgaGVpZ2h0OiAnMjB2aCcsXG4gICAgICAgIGJhY2tncm91bmQ6ICcjZThlOGU4JyxcbiAgICAgICAgY29sb3I6ICdibGFjaycsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtZXZlbmx5JyxcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgd2lkdGg6IDE1MCxcbiAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgICAgY29sb3I6ICdibGFjaycsXG4gICAgICAgIG9wYWNpdHk6IDAuNyxcbiAgICB9LFxuICAgIGxpbmtIb3ZlcmVkOiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgICB3aWR0aDogNTAsXG4gICAgfSxcbiAgICBsb2dvOiB7XG4gICAgICAgIGhlaWdodDogMTAwLFxuICAgIH0sXG59O1xudmFyIEJ1dHRvbiA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBpbWcgPSBfYS5pbWcsIGxhYmVsID0gX2EubGFiZWwsIGhyZWYgPSBfYS5ocmVmO1xuICAgIHZhciBfYiA9IHVzZVN0YXRlKGZhbHNlKSwgaG92ZXJlZCA9IF9iWzBdLCBzZXRIb3ZlcmVkID0gX2JbMV07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHsgaHJlZjogaHJlZiwgc3R5bGU6IGhvdmVyZWRcbiAgICAgICAgICAgICAgICA/IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzdHlsZXMubGluayksIHN0eWxlcy5saW5rSG92ZXJlZCkgOiBzdHlsZXMubGluaywgb25Nb3VzZUVudGVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXRIb3ZlcmVkKHRydWUpOyB9LCBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNldEhvdmVyZWQoZmFsc2UpOyB9IH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHsgc3JjOiBpbWcsIGFsdDogbGFiZWwsIHN0eWxlOiBzdHlsZXMuaW1hZ2UgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksXG4gICAgICAgICAgICBsYWJlbCkpKTtcbn07XG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHN0eWxlcy5yb290IH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogc3R5bGVzLm1haW4gfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyBzdHlsZTogc3R5bGVzLmxvZ28sIHNyYzogXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NEtQQ0V0TFNCSFpXNWxjbUYwYjNJNklFRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlESXpMakF1TVN3Z1UxWkhJRVY0Y0c5eWRDQlFiSFZuTFVsdUlDNGdVMVpISUZabGNuTnBiMjQ2SURZdU1EQWdRblZwYkdRZ01Da2dJQzB0UGdvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJa05oYkhGMVpWOHhJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGh0Ykc1ek9uaHNhVzVyUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMM2hzYVc1cklpQjRQU0l3Y0hnaUlIazlJakJ3ZUNJS0NTQjJhV1YzUW05NFBTSXdJREFnTVRNeElERXpNU0lnYzNSNWJHVTlJbVZ1WVdKc1pTMWlZV05yWjNKdmRXNWtPbTVsZHlBd0lEQWdNVE14SURFek1Uc2lJSGh0YkRwemNHRmpaVDBpY0hKbGMyVnlkbVVpUGdvOGMzUjViR1VnZEhsd1pUMGlkR1Y0ZEM5amMzTWlQZ29KTG5OME1IdG1hV3hzT2lNeU1qSTBOVGc3ZlFvSkxuTjBNWHRtYVd4c09pTTFNVFV6TjBRN2ZRb0pMbk4wTW50bWFXeHNPaU5CTTBFMFFqazdmUW9KTG5OME0zdG1hV3hzT2lNd01EQXlNMEk3ZlFvSkxuTjBOSHRtYVd4c09pTkdSa1pHUmtZN2ZRb0pMbk4wTlh0bGJtRmliR1V0WW1GamEyZHliM1Z1WkRwdVpYY2dJQ0FnTzMwS1BDOXpkSGxzWlQ0S1BIUnBkR3hsUGt4dloyOWZjMjl0WW5KbFgyRnBQQzkwYVhSc1pUNEtQR2NnYVdROUlsSmxZM1JoYm1kc1pWODFOaUkrQ2drOFp6NEtDUWs4Y21WamRDQjRQU0l4T1M0eElpQjVQU0l4T1NJZ2RISmhibk5tYjNKdFBTSnRZWFJ5YVhnb01DNDFJQzB3TGpnMk5pQXdMamcyTmlBd0xqVWdMVEl6TGpreU1qWWdPRGt1TlRRMktTSWdZMnhoYzNNOUluTjBNQ0lnZDJsa2RHZzlJamt5TGpraUlHaGxhV2RvZEQwaU9USXVPU0l2UGdvSkNUeHdZWFJvSUdOc1lYTnpQU0p6ZERFaUlHUTlJazA0TXl3eE16QXVNMHd3TGpnc09ESXVPVXcwT0M0eUxEQXVOMnc0TWk0eUxEUTNMalZNT0RNc01UTXdMak42SUUwekxqVXNPREl1TVd3M09DNDNMRFExTGpWc05EVXVOUzAzT0M0M1REUTVMRE11TkV3ekxqVXNPREl1TVhvaUx6NEtDVHd2Wno0S1BDOW5QZ284WnlCcFpEMGlVbVZqZEdGdVoyeGxYelUyTFRJaVBnb0pQR2MrQ2drSlBISmxZM1FnZUQwaU1Ua2lJSGs5SWpFNUxqRWlJSFJ5WVc1elptOXliVDBpYldGMGNtbDRLREF1T0RZMklDMHdMalVnTUM0MUlEQXVPRFkySUMweU15NDVOemMzSURReExqVXlOeWtpSUdOc1lYTnpQU0p6ZERBaUlIZHBaSFJvUFNJNU1pNDVJaUJvWldsbmFIUTlJamt5TGpraUx6NEtDUWs4Y0dGMGFDQmpiR0Z6Y3owaWMzUXlJaUJrUFNKTk5EY3VPU3d4TXpGTU1DdzBPRXc0TXk0eExEQnNORGdzT0RNdU1VdzBOeTQ1TERFek1Yb2dUVFF1TVN3ME9TNHhiRFExTERjM0xqbHNOemN1T1MwME5VdzRNaXcwTGpGTU5DNHhMRFE1TGpGNklpOCtDZ2s4TDJjK0Nqd3ZaejRLUEdjZ2FXUTlJbEpsWTNSaGJtZHNaVjgxTmkweklqNEtDVHhuUGdvSkNUeHlaV04wSUhnOUlqRTVMakVpSUhrOUlqRTVJaUJqYkdGemN6MGljM1F6SWlCM2FXUjBhRDBpT1RJdU9TSWdhR1ZwWjJoMFBTSTVNaTQ1SWk4K0Nna0pQSEJoZEdnZ1kyeGhjM005SW5OME5DSWdaRDBpVFRFeE5DNDFMREV4TkM0MVNERTJMalpXTVRZdU5XZzVOeTQ1VmpFeE5DNDFlaUJOTWpFdU5pd3hNRGt1TldnNE55NDVWakl4TGpWSU1qRXVObFl4TURrdU5Yb2lMejRLQ1R3dlp6NEtQQzluUGdvOFp5QnBaRDBpVW1FaVBnb0pQR2NnWTJ4aGMzTTlJbk4wTlNJK0Nna0pQSEJoZEdnZ1kyeGhjM005SW5OME5DSWdaRDBpVFRVNUxEZzJMamRzTFRZdU55MHhPUzR5YUMweExqSklNemd1T1hZeE9TNHlhQzAxTGpaV016Z3VOV2d4T0M0MVl6TXVOaXd3TERZdU15d3dMallzT0M0eExERXVPR014TGpnc01TNHlMRE1zTWk0NExETXVOU3cwTGpnS0NRa0pZekF1TlN3eUxEQXVPQ3cwTGpZc01DNDRMRGN1T0dNd0xETXVOUzB3TGpRc05pNDBMVEV1TXl3NExqZGpMVEF1T0N3eUxqTXRNaTQyTERNdU9TMDFMak1zTkM0NFREWTFMRGcyTGpkSU5UbDZJRTAxTlM0M0xEWXhMalpqTVM0eUxUQXVOeXd5TFRFdU55d3lMalF0TXdvSkNRbGpNQzQwTFRFdU15d3dMall0TXk0eUxEQXVOaTAxTGpaak1DMHlMalV0TUM0eUxUUXVNeTB3TGpVdE5TNDJZeTB3TGpNdE1TNHpMVEV1TVMweUxqSXRNaTR6TFRJdU9XTXRNUzR5TFRBdU55MHpMVEV0TlM0MUxURklNemd1T1hZeE9TNHhTRFV3Q2drSkNVTTFNaTQxTERZeUxqWXNOVFF1TkN3Mk1pNHpMRFUxTGpjc05qRXVObm9pTHo0S0NRazhjR0YwYUNCamJHRnpjejBpYzNRMElpQmtQU0pOTnpRdU15dzROV010TVM0MkxURXVOUzB5TGpVdE5DNHlMVEl1TlMwNExqSmpNQzB5TGpjc01DNHpMVFF1T0N3d0xqa3ROaTR6WXpBdU5pMHhMalVzTVM0MkxUSXVOaXd6TFRNdU0yTXhMalF0TUM0M0xETXVOQzB4TERZdE1Rb0pDUWxqTVM0ekxEQXNOUzR4TERBdU1Td3hNUzQwTERBdU0zWXRNaTQwWXpBdE1pNDVMVEF1TWkwMUxUQXVOeTAyTGpKakxUQXVOUzB4TGpJdE1TNHpMVEl0TWk0MkxUSXVOR010TVM0eUxUQXVNeTB6TGpNdE1DNDFMVFl1TXkwd0xqVmpMVEV1TXl3d0xUTXNNQzR4TFRRdU9Td3dMaklLQ1FrSll5MHlMREF1TVMwekxqWXNNQzR6TFRRdU9Dd3dMalYyTFRRdU0yTXpMak10TUM0M0xEY3VNUzB4TERFeExqUXRNV016TGpjc01DdzJMalVzTUM0MExEZ3VOQ3d4TGpKak1TNDRMREF1T0N3ekxqRXNNaTR5TERNdU9DdzBMakZqTUM0M0xERXVPU3d4TERRdU55d3hMRGd1TkhZeU1pNDFhQzAwTGpnS0NRa0piQzB3TGpNdE5XZ3RNQzR6WXkwd0xqZ3NNaTR5TFRJdU1pd3pMamN0TkM0eExEUXVOR010TVM0NUxEQXVOeTAwTGpFc01TNHhMVFl1Tml3eExqRkROemd1Tml3NE55NHlMRGMyTERnMkxqVXNOelF1TXl3NE5Yb2dUVGc1TGpFc09ESmpNUzR5TFRBdU5Dd3lMakl0TVM0eUxESXVPQzB5TGpRS0NRa0pZekF1T1MweExqZ3NNUzR6TFRRdU15d3hMak10Tnk0emRpMHlhQzB4TUdNdE1TNDNMREF0TXl3d0xqSXRNeTQ0TERBdU5XTXRNQzQ0TERBdU15MHhMalFzTUM0NUxURXVOeXd4TGpoakxUQXVNeXd3TGprdE1DNDFMREl1TWkwd0xqVXNOR013TERFdU9Dd3dMaklzTXk0eExEQXVOaXd6TGprS0NRa0pZekF1TkN3d0xqZ3NNUzR4TERFdU5Dd3lMREV1T0dNeExEQXVNeXd5TGpVc01DNDFMRFF1TlN3d0xqVkRPRFl1TWl3NE1pNDJMRGczTGpnc09ESXVOQ3c0T1M0eExEZ3llaUl2UGdvSlBDOW5QZ284TDJjK0Nqd3ZjM1puUGdvPVwiLCBhbHQ6IFwicmVhY3QtYWRtaW4gbG9nb1wiIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImgxXCIsIG51bGwsIFwiV2VsY29tZSB0byBSZWFjdC1hZG1pblwiKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcbiAgICAgICAgICAgICAgICBcIllvdXIgYXBwbGljYXRpb24gaXMgcHJvcGVybHkgY29uZmlndXJlZC5cIixcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksXG4gICAgICAgICAgICAgICAgXCJOb3cgeW91IGNhbiBhZGQgYSA8UmVzb3VyY2U+IGFzIGNoaWxkIG9mIDxBZG1pbj4uXCIpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiBzdHlsZXMuc2Vjb25kYXJ5IH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgeyBocmVmOiBcImh0dHBzOi8vbWFybWVsYWIuY29tL3JlYWN0LWFkbWluL1JlYWRtZS5odG1sXCIsIGltZzogXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NEtQQ0V0TFNCSFpXNWxjbUYwYjNJNklFRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlESXpMakF1TUN3Z1UxWkhJRVY0Y0c5eWRDQlFiSFZuTFVsdUlDNGdVMVpISUZabGNuTnBiMjQ2SURZdU1EQWdRblZwYkdRZ01Da2dJQzB0UGdvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVheUlnZUQwaU1IQjRJaUI1UFNJd2NIZ2lJSGRwWkhSb1BTSXlOSEI0SWdvSklHaGxhV2RvZEQwaU1qUndlQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWlCbGJtRmliR1V0WW1GamEyZHliM1Z1WkQwaWJtVjNJREFnTUNBeU5DQXlOQ0lnZUcxc09uTndZV05sUFNKd2NtVnpaWEoyWlNJK0NqeG5JR2xrUFNKQ2IzVnVaR2x1WjE5Q2IzZ2lQZ29KUEhKbFkzUWdabWxzYkQwaWJtOXVaU0lnZDJsa2RHZzlJakkwSWlCb1pXbG5hSFE5SWpJMElpOCtDand2Wno0S1BHY2dhV1E5SWtac1lYUWlQZ29KUEdjZ2FXUTlJblZwWDNnMVJsOXpjR1ZqWDNnMVJsOW9aV0ZrWlhKZlkyOXdlVjh5SWo0S0NUd3ZaejRLQ1R4blBnb0pDVHh3WVhSb0lHUTlJazB5TVN3MVl5MHhMakV4TFRBdU16VXRNaTR6TXkwd0xqVXRNeTQxTFRBdU5XTXRNUzQ1TlN3d0xUUXVNRFVzTUM0MExUVXVOU3d4TGpWakxURXVORFV0TVM0eExUTXVOVFV0TVM0MUxUVXVOUzB4TGpWVE1pNDBOU3cwTGprc01TdzJkakUwTGpZMUNna0pDV013TERBdU1qVXNNQzR5TlN3d0xqVXNNQzQxTERBdU5XTXdMakVzTUN3d0xqRTFMVEF1TURVc01DNHlOUzB3TGpBMVF6TXVNU3d5TUM0ME5TdzFMakExTERJd0xEWXVOU3d5TUdNeExqazFMREFzTkM0d05Td3dMalFzTlM0MUxERXVOV014TGpNMUxUQXVPRFVzTXk0NExURXVOU3cxTGpVdE1TNDFDZ2tKQ1dNeExqWTFMREFzTXk0ek5Td3dMak1zTkM0M05Td3hMakExWXpBdU1Td3dMakExTERBdU1UVXNNQzR3TlN3d0xqSTFMREF1TURWak1DNHlOU3d3TERBdU5TMHdMakkxTERBdU5TMHdMalZXTmtNeU1pNDBMRFV1TlRVc01qRXVOelVzTlM0eU5Td3lNU3cxZWlCTk15d3hPQzQxVmpjS0NRa0pZekV1TVMwd0xqTTFMREl1TXkwd0xqVXNNeTQxTFRBdU5XTXhMak0wTERBc015NHhNeXd3TGpReExEUXVOU3d3TGprNWRqRXhMalZET1M0Mk15d3hPQzQwTVN3M0xqZzBMREU0TERZdU5Td3hPRU0xTGpNc01UZ3NOQzR4TERFNExqRTFMRE1zTVRndU5Yb2dUVEl4TERFNExqVUtDUWtKWXkweExqRXRNQzR6TlMweUxqTXRNQzQxTFRNdU5TMHdMalZqTFRFdU16UXNNQzB6TGpFekxEQXVOREV0TkM0MUxEQXVPVGxXTnk0ME9XTXhMak0zTFRBdU5Ua3NNeTR4Tmkwd0xqazVMRFF1TlMwd0xqazVZekV1TWl3d0xESXVOQ3d3TGpFMUxETXVOU3d3TGpWV01UZ3VOWG9pTHo0S0NRazhjR0YwYUNCdmNHRmphWFI1UFNJd0xqTWlJR1E5SWsweE1TdzNMalE1UXprdU5qTXNOaTQ1TVN3M0xqZzBMRFl1TlN3MkxqVXNOaTQxUXpVdU15dzJMalVzTkM0eExEWXVOalVzTXl3M2RqRXhMalZETkM0eExERTRMakUxTERVdU15d3hPQ3cyTGpVc01UZ0tDUWtKWXpFdU16UXNNQ3d6TGpFekxEQXVOREVzTkM0MUxEQXVPVGxXTnk0ME9Yb2lMejRLQ1R3dlp6NEtDVHhuUGdvSkNUeHdZWFJvSUdROUlrMHhOeTQxTERFd0xqVmpNQzQ0T0N3d0xERXVOek1zTUM0d09Td3lMalVzTUM0eU5sWTVMakkwUXpFNUxqSXhMRGt1TURrc01UZ3VNellzT1N3eE55NDFMRGxqTFRFdU1qZ3NNQzB5TGpRMkxEQXVNVFl0TXk0MUxEQXVORGQyTVM0MU53b0pDUWxETVRRdU9Ua3NNVEF1Tmprc01UWXVNVGdzTVRBdU5Td3hOeTQxTERFd0xqVjZJaTgrQ2drSlBIQmhkR2dnWkQwaVRURTNMalVzTVRNdU1UWmpNQzQ0T0N3d0xERXVOek1zTUM0d09Td3lMalVzTUM0eU5sWXhNUzQ1WXkwd0xqYzVMVEF1TVRVdE1TNDJOQzB3TGpJMExUSXVOUzB3TGpJMFl5MHhMakk0TERBdE1pNDBOaXd3TGpFMkxUTXVOU3d3TGpRM2RqRXVOVGNLQ1FrSlF6RTBMams1TERFekxqTTJMREUyTGpFNExERXpMakUyTERFM0xqVXNNVE11TVRaNklpOCtDZ2tKUEhCaGRHZ2daRDBpVFRFM0xqVXNNVFV1T0ROak1DNDRPQ3d3TERFdU56TXNNQzR3T1N3eUxqVXNNQzR5Tm5ZdE1TNDFNbU10TUM0M09TMHdMakUxTFRFdU5qUXRNQzR5TkMweUxqVXRNQzR5TkdNdE1TNHlPQ3d3TFRJdU5EWXNNQzR4TmkwekxqVXNNQzQwTjNZeExqVTNDZ2tKQ1VNeE5DNDVPU3d4Tmk0d01pd3hOaTR4T0N3eE5TNDRNeXd4Tnk0MUxERTFMamd6ZWlJdlBnb0pQQzluUGdvOEwyYytDand2YzNablBnbz1cIiwgbGFiZWw6IFwiRG9jdW1lbnRhdGlvblwiIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vbWFybWVsYWIvcmVhY3QtYWRtaW4vdHJlZS9tYXN0ZXIvZXhhbXBsZXNcIiwgaW1nOiBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JtYVd4c1BTSnViMjVsSWlCa1BTSk5NQ0F3YURJMGRqSTBTREJXTUhvaUx6NDhjR0YwYUNCa1BTSk5PUzQwSURFMkxqWk1OQzQ0SURFeWJEUXVOaTAwTGpaTU9DQTJiQzAySURZZ05pQTJJREV1TkMweExqUjZiVFV1TWlBd2JEUXVOaTAwTGpZdE5DNDJMVFF1Tmt3eE5pQTJiRFlnTmkwMklEWXRNUzQwTFRFdU5Ib2lMejQ4TDNOMlp6ND1cIiwgbGFiZWw6IFwiRXhhbXBsZXNcIiB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7IGhyZWY6IFwiaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvdGFnZ2VkL3JlYWN0LWFkbWluXCIsIGltZzogXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NEtQQ0V0TFNCSFpXNWxjbUYwYjNJNklFRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlESXpMakF1TVN3Z1UxWkhJRVY0Y0c5eWRDQlFiSFZuTFVsdUlDNGdVMVpISUZabGNuTnBiMjQ2SURZdU1EQWdRblZwYkdRZ01Da2dJQzB0UGdvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVheUlnZUQwaU1IQjRJaUI1UFNJd2NIZ2lJSGRwWkhSb1BTSXlOSEI0SWdvSklHaGxhV2RvZEQwaU1qUndlQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWlCbGJtRmliR1V0WW1GamEyZHliM1Z1WkQwaWJtVjNJREFnTUNBeU5DQXlOQ0lnZUcxc09uTndZV05sUFNKd2NtVnpaWEoyWlNJK0NqeG5JR2xrUFNKQ2IzVnVaR2x1WjE5Q2IzZ2lQZ29KUEhKbFkzUWdabWxzYkQwaWJtOXVaU0lnZDJsa2RHZzlJakkwSWlCb1pXbG5hSFE5SWpJMElpOCtDand2Wno0S1BHY2dhV1E5SWtac1lYUWlQZ29KUEdjZ2FXUTlJblZwWDNnMVJsOXpjR1ZqWDNnMVJsOW9aV0ZrWlhKZlkyOXdlVjh5SWo0S0NUd3ZaejRLQ1R4blBnb0pDVHhqYVhKamJHVWdiM0JoWTJsMGVUMGlNQzR6SWlCamVEMGlPU0lnWTNrOUlqZ2lJSEk5SWpJaUx6NEtDUWs4Y0dGMGFDQnZjR0ZqYVhSNVBTSXdMak1pSUdROUlrMDVMREUxWXkweUxqY3NNQzAxTGpnc01TNHlPUzAyTERJdU1ERk1NeXd4T0dneE1uWXRNVU14TkM0NExERTJMakk1TERFeExqY3NNVFVzT1N3eE5Yb2lMejRLQ1FrOGNHRjBhQ0JrUFNKTk1UWXVOamNzTVRNdU1UTkRNVGd1TURRc01UUXVNRFlzTVRrc01UVXVNeklzTVRrc01UZDJNMmcwZGkwelF6SXpMREUwTGpneUxERTVMalF6TERFekxqVXpMREUyTGpZM0xERXpMakV6ZWlJdlBnb0pDVHh3WVhSb0lHUTlJazB4TlN3eE1tTXlMakl4TERBc05DMHhMamM1TERRdE5HTXdMVEl1TWpFdE1TNDNPUzAwTFRRdE5HTXRNQzQwTnl3d0xUQXVPVEVzTUM0eExURXVNek1zTUM0eU5FTXhOQzQxTERVdU1qY3NNVFVzTmk0MU9Dd3hOU3c0Y3kwd0xqVXNNaTQzTXkweExqTXpMRE11TnpZS0NRa0pRekUwTGpBNUxERXhMamtzTVRRdU5UTXNNVElzTVRVc01USjZJaTgrQ2drSlBIQmhkR2dnWkQwaVRUa3NNVEpqTWk0eU1Td3dMRFF0TVM0M09TdzBMVFJqTUMweUxqSXhMVEV1TnprdE5DMDBMVFJUTlN3MUxqYzVMRFVzT0VNMUxERXdMakl4TERZdU56a3NNVElzT1N3eE1ub2dUVGtzTm1NeExqRXNNQ3d5TERBdU9Td3lMREpqTUN3eExqRXRNQzQ1TERJdE1pd3lDZ2tKQ1ZNM0xEa3VNU3czTERoRE55dzJMamtzTnk0NUxEWXNPU3cyZWlJdlBnb0pDVHh3WVhSb0lHUTlJazA1TERFell5MHlMalkzTERBdE9Dd3hMak0wTFRnc05IWXphREUyZGkwelF6RTNMREUwTGpNMExERXhMalkzTERFekxEa3NNVE42SUUweE5Td3hPRWd6YkRBdE1DNDVPVU16TGpJc01UWXVNamtzTmk0ekxERTFMRGtzTVRWek5TNDRMREV1TWprc05pd3lWakU0ZWlJdlBnb0pQQzluUGdvOEwyYytDand2YzNablBnbz1cIiwgbGFiZWw6IFwiQ29tbXVuaXR5XCIgfSkpKSk7XG59KTtcbiIsImltcG9ydCBsaW5rVG9SZWNvcmQgZnJvbSAnLi9saW5rVG9SZWNvcmQnO1xuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChyZWRpcmVjdFRvLCBiYXNlUGF0aCwgaWQsIGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIHJlZGlyZWN0VG8gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0VG8oYmFzZVBhdGgsIGlkLCBkYXRhKTtcbiAgICB9XG4gICAgc3dpdGNoIChyZWRpcmVjdFRvKSB7XG4gICAgICAgIGNhc2UgJ2xpc3QnOlxuICAgICAgICAgICAgcmV0dXJuIGJhc2VQYXRoO1xuICAgICAgICBjYXNlICdjcmVhdGUnOlxuICAgICAgICAgICAgcmV0dXJuIGJhc2VQYXRoICsgXCIvY3JlYXRlXCI7XG4gICAgICAgIGNhc2UgJ2VkaXQnOlxuICAgICAgICAgICAgcmV0dXJuIGxpbmtUb1JlY29yZChiYXNlUGF0aCwgaWQpO1xuICAgICAgICBjYXNlICdzaG93JzpcbiAgICAgICAgICAgIHJldHVybiBsaW5rVG9SZWNvcmQoYmFzZVBhdGgsIGlkKSArIFwiL3Nob3dcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiByZWRpcmVjdFRvO1xuICAgIH1cbn0pO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCB7IHN0cmluZ2lmeSB9IGZyb20gJ3F1ZXJ5LXN0cmluZyc7XG5pbXBvcnQgeyBmZXRjaFV0aWxzIH0gZnJvbSAncmEtY29yZSc7XG4vKipcbiAqIE1hcHMgcmVhY3QtYWRtaW4gcXVlcmllcyB0byBhIGpzb24tc2VydmVyIHBvd2VyZWQgUkVTVCBBUElcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90eXBpY29kZS9qc29uLXNlcnZlclxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogZ2V0TGlzdCAgICAgICAgICA9PiBHRVQgaHR0cDovL215LmFwaS51cmwvcG9zdHM/X3NvcnQ9dGl0bGUmX29yZGVyPUFTQyZfc3RhcnQ9MCZfZW5kPTI0XG4gKiBnZXRPbmUgICAgICAgICAgID0+IEdFVCBodHRwOi8vbXkuYXBpLnVybC9wb3N0cy8xMjNcbiAqIGdldE1hbnlSZWZlcmVuY2UgPT4gR0VUIGh0dHA6Ly9teS5hcGkudXJsL3Bvc3RzP2F1dGhvcl9pZD0zNDVcbiAqIGdldE1hbnkgICAgICAgICAgPT4gR0VUIGh0dHA6Ly9teS5hcGkudXJsL3Bvc3RzP2lkPTEyMyZpZD00NTYmaWQ9Nzg5XG4gKiBjcmVhdGUgICAgICAgICAgID0+IFBPU1QgaHR0cDovL215LmFwaS51cmwvcG9zdHMvMTIzXG4gKiB1cGRhdGUgICAgICAgICAgID0+IFBVVCBodHRwOi8vbXkuYXBpLnVybC9wb3N0cy8xMjNcbiAqIHVwZGF0ZU1hbnkgICAgICAgPT4gUFVUIGh0dHA6Ly9teS5hcGkudXJsL3Bvc3RzLzEyMywgUFVUIGh0dHA6Ly9teS5hcGkudXJsL3Bvc3RzLzQ1NiwgUFVUIGh0dHA6Ly9teS5hcGkudXJsL3Bvc3RzLzc4OVxuICogZGVsZXRlICAgICAgICAgICA9PiBERUxFVEUgaHR0cDovL215LmFwaS51cmwvcG9zdHMvMTIzXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbiAqIGltcG9ydCB7IEFkbWluLCBSZXNvdXJjZSB9IGZyb20gJ3JlYWN0LWFkbWluJztcbiAqIGltcG9ydCBqc29uU2VydmVyUHJvdmlkZXIgZnJvbSAncmEtZGF0YS1qc29uLXNlcnZlcic7XG4gKlxuICogaW1wb3J0IHsgUG9zdExpc3QgfSBmcm9tICcuL3Bvc3RzJztcbiAqXG4gKiBjb25zdCBBcHAgPSAoKSA9PiAoXG4gKiAgICAgPEFkbWluIGRhdGFQcm92aWRlcj17anNvblNlcnZlclByb3ZpZGVyKCdodHRwOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbScpfT5cbiAqICAgICAgICAgPFJlc291cmNlIG5hbWU9XCJwb3N0c1wiIGxpc3Q9e1Bvc3RMaXN0fSAvPlxuICogICAgIDwvQWRtaW4+XG4gKiApO1xuICpcbiAqIGV4cG9ydCBkZWZhdWx0IEFwcDtcbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChhcGlVcmwsIGh0dHBDbGllbnQpIHtcbiAgICBpZiAoaHR0cENsaWVudCA9PT0gdm9pZCAwKSB7IGh0dHBDbGllbnQgPSBmZXRjaFV0aWxzLmZldGNoSnNvbjsgfVxuICAgIHJldHVybiAoe1xuICAgICAgICBnZXRMaXN0OiBmdW5jdGlvbiAocmVzb3VyY2UsIHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIF9hID0gcGFyYW1zLnBhZ2luYXRpb24sIHBhZ2UgPSBfYS5wYWdlLCBwZXJQYWdlID0gX2EucGVyUGFnZTtcbiAgICAgICAgICAgIHZhciBfYiA9IHBhcmFtcy5zb3J0LCBmaWVsZCA9IF9iLmZpZWxkLCBvcmRlciA9IF9iLm9yZGVyO1xuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGZldGNoVXRpbHMuZmxhdHRlbk9iamVjdChwYXJhbXMuZmlsdGVyKSksIHsgX3NvcnQ6IGZpZWxkLCBfb3JkZXI6IG9yZGVyLCBfc3RhcnQ6IChwYWdlIC0gMSkgKiBwZXJQYWdlLCBfZW5kOiBwYWdlICogcGVyUGFnZSB9KTtcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcGlVcmwgKyBcIi9cIiArIHJlc291cmNlICsgXCI/XCIgKyBzdHJpbmdpZnkocXVlcnkpO1xuICAgICAgICAgICAgcmV0dXJuIGh0dHBDbGllbnQodXJsKS50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHZhciBoZWFkZXJzID0gX2EuaGVhZGVycywganNvbiA9IF9hLmpzb247XG4gICAgICAgICAgICAgICAgaWYgKCFoZWFkZXJzLmhhcygneC10b3RhbC1jb3VudCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFgtVG90YWwtQ291bnQgaGVhZGVyIGlzIG1pc3NpbmcgaW4gdGhlIEhUVFAgUmVzcG9uc2UuIFRoZSBqc29uU2VydmVyIERhdGEgUHJvdmlkZXIgZXhwZWN0cyByZXNwb25zZXMgZm9yIGxpc3RzIG9mIHJlc291cmNlcyB0byBjb250YWluIHRoaXMgaGVhZGVyIHdpdGggdGhlIHRvdGFsIG51bWJlciBvZiByZXN1bHRzIHRvIGJ1aWxkIHRoZSBwYWdpbmF0aW9uLiBJZiB5b3UgYXJlIHVzaW5nIENPUlMsIGRpZCB5b3UgZGVjbGFyZSBYLVRvdGFsLUNvdW50IGluIHRoZSBBY2Nlc3MtQ29udHJvbC1FeHBvc2UtSGVhZGVycyBoZWFkZXI/Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGpzb24sXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBwYXJzZUludChoZWFkZXJzLmdldCgneC10b3RhbC1jb3VudCcpLnNwbGl0KCcvJykucG9wKCksIDEwKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE9uZTogZnVuY3Rpb24gKHJlc291cmNlLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiBodHRwQ2xpZW50KGFwaVVybCArIFwiL1wiICsgcmVzb3VyY2UgKyBcIi9cIiArIHBhcmFtcy5pZCkudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIganNvbiA9IF9hLmpzb247XG4gICAgICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGpzb24sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TWFueTogZnVuY3Rpb24gKHJlc291cmNlLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICBpZDogcGFyYW1zLmlkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgdXJsID0gYXBpVXJsICsgXCIvXCIgKyByZXNvdXJjZSArIFwiP1wiICsgc3RyaW5naWZ5KHF1ZXJ5KTtcbiAgICAgICAgICAgIHJldHVybiBodHRwQ2xpZW50KHVybCkudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIganNvbiA9IF9hLmpzb247XG4gICAgICAgICAgICAgICAgcmV0dXJuICh7IGRhdGE6IGpzb24gfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TWFueVJlZmVyZW5jZTogZnVuY3Rpb24gKHJlc291cmNlLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhciBfYiA9IHBhcmFtcy5wYWdpbmF0aW9uLCBwYWdlID0gX2IucGFnZSwgcGVyUGFnZSA9IF9iLnBlclBhZ2U7XG4gICAgICAgICAgICB2YXIgX2MgPSBwYXJhbXMuc29ydCwgZmllbGQgPSBfYy5maWVsZCwgb3JkZXIgPSBfYy5vcmRlcjtcbiAgICAgICAgICAgIHZhciBxdWVyeSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBmZXRjaFV0aWxzLmZsYXR0ZW5PYmplY3QocGFyYW1zLmZpbHRlcikpLCAoX2EgPSB7fSwgX2FbcGFyYW1zLnRhcmdldF0gPSBwYXJhbXMuaWQsIF9hLl9zb3J0ID0gZmllbGQsIF9hLl9vcmRlciA9IG9yZGVyLCBfYS5fc3RhcnQgPSAocGFnZSAtIDEpICogcGVyUGFnZSwgX2EuX2VuZCA9IHBhZ2UgKiBwZXJQYWdlLCBfYSkpO1xuICAgICAgICAgICAgdmFyIHVybCA9IGFwaVVybCArIFwiL1wiICsgcmVzb3VyY2UgKyBcIj9cIiArIHN0cmluZ2lmeShxdWVyeSk7XG4gICAgICAgICAgICByZXR1cm4gaHR0cENsaWVudCh1cmwpLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSBfYS5oZWFkZXJzLCBqc29uID0gX2EuanNvbjtcbiAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnMuaGFzKCd4LXRvdGFsLWNvdW50JykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgWC1Ub3RhbC1Db3VudCBoZWFkZXIgaXMgbWlzc2luZyBpbiB0aGUgSFRUUCBSZXNwb25zZS4gVGhlIGpzb25TZXJ2ZXIgRGF0YSBQcm92aWRlciBleHBlY3RzIHJlc3BvbnNlcyBmb3IgbGlzdHMgb2YgcmVzb3VyY2VzIHRvIGNvbnRhaW4gdGhpcyBoZWFkZXIgd2l0aCB0aGUgdG90YWwgbnVtYmVyIG9mIHJlc3VsdHMgdG8gYnVpbGQgdGhlIHBhZ2luYXRpb24uIElmIHlvdSBhcmUgdXNpbmcgQ09SUywgZGlkIHlvdSBkZWNsYXJlIFgtVG90YWwtQ291bnQgaW4gdGhlIEFjY2Vzcy1Db250cm9sLUV4cG9zZS1IZWFkZXJzIGhlYWRlcj8nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YToganNvbixcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IHBhcnNlSW50KGhlYWRlcnMuZ2V0KCd4LXRvdGFsLWNvdW50Jykuc3BsaXQoJy8nKS5wb3AoKSwgMTApLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAocmVzb3VyY2UsIHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIGh0dHBDbGllbnQoYXBpVXJsICsgXCIvXCIgKyByZXNvdXJjZSArIFwiL1wiICsgcGFyYW1zLmlkLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXJhbXMuZGF0YSksXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHZhciBqc29uID0gX2EuanNvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHsgZGF0YToganNvbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAvLyBqc29uLXNlcnZlciBkb2Vzbid0IGhhbmRsZSBmaWx0ZXJzIG9uIFVQREFURSByb3V0ZSwgc28gd2UgZmFsbGJhY2sgdG8gY2FsbGluZyBVUERBVEUgbiB0aW1lcyBpbnN0ZWFkXG4gICAgICAgIHVwZGF0ZU1hbnk6IGZ1bmN0aW9uIChyZXNvdXJjZSwgcGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGFyYW1zLmlkcy5tYXAoZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0dHBDbGllbnQoYXBpVXJsICsgXCIvXCIgKyByZXNvdXJjZSArIFwiL1wiICsgaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFyYW1zLmRhdGEpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlcykgeyByZXR1cm4gKHsgZGF0YTogcmVzcG9uc2VzLm1hcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBfYS5qc29uO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganNvbi5pZDtcbiAgICAgICAgICAgICAgICB9KSB9KTsgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKHJlc291cmNlLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiBodHRwQ2xpZW50KGFwaVVybCArIFwiL1wiICsgcmVzb3VyY2UsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXJhbXMuZGF0YSksXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHZhciBqc29uID0gX2EuanNvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogX19hc3NpZ24oX19hc3NpZ24oe30sIHBhcmFtcy5kYXRhKSwgeyBpZDoganNvbi5pZCB9KSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBkZWxldGU6IGZ1bmN0aW9uIChyZXNvdXJjZSwgcGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gaHR0cENsaWVudChhcGlVcmwgKyBcIi9cIiArIHJlc291cmNlICsgXCIvXCIgKyBwYXJhbXMuaWQsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIganNvbiA9IF9hLmpzb247XG4gICAgICAgICAgICAgICAgcmV0dXJuICh7IGRhdGE6IGpzb24gfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8ganNvbi1zZXJ2ZXIgZG9lc24ndCBoYW5kbGUgZmlsdGVycyBvbiBERUxFVEUgcm91dGUsIHNvIHdlIGZhbGxiYWNrIHRvIGNhbGxpbmcgREVMRVRFIG4gdGltZXMgaW5zdGVhZFxuICAgICAgICBkZWxldGVNYW55OiBmdW5jdGlvbiAocmVzb3VyY2UsIHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBhcmFtcy5pZHMubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBodHRwQ2xpZW50KGFwaVVybCArIFwiL1wiICsgcmVzb3VyY2UgKyBcIi9cIiArIGlkLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2VzKSB7IHJldHVybiAoeyBkYXRhOiByZXNwb25zZXMubWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IF9hLmpzb247XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqc29uLmlkO1xuICAgICAgICAgICAgICAgIH0pIH0pOyB9KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0pO1xuIiwidmFyIGVuZ2xpc2hNZXNzYWdlcyA9IHtcbiAgICByYToge1xuICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgIGFkZF9maWx0ZXI6ICdBZGQgZmlsdGVyJyxcbiAgICAgICAgICAgIGFkZDogJ0FkZCcsXG4gICAgICAgICAgICBiYWNrOiAnR28gQmFjaycsXG4gICAgICAgICAgICBidWxrX2FjdGlvbnM6ICcxIGl0ZW0gc2VsZWN0ZWQgfHx8fCAle3NtYXJ0X2NvdW50fSBpdGVtcyBzZWxlY3RlZCcsXG4gICAgICAgICAgICBjYW5jZWw6ICdDYW5jZWwnLFxuICAgICAgICAgICAgY2xlYXJfaW5wdXRfdmFsdWU6ICdDbGVhciB2YWx1ZScsXG4gICAgICAgICAgICBjbG9uZTogJ0Nsb25lJyxcbiAgICAgICAgICAgIGNvbmZpcm06ICdDb25maXJtJyxcbiAgICAgICAgICAgIGNyZWF0ZTogJ0NyZWF0ZScsXG4gICAgICAgICAgICBjcmVhdGVfaXRlbTogJ0NyZWF0ZSAle2l0ZW19JyxcbiAgICAgICAgICAgIGRlbGV0ZTogJ0RlbGV0ZScsXG4gICAgICAgICAgICBlZGl0OiAnRWRpdCcsXG4gICAgICAgICAgICBleHBvcnQ6ICdFeHBvcnQnLFxuICAgICAgICAgICAgbGlzdDogJ0xpc3QnLFxuICAgICAgICAgICAgcmVmcmVzaDogJ1JlZnJlc2gnLFxuICAgICAgICAgICAgcmVtb3ZlX2ZpbHRlcjogJ1JlbW92ZSB0aGlzIGZpbHRlcicsXG4gICAgICAgICAgICByZW1vdmU6ICdSZW1vdmUnLFxuICAgICAgICAgICAgc2F2ZTogJ1NhdmUnLFxuICAgICAgICAgICAgc2VhcmNoOiAnU2VhcmNoJyxcbiAgICAgICAgICAgIHNob3c6ICdTaG93JyxcbiAgICAgICAgICAgIHNvcnQ6ICdTb3J0JyxcbiAgICAgICAgICAgIHVuZG86ICdVbmRvJyxcbiAgICAgICAgICAgIHVuc2VsZWN0OiAnVW5zZWxlY3QnLFxuICAgICAgICAgICAgZXhwYW5kOiAnRXhwYW5kJyxcbiAgICAgICAgICAgIGNsb3NlOiAnQ2xvc2UnLFxuICAgICAgICAgICAgb3Blbl9tZW51OiAnT3BlbiBtZW51JyxcbiAgICAgICAgICAgIGNsb3NlX21lbnU6ICdDbG9zZSBtZW51JyxcbiAgICAgICAgICAgIHVwZGF0ZTogJ1VwZGF0ZScsXG4gICAgICAgIH0sXG4gICAgICAgIGJvb2xlYW46IHtcbiAgICAgICAgICAgIHRydWU6ICdZZXMnLFxuICAgICAgICAgICAgZmFsc2U6ICdObycsXG4gICAgICAgICAgICBudWxsOiAn4oCDJyxcbiAgICAgICAgfSxcbiAgICAgICAgcGFnZToge1xuICAgICAgICAgICAgY3JlYXRlOiAnQ3JlYXRlICV7bmFtZX0nLFxuICAgICAgICAgICAgZGFzaGJvYXJkOiAnRGFzaGJvYXJkJyxcbiAgICAgICAgICAgIGVkaXQ6ICcle25hbWV9ICMle2lkfScsXG4gICAgICAgICAgICBlcnJvcjogJ1NvbWV0aGluZyB3ZW50IHdyb25nJyxcbiAgICAgICAgICAgIGxpc3Q6ICcle25hbWV9JyxcbiAgICAgICAgICAgIGxvYWRpbmc6ICdMb2FkaW5nJyxcbiAgICAgICAgICAgIG5vdF9mb3VuZDogJ05vdCBGb3VuZCcsXG4gICAgICAgICAgICBzaG93OiAnJXtuYW1lfSAjJXtpZH0nLFxuICAgICAgICAgICAgZW1wdHk6ICdObyAle25hbWV9IHlldC4nLFxuICAgICAgICAgICAgaW52aXRlOiAnRG8geW91IHdhbnQgdG8gYWRkIG9uZT8nLFxuICAgICAgICB9LFxuICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgZmlsZToge1xuICAgICAgICAgICAgICAgIHVwbG9hZF9zZXZlcmFsOiAnRHJvcCBzb21lIGZpbGVzIHRvIHVwbG9hZCwgb3IgY2xpY2sgdG8gc2VsZWN0IG9uZS4nLFxuICAgICAgICAgICAgICAgIHVwbG9hZF9zaW5nbGU6ICdEcm9wIGEgZmlsZSB0byB1cGxvYWQsIG9yIGNsaWNrIHRvIHNlbGVjdCBpdC4nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgICAgICAgdXBsb2FkX3NldmVyYWw6ICdEcm9wIHNvbWUgcGljdHVyZXMgdG8gdXBsb2FkLCBvciBjbGljayB0byBzZWxlY3Qgb25lLicsXG4gICAgICAgICAgICAgICAgdXBsb2FkX3NpbmdsZTogJ0Ryb3AgYSBwaWN0dXJlIHRvIHVwbG9hZCwgb3IgY2xpY2sgdG8gc2VsZWN0IGl0LicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgICAgIGFsbF9taXNzaW5nOiAnVW5hYmxlIHRvIGZpbmQgcmVmZXJlbmNlcyBkYXRhLicsXG4gICAgICAgICAgICAgICAgbWFueV9taXNzaW5nOiAnQXQgbGVhc3Qgb25lIG9mIHRoZSBhc3NvY2lhdGVkIHJlZmVyZW5jZXMgbm8gbG9uZ2VyIGFwcGVhcnMgdG8gYmUgYXZhaWxhYmxlLicsXG4gICAgICAgICAgICAgICAgc2luZ2xlX21pc3Npbmc6ICdBc3NvY2lhdGVkIHJlZmVyZW5jZSBubyBsb25nZXIgYXBwZWFycyB0byBiZSBhdmFpbGFibGUuJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXNzd29yZDoge1xuICAgICAgICAgICAgICAgIHRvZ2dsZV92aXNpYmxlOiAnSGlkZSBwYXNzd29yZCcsXG4gICAgICAgICAgICAgICAgdG9nZ2xlX2hpZGRlbjogJ1Nob3cgcGFzc3dvcmQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgYWJvdXQ6ICdBYm91dCcsXG4gICAgICAgICAgICBhcmVfeW91X3N1cmU6ICdBcmUgeW91IHN1cmU/JyxcbiAgICAgICAgICAgIGJ1bGtfZGVsZXRlX2NvbnRlbnQ6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgJXtuYW1lfT8gfHx8fCBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoZXNlICV7c21hcnRfY291bnR9IGl0ZW1zPycsXG4gICAgICAgICAgICBidWxrX2RlbGV0ZV90aXRsZTogJ0RlbGV0ZSAle25hbWV9IHx8fHwgRGVsZXRlICV7c21hcnRfY291bnR9ICV7bmFtZX0nLFxuICAgICAgICAgICAgYnVsa191cGRhdGVfY29udGVudDogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byB1cGRhdGUgdGhpcyAle25hbWV9PyB8fHx8IEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byB1cGRhdGUgdGhlc2UgJXtzbWFydF9jb3VudH0gaXRlbXM/JyxcbiAgICAgICAgICAgIGJ1bGtfdXBkYXRlX3RpdGxlOiAnVXBkYXRlICV7bmFtZX0gfHx8fCBVcGRhdGUgJXtzbWFydF9jb3VudH0gJXtuYW1lfScsXG4gICAgICAgICAgICBkZWxldGVfY29udGVudDogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBpdGVtPycsXG4gICAgICAgICAgICBkZWxldGVfdGl0bGU6ICdEZWxldGUgJXtuYW1lfSAjJXtpZH0nLFxuICAgICAgICAgICAgZGV0YWlsczogJ0RldGFpbHMnLFxuICAgICAgICAgICAgZXJyb3I6IFwiQSBjbGllbnQgZXJyb3Igb2NjdXJyZWQgYW5kIHlvdXIgcmVxdWVzdCBjb3VsZG4ndCBiZSBjb21wbGV0ZWQuXCIsXG4gICAgICAgICAgICBpbnZhbGlkX2Zvcm06ICdUaGUgZm9ybSBpcyBub3QgdmFsaWQuIFBsZWFzZSBjaGVjayBmb3IgZXJyb3JzJyxcbiAgICAgICAgICAgIGxvYWRpbmc6ICdUaGUgcGFnZSBpcyBsb2FkaW5nLCBqdXN0IGEgbW9tZW50IHBsZWFzZScsXG4gICAgICAgICAgICBubzogJ05vJyxcbiAgICAgICAgICAgIG5vdF9mb3VuZDogJ0VpdGhlciB5b3UgdHlwZWQgYSB3cm9uZyBVUkwsIG9yIHlvdSBmb2xsb3dlZCBhIGJhZCBsaW5rLicsXG4gICAgICAgICAgICB5ZXM6ICdZZXMnLFxuICAgICAgICAgICAgdW5zYXZlZF9jaGFuZ2VzOiBcIlNvbWUgb2YgeW91ciBjaGFuZ2VzIHdlcmVuJ3Qgc2F2ZWQuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBpZ25vcmUgdGhlbT9cIixcbiAgICAgICAgfSxcbiAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgICAgbm9fcmVzdWx0czogJ05vIHJlc3VsdHMgZm91bmQnLFxuICAgICAgICAgICAgbm9fbW9yZV9yZXN1bHRzOiAnVGhlIHBhZ2UgbnVtYmVyICV7cGFnZX0gaXMgb3V0IG9mIGJvdW5kYXJpZXMuIFRyeSB0aGUgcHJldmlvdXMgcGFnZS4nLFxuICAgICAgICAgICAgcGFnZV9vdXRfb2ZfYm91bmRhcmllczogJ1BhZ2UgbnVtYmVyICV7cGFnZX0gb3V0IG9mIGJvdW5kYXJpZXMnLFxuICAgICAgICAgICAgcGFnZV9vdXRfZnJvbV9lbmQ6ICdDYW5ub3QgZ28gYWZ0ZXIgbGFzdCBwYWdlJyxcbiAgICAgICAgICAgIHBhZ2Vfb3V0X2Zyb21fYmVnaW46ICdDYW5ub3QgZ28gYmVmb3JlIHBhZ2UgMScsXG4gICAgICAgICAgICBwYWdlX3JhbmdlX2luZm86ICcle29mZnNldEJlZ2lufS0le29mZnNldEVuZH0gb2YgJXt0b3RhbH0nLFxuICAgICAgICAgICAgcGFnZV9yb3dzX3Blcl9wYWdlOiAnUm93cyBwZXIgcGFnZTonLFxuICAgICAgICAgICAgbmV4dDogJ05leHQnLFxuICAgICAgICAgICAgcHJldjogJ1ByZXYnLFxuICAgICAgICAgICAgc2tpcF9uYXY6ICdTa2lwIHRvIGNvbnRlbnQnLFxuICAgICAgICB9LFxuICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzb3J0X2J5OiAnU29ydCBieSAle2ZpZWxkfSAle29yZGVyfScsXG4gICAgICAgICAgICBBU0M6ICdhc2NlbmRpbmcnLFxuICAgICAgICAgICAgREVTQzogJ2Rlc2NlbmRpbmcnLFxuICAgICAgICB9LFxuICAgICAgICBhdXRoOiB7XG4gICAgICAgICAgICBhdXRoX2NoZWNrX2Vycm9yOiAnUGxlYXNlIGxvZ2luIHRvIGNvbnRpbnVlJyxcbiAgICAgICAgICAgIHVzZXJfbWVudTogJ1Byb2ZpbGUnLFxuICAgICAgICAgICAgdXNlcm5hbWU6ICdVc2VybmFtZScsXG4gICAgICAgICAgICBwYXNzd29yZDogJ1Bhc3N3b3JkJyxcbiAgICAgICAgICAgIHNpZ25faW46ICdTaWduIGluJyxcbiAgICAgICAgICAgIHNpZ25faW5fZXJyb3I6ICdBdXRoZW50aWNhdGlvbiBmYWlsZWQsIHBsZWFzZSByZXRyeScsXG4gICAgICAgICAgICBsb2dvdXQ6ICdMb2dvdXQnLFxuICAgICAgICB9LFxuICAgICAgICBub3RpZmljYXRpb246IHtcbiAgICAgICAgICAgIHVwZGF0ZWQ6ICdFbGVtZW50IHVwZGF0ZWQgfHx8fCAle3NtYXJ0X2NvdW50fSBlbGVtZW50cyB1cGRhdGVkJyxcbiAgICAgICAgICAgIGNyZWF0ZWQ6ICdFbGVtZW50IGNyZWF0ZWQnLFxuICAgICAgICAgICAgZGVsZXRlZDogJ0VsZW1lbnQgZGVsZXRlZCB8fHx8ICV7c21hcnRfY291bnR9IGVsZW1lbnRzIGRlbGV0ZWQnLFxuICAgICAgICAgICAgYmFkX2l0ZW06ICdJbmNvcnJlY3QgZWxlbWVudCcsXG4gICAgICAgICAgICBpdGVtX2RvZXNudF9leGlzdDogJ0VsZW1lbnQgZG9lcyBub3QgZXhpc3QnLFxuICAgICAgICAgICAgaHR0cF9lcnJvcjogJ1NlcnZlciBjb21tdW5pY2F0aW9uIGVycm9yJyxcbiAgICAgICAgICAgIGRhdGFfcHJvdmlkZXJfZXJyb3I6ICdkYXRhUHJvdmlkZXIgZXJyb3IuIENoZWNrIHRoZSBjb25zb2xlIGZvciBkZXRhaWxzLicsXG4gICAgICAgICAgICBpMThuX2Vycm9yOiAnQ2Fubm90IGxvYWQgdGhlIHRyYW5zbGF0aW9ucyBmb3IgdGhlIHNwZWNpZmllZCBsYW5ndWFnZScsXG4gICAgICAgICAgICBjYW5jZWxlZDogJ0FjdGlvbiBjYW5jZWxsZWQnLFxuICAgICAgICAgICAgbG9nZ2VkX291dDogJ1lvdXIgc2Vzc2lvbiBoYXMgZW5kZWQsIHBsZWFzZSByZWNvbm5lY3QuJyxcbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWRhdGlvbjoge1xuICAgICAgICAgICAgcmVxdWlyZWQ6ICdSZXF1aXJlZCcsXG4gICAgICAgICAgICBtaW5MZW5ndGg6ICdNdXN0IGJlICV7bWlufSBjaGFyYWN0ZXJzIGF0IGxlYXN0JyxcbiAgICAgICAgICAgIG1heExlbmd0aDogJ011c3QgYmUgJXttYXh9IGNoYXJhY3RlcnMgb3IgbGVzcycsXG4gICAgICAgICAgICBtaW5WYWx1ZTogJ011c3QgYmUgYXQgbGVhc3QgJXttaW59JyxcbiAgICAgICAgICAgIG1heFZhbHVlOiAnTXVzdCBiZSAle21heH0gb3IgbGVzcycsXG4gICAgICAgICAgICBudW1iZXI6ICdNdXN0IGJlIGEgbnVtYmVyJyxcbiAgICAgICAgICAgIGVtYWlsOiAnTXVzdCBiZSBhIHZhbGlkIGVtYWlsJyxcbiAgICAgICAgICAgIG9uZU9mOiAnTXVzdCBiZSBvbmUgb2Y6ICV7b3B0aW9uc30nLFxuICAgICAgICAgICAgcmVnZXg6ICdNdXN0IG1hdGNoIGEgc3BlY2lmaWMgZm9ybWF0IChyZWdleHApOiAle3BhdHRlcm59JyxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBkZWZhdWx0IGVuZ2xpc2hNZXNzYWdlcztcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlRWxlbWVudCwgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZU1lbW8sIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgQ2FyZCwgQXZhdGFyIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IHsgY3JlYXRlTXVpVGhlbWUsIG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IHsgVGhlbWVQcm92aWRlciB9IGZyb20gJ0BtYXRlcmlhbC11aS9zdHlsZXMnO1xuaW1wb3J0IExvY2tJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9Mb2NrJztcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IHVzZUNoZWNrQXV0aCB9IGZyb20gJ3JhLWNvcmUnO1xuaW1wb3J0IGRlZmF1bHRUaGVtZSBmcm9tICcuLi9kZWZhdWx0VGhlbWUnO1xuaW1wb3J0IERlZmF1bHROb3RpZmljYXRpb24gZnJvbSAnLi4vbGF5b3V0L05vdGlmaWNhdGlvbic7XG5pbXBvcnQgRGVmYXVsdExvZ2luRm9ybSBmcm9tICcuL0xvZ2luRm9ybSc7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHsgcmV0dXJuICh7XG4gICAgbWFpbjoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICBtaW5IZWlnaHQ6ICcxMDB2aCcsXG4gICAgICAgIGhlaWdodDogJzFweCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnLFxuICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiAnbm8tcmVwZWF0JyxcbiAgICAgICAgYmFja2dyb3VuZFNpemU6ICdjb3ZlcicsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogJ3JhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgNTAlIDE0ZW0sICMzMTMyNjQgMCUsICMwMDAyM2IgNjAlLCAjMDAwMjNiIDEwMCUpJyxcbiAgICB9LFxuICAgIGNhcmQ6IHtcbiAgICAgICAgbWluV2lkdGg6IDMwMCxcbiAgICAgICAgbWFyZ2luVG9wOiAnNmVtJyxcbiAgICB9LFxuICAgIGF2YXRhcjoge1xuICAgICAgICBtYXJnaW46ICcxZW0nLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnNlY29uZGFyeVs1MDBdLFxuICAgIH0sXG59KTsgfSwgeyBuYW1lOiAnUmFMb2dpbicgfSk7XG4vKipcbiAqIEEgc3RhbmRhbG9uZSBsb2dpbiBwYWdlLCB0byBzZXJ2ZSBhcyBhdXRoZW50aWNhdGlvbiBnYXRlIHRvIHRoZSBhZG1pblxuICpcbiAqIEV4cGVjdHMgdGhlIHVzZXIgdG8gZW50ZXIgYSBsb2dpbiBhbmQgYSBwYXNzd29yZCwgd2hpY2ggd2lsbCBiZSBjaGVja2VkXG4gKiBieSB0aGUgYGF1dGhQcm92aWRlci5sb2dpbigpYCBtZXRob2QuIFJlZGlyZWN0cyB0byB0aGUgcm9vdCBwYWdlICgvKVxuICogdXBvbiBzdWNjZXNzLCBvdGhlcndpc2UgZGlzcGxheXMgYW4gYXV0aGVudGljYXRpb24gZXJyb3IgbWVzc2FnZS5cbiAqXG4gKiBDb3B5IGFuZCBhZGFwdCB0aGlzIGNvbXBvbmVudCB0byBpbXBsZW1lbnQgeW91ciBvd24gbG9naW4gbG9naWNcbiAqIChlLmcuIHRvIGF1dGhlbnRpY2F0ZSB2aWEgZW1haWwgb3IgZmFjZWJvb2sgb3IgYW55dGhpbmcgZWxzZSkuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICBpbXBvcnQgTXlMb2dpblBhZ2UgZnJvbSAnLi9NeUxvZ2luUGFnZSc7XG4gKiAgICAgY29uc3QgQXBwID0gKCkgPT4gKFxuICogICAgICAgICA8QWRtaW4gbG9naW5QYWdlPXtNeUxvZ2luUGFnZX0gYXV0aFByb3ZpZGVyPXthdXRoUHJvdmlkZXJ9PlxuICogICAgICAgICAgICAgLi4uXG4gKiAgICAgICAgPC9BZG1pbj5cbiAqICAgICApO1xuICovXG52YXIgTG9naW4gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgdGhlbWUgPSBwcm9wcy50aGVtZSwgdGl0bGUgPSBwcm9wcy50aXRsZSwgY2xhc3Nlc092ZXJyaWRlID0gcHJvcHMuY2xhc3NlcywgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLCBub3RpZmljYXRpb24gPSBwcm9wcy5ub3RpZmljYXRpb24sIHN0YXRpY0NvbnRleHQgPSBwcm9wcy5zdGF0aWNDb250ZXh0LCBiYWNrZ3JvdW5kSW1hZ2UgPSBwcm9wcy5iYWNrZ3JvdW5kSW1hZ2UsIHJlc3QgPSBfX3Jlc3QocHJvcHMsIFtcInRoZW1lXCIsIFwidGl0bGVcIiwgXCJjbGFzc2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwiY2hpbGRyZW5cIiwgXCJub3RpZmljYXRpb25cIiwgXCJzdGF0aWNDb250ZXh0XCIsIFwiYmFja2dyb3VuZEltYWdlXCJdKTtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gdXNlUmVmKCk7XG4gICAgdmFyIGNsYXNzZXMgPSB1c2VTdHlsZXMocHJvcHMpO1xuICAgIHZhciBtdWlUaGVtZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlTXVpVGhlbWUodGhlbWUpOyB9LCBbdGhlbWVdKTtcbiAgICB2YXIgYmFja2dyb3VuZEltYWdlTG9hZGVkID0gZmFsc2U7XG4gICAgdmFyIGNoZWNrQXV0aCA9IHVzZUNoZWNrQXV0aCgpO1xuICAgIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoZWNrQXV0aCh7fSwgZmFsc2UpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBhbHJlYWR5IGF1dGhlbnRpY2F0ZWQsIHJlZGlyZWN0IHRvIHRoZSBob21lIHBhZ2VcbiAgICAgICAgICAgIGhpc3RvcnkucHVzaCgnLycpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIG5vdCBhdXRoZW50aWNhdGVkLCBzdGF5IG9uIHRoZSBsb2dpbiBwYWdlXG4gICAgICAgIH0pO1xuICAgIH0sIFtjaGVja0F1dGgsIGhpc3RvcnldKTtcbiAgICB2YXIgdXBkYXRlQmFja2dyb3VuZEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWJhY2tncm91bmRJbWFnZUxvYWRlZCAmJiBjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY29udGFpbmVyUmVmLmN1cnJlbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBiYWNrZ3JvdW5kSW1hZ2UgKyBcIilcIjtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZUxvYWRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIExvYWQgYmFja2dyb3VuZCBpbWFnZSBhc3luY2hyb25vdXNseSB0byBzcGVlZCB1cCB0aW1lIHRvIGludGVyYWN0aXZlXG4gICAgdmFyIGxhenlMb2FkQmFja2dyb3VuZEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoYmFja2dyb3VuZEltYWdlKSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gdXBkYXRlQmFja2dyb3VuZEltYWdlO1xuICAgICAgICAgICAgaW1nLnNyYyA9IGJhY2tncm91bmRJbWFnZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFiYWNrZ3JvdW5kSW1hZ2VMb2FkZWQpIHtcbiAgICAgICAgICAgIGxhenlMb2FkQmFja2dyb3VuZEltYWdlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlbWVQcm92aWRlciwgeyB0aGVtZTogbXVpVGhlbWUgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLm1haW4sIGNsYXNzTmFtZSkgfSwgcmVzdCwgeyByZWY6IGNvbnRhaW5lclJlZiB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FyZCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuY2FyZCB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzZXMuYXZhdGFyIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXZhdGFyLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExvY2tJY29uLCBudWxsKSkpLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuKSxcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbiA/IGNyZWF0ZUVsZW1lbnQobm90aWZpY2F0aW9uKSA6IG51bGwpKSk7XG59O1xuTG9naW4ucHJvcFR5cGVzID0ge1xuICAgIGJhY2tncm91bmRJbWFnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdGhlbWU6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgc3RhdGljQ29udGV4dDogUHJvcFR5cGVzLm9iamVjdCxcbn07XG5Mb2dpbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgdGhlbWU6IGRlZmF1bHRUaGVtZSxcbiAgICBjaGlsZHJlbjogUmVhY3QuY3JlYXRlRWxlbWVudChEZWZhdWx0TG9naW5Gb3JtLCBudWxsKSxcbiAgICBub3RpZmljYXRpb246IERlZmF1bHROb3RpZmljYXRpb24sXG59O1xuZXhwb3J0IGRlZmF1bHQgTG9naW47XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEZpZWxkLCBGb3JtIH0gZnJvbSAncmVhY3QtZmluYWwtZm9ybSc7XG5pbXBvcnQgeyBCdXR0b24sIENhcmRBY3Rpb25zLCBDaXJjdWxhclByb2dyZXNzLCBUZXh0RmllbGQsIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGUsIHVzZUxvZ2luLCB1c2VOb3RpZnksIHVzZVNhZmVTZXRTdGF0ZSB9IGZyb20gJ3JhLWNvcmUnO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoZnVuY3Rpb24gKHRoZW1lKSB7IHJldHVybiAoe1xuICAgIGZvcm06IHtcbiAgICAgICAgcGFkZGluZzogJzAgMWVtIDFlbSAxZW0nLFxuICAgIH0sXG4gICAgaW5wdXQ6IHtcbiAgICAgICAgbWFyZ2luVG9wOiAnMWVtJyxcbiAgICB9LFxuICAgIGJ1dHRvbjoge1xuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgIH0sXG4gICAgaWNvbjoge1xuICAgICAgICBtYXJnaW5SaWdodDogdGhlbWUuc3BhY2luZygxKSxcbiAgICB9LFxufSk7IH0sIHsgbmFtZTogJ1JhTG9naW5Gb3JtJyB9KTtcbnZhciBJbnB1dCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBfYiA9IF9hLm1ldGEsIHRvdWNoZWQgPSBfYi50b3VjaGVkLCBlcnJvciA9IF9iLmVycm9yLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L3Byb3AtdHlwZXNcbiAgICBpbnB1dFByb3BzID0gX2EuaW5wdXQsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3QvcHJvcC10eXBlc1xuICAgIHByb3BzID0gX19yZXN0KF9hLCBbXCJtZXRhXCIsIFwiaW5wdXRcIl0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0RmllbGQsIF9fYXNzaWduKHsgZXJyb3I6ICEhKHRvdWNoZWQgJiYgZXJyb3IpLCBoZWxwZXJUZXh0OiB0b3VjaGVkICYmIGVycm9yIH0sIGlucHV0UHJvcHMsIHByb3BzLCB7IGZ1bGxXaWR0aDogdHJ1ZSB9KSkpO1xufTtcbnZhciBMb2dpbkZvcm0gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgcmVkaXJlY3RUbyA9IHByb3BzLnJlZGlyZWN0VG87XG4gICAgdmFyIF9hID0gdXNlU2FmZVNldFN0YXRlKGZhbHNlKSwgbG9hZGluZyA9IF9hWzBdLCBzZXRMb2FkaW5nID0gX2FbMV07XG4gICAgdmFyIGxvZ2luID0gdXNlTG9naW4oKTtcbiAgICB2YXIgdHJhbnNsYXRlID0gdXNlVHJhbnNsYXRlKCk7XG4gICAgdmFyIG5vdGlmeSA9IHVzZU5vdGlmeSgpO1xuICAgIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKHByb3BzKTtcbiAgICB2YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgIHZhciBlcnJvcnMgPSB7IHVzZXJuYW1lOiB1bmRlZmluZWQsIHBhc3N3b3JkOiB1bmRlZmluZWQgfTtcbiAgICAgICAgaWYgKCF2YWx1ZXMudXNlcm5hbWUpIHtcbiAgICAgICAgICAgIGVycm9ycy51c2VybmFtZSA9IHRyYW5zbGF0ZSgncmEudmFsaWRhdGlvbi5yZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdmFsdWVzLnBhc3N3b3JkKSB7XG4gICAgICAgICAgICBlcnJvcnMucGFzc3dvcmQgPSB0cmFuc2xhdGUoJ3JhLnZhbGlkYXRpb24ucmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3JzO1xuICAgIH07XG4gICAgdmFyIHN1Ym1pdCA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgbG9naW4odmFsdWVzLCByZWRpcmVjdFRvKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIG5vdGlmeSh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgICAgIDogdHlwZW9mIGVycm9yID09PSAndW5kZWZpbmVkJyB8fCAhZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICA/ICdyYS5hdXRoLnNpZ25faW5fZXJyb3InXG4gICAgICAgICAgICAgICAgICAgIDogZXJyb3IubWVzc2FnZSwgJ3dhcm5pbmcnLCB7XG4gICAgICAgICAgICAgICAgXzogdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IGVycm9yXG4gICAgICAgICAgICAgICAgICAgIDogZXJyb3IgJiYgZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtLCB7IG9uU3VibWl0OiBzdWJtaXQsIHZhbGlkYXRlOiB2YWxpZGF0ZSwgcmVuZGVyOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVTdWJtaXQgPSBfYS5oYW5kbGVTdWJtaXQ7XG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHsgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdCwgbm9WYWxpZGF0ZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzZXMuZm9ybSB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmlucHV0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZpZWxkLCB7IGF1dG9Gb2N1czogdHJ1ZSwgaWQ6IFwidXNlcm5hbWVcIiwgbmFtZTogXCJ1c2VybmFtZVwiLCBjb21wb25lbnQ6IElucHV0LCBsYWJlbDogdHJhbnNsYXRlKCdyYS5hdXRoLnVzZXJuYW1lJyksIGRpc2FibGVkOiBsb2FkaW5nIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pbnB1dCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGaWVsZCwgeyBpZDogXCJwYXNzd29yZFwiLCBuYW1lOiBcInBhc3N3b3JkXCIsIGNvbXBvbmVudDogSW5wdXQsIGxhYmVsOiB0cmFuc2xhdGUoJ3JhLmF1dGgucGFzc3dvcmQnKSwgdHlwZTogXCJwYXNzd29yZFwiLCBkaXNhYmxlZDogbG9hZGluZywgYXV0b0NvbXBsZXRlOiBcImN1cnJlbnQtcGFzc3dvcmRcIiB9KSkpLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FyZEFjdGlvbnMsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7IHZhcmlhbnQ6IFwiY29udGFpbmVkXCIsIHR5cGU6IFwic3VibWl0XCIsIGNvbG9yOiBcInByaW1hcnlcIiwgZGlzYWJsZWQ6IGxvYWRpbmcsIGNsYXNzTmFtZTogY2xhc3Nlcy5idXR0b24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmcgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2lyY3VsYXJQcm9ncmVzcywgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiwgc2l6ZTogMTgsIHRoaWNrbmVzczogMiB9KSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUoJ3JhLmF1dGguc2lnbl9pbicpKSkpKTtcbiAgICAgICAgfSB9KSk7XG59O1xuTG9naW5Gb3JtLnByb3BUeXBlcyA9IHtcbiAgICByZWRpcmVjdFRvOiBQcm9wVHlwZXMuc3RyaW5nLFxufTtcbmV4cG9ydCBkZWZhdWx0IExvZ2luRm9ybTtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBMaXN0SXRlbUljb24sIE1lbnVJdGVtLCB1c2VNZWRpYVF1ZXJ5IH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgRXhpdEljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL1Bvd2VyU2V0dGluZ3NOZXcnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGUsIHVzZUxvZ291dCB9IGZyb20gJ3JhLWNvcmUnO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoZnVuY3Rpb24gKHRoZW1lKSB7IHJldHVybiAoe1xuICAgIG1lbnVJdGVtOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuc2Vjb25kYXJ5LFxuICAgIH0sXG4gICAgaWNvbjogeyBtaW5XaWR0aDogdGhlbWUuc3BhY2luZyg1KSB9LFxufSk7IH0sIHsgbmFtZTogJ1JhTG9nb3V0JyB9KTtcbi8qKlxuICogTG9nb3V0IGJ1dHRvbiBjb21wb25lbnQsIHRvIGJlIHBhc3NlZCB0byB0aGUgQWRtaW4gY29tcG9uZW50XG4gKlxuICogVXNlZCBmb3IgdGhlIExvZ291dCBNZW51IGl0ZW0gaW4gdGhlIHNpZGViYXJcbiAqL1xudmFyIExvZ291dFdpdGhSZWYgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIExvZ291dChwcm9wcywgcmVmKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSwgY2xhc3Nlc092ZXJyaWRlID0gcHJvcHMuY2xhc3NlcywgcmVkaXJlY3RUbyA9IHByb3BzLnJlZGlyZWN0VG8sIGljb24gPSBwcm9wcy5pY29uLCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJjbGFzc05hbWVcIiwgXCJjbGFzc2VzXCIsIFwicmVkaXJlY3RUb1wiLCBcImljb25cIl0pO1xuICAgIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKHByb3BzKTtcbiAgICB2YXIgaXNYU21hbGwgPSB1c2VNZWRpYVF1ZXJ5KGZ1bmN0aW9uICh0aGVtZSkge1xuICAgICAgICByZXR1cm4gdGhlbWUuYnJlYWtwb2ludHMuZG93bigneHMnKTtcbiAgICB9KTtcbiAgICB2YXIgdHJhbnNsYXRlID0gdXNlVHJhbnNsYXRlKCk7XG4gICAgdmFyIGxvZ291dCA9IHVzZUxvZ291dCgpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB2YXIgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7IHJldHVybiBsb2dvdXQobnVsbCwgcmVkaXJlY3RUbywgZmFsc2UpOyB9LCBbXG4gICAgICAgIHJlZGlyZWN0VG8sXG4gICAgICAgIGxvZ291dCxcbiAgICBdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUl0ZW0sIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdsb2dvdXQnLCBjbGFzc2VzLm1lbnVJdGVtLCBjbGFzc05hbWUpLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgcmVmOiByZWYsIGNvbXBvbmVudDogaXNYU21hbGwgPyAnc3BhbicgOiAnbGknIH0sIHJlc3QpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtSWNvbiwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9LCBpY29uID8gaWNvbiA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXhpdEljb24sIG51bGwpKSxcbiAgICAgICAgdHJhbnNsYXRlKCdyYS5hdXRoLmxvZ291dCcpKSk7XG59KTtcbkxvZ291dFdpdGhSZWYucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICByZWRpcmVjdFRvOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGljb246IFByb3BUeXBlcy5lbGVtZW50LFxufTtcbmV4cG9ydCBkZWZhdWx0IExvZ291dFdpdGhSZWY7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBCdWxrRGVsZXRlV2l0aENvbmZpcm1CdXR0b24gZnJvbSAnLi9CdWxrRGVsZXRlV2l0aENvbmZpcm1CdXR0b24nO1xuaW1wb3J0IEJ1bGtEZWxldGVXaXRoVW5kb0J1dHRvbiBmcm9tICcuL0J1bGtEZWxldGVXaXRoVW5kb0J1dHRvbic7XG4vKipcbiAqIERlbGV0ZXMgdGhlIHNlbGVjdGVkIHJvd3MuXG4gKlxuICogVG8gYmUgdXNlZCBpbnNpZGUgdGhlIDxMaXN0IGJ1bGtBY3Rpb25CdXR0b25zPiBwcm9wICh3aGVyZSBpdCdzIGVuYWJsZWQgYnkgZGVmYXVsdCkuXG4gKlxuICogQGV4YW1wbGUgLy8gYmFzaWMgdXNhZ2VcbiAqIGltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAncmVhY3QnO1xuICogaW1wb3J0IHsgQnVsa0RlbGV0ZUJ1dHRvbiwgQnVsa0V4cG9ydEJ1dHRvbiB9IGZyb20gJ3JlYWN0LWFkbWluJztcbiAqXG4gKiBjb25zdCBQb3N0QnVsa0FjdGlvbkJ1dHRvbnMgPSAoeyBiYXNlUGF0aCB9KSA9PiAoXG4gKiAgICAgPEZyYWdtZW50PlxuICogICAgICAgICA8QnVsa0V4cG9ydEJ1dHRvbiAvPlxuICogICAgICAgICA8QnVsa0RlbGV0ZUJ1dHRvbiBiYXNlUGF0aD17YmFzZVBhdGh9IC8+XG4gKiAgICAgPC9GcmFnbWVudD5cbiAqICk7XG4gKlxuICogZXhwb3J0IGNvbnN0IFBvc3RMaXN0ID0gKHByb3BzKSA9PiAoXG4gKiAgICAgPExpc3Qgey4uLnByb3BzfSBidWxrQWN0aW9uQnV0dG9ucz17PFBvc3RCdWxrQWN0aW9uQnV0dG9ucyAvPn0+XG4gKiAgICAgICAgIC4uLlxuICogICAgIDwvTGlzdD5cbiAqICk7XG4gKi9cbnZhciBCdWxrRGVsZXRlQnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHVuZG9hYmxlID0gX2EudW5kb2FibGUsIHByb3BzID0gX19yZXN0KF9hLCBbXCJ1bmRvYWJsZVwiXSk7XG4gICAgcmV0dXJuIHVuZG9hYmxlID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnVsa0RlbGV0ZVdpdGhVbmRvQnV0dG9uLCBfX2Fzc2lnbih7fSwgcHJvcHMpKSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudChCdWxrRGVsZXRlV2l0aENvbmZpcm1CdXR0b24sIF9fYXNzaWduKHt9LCBwcm9wcykpKTtcbn07XG5CdWxrRGVsZXRlQnV0dG9uLnByb3BUeXBlcyA9IHtcbiAgICBiYXNlUGF0aDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICByZXNvdXJjZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzZWxlY3RlZElkczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmFueSksXG4gICAgdW5kb2FibGU6IFByb3BUeXBlcy5ib29sLFxuICAgIGljb246IFByb3BUeXBlcy5lbGVtZW50LFxufTtcbkJ1bGtEZWxldGVCdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICAgIHVuZG9hYmxlOiB0cnVlLFxufTtcbmV4cG9ydCBkZWZhdWx0IEJ1bGtEZWxldGVCdXR0b247XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBBY3Rpb25EZWxldGUgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0RlbGV0ZSc7XG5pbXBvcnQgeyBmYWRlIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzL2NvbG9yTWFuaXB1bGF0b3InO1xuaW1wb3J0IGluZmxlY3Rpb24gZnJvbSAnaW5mbGVjdGlvbic7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcbmltcG9ydCB7IHVzZVRyYW5zbGF0ZSwgdXNlRGVsZXRlTWFueSwgdXNlUmVmcmVzaCwgdXNlTm90aWZ5LCB1c2VVbnNlbGVjdEFsbCwgQ1JVRF9ERUxFVEVfTUFOWSwgdXNlUmVzb3VyY2VDb250ZXh0LCB9IGZyb20gJ3JhLWNvcmUnO1xuaW1wb3J0IENvbmZpcm0gZnJvbSAnLi4vbGF5b3V0L0NvbmZpcm0nO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbic7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHsgcmV0dXJuICh7XG4gICAgZGVsZXRlQnV0dG9uOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmVycm9yLm1haW4sXG4gICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBmYWRlKHRoZW1lLnBhbGV0dGUuZXJyb3IubWFpbiwgMC4xMiksXG4gICAgICAgICAgICAvLyBSZXNldCBvbiBtb3VzZSBkZXZpY2VzXG4gICAgICAgICAgICAnQG1lZGlhIChob3Zlcjogbm9uZSknOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9LFxufSk7IH0sIHsgbmFtZTogJ1JhQnVsa0RlbGV0ZVdpdGhDb25maXJtQnV0dG9uJyB9KTtcbnZhciBkZWZhdWx0SWNvbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWN0aW9uRGVsZXRlLCBudWxsKTtcbnZhciBCdWxrRGVsZXRlV2l0aENvbmZpcm1CdXR0b24gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgYmFzZVBhdGggPSBwcm9wcy5iYXNlUGF0aCwgY2xhc3Nlc092ZXJyaWRlID0gcHJvcHMuY2xhc3NlcywgX2EgPSBwcm9wcy5jb25maXJtVGl0bGUsIGNvbmZpcm1UaXRsZSA9IF9hID09PSB2b2lkIDAgPyAncmEubWVzc2FnZS5idWxrX2RlbGV0ZV90aXRsZScgOiBfYSwgX2IgPSBwcm9wcy5jb25maXJtQ29udGVudCwgY29uZmlybUNvbnRlbnQgPSBfYiA9PT0gdm9pZCAwID8gJ3JhLm1lc3NhZ2UuYnVsa19kZWxldGVfY29udGVudCcgOiBfYiwgX2MgPSBwcm9wcy5pY29uLCBpY29uID0gX2MgPT09IHZvaWQgMCA/IGRlZmF1bHRJY29uIDogX2MsIGxhYmVsID0gcHJvcHMubGFiZWwsIG9uQ2xpY2sgPSBwcm9wcy5vbkNsaWNrLCBzZWxlY3RlZElkcyA9IHByb3BzLnNlbGVjdGVkSWRzLCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJiYXNlUGF0aFwiLCBcImNsYXNzZXNcIiwgXCJjb25maXJtVGl0bGVcIiwgXCJjb25maXJtQ29udGVudFwiLCBcImljb25cIiwgXCJsYWJlbFwiLCBcIm9uQ2xpY2tcIiwgXCJzZWxlY3RlZElkc1wiXSk7XG4gICAgdmFyIF9kID0gdXNlU3RhdGUoZmFsc2UpLCBpc09wZW4gPSBfZFswXSwgc2V0T3BlbiA9IF9kWzFdO1xuICAgIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKHByb3BzKTtcbiAgICB2YXIgbm90aWZ5ID0gdXNlTm90aWZ5KCk7XG4gICAgdmFyIHVuc2VsZWN0QWxsID0gdXNlVW5zZWxlY3RBbGwoKTtcbiAgICB2YXIgcmVmcmVzaCA9IHVzZVJlZnJlc2goKTtcbiAgICB2YXIgdHJhbnNsYXRlID0gdXNlVHJhbnNsYXRlKCk7XG4gICAgdmFyIHJlc291cmNlID0gdXNlUmVzb3VyY2VDb250ZXh0KHByb3BzKTtcbiAgICB2YXIgX2UgPSB1c2VEZWxldGVNYW55KHJlc291cmNlLCBzZWxlY3RlZElkcywge1xuICAgICAgICBhY3Rpb246IENSVURfREVMRVRFX01BTlksXG4gICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgICAgICAgbm90aWZ5KCdyYS5ub3RpZmljYXRpb24uZGVsZXRlZCcsICdpbmZvJywge1xuICAgICAgICAgICAgICAgIHNtYXJ0X2NvdW50OiBzZWxlY3RlZElkcy5sZW5ndGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHVuc2VsZWN0QWxsKHJlc291cmNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25GYWlsdXJlOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIG5vdGlmeSh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgICAgIDogZXJyb3IubWVzc2FnZSB8fCAncmEubm90aWZpY2F0aW9uLmh0dHBfZXJyb3InLCAnd2FybmluZycsIHtcbiAgICAgICAgICAgICAgICBfOiB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgOiBlcnJvciAmJiBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRPcGVuKGZhbHNlKTtcbiAgICAgICAgfSxcbiAgICB9KSwgZGVsZXRlTWFueSA9IF9lWzBdLCBsb2FkaW5nID0gX2VbMV0ubG9hZGluZztcbiAgICB2YXIgaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzZXRPcGVuKHRydWUpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZURpYWxvZ0Nsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRPcGVuKGZhbHNlKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVEZWxldGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBkZWxldGVNYW55KCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb25DbGljayhlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX19hc3NpZ24oeyBvbkNsaWNrOiBoYW5kbGVDbGljaywgbGFiZWw6IGxhYmVsLCBjbGFzc05hbWU6IGNsYXNzZXMuZGVsZXRlQnV0dG9uIH0sIHNhbml0aXplUmVzdFByb3BzKHJlc3QpKSwgaWNvbiksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29uZmlybSwgeyBpc09wZW46IGlzT3BlbiwgbG9hZGluZzogbG9hZGluZywgdGl0bGU6IGNvbmZpcm1UaXRsZSwgY29udGVudDogY29uZmlybUNvbnRlbnQsIHRyYW5zbGF0ZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzbWFydF9jb3VudDogc2VsZWN0ZWRJZHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG5hbWU6IHRyYW5zbGF0ZShcInJlc291cmNlcy5cIiArIHJlc291cmNlICsgXCIuZm9yY2VkQ2FzZU5hbWVcIiwge1xuICAgICAgICAgICAgICAgICAgICBzbWFydF9jb3VudDogc2VsZWN0ZWRJZHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBfOiBpbmZsZWN0aW9uLmh1bWFuaXplKHRyYW5zbGF0ZShcInJlc291cmNlcy5cIiArIHJlc291cmNlICsgXCIubmFtZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFydF9jb3VudDogc2VsZWN0ZWRJZHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgXzogaW5mbGVjdGlvbi5pbmZsZWN0KHJlc291cmNlLCBzZWxlY3RlZElkcy5sZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICB9KSwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9LCBvbkNvbmZpcm06IGhhbmRsZURlbGV0ZSwgb25DbG9zZTogaGFuZGxlRGlhbG9nQ2xvc2UgfSkpKTtcbn07XG52YXIgc2FuaXRpemVSZXN0UHJvcHMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYmFzZVBhdGggPSBfYS5iYXNlUGF0aCwgY2xhc3NlcyA9IF9hLmNsYXNzZXMsIGZpbHRlclZhbHVlcyA9IF9hLmZpbHRlclZhbHVlcywgbGFiZWwgPSBfYS5sYWJlbCwgcmVzdCA9IF9fcmVzdChfYSwgW1wiYmFzZVBhdGhcIiwgXCJjbGFzc2VzXCIsIFwiZmlsdGVyVmFsdWVzXCIsIFwibGFiZWxcIl0pO1xuICAgIHJldHVybiByZXN0O1xufTtcbkJ1bGtEZWxldGVXaXRoQ29uZmlybUJ1dHRvbi5wcm9wVHlwZXMgPSB7XG4gICAgYmFzZVBhdGg6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjb25maXJtVGl0bGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY29uZmlybUNvbnRlbnQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgcmVzb3VyY2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2VsZWN0ZWRJZHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5hbnkpLFxuICAgIGljb246IFByb3BUeXBlcy5lbGVtZW50LFxufTtcbkJ1bGtEZWxldGVXaXRoQ29uZmlybUJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbGFiZWw6ICdyYS5hY3Rpb24uZGVsZXRlJyxcbn07XG5leHBvcnQgZGVmYXVsdCBCdWxrRGVsZXRlV2l0aENvbmZpcm1CdXR0b247XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBBY3Rpb25EZWxldGUgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0RlbGV0ZSc7XG5pbXBvcnQgeyBmYWRlIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzL2NvbG9yTWFuaXB1bGF0b3InO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgeyB1c2VEZWxldGVNYW55LCB1c2VSZWZyZXNoLCB1c2VOb3RpZnksIHVzZVVuc2VsZWN0QWxsLCBDUlVEX0RFTEVURV9NQU5ZLCB1c2VSZXNvdXJjZUNvbnRleHQsIHVzZUxpc3RDb250ZXh0LCB9IGZyb20gJ3JhLWNvcmUnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbic7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHsgcmV0dXJuICh7XG4gICAgZGVsZXRlQnV0dG9uOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmVycm9yLm1haW4sXG4gICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBmYWRlKHRoZW1lLnBhbGV0dGUuZXJyb3IubWFpbiwgMC4xMiksXG4gICAgICAgICAgICAvLyBSZXNldCBvbiBtb3VzZSBkZXZpY2VzXG4gICAgICAgICAgICAnQG1lZGlhIChob3Zlcjogbm9uZSknOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9LFxufSk7IH0sIHsgbmFtZTogJ1JhQnVsa0RlbGV0ZVdpdGhVbmRvQnV0dG9uJyB9KTtcbnZhciBCdWxrRGVsZXRlV2l0aFVuZG9CdXR0b24gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgYmFzZVBhdGggPSBwcm9wcy5iYXNlUGF0aCwgY2xhc3Nlc092ZXJyaWRlID0gcHJvcHMuY2xhc3NlcywgaWNvbiA9IHByb3BzLmljb24sIGxhYmVsID0gcHJvcHMubGFiZWwsIG9uQ2xpY2sgPSBwcm9wcy5vbkNsaWNrLCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJiYXNlUGF0aFwiLCBcImNsYXNzZXNcIiwgXCJpY29uXCIsIFwibGFiZWxcIiwgXCJvbkNsaWNrXCJdKTtcbiAgICB2YXIgc2VsZWN0ZWRJZHMgPSB1c2VMaXN0Q29udGV4dChwcm9wcykuc2VsZWN0ZWRJZHM7XG4gICAgdmFyIGNsYXNzZXMgPSB1c2VTdHlsZXMocHJvcHMpO1xuICAgIHZhciBub3RpZnkgPSB1c2VOb3RpZnkoKTtcbiAgICB2YXIgdW5zZWxlY3RBbGwgPSB1c2VVbnNlbGVjdEFsbCgpO1xuICAgIHZhciByZWZyZXNoID0gdXNlUmVmcmVzaCgpO1xuICAgIHZhciByZXNvdXJjZSA9IHVzZVJlc291cmNlQ29udGV4dChwcm9wcyk7XG4gICAgdmFyIF9hID0gdXNlRGVsZXRlTWFueShyZXNvdXJjZSwgc2VsZWN0ZWRJZHMsIHtcbiAgICAgICAgYWN0aW9uOiBDUlVEX0RFTEVURV9NQU5ZLFxuICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5vdGlmeSgncmEubm90aWZpY2F0aW9uLmRlbGV0ZWQnLCAnaW5mbycsIHsgc21hcnRfY291bnQ6IHNlbGVjdGVkSWRzLmxlbmd0aCB9LCB0cnVlKTtcbiAgICAgICAgICAgIHVuc2VsZWN0QWxsKHJlc291cmNlKTtcbiAgICAgICAgICAgIHJlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25GYWlsdXJlOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBub3RpZnkodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gZXJyb3JcbiAgICAgICAgICAgICAgICA6IGVycm9yLm1lc3NhZ2UgfHwgJ3JhLm5vdGlmaWNhdGlvbi5odHRwX2Vycm9yJywgJ3dhcm5pbmcnLCB7XG4gICAgICAgICAgICAgICAgXzogdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IGVycm9yXG4gICAgICAgICAgICAgICAgICAgIDogZXJyb3IgJiYgZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB1bmRvYWJsZTogdHJ1ZSxcbiAgICB9KSwgZGVsZXRlTWFueSA9IF9hWzBdLCBsb2FkaW5nID0gX2FbMV0ubG9hZGluZztcbiAgICB2YXIgaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBkZWxldGVNYW55KCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb25DbGljayhlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX19hc3NpZ24oeyBvbkNsaWNrOiBoYW5kbGVDbGljaywgbGFiZWw6IGxhYmVsLCBjbGFzc05hbWU6IGNsYXNzZXMuZGVsZXRlQnV0dG9uLCBkaXNhYmxlZDogbG9hZGluZyB9LCBzYW5pdGl6ZVJlc3RQcm9wcyhyZXN0KSksIGljb24pKTtcbn07XG52YXIgc2FuaXRpemVSZXN0UHJvcHMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYmFzZVBhdGggPSBfYS5iYXNlUGF0aCwgY2xhc3NlcyA9IF9hLmNsYXNzZXMsIGZpbHRlclZhbHVlcyA9IF9hLmZpbHRlclZhbHVlcywgbGFiZWwgPSBfYS5sYWJlbCwgc2VsZWN0ZWRJZHMgPSBfYS5zZWxlY3RlZElkcywgcmVzdCA9IF9fcmVzdChfYSwgW1wiYmFzZVBhdGhcIiwgXCJjbGFzc2VzXCIsIFwiZmlsdGVyVmFsdWVzXCIsIFwibGFiZWxcIiwgXCJzZWxlY3RlZElkc1wiXSk7XG4gICAgcmV0dXJuIHJlc3Q7XG59O1xuQnVsa0RlbGV0ZVdpdGhVbmRvQnV0dG9uLnByb3BUeXBlcyA9IHtcbiAgICBiYXNlUGF0aDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHJlc291cmNlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNlbGVjdGVkSWRzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuYW55KSxcbiAgICBpY29uOiBQcm9wVHlwZXMuZWxlbWVudCxcbn07XG5CdWxrRGVsZXRlV2l0aFVuZG9CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICAgIGxhYmVsOiAncmEuYWN0aW9uLmRlbGV0ZScsXG4gICAgaWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChBY3Rpb25EZWxldGUsIG51bGwpLFxufTtcbmV4cG9ydCBkZWZhdWx0IEJ1bGtEZWxldGVXaXRoVW5kb0J1dHRvbjtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtZW1vLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEZhYiwgdXNlTWVkaWFRdWVyeSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IENvbnRlbnRBZGQgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0FkZCc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IHVzZVRyYW5zbGF0ZSwgdXNlUmVzb3VyY2VDb250ZXh0IH0gZnJvbSAncmEtY29yZSc7XG5pbXBvcnQgQnV0dG9uLCB7IHNhbml0aXplQnV0dG9uUmVzdFByb3BzIH0gZnJvbSAnLi9CdXR0b24nO1xuLyoqXG4gKiBPcGVucyB0aGUgQ3JlYXRlIHZpZXcgb2YgYSBnaXZlbiByZXNvdXJjZVxuICpcbiAqIFJlbmRlcnMgYXMgYSByZWd1bGFyIGJ1dHRvbiBvbiBkZXNrdG9wLCBhbmQgYSBGbG9hdGluZyBBY3Rpb24gQnV0dG9uXG4gKiBvbiBtb2JpbGUuXG4gKlxuICogQGV4YW1wbGUgLy8gYmFzaWMgdXNhZ2VcbiAqIGltcG9ydCB7IENyZWF0ZUJ1dHRvbiB9IGZyb20gJ3JlYWN0LWFkbWluJztcbiAqXG4gKiBjb25zdCBDb21tZW50Q3JlYXRlQnV0dG9uID0gKCkgPT4gKFxuICogICAgIDxDcmVhdGVCdXR0b24gYmFzZVBhdGg9XCIvY29tbWVudHNcIiBsYWJlbD1cIkNyZWF0ZSBjb21tZW50XCIgLz5cbiAqICk7XG4gKi9cbnZhciBDcmVhdGVCdXR0b24gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgX2EgPSBwcm9wcy5iYXNlUGF0aCwgYmFzZVBhdGggPSBfYSA9PT0gdm9pZCAwID8gJycgOiBfYSwgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCBjbGFzc2VzT3ZlcnJpZGUgPSBwcm9wcy5jbGFzc2VzLCBfYiA9IHByb3BzLmljb24sIGljb24gPSBfYiA9PT0gdm9pZCAwID8gZGVmYXVsdEljb24gOiBfYiwgX2MgPSBwcm9wcy5sYWJlbCwgbGFiZWwgPSBfYyA9PT0gdm9pZCAwID8gJ3JhLmFjdGlvbi5jcmVhdGUnIDogX2MsIF9kID0gcHJvcHMuc2Nyb2xsVG9Ub3AsIHNjcm9sbFRvVG9wID0gX2QgPT09IHZvaWQgMCA/IHRydWUgOiBfZCwgdmFyaWFudCA9IHByb3BzLnZhcmlhbnQsIHJlc3QgPSBfX3Jlc3QocHJvcHMsIFtcImJhc2VQYXRoXCIsIFwiY2xhc3NOYW1lXCIsIFwiY2xhc3Nlc1wiLCBcImljb25cIiwgXCJsYWJlbFwiLCBcInNjcm9sbFRvVG9wXCIsIFwidmFyaWFudFwiXSk7XG4gICAgdmFyIGNsYXNzZXMgPSB1c2VTdHlsZXMocHJvcHMpO1xuICAgIHZhciB0cmFuc2xhdGUgPSB1c2VUcmFuc2xhdGUoKTtcbiAgICB2YXIgaXNTbWFsbCA9IHVzZU1lZGlhUXVlcnkoZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgICAgIHJldHVybiB0aGVtZS5icmVha3BvaW50cy5kb3duKCdzbScpO1xuICAgIH0pO1xuICAgIHZhciByZXNvdXJjZSA9IHVzZVJlc291cmNlQ29udGV4dCgpO1xuICAgIHZhciBsb2NhdGlvbiA9IHVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gKHtcbiAgICAgICAgcGF0aG5hbWU6IGJhc2VQYXRoID8gYmFzZVBhdGggKyBcIi9jcmVhdGVcIiA6IFwiL1wiICsgcmVzb3VyY2UgKyBcIi9jcmVhdGVcIixcbiAgICAgICAgc3RhdGU6IHsgX3Njcm9sbFRvVG9wOiBzY3JvbGxUb1RvcCB9LFxuICAgIH0pOyB9LCBbYmFzZVBhdGgsIHJlc291cmNlLCBzY3JvbGxUb1RvcF0pO1xuICAgIHJldHVybiBpc1NtYWxsID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmFiLCBfX2Fzc2lnbih7IGNvbXBvbmVudDogTGluaywgY29sb3I6IFwicHJpbWFyeVwiLCBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy5mbG9hdGluZywgY2xhc3NOYW1lKSwgdG86IGxvY2F0aW9uLCBcImFyaWEtbGFiZWxcIjogbGFiZWwgJiYgdHJhbnNsYXRlKGxhYmVsKSB9LCBzYW5pdGl6ZUJ1dHRvblJlc3RQcm9wcyhyZXN0KSksIGljb24pKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgX19hc3NpZ24oeyBjb21wb25lbnQ6IExpbmssIHRvOiBsb2NhdGlvbiwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIGxhYmVsOiBsYWJlbCwgdmFyaWFudDogdmFyaWFudCB9LCByZXN0KSwgaWNvbikpO1xufTtcbnZhciBkZWZhdWx0SWNvbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudEFkZCwgbnVsbCk7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHsgcmV0dXJuICh7XG4gICAgZmxvYXRpbmc6IHtcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuZ2V0Q29udHJhc3RUZXh0KHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluKSxcbiAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICB0b3A6ICdhdXRvJyxcbiAgICAgICAgcmlnaHQ6IDIwLFxuICAgICAgICBib3R0b206IDYwLFxuICAgICAgICBsZWZ0OiAnYXV0bycsXG4gICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICB6SW5kZXg6IDEwMDAsXG4gICAgfSxcbn0pOyB9LCB7IG5hbWU6ICdSYUNyZWF0ZUJ1dHRvbicgfSk7XG5DcmVhdGVCdXR0b24ucHJvcFR5cGVzID0ge1xuICAgIGJhc2VQYXRoOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGljb246IFByb3BUeXBlcy5lbGVtZW50LFxuICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxufTtcbmV4cG9ydCBkZWZhdWx0IG1lbW8oQ3JlYXRlQnV0dG9uLCBmdW5jdGlvbiAocHJldlByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gKHByZXZQcm9wcy5iYXNlUGF0aCA9PT0gbmV4dFByb3BzLmJhc2VQYXRoICYmXG4gICAgICAgIHByZXZQcm9wcy5sYWJlbCA9PT0gbmV4dFByb3BzLmxhYmVsICYmXG4gICAgICAgIHByZXZQcm9wcy50cmFuc2xhdGUgPT09IG5leHRQcm9wcy50cmFuc2xhdGUgJiZcbiAgICAgICAgcHJldlByb3BzLnRvID09PSBuZXh0UHJvcHMudG8gJiZcbiAgICAgICAgcHJldlByb3BzLmRpc2FibGVkID09PSBuZXh0UHJvcHMuZGlzYWJsZWQpO1xufSk7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IERvd25sb2FkSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvR2V0QXBwJztcbmltcG9ydCB7IGZldGNoUmVsYXRlZFJlY29yZHMsIHVzZURhdGFQcm92aWRlciwgdXNlTm90aWZ5LCB1c2VMaXN0Q29udGV4dCwgdXNlUmVzb3VyY2VDb250ZXh0LCB9IGZyb20gJ3JhLWNvcmUnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbic7XG52YXIgRXhwb3J0QnV0dG9uID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIF9hID0gcHJvcHMubWF4UmVzdWx0cywgbWF4UmVzdWx0cyA9IF9hID09PSB2b2lkIDAgPyAxMDAwIDogX2EsIG9uQ2xpY2sgPSBwcm9wcy5vbkNsaWNrLCBfYiA9IHByb3BzLmxhYmVsLCBsYWJlbCA9IF9iID09PSB2b2lkIDAgPyAncmEuYWN0aW9uLmV4cG9ydCcgOiBfYiwgX2MgPSBwcm9wcy5pY29uLCBpY29uID0gX2MgPT09IHZvaWQgMCA/IGRlZmF1bHRJY29uIDogX2MsIGN1c3RvbUV4cG9ydGVyID0gcHJvcHMuZXhwb3J0ZXIsIHNvcnQgPSBwcm9wcy5zb3J0LCAvLyBkZXByZWNhdGVkLCB0byBiZSByZW1vdmVkIGluIHY0XG4gICAgcmVzdCA9IF9fcmVzdChwcm9wcywgW1wibWF4UmVzdWx0c1wiLCBcIm9uQ2xpY2tcIiwgXCJsYWJlbFwiLCBcImljb25cIiwgXCJleHBvcnRlclwiLCBcInNvcnRcIl0pO1xuICAgIHZhciBfZCA9IHVzZUxpc3RDb250ZXh0KHByb3BzKSwgZmlsdGVyID0gX2QuZmlsdGVyLCBmaWx0ZXJWYWx1ZXMgPSBfZC5maWx0ZXJWYWx1ZXMsIGN1cnJlbnRTb3J0ID0gX2QuY3VycmVudFNvcnQsIGV4cG9ydGVyRnJvbUNvbnRleHQgPSBfZC5leHBvcnRlciwgdG90YWwgPSBfZC50b3RhbDtcbiAgICB2YXIgcmVzb3VyY2UgPSB1c2VSZXNvdXJjZUNvbnRleHQocHJvcHMpO1xuICAgIHZhciBleHBvcnRlciA9IGN1c3RvbUV4cG9ydGVyIHx8IGV4cG9ydGVyRnJvbUNvbnRleHQ7XG4gICAgdmFyIGRhdGFQcm92aWRlciA9IHVzZURhdGFQcm92aWRlcigpO1xuICAgIHZhciBub3RpZnkgPSB1c2VOb3RpZnkoKTtcbiAgICB2YXIgaGFuZGxlQ2xpY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZGF0YVByb3ZpZGVyXG4gICAgICAgICAgICAuZ2V0TGlzdChyZXNvdXJjZSwge1xuICAgICAgICAgICAgc29ydDogY3VycmVudFNvcnQgfHwgc29ydCxcbiAgICAgICAgICAgIGZpbHRlcjogZmlsdGVyXG4gICAgICAgICAgICAgICAgPyBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZmlsdGVyVmFsdWVzKSwgZmlsdGVyKSA6IGZpbHRlclZhbHVlcyxcbiAgICAgICAgICAgIHBhZ2luYXRpb246IHsgcGFnZTogMSwgcGVyUGFnZTogbWF4UmVzdWx0cyB9LFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IF9hLmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0ZXIgJiZcbiAgICAgICAgICAgICAgICBleHBvcnRlcihkYXRhLCBmZXRjaFJlbGF0ZWRSZWNvcmRzKGRhdGFQcm92aWRlciksIGRhdGFQcm92aWRlciwgcmVzb3VyY2UpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICBub3RpZnkoJ3JhLm5vdGlmaWNhdGlvbi5odHRwX2Vycm9yJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2Ygb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb25DbGljayhldmVudCk7XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIGN1cnJlbnRTb3J0LFxuICAgICAgICBkYXRhUHJvdmlkZXIsXG4gICAgICAgIGV4cG9ydGVyLFxuICAgICAgICBmaWx0ZXIsXG4gICAgICAgIGZpbHRlclZhbHVlcyxcbiAgICAgICAgbWF4UmVzdWx0cyxcbiAgICAgICAgbm90aWZ5LFxuICAgICAgICBvbkNsaWNrLFxuICAgICAgICByZXNvdXJjZSxcbiAgICAgICAgc29ydCxcbiAgICBdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCBfX2Fzc2lnbih7IG9uQ2xpY2s6IGhhbmRsZUNsaWNrLCBsYWJlbDogbGFiZWwsIGRpc2FibGVkOiB0b3RhbCA9PT0gMCB9LCBzYW5pdGl6ZVJlc3RQcm9wcyhyZXN0KSksIGljb24pKTtcbn07XG52YXIgZGVmYXVsdEljb24gPSBSZWFjdC5jcmVhdGVFbGVtZW50KERvd25sb2FkSWNvbiwgbnVsbCk7XG52YXIgc2FuaXRpemVSZXN0UHJvcHMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYmFzZVBhdGggPSBfYS5iYXNlUGF0aCwgZmlsdGVyVmFsdWVzID0gX2EuZmlsdGVyVmFsdWVzLCByZXNvdXJjZSA9IF9hLnJlc291cmNlLCByZXN0ID0gX19yZXN0KF9hLCBbXCJiYXNlUGF0aFwiLCBcImZpbHRlclZhbHVlc1wiLCBcInJlc291cmNlXCJdKTtcbiAgICByZXR1cm4gcmVzdDtcbn07XG5FeHBvcnRCdXR0b24ucHJvcFR5cGVzID0ge1xuICAgIGJhc2VQYXRoOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGV4cG9ydGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBmaWx0ZXJWYWx1ZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbWF4UmVzdWx0czogUHJvcFR5cGVzLm51bWJlcixcbiAgICByZXNvdXJjZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzb3J0OiBQcm9wVHlwZXMuZXhhY3Qoe1xuICAgICAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgb3JkZXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfSksXG4gICAgaWNvbjogUHJvcFR5cGVzLmVsZW1lbnQsXG59O1xuZXhwb3J0IGRlZmF1bHQgRXhwb3J0QnV0dG9uO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZ2V0IGZyb20gJ2xvZGFzaC9nZXQnO1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IHsgdXNlUmVjb3JkQ29udGV4dCB9IGZyb20gJ3JhLWNvcmUnO1xuaW1wb3J0IHNhbml0aXplRmllbGRSZXN0UHJvcHMgZnJvbSAnLi9zYW5pdGl6ZUZpZWxkUmVzdFByb3BzJztcbmltcG9ydCB7IGZpZWxkUHJvcFR5cGVzIH0gZnJvbSAnLi90eXBlcyc7XG4vLyB1c2VmdWwgdG8gcHJldmVudCBjbGljayBidWJibGluZyBpbiBhIGRhdGFncmlkIHdpdGggcm93Q2xpY2tcbnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5zdG9wUHJvcGFnYXRpb24oKTsgfTtcbnZhciBFbWFpbEZpZWxkID0gbWVtbyhmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCBzb3VyY2UgPSBwcm9wcy5zb3VyY2UsIGVtcHR5VGV4dCA9IHByb3BzLmVtcHR5VGV4dCwgcmVzdCA9IF9fcmVzdChwcm9wcywgW1wiY2xhc3NOYW1lXCIsIFwic291cmNlXCIsIFwiZW1wdHlUZXh0XCJdKTtcbiAgICB2YXIgcmVjb3JkID0gdXNlUmVjb3JkQ29udGV4dChwcm9wcyk7XG4gICAgdmFyIHZhbHVlID0gZ2V0KHJlY29yZCwgc291cmNlKTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZW1wdHlUZXh0ID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgX19hc3NpZ24oeyBjb21wb25lbnQ6IFwic3BhblwiLCB2YXJpYW50OiBcImJvZHkyXCIsIGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sIHNhbml0aXplRmllbGRSZXN0UHJvcHMocmVzdCkpLCBlbXB0eVRleHQpKSA6IG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBocmVmOiBcIm1haWx0bzpcIiArIHZhbHVlLCBvbkNsaWNrOiBzdG9wUHJvcGFnYXRpb24gfSwgc2FuaXRpemVGaWVsZFJlc3RQcm9wcyhyZXN0KSksIHZhbHVlKSk7XG59KTtcbkVtYWlsRmllbGQuZGVmYXVsdFByb3BzID0ge1xuICAgIGFkZExhYmVsOiB0cnVlLFxufTtcbkVtYWlsRmllbGQucHJvcFR5cGVzID0gZmllbGRQcm9wVHlwZXM7XG5leHBvcnQgZGVmYXVsdCBFbWFpbEZpZWxkO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nJztcbmltcG9ydCBEaWFsb2dBY3Rpb25zIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ0FjdGlvbnMnO1xuaW1wb3J0IERpYWxvZ0NvbnRlbnQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQ29udGVudCc7XG5pbXBvcnQgRGlhbG9nQ29udGVudFRleHQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRGlhbG9nQ29udGVudFRleHQnO1xuaW1wb3J0IERpYWxvZ1RpdGxlIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0RpYWxvZ1RpdGxlJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IHsgZmFkZSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcy9jb2xvck1hbmlwdWxhdG9yJztcbmltcG9ydCBBY3Rpb25DaGVjayBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2hlY2tDaXJjbGUnO1xuaW1wb3J0IEFsZXJ0RXJyb3IgZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0Vycm9yT3V0bGluZSc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHVzZVRyYW5zbGF0ZSB9IGZyb20gJ3JhLWNvcmUnO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoZnVuY3Rpb24gKHRoZW1lKSB7IHJldHVybiAoe1xuICAgIGNvbmZpcm1QcmltYXJ5OiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICB9LFxuICAgIGNvbmZpcm1XYXJuaW5nOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmVycm9yLm1haW4sXG4gICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBmYWRlKHRoZW1lLnBhbGV0dGUuZXJyb3IubWFpbiwgMC4xMiksXG4gICAgICAgICAgICAvLyBSZXNldCBvbiBtb3VzZSBkZXZpY2VzXG4gICAgICAgICAgICAnQG1lZGlhIChob3Zlcjogbm9uZSknOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGljb25QYWRkaW5nU3R5bGU6IHtcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAnMC41ZW0nLFxuICAgIH0sXG59KTsgfSwgeyBuYW1lOiAnUmFDb25maXJtJyB9KTtcbi8qKlxuICogQ29uZmlybWF0aW9uIGRpYWxvZ1xuICpcbiAqIEBleGFtcGxlXG4gKiA8Q29uZmlybVxuICogICAgIGlzT3Blbj17dHJ1ZX1cbiAqICAgICB0aXRsZT1cIkRlbGV0ZSBJdGVtXCJcbiAqICAgICBjb250ZW50PVwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGl0ZW0/XCJcbiAqICAgICBjb25maXJtPVwiWWVzXCJcbiAqICAgICBjb25maXJtQ29sb3I9XCJwcmltYXJ5XCJcbiAqICAgICBDb25maXJtSWNvbj1BY3Rpb25DaGVja1xuICogICAgIENhbmNlbEljb249QWxlcnRFcnJvclxuICogICAgIGNhbmNlbD1cIkNhbmNlbFwiXG4gKiAgICAgb25Db25maXJtPXsoKSA9PiB7IC8vIGRvIHNvbWV0aGluZyB9fVxuICogICAgIG9uQ2xvc2U9eygpID0+IHsgLy8gZG8gc29tZXRoaW5nIH19XG4gKiAvPlxuICovXG52YXIgQ29uZmlybSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBfYTtcbiAgICB2YXIgaXNPcGVuID0gcHJvcHMuaXNPcGVuLCBsb2FkaW5nID0gcHJvcHMubG9hZGluZywgdGl0bGUgPSBwcm9wcy50aXRsZSwgY29udGVudCA9IHByb3BzLmNvbnRlbnQsIGNvbmZpcm0gPSBwcm9wcy5jb25maXJtLCBjYW5jZWwgPSBwcm9wcy5jYW5jZWwsIGNvbmZpcm1Db2xvciA9IHByb3BzLmNvbmZpcm1Db2xvciwgQ29uZmlybUljb24gPSBwcm9wcy5Db25maXJtSWNvbiwgQ2FuY2VsSWNvbiA9IHByb3BzLkNhbmNlbEljb24sIG9uQ2xvc2UgPSBwcm9wcy5vbkNsb3NlLCBvbkNvbmZpcm0gPSBwcm9wcy5vbkNvbmZpcm0sIF9iID0gcHJvcHMudHJhbnNsYXRlT3B0aW9ucywgdHJhbnNsYXRlT3B0aW9ucyA9IF9iID09PSB2b2lkIDAgPyB7fSA6IF9iO1xuICAgIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKHByb3BzKTtcbiAgICB2YXIgdHJhbnNsYXRlID0gdXNlVHJhbnNsYXRlKCk7XG4gICAgdmFyIGhhbmRsZUNvbmZpcm0gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBvbkNvbmZpcm0oZSk7XG4gICAgfSwgW29uQ29uZmlybV0pO1xuICAgIHZhciBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChEaWFsb2csIHsgb3BlbjogaXNPcGVuLCBvbkNsb3NlOiBvbkNsb3NlLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgXCJhcmlhLWxhYmVsbGVkYnlcIjogXCJhbGVydC1kaWFsb2ctdGl0bGVcIiB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZ1RpdGxlLCB7IGlkOiBcImFsZXJ0LWRpYWxvZy10aXRsZVwiIH0sIHRyYW5zbGF0ZSh0aXRsZSwgX19hc3NpZ24oeyBfOiB0aXRsZSB9LCB0cmFuc2xhdGVPcHRpb25zKSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZ0NvbnRlbnQsIG51bGwsIHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyA/IChSZWFjdC5jcmVhdGVFbGVtZW50KERpYWxvZ0NvbnRlbnRUZXh0LCBudWxsLCB0cmFuc2xhdGUoY29udGVudCwgX19hc3NpZ24oeyBfOiBjb250ZW50IH0sIHRyYW5zbGF0ZU9wdGlvbnMpKSkpIDogKGNvbnRlbnQpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaWFsb2dBY3Rpb25zLCBudWxsLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgZGlzYWJsZWQ6IGxvYWRpbmcsIG9uQ2xpY2s6IG9uQ2xvc2UgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENhbmNlbEljb24sIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmljb25QYWRkaW5nU3R5bGUgfSksXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlKGNhbmNlbCwgeyBfOiBjYW5jZWwgfSkpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgZGlzYWJsZWQ6IGxvYWRpbmcsIG9uQ2xpY2s6IGhhbmRsZUNvbmZpcm0sIGNsYXNzTmFtZTogY2xhc3NuYW1lcygncmEtY29uZmlybScsIChfYSA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBfYVtjbGFzc2VzLmNvbmZpcm1XYXJuaW5nXSA9IGNvbmZpcm1Db2xvciA9PT0gJ3dhcm5pbmcnLFxuICAgICAgICAgICAgICAgICAgICBfYVtjbGFzc2VzLmNvbmZpcm1QcmltYXJ5XSA9IGNvbmZpcm1Db2xvciA9PT0gJ3ByaW1hcnknLFxuICAgICAgICAgICAgICAgICAgICBfYSkpLCBhdXRvRm9jdXM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbmZpcm1JY29uLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uUGFkZGluZ1N0eWxlIH0pLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZShjb25maXJtLCB7IF86IGNvbmZpcm0gfSkpKSkpO1xufTtcbkNvbmZpcm0ucHJvcFR5cGVzID0ge1xuICAgIGNhbmNlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGNvbmZpcm06IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY29uZmlybUNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIENvbmZpcm1JY29uOiBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgQ2FuY2VsSWNvbjogUHJvcFR5cGVzLmVsZW1lbnRUeXBlLFxuICAgIGNvbnRlbnQ6IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXG4gICAgaXNPcGVuOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBsb2FkaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uQ29uZmlybTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxufTtcbkNvbmZpcm0uZGVmYXVsdFByb3BzID0ge1xuICAgIGNhbmNlbDogJ3JhLmFjdGlvbi5jYW5jZWwnLFxuICAgIGNsYXNzZXM6IHt9LFxuICAgIGNvbmZpcm06ICdyYS5hY3Rpb24uY29uZmlybScsXG4gICAgY29uZmlybUNvbG9yOiAncHJpbWFyeScsXG4gICAgQ29uZmlybUljb246IEFjdGlvbkNoZWNrLFxuICAgIENhbmNlbEljb246IEFsZXJ0RXJyb3IsXG4gICAgaXNPcGVuOiBmYWxzZSxcbn07XG5leHBvcnQgZGVmYXVsdCBDb25maXJtO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DaXJjdWxhclByb2dyZXNzJztcbmltcG9ydCB7IHVzZVRyYW5zbGF0ZSB9IGZyb20gJ3JhLWNvcmUnO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoe1xuICAgICAgICBjb250YWluZXI6IChfYSA9IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FbdGhlbWUuYnJlYWtwb2ludHMudXAoJ21kJyldID0ge1xuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hW3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ2xnJyldID0ge1xuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMHZoJyxcbiAgICAgICAgICAgICAgICBtYXJnaW5Ub3A6ICctM2VtJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYSksXG4gICAgICAgIGljb246IHtcbiAgICAgICAgICAgIHdpZHRoOiAnOWVtJyxcbiAgICAgICAgICAgIGhlaWdodDogJzllbScsXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnUm9ib3RvLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgICAgIG1hcmdpbjogJzAgMWVtJyxcbiAgICAgICAgfSxcbiAgICB9KTtcbn0sIHsgbmFtZTogJ1JhTG9hZGluZycgfSk7XG52YXIgTG9hZGluZyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsIF9hID0gcHJvcHMubG9hZGluZ1ByaW1hcnksIGxvYWRpbmdQcmltYXJ5ID0gX2EgPT09IHZvaWQgMCA/ICdyYS5wYWdlLmxvYWRpbmcnIDogX2EsIF9iID0gcHJvcHMubG9hZGluZ1NlY29uZGFyeSwgbG9hZGluZ1NlY29uZGFyeSA9IF9iID09PSB2b2lkIDAgPyAncmEubWVzc2FnZS5sb2FkaW5nJyA6IF9iO1xuICAgIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKHByb3BzKTtcbiAgICB2YXIgdHJhbnNsYXRlID0gdXNlVHJhbnNsYXRlKCk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMuY29udGFpbmVyLCBjbGFzc05hbWUpIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzZXMubWVzc2FnZSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDaXJjdWxhclByb2dyZXNzLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uLCBjb2xvcjogXCJwcmltYXJ5XCIgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDFcIiwgbnVsbCwgdHJhbnNsYXRlKGxvYWRpbmdQcmltYXJ5KSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlKGxvYWRpbmdTZWNvbmRhcnkpLFxuICAgICAgICAgICAgICAgIFwiLlwiKSkpKTtcbn07XG5Mb2FkaW5nLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsb2FkaW5nUHJpbWFyeTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsb2FkaW5nU2Vjb25kYXJ5OiBQcm9wVHlwZXMuc3RyaW5nLFxufTtcbkxvYWRpbmcuZGVmYXVsdFByb3BzID0ge1xuICAgIGxvYWRpbmdQcmltYXJ5OiAncmEucGFnZS5sb2FkaW5nJyxcbiAgICBsb2FkaW5nU2Vjb25kYXJ5OiAncmEubWVzc2FnZS5sb2FkaW5nJyxcbn07XG5leHBvcnQgZGVmYXVsdCBMb2FkaW5nO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3N0eWxlcyc7XG5pbXBvcnQgeyBjcmVhdGVNdWlUaGVtZSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgTG9hZGluZyBmcm9tICcuL0xvYWRpbmcnO1xudmFyIExvYWRpbmdQYWdlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHRoZW1lID0gX2EudGhlbWUsIHByb3BzID0gX19yZXN0KF9hLCBbXCJ0aGVtZVwiXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRoZW1lUHJvdmlkZXIsIHsgdGhlbWU6IHRoZW1lIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgX19hc3NpZ24oe30sIHByb3BzKSkpKTtcbn07XG5Mb2FkaW5nUGFnZS5wcm9wVHlwZXMgPSB7XG4gICAgdGhlbWU6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbG9hZGluZ1ByaW1hcnk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbG9hZGluZ1NlY29uZGFyeTogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5Mb2FkaW5nUGFnZS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgdGhlbWU6IGNyZWF0ZU11aVRoZW1lKHt9KSxcbiAgICBsb2FkaW5nUHJpbWFyeTogJ3JhLnBhZ2UubG9hZGluZycsXG4gICAgbG9hZGluZ1NlY29uZGFyeTogJ3JhLm1lc3NhZ2UubG9hZGluZycsXG59O1xuZXhwb3J0IGRlZmF1bHQgTG9hZGluZ1BhZ2U7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IEhvdFR1YiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvSG90VHViJztcbmltcG9ydCBIaXN0b3J5IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9IaXN0b3J5JztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgdXNlQXV0aGVudGljYXRlZCwgdXNlVHJhbnNsYXRlIH0gZnJvbSAncmEtY29yZSc7XG5pbXBvcnQgVGl0bGUgZnJvbSAnLi9UaXRsZSc7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICh7XG4gICAgICAgIGNvbnRhaW5lcjogKF9hID0ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYVt0aGVtZS5icmVha3BvaW50cy51cCgnbWQnKV0gPSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FbdGhlbWUuYnJlYWtwb2ludHMuZG93bignc20nKV0gPSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogJy0zZW0nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hKSxcbiAgICAgICAgaWNvbjoge1xuICAgICAgICAgICAgd2lkdGg6ICc5ZW0nLFxuICAgICAgICAgICAgaGVpZ2h0OiAnOWVtJyxcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdSb2JvdG8sIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgICAgICAgbWFyZ2luOiAnMCAxZW0nLFxuICAgICAgICB9LFxuICAgICAgICB0b29sYmFyOiB7XG4gICAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgbWFyZ2luVG9wOiAnMmVtJyxcbiAgICAgICAgfSxcbiAgICB9KTtcbn0sIHsgbmFtZTogJ1JhTm90Rm91bmQnIH0pO1xuZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIHdpbmRvdy5oaXN0b3J5LmdvKC0xKTtcbn1cbnZhciBOb3RGb3VuZCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsIGNsYXNzZXNPdmVycmlkZSA9IHByb3BzLmNsYXNzZXMsIHRpdGxlID0gcHJvcHMudGl0bGUsIHJlc3QgPSBfX3Jlc3QocHJvcHMsIFtcImNsYXNzTmFtZVwiLCBcImNsYXNzZXNcIiwgXCJ0aXRsZVwiXSk7XG4gICAgdmFyIGNsYXNzZXMgPSB1c2VTdHlsZXMocHJvcHMpO1xuICAgIHZhciB0cmFuc2xhdGUgPSB1c2VUcmFuc2xhdGUoKTtcbiAgICB1c2VBdXRoZW50aWNhdGVkKCk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzZXMuY29udGFpbmVyLCBjbGFzc05hbWUpIH0sIHNhbml0aXplUmVzdFByb3BzKHJlc3QpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUaXRsZSwgeyBkZWZhdWx0VGl0bGU6IHRpdGxlIH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLm1lc3NhZ2UgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSG90VHViLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImgxXCIsIG51bGwsIHRyYW5zbGF0ZSgncmEucGFnZS5ub3RfZm91bmQnKSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlKCdyYS5tZXNzYWdlLm5vdF9mb3VuZCcpLFxuICAgICAgICAgICAgICAgIFwiLlwiKSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzZXMudG9vbGJhciB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgdmFyaWFudDogXCJjb250YWluZWRcIiwgc3RhcnRJY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KEhpc3RvcnksIG51bGwpLCBvbkNsaWNrOiBnb0JhY2sgfSwgdHJhbnNsYXRlKCdyYS5hY3Rpb24uYmFjaycpKSkpKTtcbn07XG52YXIgc2FuaXRpemVSZXN0UHJvcHMgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgc3RhdGljQ29udGV4dCA9IF9hLnN0YXRpY0NvbnRleHQsIGhpc3RvcnkgPSBfYS5oaXN0b3J5LCBsb2NhdGlvbiA9IF9hLmxvY2F0aW9uLCBtYXRjaCA9IF9hLm1hdGNoLCByZXN0ID0gX19yZXN0KF9hLCBbXCJzdGF0aWNDb250ZXh0XCIsIFwiaGlzdG9yeVwiLCBcImxvY2F0aW9uXCIsIFwibWF0Y2hcIl0pO1xuICAgIHJldHVybiByZXN0O1xufTtcbk5vdEZvdW5kLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsb2NhdGlvbjogUHJvcFR5cGVzLm9iamVjdCxcbn07XG5leHBvcnQgZGVmYXVsdCBOb3RGb3VuZDtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFRvb2xiYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVG9vbGJhcic7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoe1xuICAgICAgICByb290OiAoX2EgPSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgICAgICAgICAgICAgbWluSGVpZ2h0OiB0aGVtZS5zcGFjaW5nKDUpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FbdGhlbWUuYnJlYWtwb2ludHMudXAoJ3hzJyldID0ge1xuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYVt0aGVtZS5icmVha3BvaW50cy5kb3duKCdzbScpXSA9IHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FbdGhlbWUuYnJlYWtwb2ludHMuZG93bigneHMnKV0gPSB7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYSksXG4gICAgfSk7XG59LCB7IG5hbWU6ICdSYVRvcFRvb2xiYXInIH0pO1xudmFyIFRvcFRvb2xiYXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJjbGFzc05hbWVcIiwgXCJjaGlsZHJlblwiXSk7XG4gICAgdmFyIGNsYXNzZXMgPSB1c2VTdHlsZXMocHJvcHMpO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUb29sYmFyLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSkgfSwgcmVzdCksIGNoaWxkcmVuKSk7XG59O1xuVG9wVG9vbGJhci5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5leHBvcnQgZGVmYXVsdCBUb3BUb29sYmFyO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENoaWxkcmVuLCBjbG9uZUVsZW1lbnQsIGlzVmFsaWRFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IFRvb2xiYXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVG9vbGJhcic7XG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UeXBvZ3JhcGh5JztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IHsgbGlnaHRlbiB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcy9jb2xvck1hbmlwdWxhdG9yJztcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b24nO1xuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xvc2UnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRlLCBzYW5pdGl6ZUxpc3RSZXN0UHJvcHMsIHVzZUxpc3RDb250ZXh0IH0gZnJvbSAncmEtY29yZSc7XG5pbXBvcnQgVG9wVG9vbGJhciBmcm9tICcuLi9sYXlvdXQvVG9wVG9vbGJhcic7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHsgcmV0dXJuICh7XG4gICAgdG9vbGJhcjoge1xuICAgICAgICB6SW5kZXg6IDMsXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCdcbiAgICAgICAgICAgID8gdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW5cbiAgICAgICAgICAgIDogdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnksXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS50eXBlID09PSAnbGlnaHQnXG4gICAgICAgICAgICA/IGxpZ2h0ZW4odGhlbWUucGFsZXR0ZS5wcmltYXJ5LmxpZ2h0LCAwLjg1KVxuICAgICAgICAgICAgOiB0aGVtZS5wYWxldHRlLnByaW1hcnkuZGFyayxcbiAgICAgICAgbWluSGVpZ2h0OiB0aGVtZS5zcGFjaW5nKDgpLFxuICAgICAgICBoZWlnaHQ6IHRoZW1lLnNwYWNpbmcoOCksXG4gICAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgnaGVpZ2h0JykgKyBcIiwgXCIgKyB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoJ21pbi1oZWlnaHQnKSxcbiAgICB9LFxuICAgIHRvcFRvb2xiYXI6IHtcbiAgICAgICAgcGFkZGluZ1RvcDogdGhlbWUuc3BhY2luZygyKSxcbiAgICB9LFxuICAgIGJ1dHRvbnM6IHt9LFxuICAgIGNvbGxhcHNlZDoge1xuICAgICAgICBtaW5IZWlnaHQ6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJyxcbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleDogJzAgMCBhdXRvJyxcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgICAgbWFyZ2luTGVmdDogJy0wLjVlbScsXG4gICAgICAgIG1hcmdpblJpZ2h0OiAnMC41ZW0nLFxuICAgIH0sXG59KTsgfSwgeyBuYW1lOiAnUmFCdWxrQWN0aW9uc1Rvb2xiYXInIH0pO1xudmFyIEJ1bGtBY3Rpb25zVG9vbGJhciA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBfYTtcbiAgICB2YXIgY2xhc3Nlc092ZXJyaWRlID0gcHJvcHMuY2xhc3NlcywgX2IgPSBwcm9wcy5sYWJlbCwgbGFiZWwgPSBfYiA9PT0gdm9pZCAwID8gJ3JhLmFjdGlvbi5idWxrX2FjdGlvbnMnIDogX2IsIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sIHJlc3QgPSBfX3Jlc3QocHJvcHMsIFtcImNsYXNzZXNcIiwgXCJsYWJlbFwiLCBcImNoaWxkcmVuXCJdKTtcbiAgICB2YXIgX2MgPSB1c2VMaXN0Q29udGV4dChwcm9wcyksIGJhc2VQYXRoID0gX2MuYmFzZVBhdGgsIGZpbHRlclZhbHVlcyA9IF9jLmZpbHRlclZhbHVlcywgcmVzb3VyY2UgPSBfYy5yZXNvdXJjZSwgc2VsZWN0ZWRJZHMgPSBfYy5zZWxlY3RlZElkcywgb25VbnNlbGVjdEl0ZW1zID0gX2Mub25VbnNlbGVjdEl0ZW1zO1xuICAgIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKHByb3BzKTtcbiAgICB2YXIgdHJhbnNsYXRlID0gdXNlVHJhbnNsYXRlKCk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRvb2xiYXIsIF9fYXNzaWduKHsgXCJkYXRhLXRlc3RcIjogXCJidWxrLWFjdGlvbnMtdG9vbGJhclwiLCBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy50b29sYmFyLCAoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW2NsYXNzZXMuY29sbGFwc2VkXSA9IHNlbGVjdGVkSWRzLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgICAgIF9hKSkgfSwgc2FuaXRpemVMaXN0UmVzdFByb3BzKHJlc3QpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy50aXRsZSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5pY29uLCBcImFyaWEtbGFiZWxcIjogdHJhbnNsYXRlKCdyYS5hY3Rpb24udW5zZWxlY3QnKSwgdGl0bGU6IHRyYW5zbGF0ZSgncmEuYWN0aW9uLnVuc2VsZWN0JyksIG9uQ2xpY2s6IG9uVW5zZWxlY3RJdGVtcywgc2l6ZTogXCJzbWFsbFwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDbG9zZUljb24sIHsgZm9udFNpemU6IFwic21hbGxcIiB9KSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHsgY29sb3I6IFwiaW5oZXJpdFwiLCB2YXJpYW50OiBcInN1YnRpdGxlMVwiIH0sIHRyYW5zbGF0ZShsYWJlbCwge1xuICAgICAgICAgICAgICAgIF86IGxhYmVsLFxuICAgICAgICAgICAgICAgIHNtYXJ0X2NvdW50OiBzZWxlY3RlZElkcy5sZW5ndGgsXG4gICAgICAgICAgICB9KSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRvcFRvb2xiYXIsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnRvcFRvb2xiYXIgfSwgQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkRWxlbWVudChjaGlsZClcbiAgICAgICAgICAgICAgICA/IGNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICAgICAgICAgICAgICBiYXNlUGF0aDogYmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclZhbHVlczogZmlsdGVyVmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSWRzOiBzZWxlY3RlZElkcyxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgfSkpKSk7XG59O1xuQnVsa0FjdGlvbnNUb29sYmFyLnByb3BUeXBlcyA9IHtcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5leHBvcnQgZGVmYXVsdCBCdWxrQWN0aW9uc1Rvb2xiYXI7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUeXBvZ3JhcGh5IH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgSW5ib3ggZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL0luYm94JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0ZSwgdXNlTGlzdENvbnRleHQsIHVzZVJlc291cmNlQ29udGV4dCwgdXNlR2V0UmVzb3VyY2VMYWJlbCwgfSBmcm9tICdyYS1jb3JlJztcbmltcG9ydCB7IENyZWF0ZUJ1dHRvbiB9IGZyb20gJy4uL2J1dHRvbic7XG52YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHsgcmV0dXJuICh7XG4gICAgbWVzc2FnZToge1xuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICBvcGFjaXR5OiB0aGVtZS5wYWxldHRlLnR5cGUgPT09ICdsaWdodCcgPyAwLjUgOiAwLjgsXG4gICAgICAgIG1hcmdpbjogJzAgMWVtJyxcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudHlwZSA9PT0gJ2xpZ2h0J1xuICAgICAgICAgICAgPyAnaW5oZXJpdCdcbiAgICAgICAgICAgIDogdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnksXG4gICAgfSxcbiAgICBpY29uOiB7XG4gICAgICAgIHdpZHRoOiAnOWVtJyxcbiAgICAgICAgaGVpZ2h0OiAnOWVtJyxcbiAgICB9LFxuICAgIHRvb2xiYXI6IHtcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgbWFyZ2luVG9wOiAnMmVtJyxcbiAgICB9LFxufSk7IH0sIHsgbmFtZTogJ1JhRW1wdHknIH0pO1xudmFyIEVtcHR5ID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIF9hID0gdXNlTGlzdENvbnRleHQocHJvcHMpLCBiYXNlUGF0aCA9IF9hLmJhc2VQYXRoLCBoYXNDcmVhdGUgPSBfYS5oYXNDcmVhdGU7XG4gICAgdmFyIHJlc291cmNlID0gdXNlUmVzb3VyY2VDb250ZXh0KHByb3BzKTtcbiAgICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcyhwcm9wcyk7XG4gICAgdmFyIHRyYW5zbGF0ZSA9IHVzZVRyYW5zbGF0ZSgpO1xuICAgIHZhciBnZXRSZXNvdXJjZUxhYmVsID0gdXNlR2V0UmVzb3VyY2VMYWJlbCgpO1xuICAgIHZhciByZXNvdXJjZU5hbWUgPSB0cmFuc2xhdGUoXCJyZXNvdXJjZXMuXCIgKyByZXNvdXJjZSArIFwiLmZvcmNlZENhc2VOYW1lXCIsIHtcbiAgICAgICAgc21hcnRfY291bnQ6IDAsXG4gICAgICAgIF86IGdldFJlc291cmNlTGFiZWwocmVzb3VyY2UsIDApLFxuICAgIH0pO1xuICAgIHZhciBlbXB0eU1lc3NhZ2UgPSB0cmFuc2xhdGUoJ3JhLnBhZ2UuZW1wdHknLCB7IG5hbWU6IHJlc291cmNlTmFtZSB9KTtcbiAgICB2YXIgaW52aXRlTWVzc2FnZSA9IHRyYW5zbGF0ZSgncmEucGFnZS5pbnZpdGUnKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzZXMubWVzc2FnZSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJbmJveCwgeyBjbGFzc05hbWU6IGNsYXNzZXMuaWNvbiB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImg0XCIsIHBhcmFncmFwaDogdHJ1ZSB9LCB0cmFuc2xhdGUoXCJyZXNvdXJjZXMuXCIgKyByZXNvdXJjZSArIFwiLmVtcHR5XCIsIHtcbiAgICAgICAgICAgICAgICBfOiBlbXB0eU1lc3NhZ2UsXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBoYXNDcmVhdGUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImJvZHkxXCIgfSwgdHJhbnNsYXRlKFwicmVzb3VyY2VzLlwiICsgcmVzb3VyY2UgKyBcIi5pbnZpdGVcIiwge1xuICAgICAgICAgICAgICAgIF86IGludml0ZU1lc3NhZ2UsXG4gICAgICAgICAgICB9KSkpKSxcbiAgICAgICAgaGFzQ3JlYXRlICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnRvb2xiYXIgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ3JlYXRlQnV0dG9uLCB7IHZhcmlhbnQ6IFwiY29udGFpbmVkXCIsIGJhc2VQYXRoOiBiYXNlUGF0aCB9KSkpKSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgRW1wdHk7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHVzZUNoZWNrTWluaW11bVJlcXVpcmVkUHJvcHMsIHVzZUxpc3RDb250cm9sbGVyLCBMaXN0Q29udGV4dFByb3ZpZGVyLCB9IGZyb20gJ3JhLWNvcmUnO1xuaW1wb3J0IHsgVGl0bGVQcm9wVHlwZSB9IGZyb20gJy4uL2xheW91dC9UaXRsZSc7XG5pbXBvcnQgTGlzdFZpZXcgZnJvbSAnLi9MaXN0Vmlldyc7XG4vKipcbiAqIExpc3QgcGFnZSBjb21wb25lbnRcbiAqXG4gKiBUaGUgPExpc3Q+IGNvbXBvbmVudCByZW5kZXJzIHRoZSBsaXN0IGxheW91dCAodGl0bGUsIGJ1dHRvbnMsIGZpbHRlcnMsIHBhZ2luYXRpb24pLFxuICogYW5kIGZldGNoZXMgdGhlIGxpc3Qgb2YgcmVjb3JkcyBmcm9tIHRoZSBSRVNUIEFQSS5cbiAqIEl0IHRoZW4gZGVsZWdhdGVzIHRoZSByZW5kZXJpbmcgb2YgdGhlIGxpc3Qgb2YgcmVjb3JkcyB0byBpdHMgY2hpbGQgY29tcG9uZW50LlxuICogVXN1YWxseSwgaXQncyBhIDxEYXRhZ3JpZD4sIHJlc3BvbnNpYmxlIGZvciBkaXNwbGF5aW5nIGEgdGFibGUgd2l0aCBvbmUgcm93IGZvciBlYWNoIHBvc3QuXG4gKlxuICogSW4gUmVkdXggdGVybXMsIDxMaXN0PiBpcyBhIGNvbm5lY3RlZCBjb21wb25lbnQsIGFuZCA8RGF0YWdyaWQ+IGlzIGEgZHVtYiBjb21wb25lbnQuXG4gKlxuICogVGhlIDxMaXN0PiBjb21wb25lbnQgYWNjZXB0cyB0aGUgZm9sbG93aW5nIHByb3BzOlxuICpcbiAqIC0gYWN0aW9uc1xuICogLSBhc2lkZVxuICogLSBidWxrQWN0aW9uQnV0dG9uc1xuICogLSBjb21wb25lbnRcbiAqIC0gZW1wdHlcbiAqIC0gZXhwb3J0ZXJcbiAqIC0gZmlsdGVyICh0aGUgcGVybWFuZW50IGZpbHRlciB0byBhcHBseSB0byB0aGUgcXVlcnkpXG4gKiAtIGZpbHRlckRlZmF1bHRWYWx1ZXMgKHRoZSBkZWZhdWx0IHZhbHVlcyBmb3IgYGFsd2F5c09uYCBmaWx0ZXJzKVxuICogLSBmaWx0ZXJzIChhIFJlYWN0IGNvbXBvbmVudCB1c2VkIHRvIGRpc3BsYXkgdGhlIGZpbHRlciBmb3JtKVxuICogLSBwYWdpbmF0aW9uXG4gKiAtIHBlclBhZ2VcbiAqIC0gc29ydFxuICogLSB0aXRsZVxuICogLSBzeW5jV2l0aExvY2F0aW9uXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBjb25zdCBQb3N0RmlsdGVyID0gKHByb3BzKSA9PiAoXG4gKiAgICAgPEZpbHRlciB7Li4ucHJvcHN9PlxuICogICAgICAgICA8VGV4dElucHV0IGxhYmVsPVwiU2VhcmNoXCIgc291cmNlPVwicVwiIGFsd2F5c09uIC8+XG4gKiAgICAgICAgIDxUZXh0SW5wdXQgbGFiZWw9XCJUaXRsZVwiIHNvdXJjZT1cInRpdGxlXCIgLz5cbiAqICAgICA8L0ZpbHRlcj5cbiAqICk7XG4gKiBleHBvcnQgY29uc3QgUG9zdExpc3QgPSAocHJvcHMpID0+IChcbiAqICAgICA8TGlzdCB7Li4ucHJvcHN9XG4gKiAgICAgICAgIHRpdGxlPVwiTGlzdCBvZiBwb3N0c1wiXG4gKiAgICAgICAgIHNvcnQ9e3sgZmllbGQ6ICdwdWJsaXNoZWRfYXQnIH19XG4gKiAgICAgICAgIGZpbHRlcj17eyBpc19wdWJsaXNoZWQ6IHRydWUgfX1cbiAqICAgICAgICAgZmlsdGVycz17UG9zdEZpbHRlcn1cbiAqICAgICA+XG4gKiAgICAgICAgIDxEYXRhZ3JpZD5cbiAqICAgICAgICAgICAgIDxUZXh0RmllbGQgc291cmNlPVwiaWRcIiAvPlxuICogICAgICAgICAgICAgPFRleHRGaWVsZCBzb3VyY2U9XCJ0aXRsZVwiIC8+XG4gKiAgICAgICAgICAgICA8RWRpdEJ1dHRvbiAvPlxuICogICAgICAgICA8L0RhdGFncmlkPlxuICogICAgIDwvTGlzdD5cbiAqICk7XG4gKi9cbnZhciBMaXN0ID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdXNlQ2hlY2tNaW5pbXVtUmVxdWlyZWRQcm9wcygnTGlzdCcsIFsnY2hpbGRyZW4nXSwgcHJvcHMpO1xuICAgIHZhciBjb250cm9sbGVyUHJvcHMgPSB1c2VMaXN0Q29udHJvbGxlcihwcm9wcyk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RDb250ZXh0UHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRyb2xsZXJQcm9wcyB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RWaWV3LCBfX2Fzc2lnbih7fSwgcHJvcHMsIGNvbnRyb2xsZXJQcm9wcykpKSk7XG59O1xuTGlzdC5wcm9wVHlwZXMgPSB7XG4gICAgLy8gdGhlIHByb3BzIHlvdSBjYW4gY2hhbmdlXG4gICAgLy8gQHRzLWlnbm9yZS1saW5lXG4gICAgYWN0aW9uczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5lbGVtZW50XSksXG4gICAgYXNpZGU6IFByb3BUeXBlcy5lbGVtZW50LFxuICAgIC8vIEB0cy1pZ25vcmUtbGluZVxuICAgIGJ1bGtBY3Rpb25CdXR0b25zOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZWxlbWVudCwgUHJvcFR5cGVzLmJvb2xdKSxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZmlsdGVyOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGZpbHRlckRlZmF1bHRWYWx1ZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgZmlsdGVyczogUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgLy8gQHRzLWlnbm9yZS1saW5lXG4gICAgcGFnaW5hdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmVsZW1lbnQsIFByb3BUeXBlcy5ib29sXSksXG4gICAgcGVyUGFnZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgIC8vQHRzLWlnbm9yZS1saW5lXG4gICAgc29ydDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgZmllbGQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIG9yZGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIH0pLFxuICAgIHRpdGxlOiBUaXRsZVByb3BUeXBlLFxuICAgIC8vIHRoZSBwcm9wcyBtYW5hZ2VkIGJ5IHJlYWN0LWFkbWluXG4gICAgYXV0aFByb3ZpZGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBoYXNDcmVhdGU6IFByb3BUeXBlcy5ib29sLFxuICAgIGhhc0VkaXQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGhhc0xpc3Q6IFByb3BUeXBlcy5ib29sLFxuICAgIGhhc1Nob3c6IFByb3BUeXBlcy5ib29sLFxuICAgIGxvY2F0aW9uOiBQcm9wVHlwZXMuYW55LFxuICAgIG1hdGNoOiBQcm9wVHlwZXMuYW55LFxuICAgIHBhdGg6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgcmVzb3VyY2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc3luY1dpdGhMb2NhdGlvbjogUHJvcFR5cGVzLmJvb2wsXG59O1xuTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZmlsdGVyOiB7fSxcbiAgICBwZXJQYWdlOiAxMCxcbn07XG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNsb25lRWxlbWVudCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZUxpc3RSZXN0UHJvcHMsIHVzZUxpc3RDb250ZXh0LCB1c2VSZXNvdXJjZUNvbnRleHQsIHVzZVJlc291cmNlRGVmaW5pdGlvbiwgfSBmcm9tICdyYS1jb3JlJztcbmltcG9ydCBUb3BUb29sYmFyIGZyb20gJy4uL2xheW91dC9Ub3BUb29sYmFyJztcbmltcG9ydCB7IENyZWF0ZUJ1dHRvbiwgRXhwb3J0QnV0dG9uIH0gZnJvbSAnLi4vYnV0dG9uJztcbi8qKlxuICogQWN0aW9uIFRvb2xiYXIgZm9yIHRoZSBMaXN0IHZpZXdcbiAqXG4gKiBJbnRlcm5hbCBjb21wb25lbnQuIElmIHlvdSB3YW50IHRvIGFkZCBvciByZW1vdmUgYWN0aW9ucyBmb3IgYSBMaXN0IHZpZXcsXG4gKiB3cml0ZSB5b3VyIG93biBMaXN0QWN0aW9ucyBDb21wb25lbnQuIFRoZW4sIGluIHRoZSA8TGlzdD4gY29tcG9uZW50LFxuICogdXNlIGl0IGluIHRoZSBgYWN0aW9uc2AgcHJvcCB0byBwYXNzIGEgY3VzdG9tIGNvbXBvbmVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIGltcG9ydCB7IGNsb25lRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbiAqICAgICBpbXBvcnQgQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0J1dHRvbic7XG4gKiAgICAgaW1wb3J0IHsgVG9wVG9vbGJhciwgTGlzdCwgQ3JlYXRlQnV0dG9uLCBFeHBvcnRCdXR0b24gfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKlxuICogICAgIGNvbnN0IFBvc3RMaXN0QWN0aW9ucyA9ICh7IGJhc2VQYXRoLCBmaWx0ZXJzIH0pID0+IChcbiAqICAgICAgICAgPFRvcFRvb2xiYXI+XG4gKiAgICAgICAgICAgICB7IGNsb25lRWxlbWVudChmaWx0ZXJzLCB7IGNvbnRleHQ6ICdidXR0b24nIH0pIH1cbiAqICAgICAgICAgICAgIDxDcmVhdGVCdXR0b24vPlxuICogICAgICAgICAgICAgPEV4cG9ydEJ1dHRvbi8+XG4gKiAgICAgICAgICAgICAvLyBBZGQgeW91ciBjdXN0b20gYWN0aW9ucyBoZXJlIC8vXG4gKiAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2N1c3RvbUFjdGlvbn0+Q3VzdG9tIEFjdGlvbjwvQnV0dG9uPlxuICogICAgICAgICA8L1RvcFRvb2xiYXI+XG4gKiAgICAgKTtcbiAqXG4gKiAgICAgZXhwb3J0IGNvbnN0IFBvc3RMaXN0ID0gKHByb3BzKSA9PiAoXG4gKiAgICAgICAgIDxMaXN0IGFjdGlvbnM9ezxQb3N0TGlzdEFjdGlvbnMgLz59IHsuLi5wcm9wc30+XG4gKiAgICAgICAgICAgICAuLi5cbiAqICAgICAgICAgPC9MaXN0PlxuICogICAgICk7XG4gKi9cbnZhciBMaXN0QWN0aW9ucyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsIGV4cG9ydGVyID0gcHJvcHMuZXhwb3J0ZXIsIGZpbHRlcnMgPSBwcm9wcy5maWx0ZXJzLCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJjbGFzc05hbWVcIiwgXCJleHBvcnRlclwiLCBcImZpbHRlcnNcIl0pO1xuICAgIHZhciBfYSA9IHVzZUxpc3RDb250ZXh0KHByb3BzKSwgY3VycmVudFNvcnQgPSBfYS5jdXJyZW50U29ydCwgZGlzcGxheWVkRmlsdGVycyA9IF9hLmRpc3BsYXllZEZpbHRlcnMsIGZpbHRlclZhbHVlcyA9IF9hLmZpbHRlclZhbHVlcywgYmFzZVBhdGggPSBfYS5iYXNlUGF0aCwgc2VsZWN0ZWRJZHMgPSBfYS5zZWxlY3RlZElkcywgc2hvd0ZpbHRlciA9IF9hLnNob3dGaWx0ZXIsIHRvdGFsID0gX2EudG90YWw7XG4gICAgdmFyIHJlc291cmNlID0gdXNlUmVzb3VyY2VDb250ZXh0KHJlc3QpO1xuICAgIHZhciBoYXNDcmVhdGUgPSB1c2VSZXNvdXJjZURlZmluaXRpb24ocmVzdCkuaGFzQ3JlYXRlO1xuICAgIHJldHVybiB1c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRvcFRvb2xiYXIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSwgc2FuaXRpemVMaXN0UmVzdFByb3BzKHJlc3QpKSxcbiAgICAgICAgZmlsdGVycyAmJlxuICAgICAgICAgICAgY2xvbmVFbGVtZW50KGZpbHRlcnMsIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgc2hvd0ZpbHRlcjogc2hvd0ZpbHRlcixcbiAgICAgICAgICAgICAgICBkaXNwbGF5ZWRGaWx0ZXJzOiBkaXNwbGF5ZWRGaWx0ZXJzLFxuICAgICAgICAgICAgICAgIGZpbHRlclZhbHVlczogZmlsdGVyVmFsdWVzLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdidXR0b24nLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIGhhc0NyZWF0ZSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KENyZWF0ZUJ1dHRvbiwgeyBiYXNlUGF0aDogYmFzZVBhdGggfSksXG4gICAgICAgIGV4cG9ydGVyICE9PSBmYWxzZSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChFeHBvcnRCdXR0b24sIHsgZGlzYWJsZWQ6IHRvdGFsID09PSAwLCByZXNvdXJjZTogcmVzb3VyY2UsIHNvcnQ6IGN1cnJlbnRTb3J0LCBmaWx0ZXJWYWx1ZXM6IGZpbHRlclZhbHVlcyB9KSkpKTsgfSwgW3Jlc291cmNlLCBkaXNwbGF5ZWRGaWx0ZXJzLCBmaWx0ZXJWYWx1ZXMsIHNlbGVjdGVkSWRzLCBmaWx0ZXJzLCB0b3RhbF0gLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICApO1xufTtcbkxpc3RBY3Rpb25zLnByb3BUeXBlcyA9IHtcbiAgICBiYXNlUGF0aDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY3VycmVudFNvcnQ6IFByb3BUeXBlcy5hbnksXG4gICAgZGlzcGxheWVkRmlsdGVyczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBleHBvcnRlcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5ib29sXSksXG4gICAgZmlsdGVyczogUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgZmlsdGVyVmFsdWVzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGhhc0NyZWF0ZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgcmVzb3VyY2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25VbnNlbGVjdEl0ZW1zOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkSWRzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuYW55KSxcbiAgICBzaG93RmlsdGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB0b3RhbDogUHJvcFR5cGVzLm51bWJlcixcbn07XG5MaXN0QWN0aW9ucy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgc2VsZWN0ZWRJZHM6IFtdLFxuICAgIG9uVW5zZWxlY3RJdGVtczogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbn07XG5leHBvcnQgZGVmYXVsdCBMaXN0QWN0aW9ucztcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgVG9vbGJhciB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKHtcbiAgICAgICAgdG9vbGJhcjogKF9hID0ge1xuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hW3RoZW1lLmJyZWFrcG9pbnRzLnVwKCd4cycpXSA9IHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYVt0aGVtZS5icmVha3BvaW50cy5kb3duKCd4cycpXSA9IHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogdGhlbWUuc3BhY2luZygyKSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYSksXG4gICAgICAgIGFjdGlvbnM6IChfYiA9IHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgICAgICAgICAgICAgIG1pbkhlaWdodDogdGhlbWUuc3BhY2luZyg1KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9iW3RoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ3hzJyldID0ge1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmJhY2tncm91bmQucGFwZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2IpLFxuICAgIH0pO1xufSwgeyBuYW1lOiAnUmFMaXN0VG9vbGJhcicgfSk7XG52YXIgTGlzdFRvb2xiYXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgY2xhc3Nlc092ZXJyaWRlID0gcHJvcHMuY2xhc3NlcywgZmlsdGVycyA9IHByb3BzLmZpbHRlcnMsIGFjdGlvbnMgPSBwcm9wcy5hY3Rpb25zLCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJjbGFzc2VzXCIsIFwiZmlsdGVyc1wiLCBcImFjdGlvbnNcIl0pO1xuICAgIHZhciBjbGFzc2VzID0gdXNlU3R5bGVzKHByb3BzKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhciwgeyBjbGFzc05hbWU6IGNsYXNzZXMudG9vbGJhciB9LFxuICAgICAgICBmaWx0ZXJzICYmXG4gICAgICAgICAgICBSZWFjdC5jbG9uZUVsZW1lbnQoZmlsdGVycywgX19hc3NpZ24oX19hc3NpZ24oe30sIHJlc3QpLCB7IGNvbnRleHQ6ICdmb3JtJyB9KSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwpLFxuICAgICAgICBhY3Rpb25zICYmXG4gICAgICAgICAgICBSZWFjdC5jbG9uZUVsZW1lbnQoYWN0aW9ucywgX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sIHJlc3QpLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5hY3Rpb25zLCBmaWx0ZXJzOiBmaWx0ZXJzIH0pLCBhY3Rpb25zLnByb3BzKSkpKTtcbn07XG5MaXN0VG9vbGJhci5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBmaWx0ZXJzOiBQcm9wVHlwZXMuZWxlbWVudCxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgYWN0aW9uczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5lbGVtZW50XSksXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGV4cG9ydGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLmJvb2xdKSxcbn07XG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKExpc3RUb29sYmFyKTtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDaGlsZHJlbiwgY2xvbmVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBDYXJkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NhcmQnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcbmltcG9ydCB7IENvbXBvbmVudFByb3BUeXBlLCBkZWZhdWx0RXhwb3J0ZXIsIHVzZUxpc3RDb250ZXh0LCBnZXRMaXN0Q29udHJvbGxlclByb3BzLCB1c2VWZXJzaW9uLCB9IGZyb20gJ3JhLWNvcmUnO1xuaW1wb3J0IFRpdGxlLCB7IFRpdGxlUHJvcFR5cGUgfSBmcm9tICcuLi9sYXlvdXQvVGl0bGUnO1xuaW1wb3J0IExpc3RUb29sYmFyIGZyb20gJy4vTGlzdFRvb2xiYXInO1xuaW1wb3J0IERlZmF1bHRQYWdpbmF0aW9uIGZyb20gJy4vcGFnaW5hdGlvbi9QYWdpbmF0aW9uJztcbmltcG9ydCBCdWxrRGVsZXRlQnV0dG9uIGZyb20gJy4uL2J1dHRvbi9CdWxrRGVsZXRlQnV0dG9uJztcbmltcG9ydCBCdWxrQWN0aW9uc1Rvb2xiYXIgZnJvbSAnLi9CdWxrQWN0aW9uc1Rvb2xiYXInO1xuaW1wb3J0IERlZmF1bHRBY3Rpb25zIGZyb20gJy4vTGlzdEFjdGlvbnMnO1xuaW1wb3J0IEVtcHR5IGZyb20gJy4vRW1wdHknO1xuZXhwb3J0IHZhciBMaXN0VmlldyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBhY3Rpb25zID0gcHJvcHMuYWN0aW9ucywgYXNpZGUgPSBwcm9wcy5hc2lkZSwgZmlsdGVycyA9IHByb3BzLmZpbHRlcnMsIGJ1bGtBY3Rpb25CdXR0b25zID0gcHJvcHMuYnVsa0FjdGlvbkJ1dHRvbnMsIHBhZ2luYXRpb24gPSBwcm9wcy5wYWdpbmF0aW9uLCBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLCBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsIGNsYXNzZXNPdmVycmlkZSA9IHByb3BzLmNsYXNzZXMsIENvbnRlbnQgPSBwcm9wcy5jb21wb25lbnQsIF9hID0gcHJvcHMuZXhwb3J0ZXIsIGV4cG9ydGVyID0gX2EgPT09IHZvaWQgMCA/IGRlZmF1bHRFeHBvcnRlciA6IF9hLCB0aXRsZSA9IHByb3BzLnRpdGxlLCBlbXB0eSA9IHByb3BzLmVtcHR5LCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJhY3Rpb25zXCIsIFwiYXNpZGVcIiwgXCJmaWx0ZXJzXCIsIFwiYnVsa0FjdGlvbkJ1dHRvbnNcIiwgXCJwYWdpbmF0aW9uXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJjbGFzc2VzXCIsIFwiY29tcG9uZW50XCIsIFwiZXhwb3J0ZXJcIiwgXCJ0aXRsZVwiLCBcImVtcHR5XCJdKTtcbiAgICB2YXIgY29udHJvbGxlclByb3BzID0gZ2V0TGlzdENvbnRyb2xsZXJQcm9wcyhwcm9wcyk7IC8vIGRlcHJlY2F0ZWQsIHRvIGJlIHJlbW92ZWQgaW4gdjRcbiAgICB2YXIgbGlzdENvbnRleHQgPSB1c2VMaXN0Q29udGV4dChwcm9wcyk7XG4gICAgdmFyIGNsYXNzZXMgPSB1c2VTdHlsZXMocHJvcHMpO1xuICAgIHZhciBkZWZhdWx0VGl0bGUgPSBsaXN0Q29udGV4dC5kZWZhdWx0VGl0bGUsIHRvdGFsID0gbGlzdENvbnRleHQudG90YWwsIGxvYWRlZCA9IGxpc3RDb250ZXh0LmxvYWRlZCwgbG9hZGluZyA9IGxpc3RDb250ZXh0LmxvYWRpbmcsIGZpbHRlclZhbHVlcyA9IGxpc3RDb250ZXh0LmZpbHRlclZhbHVlcywgc2VsZWN0ZWRJZHMgPSBsaXN0Q29udGV4dC5zZWxlY3RlZElkcztcbiAgICB2YXIgdmVyc2lvbiA9IHVzZVZlcnNpb24oKTtcbiAgICB2YXIgcmVuZGVyTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAoZmlsdGVycyB8fCBhY3Rpb25zKSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0VG9vbGJhciwgX19hc3NpZ24oeyBmaWx0ZXJzOiBmaWx0ZXJzIH0sIGNvbnRyb2xsZXJQcm9wcywgeyBhY3Rpb25zOiBhY3Rpb25zLCBleHBvcnRlcjogZXhwb3J0ZXIgfSkpKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzZXMubWFpbiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudCwgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy5jb250ZW50LCAoX2EgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hW2NsYXNzZXMuYnVsa0FjdGlvbnNEaXNwbGF5ZWRdID0gc2VsZWN0ZWRJZHMubGVuZ3RoID4gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hKSksIGtleTogdmVyc2lvbiB9LFxuICAgICAgICAgICAgICAgICAgICBidWxrQWN0aW9uQnV0dG9ucyAhPT0gZmFsc2UgJiYgYnVsa0FjdGlvbkJ1dHRvbnMgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnVsa0FjdGlvbnNUb29sYmFyLCBfX2Fzc2lnbih7fSwgY29udHJvbGxlclByb3BzKSwgYnVsa0FjdGlvbkJ1dHRvbnMpKSxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUtbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVFbGVtZW50KENoaWxkcmVuLm9ubHkoY2hpbGRyZW4pLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29udHJvbGxlclByb3BzKSwgeyBoYXNCdWxrQWN0aW9uczogYnVsa0FjdGlvbkJ1dHRvbnMgIT09IGZhbHNlIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbiAmJiBjbG9uZUVsZW1lbnQocGFnaW5hdGlvbiwgbGlzdENvbnRleHQpKSxcbiAgICAgICAgICAgICAgICBhc2lkZSAmJiBjbG9uZUVsZW1lbnQoYXNpZGUsIGxpc3RDb250ZXh0KSkpKTtcbiAgICB9O1xuICAgIHZhciBzaG91bGRSZW5kZXJFbXB0eVBhZ2UgPSBsb2FkZWQgJiYgIWxvYWRpbmcgJiYgdG90YWwgPT09IDAgJiYgIU9iamVjdC5rZXlzKGZpbHRlclZhbHVlcykubGVuZ3RoO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogY2xhc3NuYW1lcygnbGlzdC1wYWdlJywgY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpIH0sIHNhbml0aXplUmVzdFByb3BzKHJlc3QpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUaXRsZSwgeyB0aXRsZTogdGl0bGUsIGRlZmF1bHRUaXRsZTogZGVmYXVsdFRpdGxlIH0pLFxuICAgICAgICBzaG91bGRSZW5kZXJFbXB0eVBhZ2UgJiYgZW1wdHkgIT09IGZhbHNlXG4gICAgICAgICAgICA/IGNsb25lRWxlbWVudChlbXB0eSwgbGlzdENvbnRleHQpXG4gICAgICAgICAgICA6IHJlbmRlckxpc3QoKSkpO1xufTtcbkxpc3RWaWV3LnByb3BUeXBlcyA9IHtcbiAgICAvLyBAdHMtaWdub3JlLWxpbmVcbiAgICBhY3Rpb25zOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLmVsZW1lbnRdKSxcbiAgICBhc2lkZTogUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgYmFzZVBhdGg6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgLy8gQHRzLWlnbm9yZS1saW5lXG4gICAgYnVsa0FjdGlvbkJ1dHRvbnM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMuZWxlbWVudF0pLFxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudCxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjb21wb25lbnQ6IENvbXBvbmVudFByb3BUeXBlLFxuICAgIC8vIEB0cy1pZ25vcmUtbGluZVxuICAgIGN1cnJlbnRTb3J0OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICBvcmRlcjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIH0pLFxuICAgIGRhdGE6IFByb3BUeXBlcy5hbnksXG4gICAgZGVmYXVsdFRpdGxlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGRpc3BsYXllZEZpbHRlcnM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgLy8gQHRzLWlnbm9yZS1saW5lXG4gICAgZXhwb3J0ZXI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMuYm9vbF0pLFxuICAgIGZpbHRlckRlZmF1bHRWYWx1ZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgZmlsdGVyczogUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgZmlsdGVyVmFsdWVzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGhhc0NyZWF0ZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgaGlkZUZpbHRlcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgaWRzOiBQcm9wVHlwZXMuYXJyYXksXG4gICAgbG9hZGluZzogUHJvcFR5cGVzLmJvb2wsXG4gICAgb25TZWxlY3Q6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uVG9nZ2xlSXRlbTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25VbnNlbGVjdEl0ZW1zOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBwYWdlOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8vIEB0cy1pZ25vcmUtbGluZVxuICAgIHBhZ2luYXRpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5lbGVtZW50LCBQcm9wVHlwZXMuYm9vbF0pLFxuICAgIHBlclBhZ2U6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgcmVmcmVzaDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgcmVzb3VyY2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2VsZWN0ZWRJZHM6IFByb3BUeXBlcy5hcnJheSxcbiAgICBzZXRGaWx0ZXJzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBzZXRQYWdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBzZXRQZXJQYWdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBzZXRTb3J0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICBzaG93RmlsdGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB0aXRsZTogVGl0bGVQcm9wVHlwZSxcbiAgICB0b3RhbDogUHJvcFR5cGVzLm51bWJlcixcbiAgICB2ZXJzaW9uOiBQcm9wVHlwZXMubnVtYmVyLFxufTtcbnZhciBEZWZhdWx0QnVsa0FjdGlvbkJ1dHRvbnMgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnVsa0RlbGV0ZUJ1dHRvbiwgX19hc3NpZ24oe30sIHByb3BzKSk7IH07XG5MaXN0Vmlldy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYWN0aW9uczogUmVhY3QuY3JlYXRlRWxlbWVudChEZWZhdWx0QWN0aW9ucywgbnVsbCksXG4gICAgY2xhc3Nlczoge30sXG4gICAgY29tcG9uZW50OiBDYXJkLFxuICAgIGJ1bGtBY3Rpb25CdXR0b25zOiBSZWFjdC5jcmVhdGVFbGVtZW50KERlZmF1bHRCdWxrQWN0aW9uQnV0dG9ucywgbnVsbCksXG4gICAgcGFnaW5hdGlvbjogUmVhY3QuY3JlYXRlRWxlbWVudChEZWZhdWx0UGFnaW5hdGlvbiwgbnVsbCksXG4gICAgZW1wdHk6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRW1wdHksIG51bGwpLFxufTtcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKGZ1bmN0aW9uICh0aGVtZSkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKHtcbiAgICAgICAgcm9vdDoge30sXG4gICAgICAgIG1haW46IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudDogKF9hID0ge1xuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogMCxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB0aGVtZS50cmFuc2l0aW9ucy5jcmVhdGUoJ21hcmdpbi10b3AnKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICBmbGV4OiAnMSAxIGF1dG8nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FbdGhlbWUuYnJlYWtwb2ludHMuZG93bigneHMnKV0gPSB7XG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiAnbm9uZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Eub3ZlcmZsb3cgPSAnaW5oZXJpdCcsXG4gICAgICAgICAgICBfYSksXG4gICAgICAgIGJ1bGtBY3Rpb25zRGlzcGxheWVkOiB7XG4gICAgICAgICAgICBtYXJnaW5Ub3A6IC10aGVtZS5zcGFjaW5nKDgpLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogdGhlbWUudHJhbnNpdGlvbnMuY3JlYXRlKCdtYXJnaW4tdG9wJyksXG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgICAgIHpJbmRleDogMixcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgICAgICAgZmxleFdyYXA6ICd3cmFwJyxcbiAgICAgICAgfSxcbiAgICAgICAgbm9SZXN1bHRzOiB7IHBhZGRpbmc6IDIwIH0sXG4gICAgfSk7XG59LCB7IG5hbWU6ICdSYUxpc3QnIH0pO1xudmFyIHNhbml0aXplUmVzdFByb3BzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIF9iID0gX2EuYmFzZVBhdGgsIGJhc2VQYXRoID0gX2IgPT09IHZvaWQgMCA/IG51bGwgOiBfYiwgX2MgPSBfYS5jdXJyZW50U29ydCwgY3VycmVudFNvcnQgPSBfYyA9PT0gdm9pZCAwID8gbnVsbCA6IF9jLCBfZCA9IF9hLmRhdGEsIGRhdGEgPSBfZCA9PT0gdm9pZCAwID8gbnVsbCA6IF9kLCBfZSA9IF9hLmRlZmF1bHRUaXRsZSwgZGVmYXVsdFRpdGxlID0gX2UgPT09IHZvaWQgMCA/IG51bGwgOiBfZSwgX2YgPSBfYS5kaXNwbGF5ZWRGaWx0ZXJzLCBkaXNwbGF5ZWRGaWx0ZXJzID0gX2YgPT09IHZvaWQgMCA/IG51bGwgOiBfZiwgX2cgPSBfYS5maWx0ZXJEZWZhdWx0VmFsdWVzLCBmaWx0ZXJEZWZhdWx0VmFsdWVzID0gX2cgPT09IHZvaWQgMCA/IG51bGwgOiBfZywgX2ggPSBfYS5maWx0ZXJWYWx1ZXMsIGZpbHRlclZhbHVlcyA9IF9oID09PSB2b2lkIDAgPyBudWxsIDogX2gsIF9qID0gX2EuaGFzQ3JlYXRlLCBoYXNDcmVhdGUgPSBfaiA9PT0gdm9pZCAwID8gbnVsbCA6IF9qLCBfayA9IF9hLmhhc0VkaXQsIGhhc0VkaXQgPSBfayA9PT0gdm9pZCAwID8gbnVsbCA6IF9rLCBfbCA9IF9hLmhhc0xpc3QsIGhhc0xpc3QgPSBfbCA9PT0gdm9pZCAwID8gbnVsbCA6IF9sLCBfbSA9IF9hLmhhc1Nob3csIGhhc1Nob3cgPSBfbSA9PT0gdm9pZCAwID8gbnVsbCA6IF9tLCBfbyA9IF9hLmhpZGVGaWx0ZXIsIGhpZGVGaWx0ZXIgPSBfbyA9PT0gdm9pZCAwID8gbnVsbCA6IF9vLCBfcCA9IF9hLmhpc3RvcnksIGhpc3RvcnkgPSBfcCA9PT0gdm9pZCAwID8gbnVsbCA6IF9wLCBfcSA9IF9hLmlkcywgaWRzID0gX3EgPT09IHZvaWQgMCA/IG51bGwgOiBfcSwgX3IgPSBfYS5sb2FkaW5nLCBsb2FkaW5nID0gX3IgPT09IHZvaWQgMCA/IG51bGwgOiBfciwgX3MgPSBfYS5sb2FkZWQsIGxvYWRlZCA9IF9zID09PSB2b2lkIDAgPyBudWxsIDogX3MsIF90ID0gX2EubG9jYXRpb24sIGxvY2F0aW9uID0gX3QgPT09IHZvaWQgMCA/IG51bGwgOiBfdCwgX3UgPSBfYS5tYXRjaCwgbWF0Y2ggPSBfdSA9PT0gdm9pZCAwID8gbnVsbCA6IF91LCBfdiA9IF9hLm9uU2VsZWN0LCBvblNlbGVjdCA9IF92ID09PSB2b2lkIDAgPyBudWxsIDogX3YsIF93ID0gX2Eub25Ub2dnbGVJdGVtLCBvblRvZ2dsZUl0ZW0gPSBfdyA9PT0gdm9pZCAwID8gbnVsbCA6IF93LCBfeCA9IF9hLm9uVW5zZWxlY3RJdGVtcywgb25VbnNlbGVjdEl0ZW1zID0gX3ggPT09IHZvaWQgMCA/IG51bGwgOiBfeCwgX3kgPSBfYS5vcHRpb25zLCBvcHRpb25zID0gX3kgPT09IHZvaWQgMCA/IG51bGwgOiBfeSwgX3ogPSBfYS5wYWdlLCBwYWdlID0gX3ogPT09IHZvaWQgMCA/IG51bGwgOiBfeiwgXzAgPSBfYS5wZXJtaXNzaW9ucywgcGVybWlzc2lvbnMgPSBfMCA9PT0gdm9pZCAwID8gbnVsbCA6IF8wLCBfMSA9IF9hLnBlclBhZ2UsIHBlclBhZ2UgPSBfMSA9PT0gdm9pZCAwID8gbnVsbCA6IF8xLCBfMiA9IF9hLnJlZmV0Y2gsIHJlZmV0Y2ggPSBfMiA9PT0gdm9pZCAwID8gbnVsbCA6IF8yLCBfMyA9IF9hLnJlc291cmNlLCByZXNvdXJjZSA9IF8zID09PSB2b2lkIDAgPyBudWxsIDogXzMsIF80ID0gX2Euc2VsZWN0ZWRJZHMsIHNlbGVjdGVkSWRzID0gXzQgPT09IHZvaWQgMCA/IG51bGwgOiBfNCwgXzUgPSBfYS5zZXRGaWx0ZXJzLCBzZXRGaWx0ZXJzID0gXzUgPT09IHZvaWQgMCA/IG51bGwgOiBfNSwgXzYgPSBfYS5zZXRQYWdlLCBzZXRQYWdlID0gXzYgPT09IHZvaWQgMCA/IG51bGwgOiBfNiwgXzcgPSBfYS5zZXRQZXJQYWdlLCBzZXRQZXJQYWdlID0gXzcgPT09IHZvaWQgMCA/IG51bGwgOiBfNywgXzggPSBfYS5zZXRTb3J0LCBzZXRTb3J0ID0gXzggPT09IHZvaWQgMCA/IG51bGwgOiBfOCwgXzkgPSBfYS5zaG93RmlsdGVyLCBzaG93RmlsdGVyID0gXzkgPT09IHZvaWQgMCA/IG51bGwgOiBfOSwgXzEwID0gX2Euc3luY1dpdGhMb2NhdGlvbiwgc3luY1dpdGhMb2NhdGlvbiA9IF8xMCA9PT0gdm9pZCAwID8gbnVsbCA6IF8xMCwgXzExID0gX2Euc29ydCwgc29ydCA9IF8xMSA9PT0gdm9pZCAwID8gbnVsbCA6IF8xMSwgXzEyID0gX2EudG90YWwsIHRvdGFsID0gXzEyID09PSB2b2lkIDAgPyBudWxsIDogXzEyLCByZXN0ID0gX19yZXN0KF9hLCBbXCJiYXNlUGF0aFwiLCBcImN1cnJlbnRTb3J0XCIsIFwiZGF0YVwiLCBcImRlZmF1bHRUaXRsZVwiLCBcImRpc3BsYXllZEZpbHRlcnNcIiwgXCJmaWx0ZXJEZWZhdWx0VmFsdWVzXCIsIFwiZmlsdGVyVmFsdWVzXCIsIFwiaGFzQ3JlYXRlXCIsIFwiaGFzRWRpdFwiLCBcImhhc0xpc3RcIiwgXCJoYXNTaG93XCIsIFwiaGlkZUZpbHRlclwiLCBcImhpc3RvcnlcIiwgXCJpZHNcIiwgXCJsb2FkaW5nXCIsIFwibG9hZGVkXCIsIFwibG9jYXRpb25cIiwgXCJtYXRjaFwiLCBcIm9uU2VsZWN0XCIsIFwib25Ub2dnbGVJdGVtXCIsIFwib25VbnNlbGVjdEl0ZW1zXCIsIFwib3B0aW9uc1wiLCBcInBhZ2VcIiwgXCJwZXJtaXNzaW9uc1wiLCBcInBlclBhZ2VcIiwgXCJyZWZldGNoXCIsIFwicmVzb3VyY2VcIiwgXCJzZWxlY3RlZElkc1wiLCBcInNldEZpbHRlcnNcIiwgXCJzZXRQYWdlXCIsIFwic2V0UGVyUGFnZVwiLCBcInNldFNvcnRcIiwgXCJzaG93RmlsdGVyXCIsIFwic3luY1dpdGhMb2NhdGlvblwiLCBcInNvcnRcIiwgXCJ0b3RhbFwiXSk7XG4gICAgcmV0dXJuIHJlc3Q7XG59O1xuZXhwb3J0IGRlZmF1bHQgTGlzdFZpZXc7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvc3R5bGVzJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xudmFyIHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoZnVuY3Rpb24gKHRoZW1lKSB7IHJldHVybiAoe1xuICAgIHJvb3Q6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmdyZXlbMzAwXSxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIH0sXG59KTsgfSwgeyBuYW1lOiAnUmFQbGFjZWhvbGRlcicgfSk7XG52YXIgUGxhY2Vob2xkZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcyhwcm9wcyk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnJvb3QsIHByb3BzLmNsYXNzTmFtZSkgfSwgXCJcXHUwMEEwXCIpKTtcbn07XG5leHBvcnQgZGVmYXVsdCBQbGFjZWhvbGRlcjtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc1ZhbGlkRWxlbWVudCwgQ2hpbGRyZW4sIGNsb25lRWxlbWVudCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VNZW1vLCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZUxpc3RSZXN0UHJvcHMsIHVzZUxpc3RDb250ZXh0LCB1c2VWZXJzaW9uLCB9IGZyb20gJ3JhLWNvcmUnO1xuaW1wb3J0IHsgQ2hlY2tib3gsIFRhYmxlLCBUYWJsZUNlbGwsIFRhYmxlSGVhZCwgVGFibGVSb3csIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgdW5pb24gZnJvbSAnbG9kYXNoL3VuaW9uJztcbmltcG9ydCBkaWZmZXJlbmNlIGZyb20gJ2xvZGFzaC9kaWZmZXJlbmNlJztcbmltcG9ydCBEYXRhZ3JpZEhlYWRlckNlbGwgZnJvbSAnLi9EYXRhZ3JpZEhlYWRlckNlbGwnO1xuaW1wb3J0IERhdGFncmlkTG9hZGluZyBmcm9tICcuL0RhdGFncmlkTG9hZGluZyc7XG5pbXBvcnQgRGF0YWdyaWRCb2R5LCB7IFB1cmVEYXRhZ3JpZEJvZHkgfSBmcm9tICcuL0RhdGFncmlkQm9keSc7XG5pbXBvcnQgdXNlRGF0YWdyaWRTdHlsZXMgZnJvbSAnLi91c2VEYXRhZ3JpZFN0eWxlcyc7XG5pbXBvcnQgRGF0YWdyaWRDb250ZXh0UHJvdmlkZXIgZnJvbSAnLi9EYXRhZ3JpZENvbnRleHRQcm92aWRlcic7XG4vKipcbiAqIFRoZSBEYXRhZ3JpZCBjb21wb25lbnQgcmVuZGVycyBhIGxpc3Qgb2YgcmVjb3JkcyBhcyBhIHRhYmxlLlxuICogSXQgaXMgdXN1YWxseSB1c2VkIGFzIGEgY2hpbGQgb2YgdGhlIDxMaXN0PiBhbmQgPFJlZmVyZW5jZU1hbnlGaWVsZD4gY29tcG9uZW50cy5cbiAqXG4gKiBQcm9wczpcbiAqICAtIHJvd1N0eWxlXG4gKlxuICogQGV4YW1wbGUgRGlzcGxheSBhbGwgcG9zdHMgYXMgYSBkYXRhZ3JpZFxuICogY29uc3QgcG9zdFJvd1N0eWxlID0gKHJlY29yZCwgaW5kZXgpID0+ICh7XG4gKiAgICAgYmFja2dyb3VuZENvbG9yOiByZWNvcmQubmJfdmlld3MgPj0gNTAwID8gJyNlZmUnIDogJ3doaXRlJyxcbiAqIH0pO1xuICogZXhwb3J0IGNvbnN0IFBvc3RMaXN0ID0gKHByb3BzKSA9PiAoXG4gKiAgICAgPExpc3Qgey4uLnByb3BzfT5cbiAqICAgICAgICAgPERhdGFncmlkIHJvd1N0eWxlPXtwb3N0Um93U3R5bGV9PlxuICogICAgICAgICAgICAgPFRleHRGaWVsZCBzb3VyY2U9XCJpZFwiIC8+XG4gKiAgICAgICAgICAgICA8VGV4dEZpZWxkIHNvdXJjZT1cInRpdGxlXCIgLz5cbiAqICAgICAgICAgICAgIDxUZXh0RmllbGQgc291cmNlPVwiYm9keVwiIC8+XG4gKiAgICAgICAgICAgICA8RWRpdEJ1dHRvbiAvPlxuICogICAgICAgICA8L0RhdGFncmlkPlxuICogICAgIDwvTGlzdD5cbiAqICk7XG4gKlxuICogQGV4YW1wbGUgRGlzcGxheSBhbGwgdGhlIGNvbW1lbnRzIG9mIHRoZSBjdXJyZW50IHBvc3QgYXMgYSBkYXRhZ3JpZFxuICogPFJlZmVyZW5jZU1hbnlGaWVsZCByZWZlcmVuY2U9XCJjb21tZW50c1wiIHRhcmdldD1cInBvc3RfaWRcIj5cbiAqICAgICA8RGF0YWdyaWQ+XG4gKiAgICAgICAgIDxUZXh0RmllbGQgc291cmNlPVwiaWRcIiAvPlxuICogICAgICAgICA8VGV4dEZpZWxkIHNvdXJjZT1cImJvZHlcIiAvPlxuICogICAgICAgICA8RGF0ZUZpZWxkIHNvdXJjZT1cImNyZWF0ZWRfYXRcIiAvPlxuICogICAgICAgICA8RWRpdEJ1dHRvbiAvPlxuICogICAgIDwvRGF0YWdyaWQ+XG4gKiA8L1JlZmVyZW5jZU1hbnlGaWVsZD5cbiAqXG4gKlxuICogQGV4YW1wbGUgVXNhZ2Ugb3V0c2lkZSBvZiBhIDxMaXN0PiBvciBhIDxSZWZlcmVuY2VNYW55RmllbGQ+LlxuICpcbiAqIGNvbnN0IGN1cnJlbnRTb3J0ID0geyBmaWVsZDogJ3B1Ymxpc2hlZF9hdCcsIG9yZGVyOiAnREVTQycgfTtcbiAqXG4gKiBleHBvcnQgY29uc3QgTXlDdXN0b21MaXN0ID0gKHByb3BzKSA9PiB7XG4gKiAgICAgY29uc3QgeyBpZHMsIGRhdGEsIHRvdGFsLCBsb2FkZWQgfSA9IHVzZUdldExpc3QoXG4gKiAgICAgICAgICdwb3N0cycsXG4gKiAgICAgICAgIHsgcGFnZTogMSwgcGVyUGFnZTogMTAgfSxcbiAqICAgICAgICAgY3VycmVudFNvcnRcbiAqICAgICApO1xuICpcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgICA8RGF0YWdyaWRcbiAqICAgICAgICAgICAgIGJhc2VQYXRoPVwiXCJcbiAqICAgICAgICAgICAgIGN1cnJlbnRTb3J0PXtjdXJyZW50U29ydH1cbiAqICAgICAgICAgICAgIGRhdGE9e2RhdGF9XG4gKiAgICAgICAgICAgICBpZHM9e2lkc31cbiAqICAgICAgICAgICAgIHNlbGVjdGVkSWRzPXtbXX1cbiAqICAgICAgICAgICAgIGxvYWRlZD17bG9hZGVkfVxuICogICAgICAgICAgICAgdG90YWw9e3RvdGFsfVxuICogICAgICAgICAgICAgc2V0U29ydD17KCkgPT4ge1xuICogICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXQgc29ydCcpO1xuICogICAgICAgICAgICAgfX1cbiAqICAgICAgICAgICAgIG9uU2VsZWN0PXsoKSA9PiB7XG4gKiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29uIHNlbGVjdCcpO1xuICogICAgICAgICAgICAgfX1cbiAqICAgICAgICAgICAgIG9uVG9nZ2xlSXRlbT17KCkgPT4ge1xuICogICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvbiB0b2dnbGUgaXRlbScpO1xuICogICAgICAgICAgICAgfX1cbiAqICAgICAgICAgPlxuICogICAgICAgICAgICAgPFRleHRGaWVsZCBzb3VyY2U9XCJpZFwiIC8+XG4gKiAgICAgICAgICAgICA8VGV4dEZpZWxkIHNvdXJjZT1cInRpdGxlXCIgLz5cbiAqICAgICAgICAgPC9EYXRhZ3JpZD5cbiAqICAgICApO1xuICogfVxuICovXG52YXIgRGF0YWdyaWQgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgdmFyIGNsYXNzZXMgPSB1c2VEYXRhZ3JpZFN0eWxlcyhwcm9wcyk7XG4gICAgdmFyIF9hID0gcHJvcHMub3B0aW1pemVkLCBvcHRpbWl6ZWQgPSBfYSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYSwgX2IgPSBwcm9wcy5ib2R5LCBib2R5ID0gX2IgPT09IHZvaWQgMCA/IG9wdGltaXplZCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHVyZURhdGFncmlkQm9keSwgbnVsbCkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KERhdGFncmlkQm9keSwgbnVsbCkgOiBfYiwgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbiwgY2xhc3Nlc092ZXJyaWRlID0gcHJvcHMuY2xhc3NlcywgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCBlbXB0eSA9IHByb3BzLmVtcHR5LCBleHBhbmQgPSBwcm9wcy5leHBhbmQsIF9jID0gcHJvcHMuaGFzQnVsa0FjdGlvbnMsIGhhc0J1bGtBY3Rpb25zID0gX2MgPT09IHZvaWQgMCA/IGZhbHNlIDogX2MsIGhvdmVyID0gcHJvcHMuaG92ZXIsIGlzUm93U2VsZWN0YWJsZSA9IHByb3BzLmlzUm93U2VsZWN0YWJsZSwgaXNSb3dFeHBhbmRhYmxlID0gcHJvcHMuaXNSb3dFeHBhbmRhYmxlLCByZXNvdXJjZSA9IHByb3BzLnJlc291cmNlLCByb3dDbGljayA9IHByb3BzLnJvd0NsaWNrLCByb3dTdHlsZSA9IHByb3BzLnJvd1N0eWxlLCBfZCA9IHByb3BzLnNpemUsIHNpemUgPSBfZCA9PT0gdm9pZCAwID8gJ3NtYWxsJyA6IF9kLCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJvcHRpbWl6ZWRcIiwgXCJib2R5XCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc2VzXCIsIFwiY2xhc3NOYW1lXCIsIFwiZW1wdHlcIiwgXCJleHBhbmRcIiwgXCJoYXNCdWxrQWN0aW9uc1wiLCBcImhvdmVyXCIsIFwiaXNSb3dTZWxlY3RhYmxlXCIsIFwiaXNSb3dFeHBhbmRhYmxlXCIsIFwicmVzb3VyY2VcIiwgXCJyb3dDbGlja1wiLCBcInJvd1N0eWxlXCIsIFwic2l6ZVwiXSk7XG4gICAgdmFyIF9lID0gdXNlTGlzdENvbnRleHQocHJvcHMpLCBiYXNlUGF0aCA9IF9lLmJhc2VQYXRoLCBjdXJyZW50U29ydCA9IF9lLmN1cnJlbnRTb3J0LCBkYXRhID0gX2UuZGF0YSwgaWRzID0gX2UuaWRzLCBsb2FkZWQgPSBfZS5sb2FkZWQsIG9uU2VsZWN0ID0gX2Uub25TZWxlY3QsIG9uVG9nZ2xlSXRlbSA9IF9lLm9uVG9nZ2xlSXRlbSwgc2VsZWN0ZWRJZHMgPSBfZS5zZWxlY3RlZElkcywgc2V0U29ydCA9IF9lLnNldFNvcnQsIHRvdGFsID0gX2UudG90YWw7XG4gICAgdmFyIHZlcnNpb24gPSB1c2VWZXJzaW9uKCk7XG4gICAgdmFyIGNvbnRleHRWYWx1ZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gKHsgaXNSb3dFeHBhbmRhYmxlOiBpc1Jvd0V4cGFuZGFibGUgfSk7IH0sIFtcbiAgICAgICAgaXNSb3dFeHBhbmRhYmxlLFxuICAgIF0pO1xuICAgIHZhciB1cGRhdGVTb3J0Q2FsbGJhY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHZhciBuZXdGaWVsZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5maWVsZDtcbiAgICAgICAgdmFyIG5ld09yZGVyID0gY3VycmVudFNvcnQuZmllbGQgPT09IG5ld0ZpZWxkXG4gICAgICAgICAgICA/IGN1cnJlbnRTb3J0Lm9yZGVyID09PSAnQVNDJ1xuICAgICAgICAgICAgICAgID8gJ0RFU0MnXG4gICAgICAgICAgICAgICAgOiAnQVNDJ1xuICAgICAgICAgICAgOiBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQub3JkZXI7XG4gICAgICAgIHNldFNvcnQobmV3RmllbGQsIG5ld09yZGVyKTtcbiAgICB9LCBbY3VycmVudFNvcnQuZmllbGQsIGN1cnJlbnRTb3J0Lm9yZGVyLCBzZXRTb3J0XSk7XG4gICAgdmFyIHVwZGF0ZVNvcnQgPSBzZXRTb3J0ID8gdXBkYXRlU29ydENhbGxiYWNrIDogbnVsbDtcbiAgICB2YXIgaGFuZGxlU2VsZWN0QWxsID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgdmFyIGFsbF8xID0gaWRzLmNvbmNhdChzZWxlY3RlZElkcy5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7IHJldHVybiAhaWRzLmluY2x1ZGVzKGlkKTsgfSkpO1xuICAgICAgICAgICAgb25TZWxlY3QoaXNSb3dTZWxlY3RhYmxlXG4gICAgICAgICAgICAgICAgPyBhbGxfMS5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7IHJldHVybiBpc1Jvd1NlbGVjdGFibGUoZGF0YVtpZF0pOyB9KVxuICAgICAgICAgICAgICAgIDogYWxsXzEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb25TZWxlY3QoW10pO1xuICAgICAgICB9XG4gICAgfSwgW2RhdGEsIGlkcywgb25TZWxlY3QsIGlzUm93U2VsZWN0YWJsZSwgc2VsZWN0ZWRJZHNdKTtcbiAgICB2YXIgbGFzdFNlbGVjdGVkID0gdXNlUmVmKG51bGwpO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghc2VsZWN0ZWRJZHMgfHwgc2VsZWN0ZWRJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBsYXN0U2VsZWN0ZWQuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LCBbSlNPTi5zdHJpbmdpZnkoc2VsZWN0ZWRJZHMpXSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgdmFyIGhhbmRsZVRvZ2dsZUl0ZW0gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoaWQsIGV2ZW50KSB7XG4gICAgICAgIHZhciBsYXN0U2VsZWN0ZWRJbmRleCA9IGlkcy5pbmRleE9mKGxhc3RTZWxlY3RlZC5jdXJyZW50KTtcbiAgICAgICAgbGFzdFNlbGVjdGVkLmN1cnJlbnQgPSBldmVudC50YXJnZXQuY2hlY2tlZCA/IGlkIDogbnVsbDtcbiAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIGxhc3RTZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaWRzLmluZGV4T2YoaWQpO1xuICAgICAgICAgICAgdmFyIGlkc0JldHdlZW5TZWxlY3Rpb25zID0gaWRzLnNsaWNlKE1hdGgubWluKGxhc3RTZWxlY3RlZEluZGV4LCBpbmRleCksIE1hdGgubWF4KGxhc3RTZWxlY3RlZEluZGV4LCBpbmRleCkgKyAxKTtcbiAgICAgICAgICAgIHZhciBuZXdTZWxlY3RlZElkcyA9IGV2ZW50LnRhcmdldC5jaGVja2VkXG4gICAgICAgICAgICAgICAgPyB1bmlvbihzZWxlY3RlZElkcywgaWRzQmV0d2VlblNlbGVjdGlvbnMpXG4gICAgICAgICAgICAgICAgOiBkaWZmZXJlbmNlKHNlbGVjdGVkSWRzLCBpZHNCZXR3ZWVuU2VsZWN0aW9ucyk7XG4gICAgICAgICAgICBvblNlbGVjdChpc1Jvd1NlbGVjdGFibGVcbiAgICAgICAgICAgICAgICA/IG5ld1NlbGVjdGVkSWRzLmZpbHRlcihmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzUm93U2VsZWN0YWJsZShkYXRhW2lkXSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IG5ld1NlbGVjdGVkSWRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9uVG9nZ2xlSXRlbShpZCk7XG4gICAgICAgIH1cbiAgICB9LCBbZGF0YSwgaWRzLCBpc1Jvd1NlbGVjdGFibGUsIG9uU2VsZWN0LCBvblRvZ2dsZUl0ZW0sIHNlbGVjdGVkSWRzXSk7XG4gICAgLyoqXG4gICAgICogaWYgbG9hZGVkIGlzIGZhbHNlLCB0aGUgbGlzdCBkaXNwbGF5cyBmb3IgdGhlIGZpcnN0IHRpbWUsIGFuZCB0aGUgZGF0YVByb3ZpZGVyIGhhc24ndCBhbnN3ZXJlZCB5ZXRcbiAgICAgKiBpZiBsb2FkZWQgaXMgdHJ1ZSwgdGhlIGRhdGEgZm9yIHRoZSBsaXN0IGhhcyBhdCBsZWFzdCBiZWVuIHJldHVybmVkIG9uY2UgYnkgdGhlIGRhdGFQcm92aWRlclxuICAgICAqIGlmIGxvYWRlZCBpcyB1bmRlZmluZWQsIHRoZSBEYXRhZ3JpZCBwYXJlbnQgZG9lc24ndCB0cmFjayBsb2FkaW5nIHN0YXRlIChlLmcuIFJlZmVyZW5jZUFycmF5RmllbGQpXG4gICAgICovXG4gICAgaWYgKGxvYWRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KERhdGFncmlkTG9hZGluZywgeyBjbGFzc2VzOiBjbGFzc2VzLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgZXhwYW5kOiBleHBhbmQsIGhhc0J1bGtBY3Rpb25zOiBoYXNCdWxrQWN0aW9ucywgbmJDaGlsZHJlbjogUmVhY3QuQ2hpbGRyZW4uY291bnQoY2hpbGRyZW4pLCBzaXplOiBzaXplIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25jZSBsb2FkZWQsIHRoZSBkYXRhIGZvciB0aGUgbGlzdCBtYXkgYmUgZW1wdHkuIEluc3RlYWQgb2ZcbiAgICAgKiBkaXNwbGF5aW5nIHRoZSB0YWJsZSBoZWFkZXIgd2l0aCB6ZXJvIGRhdGEgcm93cyxcbiAgICAgKiB0aGUgZGF0YWdyaWQgZGlzcGxheXMgbm90aGluZyBvciBhIGN1c3RvbSBlbXB0eSBjb21wb25lbnQuXG4gICAgICovXG4gICAgaWYgKGxvYWRlZCAmJiAoaWRzLmxlbmd0aCA9PT0gMCB8fCB0b3RhbCA9PT0gMCkpIHtcbiAgICAgICAgaWYgKGVtcHR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBhbGwgPSBpc1Jvd1NlbGVjdGFibGVcbiAgICAgICAgPyBpZHMuZmlsdGVyKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gaXNSb3dTZWxlY3RhYmxlKGRhdGFbaWRdKTsgfSlcbiAgICAgICAgOiBpZHM7XG4gICAgLyoqXG4gICAgICogQWZ0ZXIgdGhlIGluaXRpYWwgbG9hZCwgaWYgdGhlIGRhdGEgZm9yIHRoZSBsaXN0IGlzbid0IGVtcHR5LFxuICAgICAqIGFuZCBldmVuIGlmIHRoZSBkYXRhIGlzIHJlZnJlc2hpbmcgKGUuZy4gYWZ0ZXIgYSBmaWx0ZXIgY2hhbmdlKSxcbiAgICAgKiB0aGUgZGF0YWdyaWQgZGlzcGxheXMgdGhlIGN1cnJlbnQgZGF0YS5cbiAgICAgKi9cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGF0YWdyaWRDb250ZXh0UHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHRWYWx1ZSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlLCBfX2Fzc2lnbih7IHJlZjogcmVmLCBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy50YWJsZSwgY2xhc3NOYW1lKSwgc2l6ZTogc2l6ZSB9LCBzYW5pdGl6ZUxpc3RSZXN0UHJvcHMocmVzdCkpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUhlYWQsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnRoZWFkIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZVJvdywgeyBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy5yb3csIGNsYXNzZXMuaGVhZGVyUm93KSB9LFxuICAgICAgICAgICAgICAgICAgICBleHBhbmQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVDZWxsLCB7IHBhZGRpbmc6IFwibm9uZVwiLCBjbGFzc05hbWU6IGNsYXNzbmFtZXMoY2xhc3Nlcy5oZWFkZXJDZWxsLCBjbGFzc2VzLmV4cGFuZEhlYWRlcikgfSkpLFxuICAgICAgICAgICAgICAgICAgICBoYXNCdWxrQWN0aW9ucyAmJiBzZWxlY3RlZElkcyAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIHsgcGFkZGluZzogXCJjaGVja2JveFwiLCBjbGFzc05hbWU6IGNsYXNzZXMuaGVhZGVyQ2VsbCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveCwgeyBjbGFzc05hbWU6IFwic2VsZWN0LWFsbFwiLCBjb2xvcjogXCJwcmltYXJ5XCIsIGNoZWNrZWQ6IHNlbGVjdGVkSWRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsLmV2ZXJ5KGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkSWRzLmluY2x1ZGVzKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIG9uQ2hhbmdlOiBoYW5kbGVTZWxlY3RBbGwgfSkpKSxcbiAgICAgICAgICAgICAgICAgICAgQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoZmllbGQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZEVsZW1lbnQoZmllbGQpID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGF0YWdyaWRIZWFkZXJDZWxsLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5oZWFkZXJDZWxsLCBjdXJyZW50U29ydDogY3VycmVudFNvcnQsIGZpZWxkOiBmaWVsZCwgaXNTb3J0aW5nOiBjdXJyZW50U29ydC5maWVsZCA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpZWxkLnByb3BzLnNvcnRCeSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQucHJvcHMuc291cmNlKSwga2V5OiBmaWVsZC5wcm9wcy5zb3VyY2UgfHwgaW5kZXgsIHJlc291cmNlOiByZXNvdXJjZSwgdXBkYXRlU29ydDogdXBkYXRlU29ydCB9KSkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9KSkpLFxuICAgICAgICAgICAgY2xvbmVFbGVtZW50KGJvZHksIHtcbiAgICAgICAgICAgICAgICBiYXNlUGF0aDogYmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLnRib2R5LFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgZXhwYW5kOiBleHBhbmQsXG4gICAgICAgICAgICAgICAgcm93Q2xpY2s6IHJvd0NsaWNrLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgaGFzQnVsa0FjdGlvbnM6IGhhc0J1bGtBY3Rpb25zLFxuICAgICAgICAgICAgICAgIGhvdmVyOiBob3ZlcixcbiAgICAgICAgICAgICAgICBpZHM6IGlkcyxcbiAgICAgICAgICAgICAgICBvblRvZ2dsZUl0ZW06IGhhbmRsZVRvZ2dsZUl0ZW0sXG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIHJvd1N0eWxlOiByb3dTdHlsZSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZElkczogc2VsZWN0ZWRJZHMsXG4gICAgICAgICAgICAgICAgaXNSb3dTZWxlY3RhYmxlOiBpc1Jvd1NlbGVjdGFibGUsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICAgICAgICAgIH0sIGNoaWxkcmVuKSkpKTtcbn0pO1xuRGF0YWdyaWQucHJvcFR5cGVzID0ge1xuICAgIGJhc2VQYXRoOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGJvZHk6IFByb3BUeXBlcy5lbGVtZW50LFxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGN1cnJlbnRTb3J0OiBQcm9wVHlwZXMuZXhhY3Qoe1xuICAgICAgICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgb3JkZXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfSksXG4gICAgZGF0YTogUHJvcFR5cGVzLmFueSxcbiAgICBlbXB0eTogUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGV4cGFuZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmVsZW1lbnQsIFByb3BUeXBlcy5lbGVtZW50VHlwZV0pLFxuICAgIGhhc0J1bGtBY3Rpb25zOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBob3ZlcjogUHJvcFR5cGVzLmJvb2wsXG4gICAgaWRzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuYW55KSxcbiAgICBsb2FkaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBvblNlbGVjdDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25Ub2dnbGVJdGVtOiBQcm9wVHlwZXMuZnVuYyxcbiAgICByZXNvdXJjZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICByb3dDbGljazogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgICByb3dTdHlsZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgc2VsZWN0ZWRJZHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5hbnkpLFxuICAgIHNldFNvcnQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIHRvdGFsOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHZlcnNpb246IFByb3BUeXBlcy5udW1iZXIsXG4gICAgaXNSb3dTZWxlY3RhYmxlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBpc1Jvd0V4cGFuZGFibGU6IFByb3BUeXBlcy5mdW5jLFxufTtcbkRhdGFncmlkLmRpc3BsYXlOYW1lID0gJ0RhdGFncmlkJztcbmV4cG9ydCBkZWZhdWx0IERhdGFncmlkO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNsb25lRWxlbWVudCwgbWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBUYWJsZUJvZHkgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHNoYWxsb3dFcXVhbCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBEYXRhZ3JpZFJvdywgeyBQdXJlRGF0YWdyaWRSb3cgfSBmcm9tICcuL0RhdGFncmlkUm93JztcbnZhciBEYXRhZ3JpZEJvZHkgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChfYSwgcmVmKSB7XG4gICAgdmFyIGJhc2VQYXRoID0gX2EuYmFzZVBhdGgsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsYXNzZXMgPSBfYS5jbGFzc2VzLCBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsIGRhdGEgPSBfYS5kYXRhLCBleHBhbmQgPSBfYS5leHBhbmQsIGhhc0J1bGtBY3Rpb25zID0gX2EuaGFzQnVsa0FjdGlvbnMsIGhvdmVyID0gX2EuaG92ZXIsIGlkcyA9IF9hLmlkcywgb25Ub2dnbGVJdGVtID0gX2Eub25Ub2dnbGVJdGVtLCByZXNvdXJjZSA9IF9hLnJlc291cmNlLCByb3cgPSBfYS5yb3csIHJvd0NsaWNrID0gX2Eucm93Q2xpY2ssIHJvd1N0eWxlID0gX2Eucm93U3R5bGUsIHNlbGVjdGVkSWRzID0gX2Euc2VsZWN0ZWRJZHMsIGlzUm93U2VsZWN0YWJsZSA9IF9hLmlzUm93U2VsZWN0YWJsZSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiYmFzZVBhdGhcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzZXNcIiwgXCJjbGFzc05hbWVcIiwgXCJkYXRhXCIsIFwiZXhwYW5kXCIsIFwiaGFzQnVsa0FjdGlvbnNcIiwgXCJob3ZlclwiLCBcImlkc1wiLCBcIm9uVG9nZ2xlSXRlbVwiLCBcInJlc291cmNlXCIsIFwicm93XCIsIFwicm93Q2xpY2tcIiwgXCJyb3dTdHlsZVwiLCBcInNlbGVjdGVkSWRzXCIsIFwiaXNSb3dTZWxlY3RhYmxlXCJdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVCb2R5LCBfX2Fzc2lnbih7IHJlZjogcmVmLCBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ2RhdGFncmlkLWJvZHknLCBjbGFzc05hbWUpIH0sIHJlc3QpLCBpZHMubWFwKGZ1bmN0aW9uIChpZCwgcm93SW5kZXgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gY2xvbmVFbGVtZW50KHJvdywge1xuICAgICAgICAgICAgYmFzZVBhdGg6IGJhc2VQYXRoLFxuICAgICAgICAgICAgY2xhc3NlczogY2xhc3NlcyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnJvdywgKF9hID0ge30sXG4gICAgICAgICAgICAgICAgX2FbY2xhc3Nlcy5yb3dFdmVuXSA9IHJvd0luZGV4ICUgMiA9PT0gMCxcbiAgICAgICAgICAgICAgICBfYVtjbGFzc2VzLnJvd09kZF0gPSByb3dJbmRleCAlIDIgIT09IDAsXG4gICAgICAgICAgICAgICAgX2FbY2xhc3Nlcy5jbGlja2FibGVSb3ddID0gcm93Q2xpY2ssXG4gICAgICAgICAgICAgICAgX2EpKSxcbiAgICAgICAgICAgIGV4cGFuZDogZXhwYW5kLFxuICAgICAgICAgICAgaGFzQnVsa0FjdGlvbnM6IGhhc0J1bGtBY3Rpb25zICYmICEhc2VsZWN0ZWRJZHMsXG4gICAgICAgICAgICBob3ZlcjogaG92ZXIsXG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBrZXk6IGlkLFxuICAgICAgICAgICAgb25Ub2dnbGVJdGVtOiBvblRvZ2dsZUl0ZW0sXG4gICAgICAgICAgICByZWNvcmQ6IGRhdGFbaWRdLFxuICAgICAgICAgICAgcmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgcm93Q2xpY2s6IHJvd0NsaWNrLFxuICAgICAgICAgICAgc2VsZWN0YWJsZTogIWlzUm93U2VsZWN0YWJsZSB8fCBpc1Jvd1NlbGVjdGFibGUoZGF0YVtpZF0pLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkSWRzID09PSBudWxsIHx8IHNlbGVjdGVkSWRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZElkcy5pbmNsdWRlcyhpZCksXG4gICAgICAgICAgICBzdHlsZTogcm93U3R5bGUgPyByb3dTdHlsZShkYXRhW2lkXSwgcm93SW5kZXgpIDogbnVsbCxcbiAgICAgICAgfSwgY2hpbGRyZW4pO1xuICAgIH0pKSk7XG59KTtcbkRhdGFncmlkQm9keS5wcm9wVHlwZXMgPSB7XG4gICAgYmFzZVBhdGg6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLmFueSxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBkYXRhOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGV4cGFuZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmVsZW1lbnQsIFByb3BUeXBlcy5lbGVtZW50VHlwZV0pLFxuICAgIGhhc0J1bGtBY3Rpb25zOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIGhvdmVyOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBpZHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5hbnkpLmlzUmVxdWlyZWQsXG4gICAgb25Ub2dnbGVJdGVtOiBQcm9wVHlwZXMuZnVuYyxcbiAgICByZXNvdXJjZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICByb3c6IFByb3BUeXBlcy5lbGVtZW50LFxuICAgIHJvd0NsaWNrOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLFxuICAgIHJvd1N0eWxlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBzZWxlY3RlZElkczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmFueSksXG4gICAgc3R5bGVzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIGlzUm93U2VsZWN0YWJsZTogUHJvcFR5cGVzLmZ1bmMsXG59O1xuRGF0YWdyaWRCb2R5LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkYXRhOiB7fSxcbiAgICBoYXNCdWxrQWN0aW9uczogZmFsc2UsXG4gICAgaWRzOiBbXSxcbiAgICByb3c6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGF0YWdyaWRSb3csIG51bGwpLFxufTtcbi8vIHRyaWNrIG1hdGVyaWFsLXVpIFRhYmxlIGludG8gdGhpbmtpbmcgdGhpcyBpcyBvbmUgb2YgdGhlIGNoaWxkIHR5cGUgaXQgc3VwcG9ydHNcbi8vIEB0cy1pZ25vcmVcbkRhdGFncmlkQm9keS5tdWlOYW1lID0gJ1RhYmxlQm9keSc7XG52YXIgYXJlRXF1YWwgPSBmdW5jdGlvbiAocHJldlByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICB2YXIgXzEgPSBwcmV2UHJvcHMuY2hpbGRyZW4sIF8yID0gcHJldlByb3BzLmV4cGFuZCwgXzMgPSBwcmV2UHJvcHMucm93LCBwcmV2UHJvcHNXaXRob3V0Q2hpbGRyZW4gPSBfX3Jlc3QocHJldlByb3BzLCBbXCJjaGlsZHJlblwiLCBcImV4cGFuZFwiLCBcInJvd1wiXSk7XG4gICAgdmFyIF80ID0gbmV4dFByb3BzLmNoaWxkcmVuLCBfNSA9IG5leHRQcm9wcy5leHBhbmQsIF82ID0gbmV4dFByb3BzLnJvdywgbmV4dFByb3BzV2l0aG91dENoaWxkcmVuID0gX19yZXN0KG5leHRQcm9wcywgW1wiY2hpbGRyZW5cIiwgXCJleHBhbmRcIiwgXCJyb3dcIl0pO1xuICAgIHJldHVybiBzaGFsbG93RXF1YWwocHJldlByb3BzV2l0aG91dENoaWxkcmVuLCBuZXh0UHJvcHNXaXRob3V0Q2hpbGRyZW4pO1xufTtcbmV4cG9ydCB2YXIgUHVyZURhdGFncmlkQm9keSA9IG1lbW8oRGF0YWdyaWRCb2R5LCBhcmVFcXVhbCk7XG4vLyB0cmljayBtYXRlcmlhbC11aSBUYWJsZSBpbnRvIHRoaW5raW5nIHRoaXMgaXMgb25lIG9mIHRoZSBjaGlsZCB0eXBlIGl0IHN1cHBvcnRzXG4vLyBAdHMtaWdub3JlXG5QdXJlRGF0YWdyaWRCb2R5Lm11aU5hbWUgPSAnVGFibGVCb2R5Jztcbi8vIEB0cy1pZ25vcmVcblB1cmVEYXRhZ3JpZEJvZHkuZGVmYXVsdFByb3BzID0ge1xuICAgIHJvdzogUmVhY3QuY3JlYXRlRWxlbWVudChQdXJlRGF0YWdyaWRSb3csIG51bGwpLFxufTtcbmV4cG9ydCBkZWZhdWx0IERhdGFncmlkQm9keTtcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFRhYmxlQ2VsbCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9UYWJsZUNlbGwnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG52YXIgRGF0YWdyaWRDZWxsID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAoX2EsIHJlZikge1xuICAgIHZhciBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsIGZpZWxkID0gX2EuZmllbGQsIHJlY29yZCA9IF9hLnJlY29yZCwgYmFzZVBhdGggPSBfYS5iYXNlUGF0aCwgcmVzb3VyY2UgPSBfYS5yZXNvdXJjZSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiY2xhc3NOYW1lXCIsIFwiZmllbGRcIiwgXCJyZWNvcmRcIiwgXCJiYXNlUGF0aFwiLCBcInJlc291cmNlXCJdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVDZWxsLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc05hbWUsIGZpZWxkLnByb3BzLmNlbGxDbGFzc05hbWUpLCBhbGlnbjogZmllbGQucHJvcHMudGV4dEFsaWduLCByZWY6IHJlZiB9LCByZXN0KSwgUmVhY3QuY2xvbmVFbGVtZW50KGZpZWxkLCB7XG4gICAgICAgIHJlY29yZDogcmVjb3JkLFxuICAgICAgICBiYXNlUGF0aDogZmllbGQucHJvcHMuYmFzZVBhdGggfHwgYmFzZVBhdGgsXG4gICAgICAgIHJlc291cmNlOiByZXNvdXJjZSxcbiAgICB9KSkpO1xufSk7XG5EYXRhZ3JpZENlbGwucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBmaWVsZDogUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJlY29yZDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBiYXNlUGF0aDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICByZXNvdXJjZTogUHJvcFR5cGVzLnN0cmluZyxcbn07XG4vLyBXaGF0PyBUeXBlU2NyaXB0IGxvc2VzIHRoZSBkaXNwbGF5TmFtZSBpZiB3ZSBkb24ndCBzZXQgaXQgZXhwbGljaXRseVxuRGF0YWdyaWRDZWxsLmRpc3BsYXlOYW1lID0gJ0RhdGFncmlkQ2VsbCc7XG5leHBvcnQgZGVmYXVsdCBEYXRhZ3JpZENlbGw7XG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xudmFyIERhdGFncmlkQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pO1xuRGF0YWdyaWRDb250ZXh0LmRpc3BsYXlOYW1lID0gJ0RhdGFncmlkQ29udGV4dCc7XG5leHBvcnQgZGVmYXVsdCBEYXRhZ3JpZENvbnRleHQ7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERhdGFncmlkQ29udGV4dCBmcm9tICcuL0RhdGFncmlkQ29udGV4dCc7XG52YXIgRGF0YWdyaWRDb250ZXh0UHJvdmlkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgdmFsdWUgPSBfYS52YWx1ZTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGF0YWdyaWRDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB2YWx1ZSB9LCBjaGlsZHJlbikpO1xufTtcbmV4cG9ydCBkZWZhdWx0IERhdGFncmlkQ29udGV4dFByb3ZpZGVyO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBUYWJsZUNlbGwsIFRhYmxlU29ydExhYmVsLCBUb29sdGlwIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XG5pbXBvcnQgeyBGaWVsZFRpdGxlLCB1c2VUcmFuc2xhdGUsIHVzZVJlc291cmNlQ29udGV4dCwgfSBmcm9tICdyYS1jb3JlJztcbi8vIHJlbW92ZSB0aGUgc29ydCBpY29ucyB3aGVuIG5vdCBhY3RpdmVcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKHtcbiAgICBpY29uOiB7XG4gICAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICB9LFxuICAgIGFjdGl2ZToge1xuICAgICAgICAnJiAkaWNvbic6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUnLFxuICAgICAgICB9LFxuICAgIH0sXG59LCB7IG5hbWU6ICdSYURhdGFncmlkSGVhZGVyQ2VsbCcgfSk7XG5leHBvcnQgdmFyIERhdGFncmlkSGVhZGVyQ2VsbCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsIGNsYXNzZXNPdmVycmlkZSA9IHByb3BzLmNsYXNzZXMsIGZpZWxkID0gcHJvcHMuZmllbGQsIGN1cnJlbnRTb3J0ID0gcHJvcHMuY3VycmVudFNvcnQsIHVwZGF0ZVNvcnQgPSBwcm9wcy51cGRhdGVTb3J0LCBpc1NvcnRpbmcgPSBwcm9wcy5pc1NvcnRpbmcsIHJlc3QgPSBfX3Jlc3QocHJvcHMsIFtcImNsYXNzTmFtZVwiLCBcImNsYXNzZXNcIiwgXCJmaWVsZFwiLCBcImN1cnJlbnRTb3J0XCIsIFwidXBkYXRlU29ydFwiLCBcImlzU29ydGluZ1wiXSk7XG4gICAgdmFyIHJlc291cmNlID0gdXNlUmVzb3VyY2VDb250ZXh0KHByb3BzKTtcbiAgICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcyhwcm9wcyk7XG4gICAgdmFyIHRyYW5zbGF0ZSA9IHVzZVRyYW5zbGF0ZSgpO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBjbGFzc25hbWVzKGNsYXNzTmFtZSwgZmllbGQucHJvcHMuaGVhZGVyQ2xhc3NOYW1lKSwgYWxpZ246IGZpZWxkLnByb3BzLnRleHRBbGlnbiwgdmFyaWFudDogXCJoZWFkXCIgfSwgcmVzdCksIHVwZGF0ZVNvcnQgJiZcbiAgICAgICAgZmllbGQucHJvcHMuc29ydGFibGUgIT09IGZhbHNlICYmXG4gICAgICAgIChmaWVsZC5wcm9wcy5zb3J0QnkgfHwgZmllbGQucHJvcHMuc291cmNlKSA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIHsgdGl0bGU6IHRyYW5zbGF0ZSgncmEuYWN0aW9uLnNvcnQnKSwgcGxhY2VtZW50OiBmaWVsZC5wcm9wcy50ZXh0QWxpZ24gPT09ICdyaWdodCdcbiAgICAgICAgICAgID8gJ2JvdHRvbS1lbmQnXG4gICAgICAgICAgICA6ICdib3R0b20tc3RhcnQnLCBlbnRlckRlbGF5OiAzMDAgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZVNvcnRMYWJlbCwgeyBhY3RpdmU6IGN1cnJlbnRTb3J0LmZpZWxkID09PVxuICAgICAgICAgICAgICAgIChmaWVsZC5wcm9wcy5zb3J0QnkgfHwgZmllbGQucHJvcHMuc291cmNlKSwgZGlyZWN0aW9uOiBjdXJyZW50U29ydC5vcmRlciA9PT0gJ0FTQycgPyAnYXNjJyA6ICdkZXNjJywgXCJkYXRhLXNvcnRcIjogZmllbGQucHJvcHMuc29ydEJ5IHx8IGZpZWxkLnByb3BzLnNvdXJjZSwgXCJkYXRhLWZpZWxkXCI6IGZpZWxkLnByb3BzLnNvcnRCeSB8fCBmaWVsZC5wcm9wcy5zb3VyY2UsIFwiZGF0YS1vcmRlclwiOiBmaWVsZC5wcm9wcy5zb3J0QnlPcmRlciB8fCAnQVNDJywgb25DbGljazogdXBkYXRlU29ydCwgY2xhc3NlczogY2xhc3NlcyB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGaWVsZFRpdGxlLCB7IGxhYmVsOiBmaWVsZC5wcm9wcy5sYWJlbCwgc291cmNlOiBmaWVsZC5wcm9wcy5zb3VyY2UsIHJlc291cmNlOiByZXNvdXJjZSB9KSkpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KEZpZWxkVGl0bGUsIHsgbGFiZWw6IGZpZWxkLnByb3BzLmxhYmVsLCBzb3VyY2U6IGZpZWxkLnByb3BzLnNvdXJjZSwgcmVzb3VyY2U6IHJlc291cmNlIH0pKSkpO1xufTtcbkRhdGFncmlkSGVhZGVyQ2VsbC5wcm9wVHlwZXMgPSB7XG4gICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgZmllbGQ6IFByb3BUeXBlcy5lbGVtZW50LFxuICAgIGN1cnJlbnRTb3J0OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICBzb3J0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBvcmRlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB9KS5pc1JlcXVpcmVkLFxuICAgIGlzU29ydGluZzogUHJvcFR5cGVzLmJvb2wsXG4gICAgcmVzb3VyY2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdXBkYXRlU29ydDogUHJvcFR5cGVzLmZ1bmMsXG59O1xuZXhwb3J0IGRlZmF1bHQgbWVtbyhEYXRhZ3JpZEhlYWRlckNlbGwsIGZ1bmN0aW9uIChwcm9wcywgbmV4dFByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzLnVwZGF0ZVNvcnQgPT09IG5leHRQcm9wcy51cGRhdGVTb3J0ICYmXG4gICAgICAgIHByb3BzLmN1cnJlbnRTb3J0LmZpZWxkID09PSBuZXh0UHJvcHMuY3VycmVudFNvcnQuZmllbGQgJiZcbiAgICAgICAgcHJvcHMuY3VycmVudFNvcnQub3JkZXIgPT09IG5leHRQcm9wcy5jdXJyZW50U29ydC5vcmRlciAmJlxuICAgICAgICBwcm9wcy5pc1NvcnRpbmcgPT09IG5leHRQcm9wcy5pc1NvcnRpbmcgJiZcbiAgICAgICAgcHJvcHMucmVzb3VyY2UgPT09IG5leHRQcm9wcy5yZXNvdXJjZTtcbn0pO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBUYWJsZSwgVGFibGVDZWxsLCBUYWJsZUhlYWQsIFRhYmxlUm93LCBUYWJsZUJvZHksIEljb25CdXR0b24sIENoZWNrYm94LCB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcbmltcG9ydCBFeHBhbmRNb3JlSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvRXhwYW5kTW9yZSc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHVzZVRpbWVvdXQgfSBmcm9tICdyYS1jb3JlJztcbmltcG9ydCBQbGFjZWhvbGRlciBmcm9tICcuLi9QbGFjZWhvbGRlcic7XG52YXIgdGltZXMgPSBmdW5jdGlvbiAobmJDaGlsZHJlbiwgZm4pIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogbmJDaGlsZHJlbiB9LCBmdW5jdGlvbiAoXywga2V5KSB7IHJldHVybiBmbihrZXkpOyB9KTtcbn07XG52YXIgRGF0YWdyaWRMb2FkaW5nID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNsYXNzZXMgPSBfYS5jbGFzc2VzLCBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsIGV4cGFuZCA9IF9hLmV4cGFuZCwgaGFzQnVsa0FjdGlvbnMgPSBfYS5oYXNCdWxrQWN0aW9ucywgbmJDaGlsZHJlbiA9IF9hLm5iQ2hpbGRyZW4sIF9iID0gX2EubmJGYWtlTGluZXMsIG5iRmFrZUxpbmVzID0gX2IgPT09IHZvaWQgMCA/IDUgOiBfYiwgc2l6ZSA9IF9hLnNpemU7XG4gICAgdmFyIG9uZVNlY29uZEhhc1Bhc3NlZCA9IHVzZVRpbWVvdXQoMTAwMCk7XG4gICAgcmV0dXJuIG9uZVNlY29uZEhhc1Bhc3NlZCA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlLCB7IGNsYXNzTmFtZTogY2xhc3NuYW1lcyhjbGFzc2VzLnRhYmxlLCBjbGFzc05hbWUpLCBzaXplOiBzaXplIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVIZWFkLCBudWxsLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZVJvdywgeyBjbGFzc05hbWU6IGNsYXNzZXMucm93IH0sXG4gICAgICAgICAgICAgICAgZXhwYW5kICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ2VsbCwgeyBwYWRkaW5nOiBcIm5vbmVcIiwgY2xhc3NOYW1lOiBjbGFzc2VzLmV4cGFuZEhlYWRlciB9KSksXG4gICAgICAgICAgICAgICAgaGFzQnVsa0FjdGlvbnMgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVDZWxsLCB7IHBhZGRpbmc6IFwiY2hlY2tib3hcIiwgY2xhc3NOYW1lOiBjbGFzc2VzLmV4cGFuZEljb25DZWxsIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIHsgY2xhc3NOYW1lOiBcInNlbGVjdC1hbGxcIiwgY29sb3I6IFwicHJpbWFyeVwiLCBjaGVja2VkOiBmYWxzZSB9KSkpLFxuICAgICAgICAgICAgICAgIHRpbWVzKG5iQ2hpbGRyZW4sIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ2VsbCwgeyB2YXJpYW50OiBcImhlYWRcIiwgY2xhc3NOYW1lOiBjbGFzc2VzLmhlYWRlckNlbGwsIGtleToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhY2Vob2xkZXIsIG51bGwpKSk7IH0pKSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVCb2R5LCBudWxsLCB0aW1lcyhuYkZha2VMaW5lcywgZnVuY3Rpb24gKGtleTEpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlUm93LCB7IGtleToga2V5MSwgc3R5bGU6IHsgb3BhY2l0eTogMSAvIChrZXkxICsgMSkgfSB9LFxuICAgICAgICAgICAgZXhwYW5kICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ2VsbCwgeyBwYWRkaW5nOiBcIm5vbmVcIiwgY2xhc3NOYW1lOiBjbGFzc2VzLmV4cGFuZEljb25DZWxsIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IGNsYXNzTmFtZTogY2xhc3Nlcy5leHBhbmRJY29uLCBjb21wb25lbnQ6IFwiZGl2XCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChFeHBhbmRNb3JlSWNvbiwgbnVsbCkpKSksXG4gICAgICAgICAgICBoYXNCdWxrQWN0aW9ucyAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIHsgcGFkZGluZzogXCJjaGVja2JveFwiLCBjbGFzc05hbWU6IGNsYXNzZXMuZXhwYW5kSWNvbkNlbGwgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrYm94LCB7IGNsYXNzTmFtZTogXCJzZWxlY3QtYWxsXCIsIGNvbG9yOiBcInByaW1hcnlcIiwgY2hlY2tlZDogZmFsc2UgfSkpKSxcbiAgICAgICAgICAgIHRpbWVzKG5iQ2hpbGRyZW4sIGZ1bmN0aW9uIChrZXkyKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLnJvd0NlbGwsIGtleToga2V5MiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGxhY2Vob2xkZXIsIG51bGwpKSk7IH0pKSk7IH0pKSkpIDogbnVsbDtcbn07XG5EYXRhZ3JpZExvYWRpbmcucHJvcFR5cGVzID0ge1xuICAgIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGV4cGFuZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmVsZW1lbnQsIFByb3BUeXBlcy5lbGVtZW50VHlwZV0pLFxuICAgIGhhc0J1bGtBY3Rpb25zOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBuYkNoaWxkcmVuOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIG5iRmFrZUxpbmVzOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHNpemU6IFByb3BUeXBlcy5vbmVPZihbJ3NtYWxsJywgJ21lZGl1bSddKSxcbn07XG5leHBvcnQgZGVmYXVsdCBtZW1vKERhdGFncmlkTG9hZGluZyk7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCBSZWFjdCwgeyBpc1ZhbGlkRWxlbWVudCwgY2xvbmVFbGVtZW50LCBjcmVhdGVFbGVtZW50LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgbWVtbywgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBUYWJsZUNlbGwsIFRhYmxlUm93LCBDaGVja2JveCwgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XG5pbXBvcnQgeyBsaW5rVG9SZWNvcmQsIHVzZUV4cGFuZGVkLCB1c2VSZXNvdXJjZUNvbnRleHQsIFJlY29yZENvbnRleHRQcm92aWRlciwgfSBmcm9tICdyYS1jb3JlJztcbmltcG9ydCB7IHNoYWxsb3dFcXVhbCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBEYXRhZ3JpZENlbGwgZnJvbSAnLi9EYXRhZ3JpZENlbGwnO1xuaW1wb3J0IEV4cGFuZFJvd0J1dHRvbiBmcm9tICcuL0V4cGFuZFJvd0J1dHRvbic7XG5pbXBvcnQgeyB1c2VEYXRhZ3JpZENvbnRleHQgfSBmcm9tICcuL3VzZURhdGFncmlkQ29udGV4dCc7XG52YXIgY29tcHV0ZU5iQ29sdW1ucyA9IGZ1bmN0aW9uIChleHBhbmQsIGNoaWxkcmVuLCBoYXNCdWxrQWN0aW9ucykge1xuICAgIHJldHVybiBleHBhbmRcbiAgICAgICAgPyAxICsgLy8gc2hvdyBleHBhbmQgYnV0dG9uXG4gICAgICAgICAgICAoaGFzQnVsa0FjdGlvbnMgPyAxIDogMCkgKyAvLyBjaGVja2JveCBjb2x1bW5cbiAgICAgICAgICAgIFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pLmZpbHRlcihmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuICEhY2hpbGQ7IH0pLmxlbmd0aCAvLyBub24tbnVsbCBjaGlsZHJlblxuICAgICAgICA6IDA7XG59OyAvLyB3ZSBkb24ndCBuZWVkIHRvIGNvbXB1dGUgY29sdW1ucyBpZiB0aGVyZSBpcyBubyBleHBhbmQgcGFuZWw7XG52YXIgZGVmYXVsdENsYXNzZXMgPSB7IGV4cGFuZEljb25DZWxsOiAnJywgY2hlY2tib3g6ICcnLCByb3dDZWxsOiAnJyB9O1xudmFyIERhdGFncmlkUm93ID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIHZhciBiYXNlUGF0aCA9IHByb3BzLmJhc2VQYXRoLCBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLCBfYSA9IHByb3BzLmNsYXNzZXMsIGNsYXNzZXMgPSBfYSA9PT0gdm9pZCAwID8gZGVmYXVsdENsYXNzZXMgOiBfYSwgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCBleHBhbmQgPSBwcm9wcy5leHBhbmQsIGhhc0J1bGtBY3Rpb25zID0gcHJvcHMuaGFzQnVsa0FjdGlvbnMsIGhvdmVyID0gcHJvcHMuaG92ZXIsIGlkID0gcHJvcHMuaWQsIG9uVG9nZ2xlSXRlbSA9IHByb3BzLm9uVG9nZ2xlSXRlbSwgcmVjb3JkID0gcHJvcHMucmVjb3JkLCByb3dDbGljayA9IHByb3BzLnJvd0NsaWNrLCBzZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkLCBzdHlsZSA9IHByb3BzLnN0eWxlLCBzZWxlY3RhYmxlID0gcHJvcHMuc2VsZWN0YWJsZSwgcmVzdCA9IF9fcmVzdChwcm9wcywgW1wiYmFzZVBhdGhcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzZXNcIiwgXCJjbGFzc05hbWVcIiwgXCJleHBhbmRcIiwgXCJoYXNCdWxrQWN0aW9uc1wiLCBcImhvdmVyXCIsIFwiaWRcIiwgXCJvblRvZ2dsZUl0ZW1cIiwgXCJyZWNvcmRcIiwgXCJyb3dDbGlja1wiLCBcInNlbGVjdGVkXCIsIFwic3R5bGVcIiwgXCJzZWxlY3RhYmxlXCJdKTtcbiAgICB2YXIgY29udGV4dCA9IHVzZURhdGFncmlkQ29udGV4dCgpO1xuICAgIHZhciBleHBhbmRhYmxlID0gKCFjb250ZXh0IHx8XG4gICAgICAgICFjb250ZXh0LmlzUm93RXhwYW5kYWJsZSB8fFxuICAgICAgICBjb250ZXh0LmlzUm93RXhwYW5kYWJsZShyZWNvcmQpKSAmJlxuICAgICAgICBleHBhbmQ7XG4gICAgdmFyIHJlc291cmNlID0gdXNlUmVzb3VyY2VDb250ZXh0KHByb3BzKTtcbiAgICB2YXIgX2IgPSB1c2VFeHBhbmRlZChyZXNvdXJjZSwgaWQpLCBleHBhbmRlZCA9IF9iWzBdLCB0b2dnbGVFeHBhbmRlZCA9IF9iWzFdO1xuICAgIHZhciBfYyA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvbXB1dGVOYkNvbHVtbnMoZXhwYW5kYWJsZSwgY2hpbGRyZW4sIGhhc0J1bGtBY3Rpb25zKTtcbiAgICB9KSwgbmJDb2x1bW5zID0gX2NbMF0sIHNldE5iQ29sdW1ucyA9IF9jWzFdO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEZpZWxkcyBjYW4gYmUgaGlkZGVuIGR5bmFtaWNhbGx5IGJhc2VkIG9uIHBlcm1pc3Npb25zO1xuICAgICAgICAvLyBUaGUgZXhwYW5kIHBhbmVsIG11c3Qgc3BhbiBvdmVyIHRoZSByZW1haW5pbmcgY29sdW1uc1xuICAgICAgICAvLyBTbyB3ZSBtdXN0IHJlY29tcHV0ZSB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgdG8gc3BhbiBvblxuICAgICAgICB2YXIgbmV3TmJDb2x1bW5zID0gY29tcHV0ZU5iQ29sdW1ucyhleHBhbmRhYmxlLCBjaGlsZHJlbiwgaGFzQnVsa0FjdGlvbnMpO1xuICAgICAgICBpZiAobmV3TmJDb2x1bW5zICE9PSBuYkNvbHVtbnMpIHtcbiAgICAgICAgICAgIHNldE5iQ29sdW1ucyhuZXdOYkNvbHVtbnMpO1xuICAgICAgICB9XG4gICAgfSwgW2V4cGFuZGFibGUsIG5iQ29sdW1ucywgY2hpbGRyZW4sIGhhc0J1bGtBY3Rpb25zXSk7XG4gICAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XG4gICAgdmFyIGhhbmRsZVRvZ2dsZUV4cGFuZCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0b2dnbGVFeHBhbmRlZCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9LCBbdG9nZ2xlRXhwYW5kZWRdKTtcbiAgICB2YXIgaGFuZGxlVG9nZ2xlU2VsZWN0aW9uID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghc2VsZWN0YWJsZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgb25Ub2dnbGVJdGVtKGlkLCBldmVudCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0sIFtpZCwgb25Ub2dnbGVJdGVtLCBzZWxlY3RhYmxlXSk7XG4gICAgdmFyIGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZWZmZWN0LCBfYTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyb3dDbGljaylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucGVyc2lzdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2Ygcm93Q2xpY2sgPT09ICdmdW5jdGlvbicpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcm93Q2xpY2soaWQsIGJhc2VQYXRoIHx8IFwiL1wiICsgcmVzb3VyY2UsIHJlY29yZCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSByb3dDbGljaztcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0ID0gX2E7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZWZmZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdlZGl0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2gobGlua1RvUmVjb3JkKGJhc2VQYXRoIHx8IFwiL1wiICsgcmVzb3VyY2UsIGlkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2hvdyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKGxpbmtUb1JlY29yZChiYXNlUGF0aCB8fCBcIi9cIiArIHJlc291cmNlLCBpZCwgJ3Nob3cnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXhwYW5kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUb2dnbGVFeHBhbmQoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RvZ2dsZVNlbGVjdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVG9nZ2xlU2VsZWN0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZmZlY3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaChlZmZlY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pOyB9LCBbXG4gICAgICAgIGJhc2VQYXRoLFxuICAgICAgICBoaXN0b3J5LFxuICAgICAgICBoYW5kbGVUb2dnbGVFeHBhbmQsXG4gICAgICAgIGhhbmRsZVRvZ2dsZVNlbGVjdGlvbixcbiAgICAgICAgaWQsXG4gICAgICAgIHJlY29yZCxcbiAgICAgICAgcmVzb3VyY2UsXG4gICAgICAgIHJvd0NsaWNrLFxuICAgIF0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWNvcmRDb250ZXh0UHJvdmlkZXIsIHsgdmFsdWU6IHJlY29yZCB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlUm93LCBfX2Fzc2lnbih7IHJlZjogcmVmLCBjbGFzc05hbWU6IGNsYXNzTmFtZSwga2V5OiBpZCwgc3R5bGU6IHN0eWxlLCBob3ZlcjogaG92ZXIsIG9uQ2xpY2s6IGhhbmRsZUNsaWNrIH0sIHJlc3QpLFxuICAgICAgICAgICAgZXhwYW5kICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlQ2VsbCwgeyBwYWRkaW5nOiBcIm5vbmVcIiwgY2xhc3NOYW1lOiBjbGFzc2VzLmV4cGFuZEljb25DZWxsIH0sIGV4cGFuZGFibGUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXhwYW5kUm93QnV0dG9uLCB7IGNsYXNzZXM6IGNsYXNzZXMsIGV4cGFuZGVkOiBleHBhbmRlZCwgb25DbGljazogaGFuZGxlVG9nZ2xlRXhwYW5kLCBleHBhbmRDb250ZW50SWQ6IGlkICsgXCItZXhwYW5kXCIgfSkpKSksXG4gICAgICAgICAgICBoYXNCdWxrQWN0aW9ucyAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIHsgcGFkZGluZzogXCJjaGVja2JveFwiIH0sIHNlbGVjdGFibGUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIHsgY29sb3I6IFwicHJpbWFyeVwiLCBjbGFzc05hbWU6IFwic2VsZWN0LWl0ZW0gXCIgKyBjbGFzc2VzLmNoZWNrYm94LCBjaGVja2VkOiBzZWxlY3RlZCwgb25DbGljazogaGFuZGxlVG9nZ2xlU2VsZWN0aW9uIH0pKSkpLFxuICAgICAgICAgICAgUmVhY3QuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoZmllbGQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWRFbGVtZW50KGZpZWxkKSA/IChSZWFjdC5jcmVhdGVFbGVtZW50KERhdGFncmlkQ2VsbCwgX19hc3NpZ24oeyBrZXk6IGlkICsgXCItXCIgKyAoZmllbGQucHJvcHMuc291cmNlIHx8IGluZGV4KSwgY2xhc3NOYW1lOiBjbGFzc25hbWVzKFwiY29sdW1uLVwiICsgZmllbGQucHJvcHMuc291cmNlLCBjbGFzc2VzLnJvd0NlbGwpLCByZWNvcmQ6IHJlY29yZCB9LCB7IGZpZWxkOiBmaWVsZCwgYmFzZVBhdGg6IGJhc2VQYXRoLCByZXNvdXJjZTogcmVzb3VyY2UgfSkpKSA6IG51bGw7XG4gICAgICAgICAgICB9KSksXG4gICAgICAgIGV4cGFuZGFibGUgJiYgZXhwYW5kZWQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVSb3csIHsga2V5OiBpZCArIFwiLWV4cGFuZFwiLCBpZDogaWQgKyBcIi1leHBhbmRcIiB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUNlbGwsIHsgY29sU3BhbjogbmJDb2x1bW5zIH0sIGlzVmFsaWRFbGVtZW50KGV4cGFuZClcbiAgICAgICAgICAgICAgICA/IGNsb25lRWxlbWVudChleHBhbmQsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICByZWNvcmQ6IHJlY29yZCxcbiAgICAgICAgICAgICAgICAgICAgYmFzZVBhdGg6IGJhc2VQYXRoLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBTdHJpbmcoaWQpLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVFbGVtZW50KGV4cGFuZCwge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQ6IHJlY29yZCxcbiAgICAgICAgICAgICAgICAgICAgYmFzZVBhdGg6IGJhc2VQYXRoLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBTdHJpbmcoaWQpLFxuICAgICAgICAgICAgICAgIH0pKSkpKSk7XG59KTtcbkRhdGFncmlkUm93LnByb3BUeXBlcyA9IHtcbiAgICBiYXNlUGF0aDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gICAgY2xhc3NlczogUHJvcFR5cGVzLmFueSxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGV4cGFuZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmVsZW1lbnQsIFByb3BUeXBlcy5lbGVtZW50VHlwZV0pLFxuICAgIGhhc0J1bGtBY3Rpb25zOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIGhvdmVyOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBpZDogUHJvcFR5cGVzLmFueSxcbiAgICBvblRvZ2dsZUl0ZW06IFByb3BUeXBlcy5mdW5jLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZWNvcmQ6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgcmVzb3VyY2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJvd0NsaWNrOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZnVuY10pLFxuICAgIHNlbGVjdGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzZWxlY3RhYmxlOiBQcm9wVHlwZXMuYm9vbCxcbn07XG5EYXRhZ3JpZFJvdy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaGFzQnVsa0FjdGlvbnM6IGZhbHNlLFxuICAgIGhvdmVyOiB0cnVlLFxuICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICBzZWxlY3RhYmxlOiB0cnVlLFxufTtcbnZhciBhcmVFcXVhbCA9IGZ1bmN0aW9uIChwcmV2UHJvcHMsIG5leHRQcm9wcykge1xuICAgIHZhciBfMSA9IHByZXZQcm9wcy5jaGlsZHJlbiwgXzIgPSBwcmV2UHJvcHMuZXhwYW5kLCBwcmV2UHJvcHNXaXRob3V0Q2hpbGRyZW4gPSBfX3Jlc3QocHJldlByb3BzLCBbXCJjaGlsZHJlblwiLCBcImV4cGFuZFwiXSk7XG4gICAgdmFyIF8zID0gbmV4dFByb3BzLmNoaWxkcmVuLCBfNCA9IG5leHRQcm9wcy5leHBhbmQsIG5leHRQcm9wc1dpdGhvdXRDaGlsZHJlbiA9IF9fcmVzdChuZXh0UHJvcHMsIFtcImNoaWxkcmVuXCIsIFwiZXhwYW5kXCJdKTtcbiAgICByZXR1cm4gc2hhbGxvd0VxdWFsKHByZXZQcm9wc1dpdGhvdXRDaGlsZHJlbiwgbmV4dFByb3BzV2l0aG91dENoaWxkcmVuKTtcbn07XG5leHBvcnQgdmFyIFB1cmVEYXRhZ3JpZFJvdyA9IG1lbW8oRGF0YWdyaWRSb3csIGFyZUVxdWFsKTtcblB1cmVEYXRhZ3JpZFJvdy5kaXNwbGF5TmFtZSA9ICdQdXJlRGF0YWdyaWRSb3cnO1xuZXhwb3J0IGRlZmF1bHQgRGF0YWdyaWRSb3c7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJY29uQnV0dG9uIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0ljb25CdXR0b24nO1xuaW1wb3J0IEV4cGFuZE1vcmVJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FeHBhbmRNb3JlJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRlIH0gZnJvbSAncmEtY29yZSc7XG52YXIgRXhwYW5kUm93QnV0dG9uID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIF9iO1xuICAgIHZhciBjbGFzc2VzID0gX2EuY2xhc3NlcywgZXhwYW5kZWQgPSBfYS5leHBhbmRlZCwgZXhwYW5kQ29udGVudElkID0gX2EuZXhwYW5kQ29udGVudElkLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiY2xhc3Nlc1wiLCBcImV4cGFuZGVkXCIsIFwiZXhwYW5kQ29udGVudElkXCJdKTtcbiAgICB2YXIgdHJhbnNsYXRlID0gdXNlVHJhbnNsYXRlKCk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIF9fYXNzaWduKHsgXCJhcmlhLWxhYmVsXCI6IHRyYW5zbGF0ZShleHBhbmRlZCA/ICdyYS5hY3Rpb24uY2xvc2UnIDogJ3JhLmFjdGlvbi5leHBhbmQnKSwgXCJhcmlhLWV4cGFuZGVkXCI6IGV4cGFuZGVkLCBcImFyaWEtY29udHJvbHNcIjogZXhwYW5kQ29udGVudElkLCBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY2xhc3Nlcy5leHBhbmRJY29uLCAoX2IgPSB7fSxcbiAgICAgICAgICAgIF9iW2NsYXNzZXMuZXhwYW5kZWRdID0gZXhwYW5kZWQsXG4gICAgICAgICAgICBfYikpLCB0YWJJbmRleDogLTEsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsIGNvbXBvbmVudDogXCJkaXZcIiB9LCBwcm9wcyksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXhwYW5kTW9yZUljb24sIG51bGwpKSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgbWVtbyhFeHBhbmRSb3dCdXR0b24pO1xuIiwiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEYXRhZ3JpZENvbnRleHQgZnJvbSAnLi9EYXRhZ3JpZENvbnRleHQnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJ2xvZGFzaC9kZWZhdWx0cyc7XG5leHBvcnQgdmFyIHVzZURhdGFncmlkQ29udGV4dCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjb250ZXh0ID0gdXNlQ29udGV4dChEYXRhZ3JpZENvbnRleHQpO1xuICAgIHJldHVybiB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzKHt9LCBwcm9wcyAhPSBudWxsID8geyBpc1Jvd0V4cGFuZGFibGU6IHByb3BzLmlzUm93RXhwYW5kYWJsZSB9IDoge30sIGNvbnRleHQpO1xuICAgIH0sIFtjb250ZXh0LCBwcm9wc10pO1xufTtcbiIsImltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xudmFyIHVzZURhdGFncmlkU3R5bGVzID0gbWFrZVN0eWxlcyhmdW5jdGlvbiAodGhlbWUpIHsgcmV0dXJuICh7XG4gICAgdGFibGU6IHtcbiAgICAgICAgdGFibGVMYXlvdXQ6ICdhdXRvJyxcbiAgICB9LFxuICAgIHRoZWFkOiB7fSxcbiAgICB0Ym9keToge30sXG4gICAgaGVhZGVyUm93OiB7fSxcbiAgICBoZWFkZXJDZWxsOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnc3RpY2t5JyxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICB6SW5kZXg6IDIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLnBhcGVyLFxuICAgICAgICAnJjpmaXJzdC1jaGlsZCc6IHtcbiAgICAgICAgICAgIGJvcmRlclRvcExlZnRSYWRpdXM6IHRoZW1lLnNoYXBlLmJvcmRlclJhZGl1cyxcbiAgICAgICAgfSxcbiAgICAgICAgJyY6bGFzdC1jaGlsZCc6IHtcbiAgICAgICAgICAgIGJvcmRlclRvcFJpZ2h0UmFkaXVzOiB0aGVtZS5zaGFwZS5ib3JkZXJSYWRpdXMsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBjaGVja2JveDoge30sXG4gICAgcm93OiB7fSxcbiAgICBjbGlja2FibGVSb3c6IHtcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgfSxcbiAgICByb3dFdmVuOiB7fSxcbiAgICByb3dPZGQ6IHt9LFxuICAgIHJvd0NlbGw6IHt9LFxuICAgIGV4cGFuZEhlYWRlcjoge1xuICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICB3aWR0aDogdGhlbWUuc3BhY2luZyg2KSxcbiAgICB9LFxuICAgIGV4cGFuZEljb25DZWxsOiB7XG4gICAgICAgIHdpZHRoOiB0aGVtZS5zcGFjaW5nKDYpLFxuICAgIH0sXG4gICAgZXhwYW5kSWNvbjoge1xuICAgICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nKDEpLFxuICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoLTkwZGVnKScsXG4gICAgICAgIHRyYW5zaXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmNyZWF0ZSgndHJhbnNmb3JtJywge1xuICAgICAgICAgICAgZHVyYXRpb246IHRoZW1lLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0ZXN0LFxuICAgICAgICB9KSxcbiAgICB9LFxuICAgIGV4cGFuZGVkOiB7XG4gICAgICAgIHRyYW5zZm9ybTogJ3JvdGF0ZSgwZGVnKScsXG4gICAgfSxcbn0pOyB9LCB7IG5hbWU6ICdSYURhdGFncmlkJyB9KTtcbmV4cG9ydCBkZWZhdWx0IHVzZURhdGFncmlkU3R5bGVzO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFRhYmxlUGFnaW5hdGlvbiwgVG9vbGJhciwgdXNlTWVkaWFRdWVyeSwgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGUsIHVzZUxpc3RQYWdpbmF0aW9uQ29udGV4dCwgc2FuaXRpemVMaXN0UmVzdFByb3BzLCBDb21wb25lbnRQcm9wVHlwZSwgfSBmcm9tICdyYS1jb3JlJztcbmltcG9ydCBEZWZhdWx0UGFnaW5hdGlvbkFjdGlvbnMgZnJvbSAnLi9QYWdpbmF0aW9uQWN0aW9ucyc7XG5pbXBvcnQgRGVmYXVsdFBhZ2luYXRpb25MaW1pdCBmcm9tICcuL1BhZ2luYXRpb25MaW1pdCc7XG52YXIgZW1wdHlBcnJheSA9IFtdO1xudmFyIFBhZ2luYXRpb24gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgcm93c1BlclBhZ2VPcHRpb25zID0gcHJvcHMucm93c1BlclBhZ2VPcHRpb25zLCBhY3Rpb25zID0gcHJvcHMuYWN0aW9ucywgbGltaXQgPSBwcm9wcy5saW1pdCwgcmVzdCA9IF9fcmVzdChwcm9wcywgW1wicm93c1BlclBhZ2VPcHRpb25zXCIsIFwiYWN0aW9uc1wiLCBcImxpbWl0XCJdKTtcbiAgICB2YXIgX2EgPSB1c2VMaXN0UGFnaW5hdGlvbkNvbnRleHQocHJvcHMpLCBsb2FkaW5nID0gX2EubG9hZGluZywgcGFnZSA9IF9hLnBhZ2UsIHBlclBhZ2UgPSBfYS5wZXJQYWdlLCB0b3RhbCA9IF9hLnRvdGFsLCBzZXRQYWdlID0gX2Euc2V0UGFnZSwgc2V0UGVyUGFnZSA9IF9hLnNldFBlclBhZ2U7XG4gICAgdmFyIHRyYW5zbGF0ZSA9IHVzZVRyYW5zbGF0ZSgpO1xuICAgIHZhciBpc1NtYWxsID0gdXNlTWVkaWFRdWVyeShmdW5jdGlvbiAodGhlbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoZW1lLmJyZWFrcG9pbnRzLmRvd24oJ3NtJyk7XG4gICAgfSk7XG4gICAgdmFyIHRvdGFsUGFnZXMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCh0b3RhbCAvIHBlclBhZ2UpIHx8IDE7XG4gICAgfSwgW3BlclBhZ2UsIHRvdGFsXSk7XG4gICAgLyoqXG4gICAgICogV2FybmluZzogbWF0ZXJpYWwtdWkncyBwYWdlIGlzIDAtYmFzZWRcbiAgICAgKi9cbiAgICB2YXIgaGFuZGxlUGFnZUNoYW5nZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCwgcGFnZSkge1xuICAgICAgICBldmVudCAmJiBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHBhZ2UgPCAwIHx8IHBhZ2UgPiB0b3RhbFBhZ2VzIC0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRyYW5zbGF0ZSgncmEubmF2aWdhdGlvbi5wYWdlX291dF9vZl9ib3VuZGFyaWVzJywge1xuICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UgKyAxLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHNldFBhZ2UocGFnZSArIDEpO1xuICAgIH0sIFt0b3RhbFBhZ2VzLCBzZXRQYWdlLCB0cmFuc2xhdGVdKTtcbiAgICB2YXIgaGFuZGxlUGVyUGFnZUNoYW5nZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBzZXRQZXJQYWdlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfSwgW3NldFBlclBhZ2VdKTtcbiAgICB2YXIgbGFiZWxEaXNwbGF5ZWRSb3dzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBmcm9tID0gX2EuZnJvbSwgdG8gPSBfYS50bywgY291bnQgPSBfYS5jb3VudDtcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSgncmEubmF2aWdhdGlvbi5wYWdlX3JhbmdlX2luZm8nLCB7XG4gICAgICAgICAgICBvZmZzZXRCZWdpbjogZnJvbSxcbiAgICAgICAgICAgIG9mZnNldEVuZDogdG8sXG4gICAgICAgICAgICB0b3RhbDogY291bnQsXG4gICAgICAgIH0pO1xuICAgIH0sIFt0cmFuc2xhdGVdKTtcbiAgICAvLyBBdm9pZCByZW5kZXJpbmcgVGFibGVQYWdpbmF0aW9uIGlmIFwicGFnZVwiIHZhbHVlIGlzIGludmFsaWRcbiAgICBpZiAodG90YWwgPT09IG51bGwgfHwgdG90YWwgPT09IDAgfHwgcGFnZSA8IDEgfHwgcGFnZSA+IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgcmV0dXJuIGxvYWRpbmcgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFRvb2xiYXIsIHsgdmFyaWFudDogXCJkZW5zZVwiIH0pIDogbGltaXQ7XG4gICAgfVxuICAgIGlmIChpc1NtYWxsKSB7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZVBhZ2luYXRpb24sIF9fYXNzaWduKHsgY291bnQ6IHRvdGFsLCByb3dzUGVyUGFnZTogcGVyUGFnZSwgcGFnZTogcGFnZSAtIDEsIG9uQ2hhbmdlUGFnZTogaGFuZGxlUGFnZUNoYW5nZSwgcm93c1BlclBhZ2VPcHRpb25zOiBlbXB0eUFycmF5LCBjb21wb25lbnQ6IFwic3BhblwiLCBsYWJlbERpc3BsYXllZFJvd3M6IGxhYmVsRGlzcGxheWVkUm93cyB9LCBzYW5pdGl6ZUxpc3RSZXN0UHJvcHMocmVzdCkpKSk7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZVBhZ2luYXRpb24sIF9fYXNzaWduKHsgY291bnQ6IHRvdGFsLCByb3dzUGVyUGFnZTogcGVyUGFnZSwgcGFnZTogcGFnZSAtIDEsIG9uQ2hhbmdlUGFnZTogaGFuZGxlUGFnZUNoYW5nZSwgb25DaGFuZ2VSb3dzUGVyUGFnZTogaGFuZGxlUGVyUGFnZUNoYW5nZSwgQWN0aW9uc0NvbXBvbmVudDogYWN0aW9ucywgY29tcG9uZW50OiBcInNwYW5cIiwgbGFiZWxSb3dzUGVyUGFnZTogdHJhbnNsYXRlKCdyYS5uYXZpZ2F0aW9uLnBhZ2Vfcm93c19wZXJfcGFnZScpLCBsYWJlbERpc3BsYXllZFJvd3M6IGxhYmVsRGlzcGxheWVkUm93cywgcm93c1BlclBhZ2VPcHRpb25zOiByb3dzUGVyUGFnZU9wdGlvbnMgfSwgc2FuaXRpemVMaXN0UmVzdFByb3BzKHJlc3QpKSkpO1xufTtcblBhZ2luYXRpb24ucHJvcFR5cGVzID0ge1xuICAgIGFjdGlvbnM6IENvbXBvbmVudFByb3BUeXBlLFxuICAgIGxpbWl0OiBQcm9wVHlwZXMuZWxlbWVudCxcbiAgICByb3dzUGVyUGFnZU9wdGlvbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLFxufTtcblBhZ2luYXRpb24uZGVmYXVsdFByb3BzID0ge1xuICAgIGFjdGlvbnM6IERlZmF1bHRQYWdpbmF0aW9uQWN0aW9ucyxcbiAgICBsaW1pdDogUmVhY3QuY3JlYXRlRWxlbWVudChEZWZhdWx0UGFnaW5hdGlvbkxpbWl0LCBudWxsKSxcbiAgICByb3dzUGVyUGFnZU9wdGlvbnM6IFs1LCAxMCwgMjVdLFxufTtcbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oUGFnaW5hdGlvbik7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xuaW1wb3J0IHsgbWFrZVN0eWxlcywgdXNlVGhlbWUgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IENoZXZyb25MZWZ0IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DaGV2cm9uTGVmdCc7XG5pbXBvcnQgQ2hldnJvblJpZ2h0IGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DaGV2cm9uUmlnaHQnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRlIH0gZnJvbSAncmEtY29yZSc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbnZhciB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKGZ1bmN0aW9uICh0aGVtZSkgeyByZXR1cm4gKHtcbiAgICBhY3Rpb25zOiB7XG4gICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuc2Vjb25kYXJ5LFxuICAgICAgICBtYXJnaW5MZWZ0OiAyMCxcbiAgICB9LFxuICAgIGJ1dHRvbjoge30sXG4gICAgY3VycmVudFBhZ2VCdXR0b246IHt9LFxuICAgIGhlbGxpcDogeyBwYWRkaW5nOiAnMS4yZW0nIH0sXG59KTsgfSwgeyBuYW1lOiAnUmFQYWdpbmF0aW9uQWN0aW9ucycgfSk7XG5mdW5jdGlvbiBQYWdpbmF0aW9uQWN0aW9ucyhwcm9wcykge1xuICAgIHZhciBwYWdlID0gcHJvcHMucGFnZSwgcm93c1BlclBhZ2UgPSBwcm9wcy5yb3dzUGVyUGFnZSwgY291bnQgPSBwcm9wcy5jb3VudCwgb25DaGFuZ2VQYWdlID0gcHJvcHMub25DaGFuZ2VQYWdlLCBjb2xvciA9IHByb3BzLmNvbG9yLCBzaXplID0gcHJvcHMuc2l6ZTtcbiAgICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcyhwcm9wcyk7XG4gICAgdmFyIHRyYW5zbGF0ZSA9IHVzZVRyYW5zbGF0ZSgpO1xuICAgIHZhciB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gICAgLyoqXG4gICAgICogV2FybmluZzogbWF0ZXJpYWwtdWkncyBwYWdlIGlzIDAtYmFzZWRcbiAgICAgKi9cbiAgICB2YXIgcmFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuYlBhZ2VzID0gTWF0aC5jZWlsKGNvdW50IC8gcm93c1BlclBhZ2UpIHx8IDE7XG4gICAgICAgIGlmIChpc05hTihwYWdlKSB8fCBuYlBhZ2VzID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlucHV0ID0gW107XG4gICAgICAgIC8vIGRpc3BsYXkgcGFnZSBsaW5rcyBhcm91bmQgdGhlIGN1cnJlbnQgcGFnZVxuICAgICAgICBpZiAocGFnZSA+IDEpIHtcbiAgICAgICAgICAgIGlucHV0LnB1c2goMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZ2UgPT09IDMpIHtcbiAgICAgICAgICAgIGlucHV0LnB1c2goMik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZ2UgPiAzKSB7XG4gICAgICAgICAgICBpbnB1dC5wdXNoKCcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZ2UgPiAwKSB7XG4gICAgICAgICAgICBpbnB1dC5wdXNoKHBhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0LnB1c2gocGFnZSArIDEpO1xuICAgICAgICBpZiAocGFnZSA8IG5iUGFnZXMgLSAxKSB7XG4gICAgICAgICAgICBpbnB1dC5wdXNoKHBhZ2UgKyAyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFnZSA9PT0gbmJQYWdlcyAtIDQpIHtcbiAgICAgICAgICAgIGlucHV0LnB1c2gobmJQYWdlcyAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYWdlIDwgbmJQYWdlcyAtIDQpIHtcbiAgICAgICAgICAgIGlucHV0LnB1c2goJy4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFnZSA8IG5iUGFnZXMgLSAyKSB7XG4gICAgICAgICAgICBpbnB1dC5wdXNoKG5iUGFnZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9O1xuICAgIHZhciBnZXROYlBhZ2VzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gTWF0aC5jZWlsKGNvdW50IC8gcm93c1BlclBhZ2UpIHx8IDE7IH07XG4gICAgdmFyIHByZXZQYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChwYWdlID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodHJhbnNsYXRlKCdyYS5uYXZpZ2F0aW9uLnBhZ2Vfb3V0X2Zyb21fYmVnaW4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgb25DaGFuZ2VQYWdlKGV2ZW50LCBwYWdlIC0gMSk7XG4gICAgfTtcbiAgICB2YXIgbmV4dFBhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKHBhZ2UgPiBnZXROYlBhZ2VzKCkgLSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodHJhbnNsYXRlKCdyYS5uYXZpZ2F0aW9uLnBhZ2Vfb3V0X2Zyb21fZW5kJykpO1xuICAgICAgICB9XG4gICAgICAgIG9uQ2hhbmdlUGFnZShldmVudCwgcGFnZSArIDEpO1xuICAgIH07XG4gICAgdmFyIGdvdG9QYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBwYWdlID0gcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnBhZ2UsIDEwKTtcbiAgICAgICAgaWYgKHBhZ2UgPCAwIHx8IHBhZ2UgPiBnZXROYlBhZ2VzKCkgLSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodHJhbnNsYXRlKCdyYS5uYXZpZ2F0aW9uLnBhZ2Vfb3V0X29mX2JvdW5kYXJpZXMnLCB7XG4gICAgICAgICAgICAgICAgcGFnZTogcGFnZSArIDEsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgb25DaGFuZ2VQYWdlKGV2ZW50LCBwYWdlKTtcbiAgICB9O1xuICAgIHZhciByZW5kZXJQYWdlTnVtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlKCkubWFwKGZ1bmN0aW9uIChwYWdlTnVtLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIHBhZ2VOdW0gPT09ICcuJyA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGtleTogXCJoeXBoZW5fXCIgKyBpbmRleCwgY2xhc3NOYW1lOiBjbGFzc2VzLmhlbGxpcCB9LCBcIlxcdTIwMjZcIikpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7IHNpemU6IHNpemUsIGNsYXNzTmFtZTogY2xhc3NuYW1lcygncGFnZS1udW1iZXInLCBjbGFzc2VzLmJ1dHRvbiwgKF9hID0ge30sXG4gICAgICAgICAgICAgICAgICAgIF9hW2NsYXNzZXMuY3VycmVudFBhZ2VCdXR0b25dID0gcGFnZU51bSA9PT0gcGFnZSArIDEsXG4gICAgICAgICAgICAgICAgICAgIF9hKSksIGNvbG9yOiBwYWdlTnVtID09PSBwYWdlICsgMSA/ICdkZWZhdWx0JyA6IGNvbG9yLCBrZXk6IHBhZ2VOdW0sIFwiZGF0YS1wYWdlXCI6IHBhZ2VOdW0gLSAxLCBvbkNsaWNrOiBnb3RvUGFnZSB9LCBwYWdlTnVtKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIG5iUGFnZXMgPSBnZXROYlBhZ2VzKCk7XG4gICAgaWYgKG5iUGFnZXMgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzZXMuYWN0aW9ucyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmFjdGlvbnMgfSxcbiAgICAgICAgcGFnZSA+IDAgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7IGNvbG9yOiBjb2xvciwgc2l6ZTogc2l6ZSwga2V5OiBcInByZXZcIiwgb25DbGljazogcHJldlBhZ2UsIGNsYXNzTmFtZTogXCJwcmV2aW91cy1wYWdlXCIgfSxcbiAgICAgICAgICAgIHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCcgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChDaGV2cm9uUmlnaHQsIG51bGwpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KENoZXZyb25MZWZ0LCBudWxsKSksXG4gICAgICAgICAgICB0cmFuc2xhdGUoJ3JhLm5hdmlnYXRpb24ucHJldicpKSksXG4gICAgICAgIHJlbmRlclBhZ2VOdW1zKCksXG4gICAgICAgIHBhZ2UgIT09IG5iUGFnZXMgLSAxICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgeyBjb2xvcjogY29sb3IsIHNpemU6IHNpemUsIGtleTogXCJuZXh0XCIsIG9uQ2xpY2s6IG5leHRQYWdlLCBjbGFzc05hbWU6IFwibmV4dC1wYWdlXCIgfSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgncmEubmF2aWdhdGlvbi5uZXh0JyksXG4gICAgICAgICAgICB0aGVtZS5kaXJlY3Rpb24gPT09ICdydGwnID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hldnJvbkxlZnQsIG51bGwpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KENoZXZyb25SaWdodCwgbnVsbCkpKSkpKTtcbn1cbi8qKlxuICogUGFnaW5hdGlvbkFjdGlvbnMgcHJvcFR5cGVzIGFyZSBjb3BpZWQgb3ZlciBmcm9tIG1hdGVyaWFsLXVp4oCZc1xuICogVGFibGVQYWdpbmF0aW9uQWN0aW9ucyBwcm9wVHlwZXMuIFNlZVxuICogaHR0cHM6Ly9naXRodWIuY29tL211aS1vcmcvbWF0ZXJpYWwtdWkvYmxvYi84Njk2OTJlY2YzODEyYmM0NTc3ZWQ0ZGRlODFhOTkxMWM1OTQ5Njk1L3BhY2thZ2VzL21hdGVyaWFsLXVpL3NyYy9UYWJsZVBhZ2luYXRpb25BY3Rpb25zL1RhYmxlUGFnaW5hdGlvbkFjdGlvbnMuanMjTDUzLUw4NVxuICogZm9yIHJlZmVyZW5jZS5cbiAqL1xuUGFnaW5hdGlvbkFjdGlvbnMucHJvcFR5cGVzID0ge1xuICAgIGJhY2tJY29uQnV0dG9uUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgY291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIG5leHRJY29uQnV0dG9uUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgb25DaGFuZ2VQYWdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIHBhZ2U6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICByb3dzUGVyUGFnZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgIGNvbG9yOiBQcm9wVHlwZXMub25lT2YoWydwcmltYXJ5JywgJ3NlY29uZGFyeSddKSxcbiAgICBzaXplOiBQcm9wVHlwZXMub25lT2YoWydzbWFsbCcsICdtZWRpdW0nLCAnbGFyZ2UnXSksXG4gICAgdGhlbWU6IFByb3BUeXBlcy5vYmplY3QsXG59O1xuUGFnaW5hdGlvbkFjdGlvbnMuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbG9yOiAncHJpbWFyeScsXG4gICAgc2l6ZTogJ3NtYWxsJyxcbn07XG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKFBhZ2luYXRpb25BY3Rpb25zKTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2FyZENvbnRlbnQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2FyZENvbnRlbnQnO1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGUgfSBmcm9tICdyYS1jb3JlJztcbnZhciBQYWdpbmF0aW9uTGltaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRyYW5zbGF0ZSA9IHVzZVRyYW5zbGF0ZSgpO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChDYXJkQ29udGVudCwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHZhcmlhbnQ6IFwiYm9keTJcIiB9LCB0cmFuc2xhdGUoJ3JhLm5hdmlnYXRpb24ubm9fcmVzdWx0cycpKSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IG1lbW8oUGFnaW5hdGlvbkxpbWl0KTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBZG1pbkNvbnRleHQgZnJvbSAnLi9BZG1pbkNvbnRleHQnO1xuaW1wb3J0IEFkbWluVUkgZnJvbSAnLi9BZG1pblVJJztcbi8qKlxuICogTWFpbiBhZG1pbiBjb21wb25lbnQsIGVudHJ5IHBvaW50IHRvIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBJbml0aWFsaXplcyB0aGUgdmFyaW91cyBjb250ZXh0cyAoYXV0aCwgZGF0YSwgaTE4biwgcmVkdXgsIHJvdXRlcilcbiAqIGFuZCBkZWZpbmVzIHRoZSBtYWluIHJvdXRlcy5cbiAqXG4gKiBFeHBlY3RzIGEgbGlzdCBvZiByZXNvdXJjZXMgYXMgY2hpbGRyZW4sIG9yIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgbGlzdCBvZlxuICogcmVzb3VyY2VzIGJhc2VkIG9uIHRoZSBwZXJtaXNzaW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIHN0YXRpYyBsaXN0IG9mIHJlc291cmNlc1xuICpcbiAqIGltcG9ydCB7XG4gKiAgICAgQWRtaW4sXG4gKiAgICAgUmVzb3VyY2UsXG4gKiAgICAgTGlzdEd1ZXNzZXIsXG4gKiAgICAgdXNlRGF0YVByb3ZpZGVyLFxuICogfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKlxuICogY29uc3QgQXBwID0gKCkgPT4gKFxuICogICAgIDxBZG1pbiBkYXRhUHJvdmlkZXI9e215RGF0YVByb3ZpZGVyfT5cbiAqICAgICAgICAgPFJlc291cmNlIG5hbWU9XCJwb3N0c1wiIGxpc3Q9e0xpc3RHdWVzc2VyfSAvPlxuICogICAgIDwvQWRtaW4+XG4gKiApO1xuICpcbiAqIC8vIGR5bmFtaWMgbGlzdCBvZiByZXNvdXJjZXMgYmFzZWQgb24gcGVybWlzc2lvbnNcbiAqXG4gKiBpbXBvcnQge1xuICogICAgIEFkbWluLFxuICogICAgIFJlc291cmNlLFxuICogICAgIExpc3RHdWVzc2VyLFxuICogICAgIHVzZURhdGFQcm92aWRlcixcbiAqIH0gZnJvbSAncmVhY3QtYWRtaW4nO1xuICpcbiAqIGNvbnN0IEFwcCA9ICgpID0+IChcbiAqICAgICA8QWRtaW4gZGF0YVByb3ZpZGVyPXtteURhdGFQcm92aWRlcn0+XG4gKiAgICAgICAgIHtwZXJtaXNzaW9ucyA9PiBbXG4gKiAgICAgICAgICAgICA8UmVzb3VyY2UgbmFtZT1cInBvc3RzXCIga2V5PVwicG9zdHNcIiBsaXN0PXtMaXN0R3Vlc3Nlcn0gLz4sXG4gKiAgICAgICAgIF19XG4gKiAgICAgPC9BZG1pbj5cbiAqICk7XG4gKlxuICogLy8gSWYgeW91IGhhdmUgdG8gYnVpbGQgYSBkeW5hbWljIGxpc3Qgb2YgcmVzb3VyY2VzIHVzaW5nIGEgc2lkZSBlZmZlY3QsXG4gKiAvLyB5b3UgY2FuJ3QgdXNlIDxBZG1pbj4uIEJ1dCBhcyBpdCBkZWxlZ2F0ZXMgdG8gc3ViIGNvbXBvbmVudHMsXG4gKiAvLyBpdCdzIHJlbGF0aXZlbHkgc3RyYWlnaHRmb3J3YXJkIHRvIHJlcGxhY2UgaXQ6XG4gKlxuICogaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbiAqIGltcG9ydCB7XG4gKiAgICAgQWRtaW5Db250ZXh0LFxuICogICAgIEFkbWluVUksXG4gKiAgICAgUmVzb3VyY2UsXG4gKiAgICAgTGlzdEd1ZXNzZXIsXG4gKiAgICAgdXNlRGF0YVByb3ZpZGVyLFxuICogfSBmcm9tICdyZWFjdC1hZG1pbic7XG4gKlxuICogY29uc3QgQXBwID0gKCkgPT4gKFxuICogICAgIDxBZG1pbkNvbnRleHQgZGF0YVByb3ZpZGVyPXtteURhdGFQcm92aWRlcn0+XG4gKiAgICAgICAgIDxSZXNvdXJjZXMgLz5cbiAqICAgICA8L0FkbWluQ29udGV4dD5cbiAqICk7XG4gKlxuICogY29uc3QgUmVzb3VyY2VzID0gKCkgPT4ge1xuICogICAgIGNvbnN0IFtyZXNvdXJjZXMsIHNldFJlc291cmNlc10gPSB1c2VTdGF0ZShbXSk7XG4gKiAgICAgY29uc3QgZGF0YVByb3ZpZGVyID0gdXNlRGF0YVByb3ZpZGVyKCk7XG4gKiAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAqICAgICAgICAgZGF0YVByb3ZpZGVyLmludHJvc3BlY3QoKS50aGVuKHIgPT4gc2V0UmVzb3VyY2VzKHIpKTtcbiAqICAgICB9LCBbXSk7XG4gKlxuICogICAgIHJldHVybiAoXG4gKiAgICAgICAgIDxBZG1pblVJPlxuICogICAgICAgICAgICAge3Jlc291cmNlcy5tYXAocmVzb3VyY2UgPT4gKFxuICogICAgICAgICAgICAgICAgIDxSZXNvdXJjZSBuYW1lPXtyZXNvdXJjZS5uYW1lfSBrZXk9e3Jlc291cmNlLmtleX0gbGlzdD17TGlzdEd1ZXNzZXJ9IC8+XG4gKiAgICAgICAgICAgICApKX1cbiAqICAgICAgICAgPC9BZG1pblVJPlxuICogICAgICk7XG4gKiB9O1xuICovXG52YXIgQWRtaW4gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgYXBwTGF5b3V0ID0gX2EuYXBwTGF5b3V0LCBhdXRoUHJvdmlkZXIgPSBfYS5hdXRoUHJvdmlkZXIsIGNhdGNoQWxsID0gX2EuY2F0Y2hBbGwsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGN1c3RvbVJlZHVjZXJzID0gX2EuY3VzdG9tUmVkdWNlcnMsIF9iID0gX2EuY3VzdG9tUm91dGVzLCBjdXN0b21Sb3V0ZXMgPSBfYiA9PT0gdm9pZCAwID8gW10gOiBfYiwgY3VzdG9tU2FnYXMgPSBfYS5jdXN0b21TYWdhcywgZGFzaGJvYXJkID0gX2EuZGFzaGJvYXJkLCBkYXRhUHJvdmlkZXIgPSBfYS5kYXRhUHJvdmlkZXIsIGRpc2FibGVUZWxlbWV0cnkgPSBfYS5kaXNhYmxlVGVsZW1ldHJ5LCBoaXN0b3J5ID0gX2EuaGlzdG9yeSwgaTE4blByb3ZpZGVyID0gX2EuaTE4blByb3ZpZGVyLCBpbml0aWFsU3RhdGUgPSBfYS5pbml0aWFsU3RhdGUsIGxheW91dCA9IF9hLmxheW91dCwgbG9hZGluZyA9IF9hLmxvYWRpbmcsIGxvY2FsZSA9IF9hLmxvY2FsZSwgbG9naW5QYWdlID0gX2EubG9naW5QYWdlLCBsb2dvdXRCdXR0b24gPSBfYS5sb2dvdXRCdXR0b24sIG1lbnUgPSBfYS5tZW51LCAvLyBkZXByZWNhdGVkLCB1c2UgYSBjdXN0b20gbGF5b3V0IGluc3RlYWRcbiAgICByZWFkeSA9IF9hLnJlYWR5LCB0aGVtZSA9IF9hLnRoZW1lLCBfYyA9IF9hLnRpdGxlLCB0aXRsZSA9IF9jID09PSB2b2lkIDAgPyAnUmVhY3QgQWRtaW4nIDogX2M7XG4gICAgaWYgKGFwcExheW91dCAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignWW91IGFyZSB1c2luZyBkZXByZWNhdGVkIHByb3AgXCJhcHBMYXlvdXRcIiwgaXQgd2FzIHJlcGxhY2VkIGJ5IFwibGF5b3V0XCIsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFybWVsYWIvcmVhY3QtYWRtaW4vaXNzdWVzLzI5MTgnKTtcbiAgICB9XG4gICAgaWYgKGxvZ2luUGFnZSA9PT0gdHJ1ZSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignWW91IHBhc3NlZCB0cnVlIHRvIHRoZSBsb2dpblBhZ2UgcHJvcC4gWW91IG11c3QgZWl0aGVyIHBhc3MgZmFsc2UgdG8gZGlzYWJsZSBpdCBvciBhIGNvbXBvbmVudCBjbGFzcyB0byBjdXN0b21pemUgaXQnKTtcbiAgICB9XG4gICAgaWYgKGxvY2FsZSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignWW91IGFyZSB1c2luZyBkZXByZWNhdGVkIHByb3AgXCJsb2NhbGVcIi4gWW91IG11c3Qgbm93IHBhc3MgdGhlIGluaXRpYWwgbG9jYWxlIHRvIHlvdXIgaTE4blByb3ZpZGVyJyk7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChBZG1pbkNvbnRleHQsIHsgYXV0aFByb3ZpZGVyOiBhdXRoUHJvdmlkZXIsIGRhdGFQcm92aWRlcjogZGF0YVByb3ZpZGVyLCBpMThuUHJvdmlkZXI6IGkxOG5Qcm92aWRlciwgaGlzdG9yeTogaGlzdG9yeSwgY3VzdG9tUmVkdWNlcnM6IGN1c3RvbVJlZHVjZXJzLCBjdXN0b21TYWdhczogY3VzdG9tU2FnYXMsIGluaXRpYWxTdGF0ZTogaW5pdGlhbFN0YXRlIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWRtaW5VSSwgeyBsYXlvdXQ6IGFwcExheW91dCB8fCBsYXlvdXQsIGN1c3RvbVJvdXRlczogY3VzdG9tUm91dGVzLCBkYXNoYm9hcmQ6IGRhc2hib2FyZCwgZGlzYWJsZVRlbGVtZXRyeTogZGlzYWJsZVRlbGVtZXRyeSwgbWVudTogbWVudSwgY2F0Y2hBbGw6IGNhdGNoQWxsLCB0aGVtZTogdGhlbWUsIHRpdGxlOiB0aXRsZSwgbG9hZGluZzogbG9hZGluZywgbG9naW5QYWdlOiBsb2dpblBhZ2UsIGxvZ291dDogYXV0aFByb3ZpZGVyID8gbG9nb3V0QnV0dG9uIDogdW5kZWZpbmVkLCByZWFkeTogcmVhZHkgfSwgY2hpbGRyZW4pKSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgQWRtaW47XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ29yZUFkbWluQ29udGV4dCB9IGZyb20gJ3JhLWNvcmUnO1xuaW1wb3J0IGRlZmF1bHRJMThuUHJvdmlkZXIgZnJvbSAnLi9kZWZhdWx0STE4blByb3ZpZGVyJztcbnZhciBBZG1pbkNvbnRleHQgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KENvcmVBZG1pbkNvbnRleHQsIF9fYXNzaWduKHt9LCBwcm9wcykpKTsgfTtcbkFkbWluQ29udGV4dC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaTE4blByb3ZpZGVyOiBkZWZhdWx0STE4blByb3ZpZGVyLFxufTtcbkFkbWluQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdBZG1pbkNvbnRleHQnO1xuZXhwb3J0IGRlZmF1bHQgQWRtaW5Db250ZXh0O1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENvcmVBZG1pblVJIH0gZnJvbSAncmEtY29yZSc7XG5pbXBvcnQgeyBMYXlvdXQgYXMgRGVmYXVsdExheW91dCwgTG9hZGluZ1BhZ2UsIExvZ2luLCBMb2dvdXQsIE5vdEZvdW5kLCB9IGZyb20gJ3JhLXVpLW1hdGVyaWFsdWknO1xudmFyIEFkbWluVUkgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29yZUFkbWluVUksIF9fYXNzaWduKHt9LCBwcm9wcykpOyB9O1xuQWRtaW5VSS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbGF5b3V0OiBEZWZhdWx0TGF5b3V0LFxuICAgIGNhdGNoQWxsOiBOb3RGb3VuZCxcbiAgICBsb2FkaW5nOiBMb2FkaW5nUGFnZSxcbiAgICBsb2dpblBhZ2U6IExvZ2luLFxuICAgIGxvZ291dDogTG9nb3V0LFxufTtcbmV4cG9ydCBkZWZhdWx0IEFkbWluVUk7XG4iLCJpbXBvcnQgZGVmYXVsdE1lc3NhZ2VzIGZyb20gJ3JhLWxhbmd1YWdlLWVuZ2xpc2gnO1xuaW1wb3J0IHBvbHlnbG90STE4blByb3ZpZGVyIGZyb20gJ3JhLWkxOG4tcG9seWdsb3QnO1xuZXhwb3J0IGRlZmF1bHQgcG9seWdsb3RJMThuUHJvdmlkZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVmYXVsdE1lc3NhZ2VzOyB9LCAnZW4nLCB7XG4gICAgYWxsb3dNaXNzaW5nOiB0cnVlLFxufSk7XG4iLCJpbXBvcnQgY3JlYXRlU2FnYU1pZGRsZXdhcmVfX2RlZmF1bHQgZnJvbSAnQHJlZHV4LXNhZ2EvY29yZSc7XG5leHBvcnQgKiBmcm9tICdAcmVkdXgtc2FnYS9jb3JlJztcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVNhZ2FNaWRkbGV3YXJlX19kZWZhdWx0O1xuIiwiZXhwb3J0ICogZnJvbSAnQHJlZHV4LXNhZ2EvY29yZS9lZmZlY3RzJztcbiJdLCJzb3VyY2VSb290IjoiIn0=